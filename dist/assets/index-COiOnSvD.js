(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();var pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function KA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function SN(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}),r}var Tm={exports:{}},hc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx;function bN(){if(vx)return hc;vx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var a in o)a!=="key"&&(l[a]=o[a])}else l=o;return o=l.ref,{$$typeof:e,type:i,key:c,ref:o!==void 0?o:null,props:l}}return hc.Fragment=t,hc.jsx=r,hc.jsxs=r,hc}var mx;function CN(){return mx||(mx=1,Tm.exports=bN()),Tm.exports}var g=CN(),Pm={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function xN(){if(gx)return We;gx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function m(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function R(N,Q,me){this.props=N,this.context=Q,this.refs=x,this.updater=me||S}R.prototype.isReactComponent={},R.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function w(){}w.prototype=R.prototype;function T(N,Q,me){this.props=N,this.context=Q,this.refs=x,this.updater=me||S}var P=T.prototype=new w;P.constructor=T,C(P,R.prototype),P.isPureReactComponent=!0;var I=Array.isArray,k={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function H(N,Q,me,X,ne,fe){return me=fe.ref,{$$typeof:e,type:N,key:Q,ref:me!==void 0?me:null,props:fe}}function q(N,Q){return H(N.type,Q,void 0,void 0,void 0,N.props)}function F(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function $(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(me){return Q[me]})}var ue=/\/+/g;function oe(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?$(""+N.key):Q.toString(36)}function re(){}function xe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(re,re):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ke(N,Q,me,X,ne){var fe=typeof N;(fe==="undefined"||fe==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(fe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case e:case t:be=!0;break;case p:return be=N._init,ke(be(N._payload),Q,me,X,ne)}}if(be)return ne=ne(N),be=X===""?"."+oe(N,0):X,I(ne)?(me="",be!=null&&(me=be.replace(ue,"$&/")+"/"),ke(ne,Q,me,"",function(ct){return ct})):ne!=null&&(F(ne)&&(ne=q(ne,me+(ne.key==null||N&&N.key===ne.key?"":(""+ne.key).replace(ue,"$&/")+"/")+be)),Q.push(ne)),1;be=0;var ut=X===""?".":X+":";if(I(N))for(var Ne=0;Ne<N.length;Ne++)X=N[Ne],fe=ut+oe(X,Ne),be+=ke(X,Q,me,fe,ne);else if(Ne=m(N),typeof Ne=="function")for(N=Ne.call(N),Ne=0;!(X=N.next()).done;)X=X.value,fe=ut+oe(X,Ne++),be+=ke(X,Q,me,fe,ne);else if(fe==="object"){if(typeof N.then=="function")return ke(xe(N),Q,me,X,ne);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return be}function ee(N,Q,me){if(N==null)return N;var X=[],ne=0;return ke(N,X,"","",function(fe){return Q.call(me,fe,ne++)}),X}function ae(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(me){(N._status===0||N._status===-1)&&(N._status=1,N._result=me)},function(me){(N._status===0||N._status===-1)&&(N._status=2,N._result=me)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Me(){}return We.Children={map:ee,forEach:function(N,Q,me){ee(N,function(){Q.apply(this,arguments)},me)},count:function(N){var Q=0;return ee(N,function(){Q++}),Q},toArray:function(N){return ee(N,function(Q){return Q})||[]},only:function(N){if(!F(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},We.Component=R,We.Fragment=r,We.Profiler=o,We.PureComponent=T,We.StrictMode=i,We.Suspense=d,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,We.act=function(){throw Error("act(...) is not supported in production builds of React.")},We.cache=function(N){return function(){return N.apply(null,arguments)}},We.cloneElement=function(N,Q,me){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var X=C({},N.props),ne=N.key,fe=void 0;if(Q!=null)for(be in Q.ref!==void 0&&(fe=void 0),Q.key!==void 0&&(ne=""+Q.key),Q)!U.call(Q,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Q.ref===void 0||(X[be]=Q[be]);var be=arguments.length-2;if(be===1)X.children=me;else if(1<be){for(var ut=Array(be),Ne=0;Ne<be;Ne++)ut[Ne]=arguments[Ne+2];X.children=ut}return H(N.type,ne,void 0,void 0,fe,X)},We.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},We.createElement=function(N,Q,me){var X,ne={},fe=null;if(Q!=null)for(X in Q.key!==void 0&&(fe=""+Q.key),Q)U.call(Q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ne[X]=Q[X]);var be=arguments.length-2;if(be===1)ne.children=me;else if(1<be){for(var ut=Array(be),Ne=0;Ne<be;Ne++)ut[Ne]=arguments[Ne+2];ne.children=ut}if(N&&N.defaultProps)for(X in be=N.defaultProps,be)ne[X]===void 0&&(ne[X]=be[X]);return H(N,fe,void 0,void 0,null,ne)},We.createRef=function(){return{current:null}},We.forwardRef=function(N){return{$$typeof:a,render:N}},We.isValidElement=F,We.lazy=function(N){return{$$typeof:p,_payload:{_status:-1,_result:N},_init:ae}},We.memo=function(N,Q){return{$$typeof:h,type:N,compare:Q===void 0?null:Q}},We.startTransition=function(N){var Q=k.T,me={};k.T=me;try{var X=N(),ne=k.S;ne!==null&&ne(me,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Me,de)}catch(fe){de(fe)}finally{k.T=Q}},We.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},We.use=function(N){return k.H.use(N)},We.useActionState=function(N,Q,me){return k.H.useActionState(N,Q,me)},We.useCallback=function(N,Q){return k.H.useCallback(N,Q)},We.useContext=function(N){return k.H.useContext(N)},We.useDebugValue=function(){},We.useDeferredValue=function(N,Q){return k.H.useDeferredValue(N,Q)},We.useEffect=function(N,Q){return k.H.useEffect(N,Q)},We.useId=function(){return k.H.useId()},We.useImperativeHandle=function(N,Q,me){return k.H.useImperativeHandle(N,Q,me)},We.useInsertionEffect=function(N,Q){return k.H.useInsertionEffect(N,Q)},We.useLayoutEffect=function(N,Q){return k.H.useLayoutEffect(N,Q)},We.useMemo=function(N,Q){return k.H.useMemo(N,Q)},We.useOptimistic=function(N,Q){return k.H.useOptimistic(N,Q)},We.useReducer=function(N,Q,me){return k.H.useReducer(N,Q,me)},We.useRef=function(N){return k.H.useRef(N)},We.useState=function(N){return k.H.useState(N)},We.useSyncExternalStore=function(N,Q,me){return k.H.useSyncExternalStore(N,Q,me)},We.useTransition=function(){return k.H.useTransition()},We.version="19.0.0",We}var yx;function w0(){return yx||(yx=1,Pm.exports=xN()),Pm.exports}var A=w0();const Ve=KA(A);var Am={exports:{}},pc={},_m={exports:{}},km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function RN(){return Sx||(Sx=1,function(e){function t(ee,ae){var de=ee.length;ee.push(ae);e:for(;0<de;){var Me=de-1>>>1,N=ee[Me];if(0<o(N,ae))ee[Me]=ae,ee[de]=N,de=Me;else break e}}function r(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ae=ee[0],de=ee.pop();if(de!==ae){ee[0]=de;e:for(var Me=0,N=ee.length,Q=N>>>1;Me<Q;){var me=2*(Me+1)-1,X=ee[me],ne=me+1,fe=ee[ne];if(0>o(X,de))ne<N&&0>o(fe,X)?(ee[Me]=fe,ee[ne]=de,Me=ne):(ee[Me]=X,ee[me]=de,Me=me);else if(ne<N&&0>o(fe,de))ee[Me]=fe,ee[ne]=de,Me=ne;else break e}}return ae}function o(ee,ae){var de=ee.sortIndex-ae.sortIndex;return de!==0?de:ee.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,a=c.now();e.unstable_now=function(){return c.now()-a}}var d=[],h=[],p=1,v=null,m=3,S=!1,C=!1,x=!1,R=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function P(ee){for(var ae=r(h);ae!==null;){if(ae.callback===null)i(h);else if(ae.startTime<=ee)i(h),ae.sortIndex=ae.expirationTime,t(d,ae);else break;ae=r(h)}}function I(ee){if(x=!1,P(ee),!C)if(r(d)!==null)C=!0,xe();else{var ae=r(h);ae!==null&&ke(I,ae.startTime-ee)}}var k=!1,U=-1,H=5,q=-1;function F(){return!(e.unstable_now()-q<H)}function $(){if(k){var ee=e.unstable_now();q=ee;var ae=!0;try{e:{C=!1,x&&(x=!1,w(U),U=-1),S=!0;var de=m;try{t:{for(P(ee),v=r(d);v!==null&&!(v.expirationTime>ee&&F());){var Me=v.callback;if(typeof Me=="function"){v.callback=null,m=v.priorityLevel;var N=Me(v.expirationTime<=ee);if(ee=e.unstable_now(),typeof N=="function"){v.callback=N,P(ee),ae=!0;break t}v===r(d)&&i(d),P(ee)}else i(d);v=r(d)}if(v!==null)ae=!0;else{var Q=r(h);Q!==null&&ke(I,Q.startTime-ee),ae=!1}}break e}finally{v=null,m=de,S=!1}ae=void 0}}finally{ae?ue():k=!1}}}var ue;if(typeof T=="function")ue=function(){T($)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,re=oe.port2;oe.port1.onmessage=$,ue=function(){re.postMessage(null)}}else ue=function(){R($,0)};function xe(){k||(k=!0,ue())}function ke(ee,ae){U=R(function(){ee(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){C||S||(C=!0,xe())},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(ee){switch(m){case 1:case 2:case 3:var ae=3;break;default:ae=m}var de=m;m=ae;try{return ee()}finally{m=de}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,ae){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var de=m;m=ee;try{return ae()}finally{m=de}},e.unstable_scheduleCallback=function(ee,ae,de){var Me=e.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Me+de:Me):de=Me,ee){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,ee={id:p++,callback:ae,priorityLevel:ee,startTime:de,expirationTime:N,sortIndex:-1},de>Me?(ee.sortIndex=de,t(h,ee),r(d)===null&&ee===r(h)&&(x?(w(U),U=-1):x=!0,ke(I,de-Me))):(ee.sortIndex=N,t(d,ee),C||S||(C=!0,xe())),ee},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(ee){var ae=m;return function(){var de=m;m=ae;try{return ee.apply(this,arguments)}finally{m=de}}}}(km)),km}var bx;function wN(){return bx||(bx=1,_m.exports=RN()),_m.exports}var Mm={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cx;function EN(){if(Cx)return lr;Cx=1;var e=w0();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,h,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:h,implementation:p}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,lr.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return l(d,h,null,p)},lr.flushSync=function(d){var h=c.T,p=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=h,i.p=p,i.d.f()}},lr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},lr.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},lr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,v=a(p,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:m,fetchPriority:S}):p==="script"&&i.d.X(d,{crossOrigin:v,integrity:m,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},lr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=a(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},lr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,v=a(p,h.crossOrigin);i.d.L(d,p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},lr.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=a(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},lr.requestFormReset=function(d){i.d.r(d)},lr.unstable_batchedUpdates=function(d,h){return d(h)},lr.useFormState=function(d,h,p){return c.H.useFormState(d,h,p)},lr.useFormStatus=function(){return c.H.useHostTransitionStatus()},lr.version="19.0.0",lr}var xx;function TN(){if(xx)return Mm.exports;xx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mm.exports=EN(),Mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx;function PN(){if(Rx)return pc;Rx=1;var e=wN(),t=w0(),r=TN();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),I=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var H=Symbol.for("react.client.reference");function q(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===H?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case d:return"Fragment";case a:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case R:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case S:return(n.displayName||"Context")+".Provider";case m:return(n._context.displayName||"Context")+".Consumer";case C:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case w:return s=n.displayName||null,s!==null?s:q(n.type)||"Memo";case T:s=n._payload,n=n._init;try{return q(n(s))}catch{}}return null}var F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=Object.assign,ue,oe;function re(n){if(ue===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);ue=s&&s[1]||"",oe=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+n+oe}var xe=!1;function ke(n,s){if(!n||xe)return"";xe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(J){var V=J}Reflect.construct(n,[],te)}else{try{te.call()}catch(J){V=J}n.call(te.prototype)}}else{try{throw Error()}catch(J){V=J}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(J){if(J&&V&&typeof J.stack=="string")return[J.stack,V.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),E=b[0],_=b[1];if(E&&_){var M=E.split(`
`),D=_.split(`
`);for(y=f=0;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;for(;y<D.length&&!D[y].includes("DetermineComponentFrameRoot");)y++;if(f===M.length||y===D.length)for(f=M.length-1,y=D.length-1;1<=f&&0<=y&&M[f]!==D[y];)y--;for(;1<=f&&0<=y;f--,y--)if(M[f]!==D[y]){if(f!==1||y!==1)do if(f--,y--,0>y||M[f]!==D[y]){var Y=`
`+M[f].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=f&&0<=y);break}}}finally{xe=!1,Error.prepareStackTrace=u}return(u=n?n.displayName||n.name:"")?re(u):""}function ee(n){switch(n.tag){case 26:case 27:case 5:return re(n.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return n=ke(n.type,!1),n;case 11:return n=ke(n.type.render,!1),n;case 1:return n=ke(n.type,!0),n;default:return""}}function ae(n){try{var s="";do s+=ee(n),n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function de(n){var s=n,u=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(u=s.return),n=s.return;while(n)}return s.tag===3?u:null}function Me(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function N(n){if(de(n)!==n)throw Error(i(188))}function Q(n){var s=n.alternate;if(!s){if(s=de(n),s===null)throw Error(i(188));return s!==n?null:n}for(var u=n,f=s;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return N(y),n;if(b===f)return N(y),s;b=b.sibling}throw Error(i(188))}if(u.return!==f.return)u=y,f=b;else{for(var E=!1,_=y.child;_;){if(_===u){E=!0,u=y,f=b;break}if(_===f){E=!0,f=y,u=b;break}_=_.sibling}if(!E){for(_=b.child;_;){if(_===u){E=!0,u=b,f=y;break}if(_===f){E=!0,f=b,u=y;break}_=_.sibling}if(!E)throw Error(i(189))}}if(u.alternate!==f)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?n:s}function me(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=me(n),s!==null)return s;n=n.sibling}return null}var X=Array.isArray,ne=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},be=[],ut=-1;function Ne(n){return{current:n}}function ct(n){0>ut||(n.current=be[ut],be[ut]=null,ut--)}function nt(n,s){ut++,be[ut]=n.current,n.current=s}var lt=Ne(null),or=Ne(null),It=Ne(null),Gt=Ne(null);function Rr(n,s){switch(nt(It,s),nt(or,n),nt(lt,null),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?HC(s):0;break;default:if(n=n===8?s.parentNode:s,s=n.tagName,n=n.namespaceURI)n=HC(n),s=$C(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ct(lt),nt(lt,s)}function wr(){ct(lt),ct(or),ct(It)}function ar(n){n.memoizedState!==null&&nt(Gt,n);var s=lt.current,u=$C(s,n.type);s!==u&&(nt(or,n),nt(lt,u))}function j(n){or.current===n&&(ct(lt),ct(or)),Gt.current===n&&(ct(Gt),ac._currentValue=fe)}var z=Object.prototype.hasOwnProperty,G=e.unstable_scheduleCallback,he=e.unstable_cancelCallback,ce=e.unstable_shouldYield,ie=e.unstable_requestPaint,ye=e.unstable_now,Ae=e.unstable_getCurrentPriorityLevel,ve=e.unstable_ImmediatePriority,Ee=e.unstable_UserBlockingPriority,Le=e.unstable_NormalPriority,yt=e.unstable_LowPriority,At=e.unstable_IdlePriority,vt=e.log,Ct=e.unstable_setDisableYieldValue,er=null,St=null;function Vn(n){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(er,n,void 0,(n.current.flags&128)===128)}catch{}}function Er(n){if(typeof vt=="function"&&Ct(n),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(er,n)}catch{}}var Lt=Math.clz32?Math.clz32:ya,ma=Math.log,ga=Math.LN2;function ya(n){return n>>>=0,n===0?32:31-(ma(n)/ga|0)|0}var Ci=128,xi=4194304;function un(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ri(n,s){var u=n.pendingLanes;if(u===0)return 0;var f=0,y=n.suspendedLanes,b=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var _=u&134217727;return _!==0?(u=_&~y,u!==0?f=un(u):(b&=_,b!==0?f=un(b):n||(E=_&~E,E!==0&&(f=un(E))))):(_=u&~y,_!==0?f=un(_):b!==0?f=un(b):n||(E=u&~E,E!==0&&(f=un(E)))),f===0?0:s!==0&&s!==f&&(s&y)===0&&(y=f&-f,E=s&-s,y>=E||y===32&&(E&4194176)!==0)?s:f}function Ur(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function dn(n,s){switch(n){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fn(){var n=Ci;return Ci<<=1,(Ci&4194176)===0&&(Ci=128),n}function ns(){var n=xi;return xi<<=1,(xi&62914560)===0&&(xi=4194304),n}function Hn(n){for(var s=[],u=0;31>u;u++)s.push(n);return s}function $n(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Sa(n,s,u,f,y,b){var E=n.pendingLanes;n.pendingLanes=u,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=u,n.entangledLanes&=u,n.errorRecoveryDisabledLanes&=u,n.shellSuspendCounter=0;var _=n.entanglements,M=n.expirationTimes,D=n.hiddenUpdates;for(u=E&~u;0<u;){var Y=31-Lt(u),te=1<<Y;_[Y]=0,M[Y]=-1;var V=D[Y];if(V!==null)for(D[Y]=null,Y=0;Y<V.length;Y++){var J=V[Y];J!==null&&(J.lane&=-536870913)}u&=~te}f!==0&&K(n,f,0),b!==0&&y===0&&n.tag!==0&&(n.suspendedLanes|=b&~(E&~s))}function K(n,s,u){n.pendingLanes|=s,n.suspendedLanes&=~s;var f=31-Lt(s);n.entangledLanes|=s,n.entanglements[f]=n.entanglements[f]|1073741824|u&4194218}function le(n,s){var u=n.entangledLanes|=s;for(n=n.entanglements;u;){var f=31-Lt(u),y=1<<f;y&s|n[f]&s&&(n[f]|=s),u&=~y}}function De(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Oe(){var n=ne.p;return n!==0?n:(n=window.event,n===void 0?32:lx(n.type))}function Te(n,s){var u=ne.p;try{return ne.p=n,s()}finally{ne.p=u}}var ge=Math.random().toString(36).slice(2),Se="__reactFiber$"+ge,pe="__reactProps$"+ge,Ge="__reactContainer$"+ge,Ze="__reactEvents$"+ge,$e="__reactListeners$"+ge,hr="__reactHandles$"+ge,Vr="__reactResources$"+ge,pr="__reactMarker$"+ge;function hn(n){delete n[Se],delete n[pe],delete n[Ze],delete n[$e],delete n[hr]}function pn(n){var s=n[Se];if(s)return s;for(var u=n.parentNode;u;){if(s=u[Ge]||u[Se]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(n=GC(n);n!==null;){if(u=n[Se])return u;n=GC(n)}return s}n=u,u=n.parentNode}return null}function wi(n){if(n=n[Se]||n[Ge]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function ba(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function fo(n){var s=n[Vr];return s||(s=n[Vr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Jt(n){n[pr]=!0}var FS=new Set,HS={};function is(n,s){vo(n,s),vo(n+"Capture",s)}function vo(n,s){for(HS[n]=s,n=0;n<s.length;n++)FS.add(s[n])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h3=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$S={},KS={};function p3(n){return z.call(KS,n)?!0:z.call($S,n)?!1:h3.test(n)?KS[n]=!0:($S[n]=!0,!1)}function oh(n,s,u){if(p3(s))if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+u)}}function ah(n,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+u)}}function Wn(n,s,u,f){if(f===null)n.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(u);return}n.setAttributeNS(s,u,""+f)}}function Fr(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function WS(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function f3(n){var s=WS(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),f=""+n[s];if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return y.call(this)},set:function(E){f=""+E,b.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ch(n){n._valueTracker||(n._valueTracker=f3(n))}function GS(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return n&&(f=WS(n)?n.checked?"true":"false":n.value),n=f,n!==u?(s.setValue(n),!0):!1}function lh(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var v3=/[\n"\\]/g;function Hr(n){return n.replace(v3,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function wf(n,s,u,f,y,b,E,_){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Fr(s)):n.value!==""+Fr(s)&&(n.value=""+Fr(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Ef(n,E,Fr(s)):u!=null?Ef(n,E,Fr(u)):f!=null&&n.removeAttribute("value"),y==null&&b!=null&&(n.defaultChecked=!!b),y!=null&&(n.checked=y&&typeof y!="function"&&typeof y!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+Fr(_):n.removeAttribute("name")}function JS(n,s,u,f,y,b,E,_){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),s!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;u=u!=null?""+Fr(u):"",s=s!=null?""+Fr(s):u,_||s===n.value||(n.value=s),n.defaultValue=s}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=_?n.checked:!!f,n.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ef(n,s,u){s==="number"&&lh(n.ownerDocument)===n||n.defaultValue===""+u||(n.defaultValue=""+u)}function mo(n,s,u,f){if(n=n.options,s){s={};for(var y=0;y<u.length;y++)s["$"+u[y]]=!0;for(u=0;u<n.length;u++)y=s.hasOwnProperty("$"+n[u].value),n[u].selected!==y&&(n[u].selected=y),y&&f&&(n[u].defaultSelected=!0)}else{for(u=""+Fr(u),s=null,y=0;y<n.length;y++){if(n[y].value===u){n[y].selected=!0,f&&(n[y].defaultSelected=!0);return}s!==null||n[y].disabled||(s=n[y])}s!==null&&(s.selected=!0)}}function YS(n,s,u){if(s!=null&&(s=""+Fr(s),s!==n.value&&(n.value=s),u==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=u!=null?""+Fr(u):""}function QS(n,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(i(92));if(X(f)){if(1<f.length)throw Error(i(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=Fr(s),n.defaultValue=u,f=n.textContent,f===u&&f!==""&&f!==null&&(n.value=f)}function go(n,s){if(s){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=s;return}}n.textContent=s}var m3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function XS(n,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":f?n.setProperty(s,u):typeof u!="number"||u===0||m3.has(s)?s==="float"?n.cssFloat=u:n[s]=(""+u).trim():n[s]=u+"px"}function ZS(n,s,u){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var y in s)f=s[y],s.hasOwnProperty(y)&&u[y]!==f&&XS(n,y,f)}else for(var b in s)s.hasOwnProperty(b)&&XS(n,b,s[b])}function Tf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),y3=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uh(n){return y3.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Pf=null;function Af(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yo=null,So=null;function e1(n){var s=wi(n);if(s&&(n=s.stateNode)){var u=n[pe]||null;e:switch(n=s.stateNode,s.type){case"input":if(wf(n,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Hr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==n&&f.form===n.form){var y=f[pe]||null;if(!y)throw Error(i(90));wf(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===n.form&&GS(f)}break e;case"textarea":YS(n,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&mo(n,!!u.multiple,s,!1)}}}var _f=!1;function t1(n,s,u){if(_f)return n(s,u);_f=!0;try{var f=n(s);return f}finally{if(_f=!1,(yo!==null||So!==null)&&(Wh(),yo&&(s=yo,n=So,So=yo=null,e1(s),n)))for(s=0;s<n.length;s++)e1(n[s])}}function Ca(n,s){var u=n.stateNode;if(u===null)return null;var f=u[pe]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(i(231,s,typeof u));return u}var kf=!1;if(Kn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){kf=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{kf=!1}var Ei=null,Mf=null,dh=null;function r1(){if(dh)return dh;var n,s=Mf,u=s.length,f,y="value"in Ei?Ei.value:Ei.textContent,b=y.length;for(n=0;n<u&&s[n]===y[n];n++);var E=u-n;for(f=1;f<=E&&s[u-f]===y[b-f];f++);return dh=y.slice(n,1<f?1-f:void 0)}function hh(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ph(){return!0}function n1(){return!1}function Tr(n){function s(u,f,y,b,E){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(u=n[_],this[_]=u?u(b):b[_]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ph:n1,this.isPropagationStopped=n1,this}return $(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ph)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ph)},persist:function(){},isPersistent:ph}),s}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fh=Tr(ss),Ra=$({},ss,{view:0,detail:0}),S3=Tr(Ra),Nf,If,wa,vh=$({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Of,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==wa&&(wa&&n.type==="mousemove"?(Nf=n.screenX-wa.screenX,If=n.screenY-wa.screenY):If=Nf=0,wa=n),Nf)},movementY:function(n){return"movementY"in n?n.movementY:If}}),i1=Tr(vh),b3=$({},vh,{dataTransfer:0}),C3=Tr(b3),x3=$({},Ra,{relatedTarget:0}),jf=Tr(x3),R3=$({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),w3=Tr(R3),E3=$({},ss,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),T3=Tr(E3),P3=$({},ss,{data:0}),s1=Tr(P3),A3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M3(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=k3[n])?!!s[n]:!1}function Of(){return M3}var N3=$({},Ra,{key:function(n){if(n.key){var s=A3[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=hh(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_3[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Of,charCode:function(n){return n.type==="keypress"?hh(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hh(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),I3=Tr(N3),j3=$({},vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),o1=Tr(j3),O3=$({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Of}),D3=Tr(O3),z3=$({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),L3=Tr(z3),q3=$({},vh,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),B3=Tr(q3),U3=$({},ss,{newState:0,oldState:0}),V3=Tr(U3),F3=[9,13,27,32],Df=Kn&&"CompositionEvent"in window,Ea=null;Kn&&"documentMode"in document&&(Ea=document.documentMode);var H3=Kn&&"TextEvent"in window&&!Ea,a1=Kn&&(!Df||Ea&&8<Ea&&11>=Ea),c1=" ",l1=!1;function u1(n,s){switch(n){case"keyup":return F3.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d1(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var bo=!1;function $3(n,s){switch(n){case"compositionend":return d1(s);case"keypress":return s.which!==32?null:(l1=!0,c1);case"textInput":return n=s.data,n===c1&&l1?null:n;default:return null}}function K3(n,s){if(bo)return n==="compositionend"||!Df&&u1(n,s)?(n=r1(),dh=Mf=Ei=null,bo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return a1&&s.locale!=="ko"?null:s.data;default:return null}}var W3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function h1(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!W3[n.type]:s==="textarea"}function p1(n,s,u,f){yo?So?So.push(f):So=[f]:yo=f,s=Xh(s,"onChange"),0<s.length&&(u=new fh("onChange","change",null,u,f),n.push({event:u,listeners:s}))}var Ta=null,Pa=null;function G3(n){qC(n,0)}function mh(n){var s=ba(n);if(GS(s))return n}function f1(n,s){if(n==="change")return s}var v1=!1;if(Kn){var zf;if(Kn){var Lf="oninput"in document;if(!Lf){var m1=document.createElement("div");m1.setAttribute("oninput","return;"),Lf=typeof m1.oninput=="function"}zf=Lf}else zf=!1;v1=zf&&(!document.documentMode||9<document.documentMode)}function g1(){Ta&&(Ta.detachEvent("onpropertychange",y1),Pa=Ta=null)}function y1(n){if(n.propertyName==="value"&&mh(Pa)){var s=[];p1(s,Pa,n,Af(n)),t1(G3,s)}}function J3(n,s,u){n==="focusin"?(g1(),Ta=s,Pa=u,Ta.attachEvent("onpropertychange",y1)):n==="focusout"&&g1()}function Y3(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mh(Pa)}function Q3(n,s){if(n==="click")return mh(s)}function X3(n,s){if(n==="input"||n==="change")return mh(s)}function Z3(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Mr=typeof Object.is=="function"?Object.is:Z3;function Aa(n,s){if(Mr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var u=Object.keys(n),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!z.call(s,y)||!Mr(n[y],s[y]))return!1}return!0}function S1(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function b1(n,s){var u=S1(n);n=0;for(var f;u;){if(u.nodeType===3){if(f=n+u.textContent.length,n<=s&&f>=s)return{node:u,offset:s-n};n=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=S1(u)}}function C1(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?C1(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function x1(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=lh(n.document);s instanceof n.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)n=s.contentWindow;else break;s=lh(n.document)}return s}function qf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function eM(n,s){var u=x1(s);s=n.focusedElem;var f=n.selectionRange;if(u!==s&&s&&s.ownerDocument&&C1(s.ownerDocument.documentElement,s)){if(f!==null&&qf(s)){if(n=f.start,u=f.end,u===void 0&&(u=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(u,s.value.length);else if(u=(n=s.ownerDocument||document)&&n.defaultView||window,u.getSelection){u=u.getSelection();var y=s.textContent.length,b=Math.min(f.start,y);f=f.end===void 0?b:Math.min(f.end,y),!u.extend&&b>f&&(y=f,f=b,b=y),y=b1(s,b);var E=b1(s,f);y&&E&&(u.rangeCount!==1||u.anchorNode!==y.node||u.anchorOffset!==y.offset||u.focusNode!==E.node||u.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(y.node,y.offset),u.removeAllRanges(),b>f?(u.addRange(n),u.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),u.addRange(n)))}}for(n=[],u=s;u=u.parentNode;)u.nodeType===1&&n.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)u=n[s],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var tM=Kn&&"documentMode"in document&&11>=document.documentMode,Co=null,Bf=null,_a=null,Uf=!1;function R1(n,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Uf||Co==null||Co!==lh(f)||(f=Co,"selectionStart"in f&&qf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),_a&&Aa(_a,f)||(_a=f,f=Xh(Bf,"onSelect"),0<f.length&&(s=new fh("onSelect","select",null,s,u),n.push({event:s,listeners:f}),s.target=Co)))}function os(n,s){var u={};return u[n.toLowerCase()]=s.toLowerCase(),u["Webkit"+n]="webkit"+s,u["Moz"+n]="moz"+s,u}var xo={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},Vf={},w1={};Kn&&(w1=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function as(n){if(Vf[n])return Vf[n];if(!xo[n])return n;var s=xo[n],u;for(u in s)if(s.hasOwnProperty(u)&&u in w1)return Vf[n]=s[u];return n}var E1=as("animationend"),T1=as("animationiteration"),P1=as("animationstart"),rM=as("transitionrun"),nM=as("transitionstart"),iM=as("transitioncancel"),A1=as("transitionend"),_1=new Map,k1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function fn(n,s){_1.set(n,s),is(s,[n])}var $r=[],Ro=0,Ff=0;function gh(){for(var n=Ro,s=Ff=Ro=0;s<n;){var u=$r[s];$r[s++]=null;var f=$r[s];$r[s++]=null;var y=$r[s];$r[s++]=null;var b=$r[s];if($r[s++]=null,f!==null&&y!==null){var E=f.pending;E===null?y.next=y:(y.next=E.next,E.next=y),f.pending=y}b!==0&&M1(u,y,b)}}function yh(n,s,u,f){$r[Ro++]=n,$r[Ro++]=s,$r[Ro++]=u,$r[Ro++]=f,Ff|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function Hf(n,s,u,f){return yh(n,s,u,f),Sh(n)}function Ti(n,s){return yh(n,null,null,s),Sh(n)}function M1(n,s,u){n.lanes|=u;var f=n.alternate;f!==null&&(f.lanes|=u);for(var y=!1,b=n.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(y=!0)),n=b,b=b.return;y&&s!==null&&n.tag===3&&(b=n.stateNode,y=31-Lt(u),b=b.hiddenUpdates,n=b[y],n===null?b[y]=[s]:n.push(s),s.lane=u|536870912)}function Sh(n){if(50<ec)throw ec=0,Yv=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var wo={},N1=new WeakMap;function Kr(n,s){if(typeof n=="object"&&n!==null){var u=N1.get(n);return u!==void 0?u:(s={value:n,source:s,stack:ae(s)},N1.set(n,s),s)}return{value:n,source:s,stack:ae(s)}}var Eo=[],To=0,bh=null,Ch=0,Wr=[],Gr=0,cs=null,Gn=1,Jn="";function ls(n,s){Eo[To++]=Ch,Eo[To++]=bh,bh=n,Ch=s}function I1(n,s,u){Wr[Gr++]=Gn,Wr[Gr++]=Jn,Wr[Gr++]=cs,cs=n;var f=Gn;n=Jn;var y=32-Lt(f)-1;f&=~(1<<y),u+=1;var b=32-Lt(s)+y;if(30<b){var E=y-y%5;b=(f&(1<<E)-1).toString(32),f>>=E,y-=E,Gn=1<<32-Lt(s)+y|u<<y|f,Jn=b+n}else Gn=1<<b|u<<y|f,Jn=n}function $f(n){n.return!==null&&(ls(n,1),I1(n,1,0))}function Kf(n){for(;n===bh;)bh=Eo[--To],Eo[To]=null,Ch=Eo[--To],Eo[To]=null;for(;n===cs;)cs=Wr[--Gr],Wr[Gr]=null,Jn=Wr[--Gr],Wr[Gr]=null,Gn=Wr[--Gr],Wr[Gr]=null}var fr=null,tr=null,st=!1,vn=null,_n=!1,Wf=Error(i(519));function us(n){var s=Error(i(418,""));throw Na(Kr(s,n)),Wf}function j1(n){var s=n.stateNode,u=n.type,f=n.memoizedProps;switch(s[Se]=n,s[pe]=f,u){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(u=0;u<rc.length;u++)et(rc[u],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":et("invalid",s),JS(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ch(s);break;case"select":et("invalid",s);break;case"textarea":et("invalid",s),QS(s,f.value,f.defaultValue,f.children),ch(s)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||FC(s.textContent,u)?(f.popover!=null&&(et("beforetoggle",s),et("toggle",s)),f.onScroll!=null&&et("scroll",s),f.onScrollEnd!=null&&et("scrollend",s),f.onClick!=null&&(s.onclick=Zh),s=!0):s=!1,s||us(n)}function O1(n){for(fr=n.return;fr;)switch(fr.tag){case 3:case 27:_n=!0;return;case 5:case 13:_n=!1;return;default:fr=fr.return}}function ka(n){if(n!==fr)return!1;if(!st)return O1(n),st=!0,!1;var s=!1,u;if((u=n.tag!==3&&n.tag!==27)&&((u=n.tag===5)&&(u=n.type,u=!(u!=="form"&&u!=="button")||pm(n.type,n.memoizedProps)),u=!u),u&&(s=!0),s&&tr&&us(n),O1(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(u=n.data,u==="/$"){if(s===0){tr=gn(n.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;n=n.nextSibling}tr=null}}else tr=fr?gn(n.stateNode.nextSibling):null;return!0}function Ma(){tr=fr=null,st=!1}function Na(n){vn===null?vn=[n]:vn.push(n)}var Ia=Error(i(460)),D1=Error(i(474)),Gf={then:function(){}};function z1(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xh(){}function L1(n,s,u){switch(u=n[u],u===void 0?n.push(s):u!==s&&(s.then(xh,xh),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===Ia?Error(i(483)):n;default:if(typeof s.status=="string")s.then(xh,xh);else{if(n=mt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(f){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=f}},function(f){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===Ia?Error(i(483)):n}throw ja=s,Ia}}var ja=null;function q1(){if(ja===null)throw Error(i(459));var n=ja;return ja=null,n}var Po=null,Oa=0;function Rh(n){var s=Oa;return Oa+=1,Po===null&&(Po=[]),L1(Po,n,s)}function Da(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function wh(n,s){throw s.$$typeof===l?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function B1(n){var s=n._init;return s(n._payload)}function U1(n){function s(L,O){if(n){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function u(L,O){if(!n)return null;for(;O!==null;)s(L,O),O=O.sibling;return null}function f(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function y(L,O){return L=Li(L,O),L.index=0,L.sibling=null,L}function b(L,O,B){return L.index=B,n?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=33554434,O):B):(L.flags|=33554434,O)):(L.flags|=1048576,O)}function E(L){return n&&L.alternate===null&&(L.flags|=33554434),L}function _(L,O,B,Z){return O===null||O.tag!==6?(O=Vv(B,L.mode,Z),O.return=L,O):(O=y(O,B),O.return=L,O)}function M(L,O,B,Z){var Re=B.type;return Re===d?Y(L,O,B.props.children,Z,B.key):O!==null&&(O.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===T&&B1(Re)===O.type)?(O=y(O,B.props),Da(O,B),O.return=L,O):(O=Vh(B.type,B.key,B.props,null,L.mode,Z),Da(O,B),O.return=L,O)}function D(L,O,B,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Fv(B,L.mode,Z),O.return=L,O):(O=y(O,B.children||[]),O.return=L,O)}function Y(L,O,B,Z,Re){return O===null||O.tag!==7?(O=bs(B,L.mode,Z,Re),O.return=L,O):(O=y(O,B),O.return=L,O)}function te(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Vv(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case c:return B=Vh(O.type,O.key,O.props,null,L.mode,B),Da(B,O),B.return=L,B;case a:return O=Fv(O,L.mode,B),O.return=L,O;case T:var Z=O._init;return O=Z(O._payload),te(L,O,B)}if(X(O)||U(O))return O=bs(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return te(L,Rh(O),B);if(O.$$typeof===S)return te(L,qh(L,O),B);wh(L,O)}return null}function V(L,O,B,Z){var Re=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Re!==null?null:_(L,O,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case c:return B.key===Re?M(L,O,B,Z):null;case a:return B.key===Re?D(L,O,B,Z):null;case T:return Re=B._init,B=Re(B._payload),V(L,O,B,Z)}if(X(B)||U(B))return Re!==null?null:Y(L,O,B,Z,null);if(typeof B.then=="function")return V(L,O,Rh(B),Z);if(B.$$typeof===S)return V(L,O,qh(L,B),Z);wh(L,B)}return null}function J(L,O,B,Z,Re){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,_(O,L,""+Z,Re);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case c:return L=L.get(Z.key===null?B:Z.key)||null,M(O,L,Z,Re);case a:return L=L.get(Z.key===null?B:Z.key)||null,D(O,L,Z,Re);case T:var Ye=Z._init;return Z=Ye(Z._payload),J(L,O,B,Z,Re)}if(X(Z)||U(Z))return L=L.get(B)||null,Y(O,L,Z,Re,null);if(typeof Z.then=="function")return J(L,O,B,Rh(Z),Re);if(Z.$$typeof===S)return J(L,O,B,qh(O,Z),Re);wh(O,Z)}return null}function Pe(L,O,B,Z){for(var Re=null,Ye=null,_e=O,ze=O=0,Xt=null;_e!==null&&ze<B.length;ze++){_e.index>ze?(Xt=_e,_e=null):Xt=_e.sibling;var ot=V(L,_e,B[ze],Z);if(ot===null){_e===null&&(_e=Xt);break}n&&_e&&ot.alternate===null&&s(L,_e),O=b(ot,O,ze),Ye===null?Re=ot:Ye.sibling=ot,Ye=ot,_e=Xt}if(ze===B.length)return u(L,_e),st&&ls(L,ze),Re;if(_e===null){for(;ze<B.length;ze++)_e=te(L,B[ze],Z),_e!==null&&(O=b(_e,O,ze),Ye===null?Re=_e:Ye.sibling=_e,Ye=_e);return st&&ls(L,ze),Re}for(_e=f(_e);ze<B.length;ze++)Xt=J(_e,L,ze,B[ze],Z),Xt!==null&&(n&&Xt.alternate!==null&&_e.delete(Xt.key===null?ze:Xt.key),O=b(Xt,O,ze),Ye===null?Re=Xt:Ye.sibling=Xt,Ye=Xt);return n&&_e.forEach(function($i){return s(L,$i)}),st&&ls(L,ze),Re}function Fe(L,O,B,Z){if(B==null)throw Error(i(151));for(var Re=null,Ye=null,_e=O,ze=O=0,Xt=null,ot=B.next();_e!==null&&!ot.done;ze++,ot=B.next()){_e.index>ze?(Xt=_e,_e=null):Xt=_e.sibling;var $i=V(L,_e,ot.value,Z);if($i===null){_e===null&&(_e=Xt);break}n&&_e&&$i.alternate===null&&s(L,_e),O=b($i,O,ze),Ye===null?Re=$i:Ye.sibling=$i,Ye=$i,_e=Xt}if(ot.done)return u(L,_e),st&&ls(L,ze),Re;if(_e===null){for(;!ot.done;ze++,ot=B.next())ot=te(L,ot.value,Z),ot!==null&&(O=b(ot,O,ze),Ye===null?Re=ot:Ye.sibling=ot,Ye=ot);return st&&ls(L,ze),Re}for(_e=f(_e);!ot.done;ze++,ot=B.next())ot=J(_e,L,ze,ot.value,Z),ot!==null&&(n&&ot.alternate!==null&&_e.delete(ot.key===null?ze:ot.key),O=b(ot,O,ze),Ye===null?Re=ot:Ye.sibling=ot,Ye=ot);return n&&_e.forEach(function(yN){return s(L,yN)}),st&&ls(L,ze),Re}function Mt(L,O,B,Z){if(typeof B=="object"&&B!==null&&B.type===d&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case c:e:{for(var Re=B.key;O!==null;){if(O.key===Re){if(Re=B.type,Re===d){if(O.tag===7){u(L,O.sibling),Z=y(O,B.props.children),Z.return=L,L=Z;break e}}else if(O.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===T&&B1(Re)===O.type){u(L,O.sibling),Z=y(O,B.props),Da(Z,B),Z.return=L,L=Z;break e}u(L,O);break}else s(L,O);O=O.sibling}B.type===d?(Z=bs(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=Vh(B.type,B.key,B.props,null,L.mode,Z),Da(Z,B),Z.return=L,L=Z)}return E(L);case a:e:{for(Re=B.key;O!==null;){if(O.key===Re)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){u(L,O.sibling),Z=y(O,B.children||[]),Z.return=L,L=Z;break e}else{u(L,O);break}else s(L,O);O=O.sibling}Z=Fv(B,L.mode,Z),Z.return=L,L=Z}return E(L);case T:return Re=B._init,B=Re(B._payload),Mt(L,O,B,Z)}if(X(B))return Pe(L,O,B,Z);if(U(B)){if(Re=U(B),typeof Re!="function")throw Error(i(150));return B=Re.call(B),Fe(L,O,B,Z)}if(typeof B.then=="function")return Mt(L,O,Rh(B),Z);if(B.$$typeof===S)return Mt(L,O,qh(L,B),Z);wh(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(u(L,O.sibling),Z=y(O,B),Z.return=L,L=Z):(u(L,O),Z=Vv(B,L.mode,Z),Z.return=L,L=Z),E(L)):u(L,O)}return function(L,O,B,Z){try{Oa=0;var Re=Mt(L,O,B,Z);return Po=null,Re}catch(_e){if(_e===Ia)throw _e;var Ye=Xr(29,_e,null,L.mode);return Ye.lanes=Z,Ye.return=L,Ye}finally{}}}var ds=U1(!0),V1=U1(!1),Ao=Ne(null),Eh=Ne(0);function F1(n,s){n=oi,nt(Eh,n),nt(Ao,s),oi=n|s.baseLanes}function Jf(){nt(Eh,oi),nt(Ao,Ao.current)}function Yf(){oi=Eh.current,ct(Ao),ct(Eh)}var Jr=Ne(null),kn=null;function Pi(n){var s=n.alternate;nt($t,$t.current&1),nt(Jr,n),kn===null&&(s===null||Ao.current!==null||s.memoizedState!==null)&&(kn=n)}function H1(n){if(n.tag===22){if(nt($t,$t.current),nt(Jr,n),kn===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(kn=n)}}else Ai()}function Ai(){nt($t,$t.current),nt(Jr,Jr.current)}function Yn(n){ct(Jr),kn===n&&(kn=null),ct($t)}var $t=Ne(0);function Th(n){for(var s=n;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sM=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(u,f){n.push(f)}};this.abort=function(){s.aborted=!0,n.forEach(function(u){return u()})}},oM=e.unstable_scheduleCallback,aM=e.unstable_NormalPriority,Kt={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new sM,data:new Map,refCount:0}}function za(n){n.refCount--,n.refCount===0&&oM(aM,function(){n.controller.abort()})}var La=null,Xf=0,_o=0,ko=null;function cM(n,s){if(La===null){var u=La=[];Xf=0,_o=im(),ko={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Xf++,s.then($1,$1),s}function $1(){if(--Xf===0&&La!==null){ko!==null&&(ko.status="fulfilled");var n=La;La=null,_o=0,ko=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function lM(n,s){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return n.then(function(){f.status="fulfilled",f.value=s;for(var y=0;y<u.length;y++)(0,u[y])(s)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var K1=F.S;F.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&cM(n,s),K1!==null&&K1(n,s)};var hs=Ne(null);function Zf(){var n=hs.current;return n!==null?n:mt.pooledCache}function Ph(n,s){s===null?nt(hs,hs.current):nt(hs,s.pool)}function W1(){var n=Zf();return n===null?null:{parent:Kt._currentValue,pool:n}}var _i=0,Je=null,dt=null,qt=null,Ah=!1,Mo=!1,ps=!1,_h=0,qa=0,No=null,uM=0;function jt(){throw Error(i(321))}function ev(n,s){if(s===null)return!1;for(var u=0;u<s.length&&u<n.length;u++)if(!Mr(n[u],s[u]))return!1;return!0}function tv(n,s,u,f,y,b){return _i=b,Je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=n===null||n.memoizedState===null?fs:ki,ps=!1,b=u(f,y),ps=!1,Mo&&(b=J1(s,u,f,y)),G1(n),b}function G1(n){F.H=Mn;var s=dt!==null&&dt.next!==null;if(_i=0,qt=dt=Je=null,Ah=!1,qa=0,No=null,s)throw Error(i(300));n===null||Yt||(n=n.dependencies,n!==null&&Lh(n)&&(Yt=!0))}function J1(n,s,u,f){Je=n;var y=0;do{if(Mo&&(No=null),qa=0,Mo=!1,25<=y)throw Error(i(301));if(y+=1,qt=dt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=vs,b=s(u,f)}while(Mo);return b}function dM(){var n=F.H,s=n.useState()[0];return s=typeof s.then=="function"?Ba(s):s,n=n.useState()[0],(dt!==null?dt.memoizedState:null)!==n&&(Je.flags|=1024),s}function rv(){var n=_h!==0;return _h=0,n}function nv(n,s,u){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~u}function iv(n){if(Ah){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ah=!1}_i=0,qt=dt=Je=null,Mo=!1,qa=_h=0,No=null}function Pr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Je.memoizedState=qt=n:qt=qt.next=n,qt}function Bt(){if(dt===null){var n=Je.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var s=qt===null?Je.memoizedState:qt.next;if(s!==null)qt=s,dt=n;else{if(n===null)throw Je.alternate===null?Error(i(467)):Error(i(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},qt===null?Je.memoizedState=qt=n:qt=qt.next=n}return qt}var kh;kh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ba(n){var s=qa;return qa+=1,No===null&&(No=[]),n=L1(No,n,s),s=Je,(qt===null?s.memoizedState:qt.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?fs:ki),n}function Mh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ba(n);if(n.$$typeof===S)return cr(n)}throw Error(i(438,String(n)))}function sv(n){var s=null,u=Je.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=Je.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=kh(),Je.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(n),f=0;f<n;f++)u[f]=I;return s.index++,u}function Qn(n,s){return typeof s=="function"?s(n):s}function Nh(n){var s=Bt();return ov(s,dt,n)}function ov(n,s,u){var f=n.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=u;var y=n.baseQueue,b=f.pending;if(b!==null){if(y!==null){var E=y.next;y.next=b.next,b.next=E}s.baseQueue=y=b,f.pending=null}if(b=n.baseState,y===null)n.memoizedState=b;else{s=y.next;var _=E=null,M=null,D=s,Y=!1;do{var te=D.lane&-536870913;if(te!==D.lane?(it&te)===te:(_i&te)===te){var V=D.revertLane;if(V===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),te===_o&&(Y=!0);else if((_i&V)===V){D=D.next,V===_o&&(Y=!0);continue}else te={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},M===null?(_=M=te,E=b):M=M.next=te,Je.lanes|=V,qi|=V;te=D.action,ps&&u(b,te),b=D.hasEagerState?D.eagerState:u(b,te)}else V={lane:te,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},M===null?(_=M=V,E=b):M=M.next=V,Je.lanes|=te,qi|=te;D=D.next}while(D!==null&&D!==s);if(M===null?E=b:M.next=_,!Mr(b,n.memoizedState)&&(Yt=!0,Y&&(u=ko,u!==null)))throw u;n.memoizedState=b,n.baseState=E,n.baseQueue=M,f.lastRenderedState=b}return y===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function av(n){var s=Bt(),u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=n;var f=u.dispatch,y=u.pending,b=s.memoizedState;if(y!==null){u.pending=null;var E=y=y.next;do b=n(b,E.action),E=E.next;while(E!==y);Mr(b,s.memoizedState)||(Yt=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,f]}function Y1(n,s,u){var f=Je,y=Bt(),b=st;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=s();var E=!Mr((dt||y).memoizedState,u);if(E&&(y.memoizedState=u,Yt=!0),y=y.queue,uv(Z1.bind(null,f,y,n),[n]),y.getSnapshot!==s||E||qt!==null&&qt.memoizedState.tag&1){if(f.flags|=2048,Io(9,X1.bind(null,f,y,u,s),{destroy:void 0},null),mt===null)throw Error(i(349));b||(_i&60)!==0||Q1(f,s,u)}return u}function Q1(n,s,u){n.flags|=16384,n={getSnapshot:s,value:u},s=Je.updateQueue,s===null?(s=kh(),Je.updateQueue=s,s.stores=[n]):(u=s.stores,u===null?s.stores=[n]:u.push(n))}function X1(n,s,u,f){s.value=u,s.getSnapshot=f,eb(s)&&tb(n)}function Z1(n,s,u){return u(function(){eb(s)&&tb(n)})}function eb(n){var s=n.getSnapshot;n=n.value;try{var u=s();return!Mr(n,u)}catch{return!0}}function tb(n){var s=Ti(n,2);s!==null&&vr(s,n,2)}function cv(n){var s=Pr();if(typeof n=="function"){var u=n;if(n=u(),ps){Er(!0);try{u()}finally{Er(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:n},s}function rb(n,s,u,f){return n.baseState=u,ov(n,dt,typeof f=="function"?f:Qn)}function hM(n,s,u,f,y){if(Oh(n))throw Error(i(485));if(n=s.action,n!==null){var b={payload:y,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){b.listeners.push(E)}};F.T!==null?u(!0):b.isTransition=!1,f(b),u=s.pending,u===null?(b.next=s.pending=b,nb(s,b)):(b.next=u.next,s.pending=u.next=b)}}function nb(n,s){var u=s.action,f=s.payload,y=n.state;if(s.isTransition){var b=F.T,E={};F.T=E;try{var _=u(y,f),M=F.S;M!==null&&M(E,_),ib(n,s,_)}catch(D){lv(n,s,D)}finally{F.T=b}}else try{b=u(y,f),ib(n,s,b)}catch(D){lv(n,s,D)}}function ib(n,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){sb(n,s,f)},function(f){return lv(n,s,f)}):sb(n,s,u)}function sb(n,s,u){s.status="fulfilled",s.value=u,ob(s),n.state=u,s=n.pending,s!==null&&(u=s.next,u===s?n.pending=null:(u=u.next,s.next=u,nb(n,u)))}function lv(n,s,u){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,ob(s),s=s.next;while(s!==f)}n.action=null}function ob(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function ab(n,s){return s}function cb(n,s){if(st){var u=mt.formState;if(u!==null){e:{var f=Je;if(st){if(tr){t:{for(var y=tr,b=_n;y.nodeType!==8;){if(!b){y=null;break t}if(y=gn(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){tr=gn(y.nextSibling),f=y.data==="F!";break e}}us(f)}f=!1}f&&(s=u[0])}}return u=Pr(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ab,lastRenderedState:s},u.queue=f,u=Tb.bind(null,Je,f),f.dispatch=u,f=cv(!1),b=vv.bind(null,Je,!1,f.queue),f=Pr(),y={state:s,dispatch:null,action:n,pending:null},f.queue=y,u=hM.bind(null,Je,y,b,u),y.dispatch=u,f.memoizedState=n,[s,u,!1]}function lb(n){var s=Bt();return ub(s,dt,n)}function ub(n,s,u){s=ov(n,s,ab)[0],n=Nh(Qn)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Ba(s):s;var f=Bt(),y=f.queue,b=y.dispatch;return u!==f.memoizedState&&(Je.flags|=2048,Io(9,pM.bind(null,y,u),{destroy:void 0},null)),[s,b,n]}function pM(n,s){n.action=s}function db(n){var s=Bt(),u=dt;if(u!==null)return ub(s,u,n);Bt(),s=s.memoizedState,u=Bt();var f=u.queue.dispatch;return u.memoizedState=n,[s,f,!1]}function Io(n,s,u,f){return n={tag:n,create:s,inst:u,deps:f,next:null},s=Je.updateQueue,s===null&&(s=kh(),Je.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=n.next=n:(f=u.next,u.next=n,n.next=f,s.lastEffect=n),n}function hb(){return Bt().memoizedState}function Ih(n,s,u,f){var y=Pr();Je.flags|=n,y.memoizedState=Io(1|s,u,{destroy:void 0},f===void 0?null:f)}function jh(n,s,u,f){var y=Bt();f=f===void 0?null:f;var b=y.memoizedState.inst;dt!==null&&f!==null&&ev(f,dt.memoizedState.deps)?y.memoizedState=Io(s,u,b,f):(Je.flags|=n,y.memoizedState=Io(1|s,u,b,f))}function pb(n,s){Ih(8390656,8,n,s)}function uv(n,s){jh(2048,8,n,s)}function fb(n,s){return jh(4,2,n,s)}function vb(n,s){return jh(4,4,n,s)}function mb(n,s){if(typeof s=="function"){n=n();var u=s(n);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function gb(n,s,u){u=u!=null?u.concat([n]):null,jh(4,4,mb.bind(null,s,n),u)}function dv(){}function yb(n,s){var u=Bt();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&ev(s,f[1])?f[0]:(u.memoizedState=[n,s],n)}function Sb(n,s){var u=Bt();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&ev(s,f[1]))return f[0];if(f=n(),ps){Er(!0);try{n()}finally{Er(!1)}}return u.memoizedState=[f,s],f}function hv(n,s,u){return u===void 0||(_i&1073741824)!==0?n.memoizedState=s:(n.memoizedState=u,n=CC(),Je.lanes|=n,qi|=n,u)}function bb(n,s,u,f){return Mr(u,s)?u:Ao.current!==null?(n=hv(n,u,f),Mr(n,s)||(Yt=!0),n):(_i&42)===0?(Yt=!0,n.memoizedState=u):(n=CC(),Je.lanes|=n,qi|=n,s)}function Cb(n,s,u,f,y){var b=ne.p;ne.p=b!==0&&8>b?b:8;var E=F.T,_={};F.T=_,vv(n,!1,s,u);try{var M=y(),D=F.S;if(D!==null&&D(_,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Y=lM(M,f);Ua(n,s,Y,Or(n))}else Ua(n,s,f,Or(n))}catch(te){Ua(n,s,{then:function(){},status:"rejected",reason:te},Or())}finally{ne.p=b,F.T=E}}function fM(){}function pv(n,s,u,f){if(n.tag!==5)throw Error(i(476));var y=xb(n).queue;Cb(n,y,s,fe,u===null?fM:function(){return Rb(n),u(f)})}function xb(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:fe},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:u},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Rb(n){var s=xb(n).next.queue;Ua(n,s,{},Or())}function fv(){return cr(ac)}function wb(){return Bt().memoizedState}function Eb(){return Bt().memoizedState}function vM(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var u=Or();n=Ii(u);var f=ji(s,n,u);f!==null&&(vr(f,s,u),Ha(f,s,u)),s={cache:Qf()},n.payload=s;return}s=s.return}}function mM(n,s,u){var f=Or();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Oh(n)?Pb(s,u):(u=Hf(n,s,u,f),u!==null&&(vr(u,n,f),Ab(u,s,f)))}function Tb(n,s,u){var f=Or();Ua(n,s,u,f)}function Ua(n,s,u,f){var y={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Oh(n))Pb(s,y);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var E=s.lastRenderedState,_=b(E,u);if(y.hasEagerState=!0,y.eagerState=_,Mr(_,E))return yh(n,s,y,0),mt===null&&gh(),!1}catch{}finally{}if(u=Hf(n,s,y,f),u!==null)return vr(u,n,f),Ab(u,s,f),!0}return!1}function vv(n,s,u,f){if(f={lane:2,revertLane:im(),action:f,hasEagerState:!1,eagerState:null,next:null},Oh(n)){if(s)throw Error(i(479))}else s=Hf(n,u,f,2),s!==null&&vr(s,n,2)}function Oh(n){var s=n.alternate;return n===Je||s!==null&&s===Je}function Pb(n,s){Mo=Ah=!0;var u=n.pending;u===null?s.next=s:(s.next=u.next,u.next=s),n.pending=s}function Ab(n,s,u){if((u&4194176)!==0){var f=s.lanes;f&=n.pendingLanes,u|=f,s.lanes=u,le(n,u)}}var Mn={readContext:cr,use:Mh,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt};Mn.useCacheRefresh=jt,Mn.useMemoCache=jt,Mn.useHostTransitionStatus=jt,Mn.useFormState=jt,Mn.useActionState=jt,Mn.useOptimistic=jt;var fs={readContext:cr,use:Mh,useCallback:function(n,s){return Pr().memoizedState=[n,s===void 0?null:s],n},useContext:cr,useEffect:pb,useImperativeHandle:function(n,s,u){u=u!=null?u.concat([n]):null,Ih(4194308,4,mb.bind(null,s,n),u)},useLayoutEffect:function(n,s){return Ih(4194308,4,n,s)},useInsertionEffect:function(n,s){Ih(4,2,n,s)},useMemo:function(n,s){var u=Pr();s=s===void 0?null:s;var f=n();if(ps){Er(!0);try{n()}finally{Er(!1)}}return u.memoizedState=[f,s],f},useReducer:function(n,s,u){var f=Pr();if(u!==void 0){var y=u(s);if(ps){Er(!0);try{u(s)}finally{Er(!1)}}}else y=s;return f.memoizedState=f.baseState=y,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:y},f.queue=n,n=n.dispatch=mM.bind(null,Je,n),[f.memoizedState,n]},useRef:function(n){var s=Pr();return n={current:n},s.memoizedState=n},useState:function(n){n=cv(n);var s=n.queue,u=Tb.bind(null,Je,s);return s.dispatch=u,[n.memoizedState,u]},useDebugValue:dv,useDeferredValue:function(n,s){var u=Pr();return hv(u,n,s)},useTransition:function(){var n=cv(!1);return n=Cb.bind(null,Je,n.queue,!0,!1),Pr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,u){var f=Je,y=Pr();if(st){if(u===void 0)throw Error(i(407));u=u()}else{if(u=s(),mt===null)throw Error(i(349));(it&60)!==0||Q1(f,s,u)}y.memoizedState=u;var b={value:u,getSnapshot:s};return y.queue=b,pb(Z1.bind(null,f,b,n),[n]),f.flags|=2048,Io(9,X1.bind(null,f,b,u,s),{destroy:void 0},null),u},useId:function(){var n=Pr(),s=mt.identifierPrefix;if(st){var u=Jn,f=Gn;u=(f&~(1<<32-Lt(f)-1)).toString(32)+u,s=":"+s+"R"+u,u=_h++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=uM++,s=":"+s+"r"+u.toString(32)+":";return n.memoizedState=s},useCacheRefresh:function(){return Pr().memoizedState=vM.bind(null,Je)}};fs.useMemoCache=sv,fs.useHostTransitionStatus=fv,fs.useFormState=cb,fs.useActionState=cb,fs.useOptimistic=function(n){var s=Pr();s.memoizedState=s.baseState=n;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=vv.bind(null,Je,!0,u),u.dispatch=s,[n,s]};var ki={readContext:cr,use:Mh,useCallback:yb,useContext:cr,useEffect:uv,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:vb,useMemo:Sb,useReducer:Nh,useRef:hb,useState:function(){return Nh(Qn)},useDebugValue:dv,useDeferredValue:function(n,s){var u=Bt();return bb(u,dt.memoizedState,n,s)},useTransition:function(){var n=Nh(Qn)[0],s=Bt().memoizedState;return[typeof n=="boolean"?n:Ba(n),s]},useSyncExternalStore:Y1,useId:wb};ki.useCacheRefresh=Eb,ki.useMemoCache=sv,ki.useHostTransitionStatus=fv,ki.useFormState=lb,ki.useActionState=lb,ki.useOptimistic=function(n,s){var u=Bt();return rb(u,dt,n,s)};var vs={readContext:cr,use:Mh,useCallback:yb,useContext:cr,useEffect:uv,useImperativeHandle:gb,useInsertionEffect:fb,useLayoutEffect:vb,useMemo:Sb,useReducer:av,useRef:hb,useState:function(){return av(Qn)},useDebugValue:dv,useDeferredValue:function(n,s){var u=Bt();return dt===null?hv(u,n,s):bb(u,dt.memoizedState,n,s)},useTransition:function(){var n=av(Qn)[0],s=Bt().memoizedState;return[typeof n=="boolean"?n:Ba(n),s]},useSyncExternalStore:Y1,useId:wb};vs.useCacheRefresh=Eb,vs.useMemoCache=sv,vs.useHostTransitionStatus=fv,vs.useFormState=db,vs.useActionState=db,vs.useOptimistic=function(n,s){var u=Bt();return dt!==null?rb(u,dt,n,s):(u.baseState=n,[n,u.queue.dispatch])};function mv(n,s,u,f){s=n.memoizedState,u=u(f,s),u=u==null?s:$({},s,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var gv={isMounted:function(n){return(n=n._reactInternals)?de(n)===n:!1},enqueueSetState:function(n,s,u){n=n._reactInternals;var f=Or(),y=Ii(f);y.payload=s,u!=null&&(y.callback=u),s=ji(n,y,f),s!==null&&(vr(s,n,f),Ha(s,n,f))},enqueueReplaceState:function(n,s,u){n=n._reactInternals;var f=Or(),y=Ii(f);y.tag=1,y.payload=s,u!=null&&(y.callback=u),s=ji(n,y,f),s!==null&&(vr(s,n,f),Ha(s,n,f))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var u=Or(),f=Ii(u);f.tag=2,s!=null&&(f.callback=s),s=ji(n,f,u),s!==null&&(vr(s,n,u),Ha(s,n,u))}};function _b(n,s,u,f,y,b,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,b,E):s.prototype&&s.prototype.isPureReactComponent?!Aa(u,f)||!Aa(y,b):!0}function kb(n,s,u,f){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==n&&gv.enqueueReplaceState(s,s.state,null)}function ms(n,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(n=n.defaultProps){u===s&&(u=$({},u));for(var y in n)u[y]===void 0&&(u[y]=n[y])}return u}var Dh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Mb(n){Dh(n)}function Nb(n){console.error(n)}function Ib(n){Dh(n)}function zh(n,s){try{var u=n.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function jb(n,s,u){try{var f=n.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function yv(n,s,u){return u=Ii(u),u.tag=3,u.payload={element:null},u.callback=function(){zh(n,s)},u}function Ob(n){return n=Ii(n),n.tag=3,n}function Db(n,s,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;n.payload=function(){return y(b)},n.callback=function(){jb(s,u,f)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){jb(s,u,f),typeof y!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var _=f.stack;this.componentDidCatch(f.value,{componentStack:_!==null?_:""})})}function gM(n,s,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&Fa(s,u,y,!0),u=Jr.current,u!==null){switch(u.tag){case 13:return kn===null?Zv():u.alternate===null&&kt===0&&(kt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===Gf?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),tm(n,f,y)),!1;case 22:return u.flags|=65536,f===Gf?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),tm(n,f,y)),!1}throw Error(i(435,u.tag))}return tm(n,f,y),Zv(),!1}if(st)return s=Jr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,f!==Wf&&(n=Error(i(422),{cause:f}),Na(Kr(n,u)))):(f!==Wf&&(s=Error(i(423),{cause:f}),Na(Kr(s,u))),n=n.current.alternate,n.flags|=65536,y&=-y,n.lanes|=y,f=Kr(f,u),y=yv(n.stateNode,f,y),Iv(n,y),kt!==4&&(kt=2)),!1;var b=Error(i(520),{cause:f});if(b=Kr(b,u),Xa===null?Xa=[b]:Xa.push(b),kt!==4&&(kt=2),s===null)return!0;f=Kr(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,n=y&-y,u.lanes|=n,n=yv(u.stateNode,f,n),Iv(u,n),!1;case 1:if(s=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Bi===null||!Bi.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=Ob(y),Db(y,n,u,f),Iv(u,y),!1}u=u.return}while(u!==null);return!1}var zb=Error(i(461)),Yt=!1;function rr(n,s,u,f){s.child=n===null?V1(s,null,u,f):ds(s,n.child,u,f)}function Lb(n,s,u,f,y){u=u.render;var b=s.ref;if("ref"in f){var E={};for(var _ in f)_!=="ref"&&(E[_]=f[_])}else E=f;return ys(s),f=tv(n,s,u,E,b,y),_=rv(),n!==null&&!Yt?(nv(n,s,y),Xn(n,s,y)):(st&&_&&$f(s),s.flags|=1,rr(n,s,f,y),s.child)}function qb(n,s,u,f,y){if(n===null){var b=u.type;return typeof b=="function"&&!Uv(b)&&b.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=b,Bb(n,s,b,f,y)):(n=Vh(u.type,null,f,s,s.mode,y),n.ref=s.ref,n.return=s,s.child=n)}if(b=n.child,!Pv(n,y)){var E=b.memoizedProps;if(u=u.compare,u=u!==null?u:Aa,u(E,f)&&n.ref===s.ref)return Xn(n,s,y)}return s.flags|=1,n=Li(b,f),n.ref=s.ref,n.return=s,s.child=n}function Bb(n,s,u,f,y){if(n!==null){var b=n.memoizedProps;if(Aa(b,f)&&n.ref===s.ref)if(Yt=!1,s.pendingProps=f=b,Pv(n,y))(n.flags&131072)!==0&&(Yt=!0);else return s.lanes=n.lanes,Xn(n,s,y)}return Sv(n,s,u,f,y)}function Ub(n,s,u){var f=s.pendingProps,y=f.children,b=(s.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(Va(n,s),f.mode==="hidden"||b){if((s.flags&128)!==0){if(f=E!==null?E.baseLanes|u:u,n!==null){for(y=s.child=n.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;s.childLanes=b&~f}else s.childLanes=0,s.child=null;return Vb(n,s,f,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ph(s,E!==null?E.cachePool:null),E!==null?F1(s,E):Jf(),H1(s);else return s.lanes=s.childLanes=536870912,Vb(n,s,E!==null?E.baseLanes|u:u,u)}else E!==null?(Ph(s,E.cachePool),F1(s,E),Ai(),s.memoizedState=null):(n!==null&&Ph(s,null),Jf(),Ai());return rr(n,s,y,u),s.child}function Vb(n,s,u,f){var y=Zf();return y=y===null?null:{parent:Kt._currentValue,pool:y},s.memoizedState={baseLanes:u,cachePool:y},n!==null&&Ph(s,null),Jf(),H1(s),n!==null&&Fa(n,s,f,!0),null}function Va(n,s){var u=s.ref;if(u===null)n!==null&&n.ref!==null&&(s.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(n===null||n.ref!==u)&&(s.flags|=2097664)}}function Sv(n,s,u,f,y){return ys(s),u=tv(n,s,u,f,void 0,y),f=rv(),n!==null&&!Yt?(nv(n,s,y),Xn(n,s,y)):(st&&f&&$f(s),s.flags|=1,rr(n,s,u,y),s.child)}function Fb(n,s,u,f,y,b){return ys(s),s.updateQueue=null,u=J1(s,f,u,y),G1(n),f=rv(),n!==null&&!Yt?(nv(n,s,b),Xn(n,s,b)):(st&&f&&$f(s),s.flags|=1,rr(n,s,u,b),s.child)}function Hb(n,s,u,f,y){if(ys(s),s.stateNode===null){var b=wo,E=u.contextType;typeof E=="object"&&E!==null&&(b=cr(E)),b=new u(f,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=gv,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=f,b.state=s.memoizedState,b.refs={},Mv(s),E=u.contextType,b.context=typeof E=="object"&&E!==null?cr(E):wo,b.state=s.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(mv(s,u,E,f),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(E=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),E!==b.state&&gv.enqueueReplaceState(b,b.state,null),Ka(s,f,b,y),$a(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(n===null){b=s.stateNode;var _=s.memoizedProps,M=ms(u,_);b.props=M;var D=b.context,Y=u.contextType;E=wo,typeof Y=="object"&&Y!==null&&(E=cr(Y));var te=u.getDerivedStateFromProps;Y=typeof te=="function"||typeof b.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,Y||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_||D!==E)&&kb(s,b,f,E),Ni=!1;var V=s.memoizedState;b.state=V,Ka(s,f,b,y),$a(),D=s.memoizedState,_||V!==D||Ni?(typeof te=="function"&&(mv(s,u,te,f),D=s.memoizedState),(M=Ni||_b(s,u,M,f,V,D,E))?(Y||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=D),b.props=f,b.state=D,b.context=E,f=M):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{b=s.stateNode,Nv(n,s),E=s.memoizedProps,Y=ms(u,E),b.props=Y,te=s.pendingProps,V=b.context,D=u.contextType,M=wo,typeof D=="object"&&D!==null&&(M=cr(D)),_=u.getDerivedStateFromProps,(D=typeof _=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==te||V!==M)&&kb(s,b,f,M),Ni=!1,V=s.memoizedState,b.state=V,Ka(s,f,b,y),$a();var J=s.memoizedState;E!==te||V!==J||Ni||n!==null&&n.dependencies!==null&&Lh(n.dependencies)?(typeof _=="function"&&(mv(s,u,_,f),J=s.memoizedState),(Y=Ni||_b(s,u,Y,f,V,J,M)||n!==null&&n.dependencies!==null&&Lh(n.dependencies))?(D||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,J,M),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,J,M)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=J),b.props=f,b.state=J,b.context=M,f=Y):(typeof b.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),f=!1)}return b=f,Va(n,s),f=(s.flags&128)!==0,b||f?(b=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,n!==null&&f?(s.child=ds(s,n.child,null,y),s.child=ds(s,null,u,y)):rr(n,s,u,y),s.memoizedState=b.state,n=s.child):n=Xn(n,s,y),n}function $b(n,s,u,f){return Ma(),s.flags|=256,rr(n,s,u,f),s.child}var bv={dehydrated:null,treeContext:null,retryLane:0};function Cv(n){return{baseLanes:n,cachePool:W1()}}function xv(n,s,u){return n=n!==null?n.childLanes&~u:0,s&&(n|=Zr),n}function Kb(n,s,u){var f=s.pendingProps,y=!1,b=(s.flags&128)!==0,E;if((E=b)||(E=n!==null&&n.memoizedState===null?!1:($t.current&2)!==0),E&&(y=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(st){if(y?Pi(s):Ai(),st){var _=tr,M;if(M=_){e:{for(M=_,_=_n;M.nodeType!==8;){if(!_){_=null;break e}if(M=gn(M.nextSibling),M===null){_=null;break e}}_=M}_!==null?(s.memoizedState={dehydrated:_,treeContext:cs!==null?{id:Gn,overflow:Jn}:null,retryLane:536870912},M=Xr(18,null,null,0),M.stateNode=_,M.return=s,s.child=M,fr=s,tr=null,M=!0):M=!1}M||us(s)}if(_=s.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?s.lanes=16:s.lanes=536870912,null;Yn(s)}return _=f.children,f=f.fallback,y?(Ai(),y=s.mode,_=wv({mode:"hidden",children:_},y),f=bs(f,y,u,null),_.return=s,f.return=s,_.sibling=f,s.child=_,y=s.child,y.memoizedState=Cv(u),y.childLanes=xv(n,E,u),s.memoizedState=bv,f):(Pi(s),Rv(s,_))}if(M=n.memoizedState,M!==null&&(_=M.dehydrated,_!==null)){if(b)s.flags&256?(Pi(s),s.flags&=-257,s=Ev(n,s,u)):s.memoizedState!==null?(Ai(),s.child=n.child,s.flags|=128,s=null):(Ai(),y=f.fallback,_=s.mode,f=wv({mode:"visible",children:f.children},_),y=bs(y,_,u,null),y.flags|=2,f.return=s,y.return=s,f.sibling=y,s.child=f,ds(s,n.child,null,u),f=s.child,f.memoizedState=Cv(u),f.childLanes=xv(n,E,u),s.memoizedState=bv,s=y);else if(Pi(s),_.data==="$!"){if(E=_.nextSibling&&_.nextSibling.dataset,E)var D=E.dgst;E=D,f=Error(i(419)),f.stack="",f.digest=E,Na({value:f,source:null,stack:null}),s=Ev(n,s,u)}else if(Yt||Fa(n,s,u,!1),E=(u&n.childLanes)!==0,Yt||E){if(E=mt,E!==null){if(f=u&-u,(f&42)!==0)f=1;else switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=64;break;case 268435456:f=134217728;break;default:f=0}if(f=(f&(E.suspendedLanes|u))!==0?0:f,f!==0&&f!==M.retryLane)throw M.retryLane=f,Ti(n,f),vr(E,n,f),zb}_.data==="$?"||Zv(),s=Ev(n,s,u)}else _.data==="$?"?(s.flags|=128,s.child=n.child,s=NM.bind(null,n),_._reactRetry=s,s=null):(n=M.treeContext,tr=gn(_.nextSibling),fr=s,st=!0,vn=null,_n=!1,n!==null&&(Wr[Gr++]=Gn,Wr[Gr++]=Jn,Wr[Gr++]=cs,Gn=n.id,Jn=n.overflow,cs=s),s=Rv(s,f.children),s.flags|=4096);return s}return y?(Ai(),y=f.fallback,_=s.mode,M=n.child,D=M.sibling,f=Li(M,{mode:"hidden",children:f.children}),f.subtreeFlags=M.subtreeFlags&31457280,D!==null?y=Li(D,y):(y=bs(y,_,u,null),y.flags|=2),y.return=s,f.return=s,f.sibling=y,s.child=f,f=y,y=s.child,_=n.child.memoizedState,_===null?_=Cv(u):(M=_.cachePool,M!==null?(D=Kt._currentValue,M=M.parent!==D?{parent:D,pool:D}:M):M=W1(),_={baseLanes:_.baseLanes|u,cachePool:M}),y.memoizedState=_,y.childLanes=xv(n,E,u),s.memoizedState=bv,f):(Pi(s),u=n.child,n=u.sibling,u=Li(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=u,s.memoizedState=null,u)}function Rv(n,s){return s=wv({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function wv(n,s){return yC(n,s,0,null)}function Ev(n,s,u){return ds(s,n.child,null,u),n=Rv(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Wb(n,s,u){n.lanes|=s;var f=n.alternate;f!==null&&(f.lanes|=s),_v(n.return,s,u)}function Tv(n,s,u,f,y){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=y)}function Gb(n,s,u){var f=s.pendingProps,y=f.revealOrder,b=f.tail;if(rr(n,s,f.children,u),f=$t.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Wb(n,u,s);else if(n.tag===19)Wb(n,u,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(nt($t,f),y){case"forwards":for(u=s.child,y=null;u!==null;)n=u.alternate,n!==null&&Th(n)===null&&(y=u),u=u.sibling;u=y,u===null?(y=s.child,s.child=null):(y=u.sibling,u.sibling=null),Tv(s,!1,y,u,b);break;case"backwards":for(u=null,y=s.child,s.child=null;y!==null;){if(n=y.alternate,n!==null&&Th(n)===null){s.child=y;break}n=y.sibling,y.sibling=u,u=y,y=n}Tv(s,!0,u,null,b);break;case"together":Tv(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xn(n,s,u){if(n!==null&&(s.dependencies=n.dependencies),qi|=s.lanes,(u&s.childLanes)===0)if(n!==null){if(Fa(n,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,u=Li(n,n.pendingProps),s.child=u,u.return=s;n.sibling!==null;)n=n.sibling,u=u.sibling=Li(n,n.pendingProps),u.return=s;u.sibling=null}return s.child}function Pv(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Lh(n)))}function yM(n,s,u){switch(s.tag){case 3:Rr(s,s.stateNode.containerInfo),Mi(s,Kt,n.memoizedState.cache),Ma();break;case 27:case 5:ar(s);break;case 4:Rr(s,s.stateNode.containerInfo);break;case 10:Mi(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Pi(s),s.flags|=128,null):(u&s.child.childLanes)!==0?Kb(n,s,u):(Pi(s),n=Xn(n,s,u),n!==null?n.sibling:null);Pi(s);break;case 19:var y=(n.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(Fa(n,s,u,!1),f=(u&s.childLanes)!==0),y){if(f)return Gb(n,s,u);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),nt($t,$t.current),f)break;return null;case 22:case 23:return s.lanes=0,Ub(n,s,u);case 24:Mi(s,Kt,n.memoizedState.cache)}return Xn(n,s,u)}function Jb(n,s,u){if(n!==null)if(n.memoizedProps!==s.pendingProps)Yt=!0;else{if(!Pv(n,u)&&(s.flags&128)===0)return Yt=!1,yM(n,s,u);Yt=(n.flags&131072)!==0}else Yt=!1,st&&(s.flags&1048576)!==0&&I1(s,Ch,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var f=s.elementType,y=f._init;if(f=y(f._payload),s.type=f,typeof f=="function")Uv(f)?(n=ms(f,n),s.tag=1,s=Hb(null,s,f,n,u)):(s.tag=0,s=Sv(null,s,f,n,u));else{if(f!=null){if(y=f.$$typeof,y===C){s.tag=11,s=Lb(null,s,f,n,u);break e}else if(y===w){s.tag=14,s=qb(null,s,f,n,u);break e}}throw s=q(f)||f,Error(i(306,s,""))}}return s;case 0:return Sv(n,s,s.type,s.pendingProps,u);case 1:return f=s.type,y=ms(f,s.pendingProps),Hb(n,s,f,y,u);case 3:e:{if(Rr(s,s.stateNode.containerInfo),n===null)throw Error(i(387));var b=s.pendingProps;y=s.memoizedState,f=y.element,Nv(n,s),Ka(s,b,null,u);var E=s.memoizedState;if(b=E.cache,Mi(s,Kt,b),b!==y.cache&&kv(s,[Kt],u,!0),$a(),b=E.element,y.isDehydrated)if(y={element:b,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=$b(n,s,b,u);break e}else if(b!==f){f=Kr(Error(i(424)),s),Na(f),s=$b(n,s,b,u);break e}else for(tr=gn(s.stateNode.containerInfo.firstChild),fr=s,st=!0,vn=null,_n=!0,u=V1(s,null,b,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ma(),b===f){s=Xn(n,s,u);break e}rr(n,s,b,u)}s=s.child}return s;case 26:return Va(n,s),n===null?(u=XC(s.type,null,s.pendingProps,null))?s.memoizedState=u:st||(u=s.type,n=s.pendingProps,f=ep(It.current).createElement(u),f[Se]=s,f[pe]=n,nr(f,u,n),Jt(f),s.stateNode=f):s.memoizedState=XC(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ar(s),n===null&&st&&(f=s.stateNode=JC(s.type,s.pendingProps,It.current),fr=s,_n=!0,tr=gn(f.firstChild)),f=s.pendingProps.children,n!==null||st?rr(n,s,f,u):s.child=ds(s,null,f,u),Va(n,s),s.child;case 5:return n===null&&st&&((y=f=tr)&&(f=GM(f,s.type,s.pendingProps,_n),f!==null?(s.stateNode=f,fr=s,tr=gn(f.firstChild),_n=!1,y=!0):y=!1),y||us(s)),ar(s),y=s.type,b=s.pendingProps,E=n!==null?n.memoizedProps:null,f=b.children,pm(y,b)?f=null:E!==null&&pm(y,E)&&(s.flags|=32),s.memoizedState!==null&&(y=tv(n,s,dM,null,null,u),ac._currentValue=y),Va(n,s),rr(n,s,f,u),s.child;case 6:return n===null&&st&&((n=u=tr)&&(u=JM(u,s.pendingProps,_n),u!==null?(s.stateNode=u,fr=s,tr=null,n=!0):n=!1),n||us(s)),null;case 13:return Kb(n,s,u);case 4:return Rr(s,s.stateNode.containerInfo),f=s.pendingProps,n===null?s.child=ds(s,null,f,u):rr(n,s,f,u),s.child;case 11:return Lb(n,s,s.type,s.pendingProps,u);case 7:return rr(n,s,s.pendingProps,u),s.child;case 8:return rr(n,s,s.pendingProps.children,u),s.child;case 12:return rr(n,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,Mi(s,s.type,f.value),rr(n,s,f.children,u),s.child;case 9:return y=s.type._context,f=s.pendingProps.children,ys(s),y=cr(y),f=f(y),s.flags|=1,rr(n,s,f,u),s.child;case 14:return qb(n,s,s.type,s.pendingProps,u);case 15:return Bb(n,s,s.type,s.pendingProps,u);case 19:return Gb(n,s,u);case 22:return Ub(n,s,u);case 24:return ys(s),f=cr(Kt),n===null?(y=Zf(),y===null&&(y=mt,b=Qf(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),s.memoizedState={parent:f,cache:y},Mv(s),Mi(s,Kt,y)):((n.lanes&u)!==0&&(Nv(n,s),Ka(s,null,null,u),$a()),y=n.memoizedState,b=s.memoizedState,y.parent!==f?(y={parent:f,cache:f},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Mi(s,Kt,f)):(f=b.cache,Mi(s,Kt,f),f!==y.cache&&kv(s,[Kt],u,!0))),rr(n,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Av=Ne(null),gs=null,Zn=null;function Mi(n,s,u){nt(Av,s._currentValue),s._currentValue=u}function ei(n){n._currentValue=Av.current,ct(Av)}function _v(n,s,u){for(;n!==null;){var f=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),n===u)break;n=n.return}}function kv(n,s,u,f){var y=n.child;for(y!==null&&(y.return=n);y!==null;){var b=y.dependencies;if(b!==null){var E=y.child;b=b.firstContext;e:for(;b!==null;){var _=b;b=y;for(var M=0;M<s.length;M++)if(_.context===s[M]){b.lanes|=u,_=b.alternate,_!==null&&(_.lanes|=u),_v(b.return,u,n),f||(E=null);break e}b=_.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(i(341));E.lanes|=u,b=E.alternate,b!==null&&(b.lanes|=u),_v(E,u,n),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===n){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function Fa(n,s,u,f){n=null;for(var y=s,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var _=y.type;Mr(y.pendingProps.value,E.value)||(n!==null?n.push(_):n=[_])}}else if(y===Gt.current){if(E=y.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(n!==null?n.push(ac):n=[ac])}y=y.return}n!==null&&kv(s,n,u,f),s.flags|=262144}function Lh(n){for(n=n.firstContext;n!==null;){if(!Mr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ys(n){gs=n,Zn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function cr(n){return Yb(gs,n)}function qh(n,s){return gs===null&&ys(n),Yb(n,s)}function Yb(n,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Zn===null){if(n===null)throw Error(i(308));Zn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Zn=Zn.next=s;return u}var Ni=!1;function Mv(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nv(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ii(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ji(n,s,u){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(Et&2)!==0){var y=f.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),f.pending=s,s=Sh(n),M1(n,null,u),s}return yh(n,f,s,u),Sh(n)}function Ha(n,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194176)!==0)){var f=s.lanes;f&=n.pendingLanes,u|=f,s.lanes=u,le(n,u)}}function Iv(n,s){var u=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=E:b=b.next=E,u=u.next}while(u!==null);b===null?y=b=s:b=b.next=s}else y=b=s;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=s:n.next=s,u.lastBaseUpdate=s}var jv=!1;function $a(){if(jv){var n=ko;if(n!==null)throw n}}function Ka(n,s,u,f){jv=!1;var y=n.updateQueue;Ni=!1;var b=y.firstBaseUpdate,E=y.lastBaseUpdate,_=y.shared.pending;if(_!==null){y.shared.pending=null;var M=_,D=M.next;M.next=null,E===null?b=D:E.next=D,E=M;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,_=Y.lastBaseUpdate,_!==E&&(_===null?Y.firstBaseUpdate=D:_.next=D,Y.lastBaseUpdate=M))}if(b!==null){var te=y.baseState;E=0,Y=D=M=null,_=b;do{var V=_.lane&-536870913,J=V!==_.lane;if(J?(it&V)===V:(f&V)===V){V!==0&&V===_o&&(jv=!0),Y!==null&&(Y=Y.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Pe=n,Fe=_;V=s;var Mt=u;switch(Fe.tag){case 1:if(Pe=Fe.payload,typeof Pe=="function"){te=Pe.call(Mt,te,V);break e}te=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Fe.payload,V=typeof Pe=="function"?Pe.call(Mt,te,V):Pe,V==null)break e;te=$({},te,V);break e;case 2:Ni=!0}}V=_.callback,V!==null&&(n.flags|=64,J&&(n.flags|=8192),J=y.callbacks,J===null?y.callbacks=[V]:J.push(V))}else J={lane:V,tag:_.tag,payload:_.payload,callback:_.callback,next:null},Y===null?(D=Y=J,M=te):Y=Y.next=J,E|=V;if(_=_.next,_===null){if(_=y.shared.pending,_===null)break;J=_,_=J.next,J.next=null,y.lastBaseUpdate=J,y.shared.pending=null}}while(!0);Y===null&&(M=te),y.baseState=M,y.firstBaseUpdate=D,y.lastBaseUpdate=Y,b===null&&(y.shared.lanes=0),qi|=E,n.lanes=E,n.memoizedState=te}}function Qb(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Xb(n,s){var u=n.callbacks;if(u!==null)for(n.callbacks=null,n=0;n<u.length;n++)Qb(u[n],s)}function Wa(n,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&n)===n){f=void 0;var b=u.create,E=u.inst;f=b(),E.destroy=f}u=u.next}while(u!==y)}}catch(_){pt(s,s.return,_)}}function Oi(n,s,u){try{var f=s.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&n)===n){var E=f.inst,_=E.destroy;if(_!==void 0){E.destroy=void 0,y=s;var M=u;try{_()}catch(D){pt(y,M,D)}}}f=f.next}while(f!==b)}}catch(D){pt(s,s.return,D)}}function Zb(n){var s=n.updateQueue;if(s!==null){var u=n.stateNode;try{Xb(s,u)}catch(f){pt(n,n.return,f)}}}function eC(n,s,u){u.props=ms(n.type,n.memoizedProps),u.state=n.memoizedState;try{u.componentWillUnmount()}catch(f){pt(n,s,f)}}function Ss(n,s){try{var u=n.ref;if(u!==null){var f=n.stateNode;switch(n.tag){case 26:case 27:case 5:var y=f;break;default:y=f}typeof u=="function"?n.refCleanup=u(y):u.current=y}}catch(b){pt(n,s,b)}}function Nr(n,s){var u=n.ref,f=n.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){pt(n,s,y)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){pt(n,s,y)}else u.current=null}function tC(n){var s=n.type,u=n.memoizedProps,f=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){pt(n,n.return,y)}}function rC(n,s,u){try{var f=n.stateNode;FM(f,n.type,u,s),f[pe]=s}catch(y){pt(n,n.return,y)}}function nC(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Ov(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nC(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dv(n,s,u){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(n,s):u.insertBefore(n,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(n,u)):(s=u,s.appendChild(n)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Zh));else if(f!==4&&f!==27&&(n=n.child,n!==null))for(Dv(n,s,u),n=n.sibling;n!==null;)Dv(n,s,u),n=n.sibling}function Bh(n,s,u){var f=n.tag;if(f===5||f===6)n=n.stateNode,s?u.insertBefore(n,s):u.appendChild(n);else if(f!==4&&f!==27&&(n=n.child,n!==null))for(Bh(n,s,u),n=n.sibling;n!==null;)Bh(n,s,u),n=n.sibling}var ti=!1,_t=!1,zv=!1,iC=typeof WeakSet=="function"?WeakSet:Set,Qt=null,sC=!1;function SM(n,s){if(n=n.containerInfo,dm=op,n=x1(n),qf(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var E=0,_=-1,M=-1,D=0,Y=0,te=n,V=null;t:for(;;){for(var J;te!==u||y!==0&&te.nodeType!==3||(_=E+y),te!==b||f!==0&&te.nodeType!==3||(M=E+f),te.nodeType===3&&(E+=te.nodeValue.length),(J=te.firstChild)!==null;)V=te,te=J;for(;;){if(te===n)break t;if(V===u&&++D===y&&(_=E),V===b&&++Y===f&&(M=E),(J=te.nextSibling)!==null)break;te=V,V=te.parentNode}te=J}u=_===-1||M===-1?null:{start:_,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(hm={focusedElem:n,selectionRange:u},op=!1,Qt=s;Qt!==null;)if(s=Qt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Qt=n;else for(;Qt!==null;){switch(s=Qt,b=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,u=s,y=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var Pe=ms(u.type,y,u.elementType===u.type);n=f.getSnapshotBeforeUpdate(Pe,b),f.__reactInternalSnapshotBeforeUpdate=n}catch(Fe){pt(u,u.return,Fe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,u=n.nodeType,u===9)mm(n);else if(u===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Qt=n;break}Qt=s.return}return Pe=sC,sC=!1,Pe}function oC(n,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ni(n,u),f&4&&Wa(5,u);break;case 1:if(ni(n,u),f&4)if(n=u.stateNode,s===null)try{n.componentDidMount()}catch(_){pt(u,u.return,_)}else{var y=ms(u.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(y,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){pt(u,u.return,_)}}f&64&&Zb(u),f&512&&Ss(u,u.return);break;case 3:if(ni(n,u),f&64&&(f=u.updateQueue,f!==null)){if(n=null,u.child!==null)switch(u.child.tag){case 27:case 5:n=u.child.stateNode;break;case 1:n=u.child.stateNode}try{Xb(f,n)}catch(_){pt(u,u.return,_)}}break;case 26:ni(n,u),f&512&&Ss(u,u.return);break;case 27:case 5:ni(n,u),s===null&&f&4&&tC(u),f&512&&Ss(u,u.return);break;case 12:ni(n,u);break;case 13:ni(n,u),f&4&&lC(n,u);break;case 22:if(y=u.memoizedState!==null||ti,!y){s=s!==null&&s.memoizedState!==null||_t;var b=ti,E=_t;ti=y,(_t=s)&&!E?Di(n,u,(u.subtreeFlags&8772)!==0):ni(n,u),ti=b,_t=E}f&512&&(u.memoizedProps.mode==="manual"?Ss(u,u.return):Nr(u,u.return));break;default:ni(n,u)}}function aC(n){var s=n.alternate;s!==null&&(n.alternate=null,aC(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&hn(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ut=null,Ir=!1;function ri(n,s,u){for(u=u.child;u!==null;)cC(n,s,u),u=u.sibling}function cC(n,s,u){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(er,u)}catch{}switch(u.tag){case 26:_t||Nr(u,s),ri(n,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:_t||Nr(u,s);var f=Ut,y=Ir;for(Ut=u.stateNode,ri(n,s,u),u=u.stateNode,s=u.attributes;s.length;)u.removeAttributeNode(s[0]);hn(u),Ut=f,Ir=y;break;case 5:_t||Nr(u,s);case 6:y=Ut;var b=Ir;if(Ut=null,ri(n,s,u),Ut=y,Ir=b,Ut!==null)if(Ir)try{n=Ut,f=u.stateNode,n.nodeType===8?n.parentNode.removeChild(f):n.removeChild(f)}catch(E){pt(u,s,E)}else try{Ut.removeChild(u.stateNode)}catch(E){pt(u,s,E)}break;case 18:Ut!==null&&(Ir?(s=Ut,u=u.stateNode,s.nodeType===8?vm(s.parentNode,u):s.nodeType===1&&vm(s,u),dc(s)):vm(Ut,u.stateNode));break;case 4:f=Ut,y=Ir,Ut=u.stateNode.containerInfo,Ir=!0,ri(n,s,u),Ut=f,Ir=y;break;case 0:case 11:case 14:case 15:_t||Oi(2,u,s),_t||Oi(4,u,s),ri(n,s,u);break;case 1:_t||(Nr(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&eC(u,s,f)),ri(n,s,u);break;case 21:ri(n,s,u);break;case 22:_t||Nr(u,s),_t=(f=_t)||u.memoizedState!==null,ri(n,s,u),_t=f;break;default:ri(n,s,u)}}function lC(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{dc(n)}catch(u){pt(s,s.return,u)}}function bM(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new iC),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new iC),s;default:throw Error(i(435,n.tag))}}function Lv(n,s){var u=bM(n);s.forEach(function(f){var y=IM.bind(null,n,f);u.has(f)||(u.add(f),f.then(y,y))})}function Yr(n,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],b=n,E=s,_=E;e:for(;_!==null;){switch(_.tag){case 27:case 5:Ut=_.stateNode,Ir=!1;break e;case 3:Ut=_.stateNode.containerInfo,Ir=!0;break e;case 4:Ut=_.stateNode.containerInfo,Ir=!0;break e}_=_.return}if(Ut===null)throw Error(i(160));cC(b,E,y),Ut=null,Ir=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)uC(s,n),s=s.sibling}var mn=null;function uC(n,s){var u=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Yr(s,n),Qr(n),f&4&&(Oi(3,n,n.return),Wa(3,n),Oi(5,n,n.return));break;case 1:Yr(s,n),Qr(n),f&512&&(_t||u===null||Nr(u,u.return)),f&64&&ti&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(u=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=mn;if(Yr(s,n),Qr(n),f&512&&(_t||u===null||Nr(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=n.memoizedState,u===null)if(f===null)if(n.stateNode===null){e:{f=n.type,u=n.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[pr]||b[Se]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),nr(b,f,u),b[Se]=n,Jt(b),f=b;break e;case"link":var E=tx("link","href",y).get(f+(u.href||""));if(E){for(var _=0;_<E.length;_++)if(b=E[_],b.getAttribute("href")===(u.href==null?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(_,1);break t}}b=y.createElement(f),nr(b,f,u),y.head.appendChild(b);break;case"meta":if(E=tx("meta","content",y).get(f+(u.content||""))){for(_=0;_<E.length;_++)if(b=E[_],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(_,1);break t}}b=y.createElement(f),nr(b,f,u),y.head.appendChild(b);break;default:throw Error(i(468,f))}b[Se]=n,Jt(b),f=b}n.stateNode=f}else rx(y,n.type,n.stateNode);else n.stateNode=ex(y,f,n.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?rx(y,n.type,n.stateNode):ex(y,f,n.memoizedProps)):f===null&&n.stateNode!==null&&rC(n,n.memoizedProps,u.memoizedProps)}break;case 27:if(f&4&&n.alternate===null){y=n.stateNode,b=n.memoizedProps;try{for(var M=y.firstChild;M;){var D=M.nextSibling,Y=M.nodeName;M[pr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&M.rel.toLowerCase()==="stylesheet"||y.removeChild(M),M=D}for(var te=n.type,V=y.attributes;V.length;)y.removeAttributeNode(V[0]);nr(y,te,b),y[Se]=n,y[pe]=b}catch(Pe){pt(n,n.return,Pe)}}case 5:if(Yr(s,n),Qr(n),f&512&&(_t||u===null||Nr(u,u.return)),n.flags&32){y=n.stateNode;try{go(y,"")}catch(Pe){pt(n,n.return,Pe)}}f&4&&n.stateNode!=null&&(y=n.memoizedProps,rC(n,y,u!==null?u.memoizedProps:y)),f&1024&&(zv=!0);break;case 6:if(Yr(s,n),Qr(n),f&4){if(n.stateNode===null)throw Error(i(162));f=n.memoizedProps,u=n.stateNode;try{u.nodeValue=f}catch(Pe){pt(n,n.return,Pe)}}break;case 3:if(np=null,y=mn,mn=tp(s.containerInfo),Yr(s,n),mn=y,Qr(n),f&4&&u!==null&&u.memoizedState.isDehydrated)try{dc(s.containerInfo)}catch(Pe){pt(n,n.return,Pe)}zv&&(zv=!1,dC(n));break;case 4:f=mn,mn=tp(n.stateNode.containerInfo),Yr(s,n),Qr(n),mn=f;break;case 12:Yr(s,n),Qr(n);break;case 13:Yr(s,n),Qr(n),n.child.flags&8192&&n.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Wv=ye()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Lv(n,f)));break;case 22:if(f&512&&(_t||u===null||Nr(u,u.return)),M=n.memoizedState!==null,D=u!==null&&u.memoizedState!==null,Y=ti,te=_t,ti=Y||M,_t=te||D,Yr(s,n),_t=te,ti=Y,Qr(n),s=n.stateNode,s._current=n,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,f&8192&&(s._visibility=M?s._visibility&-2:s._visibility|1,M&&(s=ti||_t,u===null||D||s||jo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(u=null,s=n;;){if(s.tag===5||s.tag===26||s.tag===27){if(u===null){D=u=s;try{if(y=D.stateNode,M)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=D.stateNode,_=D.memoizedProps.style;var J=_!=null&&_.hasOwnProperty("display")?_.display:null;E.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Pe){pt(D,D.return,Pe)}}}else if(s.tag===6){if(u===null){D=s;try{D.stateNode.nodeValue=M?"":D.memoizedProps}catch(Pe){pt(D,D.return,Pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=n.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Lv(n,u))));break;case 19:Yr(s,n),Qr(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,Lv(n,f)));break;case 21:break;default:Yr(s,n),Qr(n)}}function Qr(n){var s=n.flags;if(s&2){try{if(n.tag!==27){e:{for(var u=n.return;u!==null;){if(nC(u)){var f=u;break e}u=u.return}throw Error(i(160))}switch(f.tag){case 27:var y=f.stateNode,b=Ov(n);Bh(n,b,y);break;case 5:var E=f.stateNode;f.flags&32&&(go(E,""),f.flags&=-33);var _=Ov(n);Bh(n,_,E);break;case 3:case 4:var M=f.stateNode.containerInfo,D=Ov(n);Dv(n,D,M);break;default:throw Error(i(161))}}}catch(Y){pt(n,n.return,Y)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function dC(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;dC(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ni(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)oC(n,s.alternate,s),s=s.sibling}function jo(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Oi(4,s,s.return),jo(s);break;case 1:Nr(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&eC(s,s.return,u),jo(s);break;case 26:case 27:case 5:Nr(s,s.return),jo(s);break;case 22:Nr(s,s.return),s.memoizedState===null&&jo(s);break;default:jo(s)}n=n.sibling}}function Di(n,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,y=n,b=s,E=b.flags;switch(b.tag){case 0:case 11:case 15:Di(y,b,u),Wa(4,b);break;case 1:if(Di(y,b,u),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(D){pt(f,f.return,D)}if(f=b,y=f.updateQueue,y!==null){var _=f.stateNode;try{var M=y.shared.hiddenCallbacks;if(M!==null)for(y.shared.hiddenCallbacks=null,y=0;y<M.length;y++)Qb(M[y],_)}catch(D){pt(f,f.return,D)}}u&&E&64&&Zb(b),Ss(b,b.return);break;case 26:case 27:case 5:Di(y,b,u),u&&f===null&&E&4&&tC(b),Ss(b,b.return);break;case 12:Di(y,b,u);break;case 13:Di(y,b,u),u&&E&4&&lC(y,b);break;case 22:b.memoizedState===null&&Di(y,b,u),Ss(b,b.return);break;default:Di(y,b,u)}s=s.sibling}}function qv(n,s){var u=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==u&&(n!=null&&n.refCount++,u!=null&&za(u))}function Bv(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&za(n))}function zi(n,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)hC(n,s,u,f),s=s.sibling}function hC(n,s,u,f){var y=s.flags;switch(s.tag){case 0:case 11:case 15:zi(n,s,u,f),y&2048&&Wa(9,s);break;case 3:zi(n,s,u,f),y&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&za(n)));break;case 12:if(y&2048){zi(n,s,u,f),n=s.stateNode;try{var b=s.memoizedProps,E=b.id,_=b.onPostCommit;typeof _=="function"&&_(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){pt(s,s.return,M)}}else zi(n,s,u,f);break;case 23:break;case 22:b=s.stateNode,s.memoizedState!==null?b._visibility&4?zi(n,s,u,f):Ga(n,s):b._visibility&4?zi(n,s,u,f):(b._visibility|=4,Oo(n,s,u,f,(s.subtreeFlags&10256)!==0)),y&2048&&qv(s.alternate,s);break;case 24:zi(n,s,u,f),y&2048&&Bv(s.alternate,s);break;default:zi(n,s,u,f)}}function Oo(n,s,u,f,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=n,E=s,_=u,M=f,D=E.flags;switch(E.tag){case 0:case 11:case 15:Oo(b,E,_,M,y),Wa(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&4?Oo(b,E,_,M,y):Ga(b,E):(Y._visibility|=4,Oo(b,E,_,M,y)),y&&D&2048&&qv(E.alternate,E);break;case 24:Oo(b,E,_,M,y),y&&D&2048&&Bv(E.alternate,E);break;default:Oo(b,E,_,M,y)}s=s.sibling}}function Ga(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=n,f=s,y=f.flags;switch(f.tag){case 22:Ga(u,f),y&2048&&qv(f.alternate,f);break;case 24:Ga(u,f),y&2048&&Bv(f.alternate,f);break;default:Ga(u,f)}s=s.sibling}}var Ja=8192;function Do(n){if(n.subtreeFlags&Ja)for(n=n.child;n!==null;)pC(n),n=n.sibling}function pC(n){switch(n.tag){case 26:Do(n),n.flags&Ja&&n.memoizedState!==null&&cN(mn,n.memoizedState,n.memoizedProps);break;case 5:Do(n);break;case 3:case 4:var s=mn;mn=tp(n.stateNode.containerInfo),Do(n),mn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Ja,Ja=16777216,Do(n),Ja=s):Do(n));break;default:Do(n)}}function fC(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ya(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Qt=f,mC(f,n)}fC(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vC(n),n=n.sibling}function vC(n){switch(n.tag){case 0:case 11:case 15:Ya(n),n.flags&2048&&Oi(9,n,n.return);break;case 3:Ya(n);break;case 12:Ya(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&4&&(n.return===null||n.return.tag!==13)?(s._visibility&=-5,Uh(n)):Ya(n);break;default:Ya(n)}}function Uh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];Qt=f,mC(f,n)}fC(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Oi(8,s,s.return),Uh(s);break;case 22:u=s.stateNode,u._visibility&4&&(u._visibility&=-5,Uh(s));break;default:Uh(s)}n=n.sibling}}function mC(n,s){for(;Qt!==null;){var u=Qt;switch(u.tag){case 0:case 11:case 15:Oi(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:za(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Qt=f;else e:for(u=n;Qt!==null;){f=Qt;var y=f.sibling,b=f.return;if(aC(f),f===u){Qt=null;break e}if(y!==null){y.return=b,Qt=y;break e}Qt=b}}}function CM(n,s,u,f){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(n,s,u,f){return new CM(n,s,u,f)}function Uv(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Li(n,s){var u=n.alternate;return u===null?(u=Xr(n.tag,s,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=s,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&31457280,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,s=n.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u.refCleanup=n.refCleanup,u}function gC(n,s){n.flags&=31457282;var u=n.alternate;return u===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=u.childLanes,n.lanes=u.lanes,n.child=u.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=u.memoizedProps,n.memoizedState=u.memoizedState,n.updateQueue=u.updateQueue,n.type=u.type,s=u.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Vh(n,s,u,f,y,b){var E=0;if(f=n,typeof n=="function")Uv(n)&&(E=1);else if(typeof n=="string")E=oN(n,u,lt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case d:return bs(u.children,y,b,s);case h:E=8,y|=24;break;case p:return n=Xr(12,u,s,y|2),n.elementType=p,n.lanes=b,n;case x:return n=Xr(13,u,s,y),n.elementType=x,n.lanes=b,n;case R:return n=Xr(19,u,s,y),n.elementType=R,n.lanes=b,n;case P:return yC(u,y,b,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case v:case S:E=10;break e;case m:E=9;break e;case C:E=11;break e;case w:E=14;break e;case T:E=16,f=null;break e}E=29,u=Error(i(130,n===null?"null":typeof n,"")),f=null}return s=Xr(E,u,s,y),s.elementType=n,s.type=f,s.lanes=b,s}function bs(n,s,u,f){return n=Xr(7,n,f,s),n.lanes=u,n}function yC(n,s,u,f){n=Xr(22,n,f,s),n.elementType=P,n.lanes=u;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=y._current;if(b===null)throw Error(i(456));if((y._pendingVisibility&2)===0){var E=Ti(b,2);E!==null&&(y._pendingVisibility|=2,vr(E,b,2))}},attach:function(){var b=y._current;if(b===null)throw Error(i(456));if((y._pendingVisibility&2)!==0){var E=Ti(b,2);E!==null&&(y._pendingVisibility&=-3,vr(E,b,2))}}};return n.stateNode=y,n}function Vv(n,s,u){return n=Xr(6,n,null,s),n.lanes=u,n}function Fv(n,s,u){return s=Xr(4,n.children!==null?n.children:[],n.key,s),s.lanes=u,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function ii(n){n.flags|=4}function SC(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!nx(s)){if(s=Jr.current,s!==null&&((it&4194176)===it?kn!==null:(it&62914560)!==it&&(it&536870912)===0||s!==kn))throw ja=Gf,D1;n.flags|=8192}}function Fh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?ns():536870912,n.lanes|=s,Lo|=s)}function Qa(n,s){if(!st)switch(n.tailMode){case"hidden":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function wt(n){var s=n.alternate!==null&&n.alternate.child===n.child,u=0,f=0;if(s)for(var y=n.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&31457280,f|=y.flags&31457280,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=f,n.childLanes=u,s}function xM(n,s,u){var f=s.pendingProps;switch(Kf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return u=s.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),ei(Kt),wr(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(ka(s)?ii(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,vn!==null&&(Qv(vn),vn=null))),wt(s),null;case 26:return u=s.memoizedState,n===null?(ii(s),u!==null?(wt(s),SC(s,u)):(wt(s),s.flags&=-16777217)):u?u!==n.memoizedState?(ii(s),wt(s),SC(s,u)):(wt(s),s.flags&=-16777217):(n.memoizedProps!==f&&ii(s),wt(s),s.flags&=-16777217),null;case 27:j(s),u=It.current;var y=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==f&&ii(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return wt(s),null}n=lt.current,ka(s)?j1(s):(n=JC(y,f,u),s.stateNode=n,ii(s))}return wt(s),null;case 5:if(j(s),u=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==f&&ii(s);else{if(!f){if(s.stateNode===null)throw Error(i(166));return wt(s),null}if(n=lt.current,ka(s))j1(s);else{switch(y=ep(It.current),n){case 1:n=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:n=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":n=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":n=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":n=y.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?y.createElement(u,{is:f.is}):y.createElement(u)}}n[Se]=s,n[pe]=f;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)n.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=n;e:switch(nr(n,u,f),u){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ii(s)}}return wt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==f&&ii(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(i(166));if(n=It.current,ka(s)){if(n=s.stateNode,u=s.memoizedProps,f=null,y=fr,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}n[Se]=s,n=!!(n.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||FC(n.nodeValue,u)),n||us(s)}else n=ep(n).createTextNode(f),n[Se]=s,s.stateNode=n}return wt(s),null;case 13:if(f=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(y=ka(s),f!==null&&f.dehydrated!==null){if(n===null){if(!y)throw Error(i(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Se]=s}else Ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),y=!1}else vn!==null&&(Qv(vn),vn=null),y=!0;if(!y)return s.flags&256?(Yn(s),s):(Yn(s),null)}if(Yn(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=f!==null,n=n!==null&&n.memoizedState!==null,u){f=s.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)}return u!==n&&u&&(s.child.flags|=8192),Fh(s,s.updateQueue),wt(s),null;case 4:return wr(),n===null&&cm(s.stateNode.containerInfo),wt(s),null;case 10:return ei(s.type),wt(s),null;case 19:if(ct($t),y=s.memoizedState,y===null)return wt(s),null;if(f=(s.flags&128)!==0,b=y.rendering,b===null)if(f)Qa(y,!1);else{if(kt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(b=Th(n),b!==null){for(s.flags|=128,Qa(y,!1),n=b.updateQueue,s.updateQueue=n,Fh(s,n),s.subtreeFlags=0,n=u,u=s.child;u!==null;)gC(u,n),u=u.sibling;return nt($t,$t.current&1|2),s.child}n=n.sibling}y.tail!==null&&ye()>Hh&&(s.flags|=128,f=!0,Qa(y,!1),s.lanes=4194304)}else{if(!f)if(n=Th(b),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Fh(s,n),Qa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!st)return wt(s),null}else 2*ye()-y.renderingStartTime>Hh&&u!==536870912&&(s.flags|=128,f=!0,Qa(y,!1),s.lanes=4194304);y.isBackwards?(b.sibling=s.child,s.child=b):(n=y.last,n!==null?n.sibling=b:s.child=b,y.last=b)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ye(),s.sibling=null,n=$t.current,nt($t,f?n&1|2:n&1),s):(wt(s),null);case 22:case 23:return Yn(s),Yf(),f=s.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),u=s.updateQueue,u!==null&&Fh(s,u.retryQueue),u=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),n!==null&&ct(hs),null;case 24:return u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ei(Kt),wt(s),null;case 25:return null}throw Error(i(156,s.tag))}function RM(n,s){switch(Kf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ei(Kt),wr(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return j(s),null;case 13:if(Yn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ma()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ct($t),null;case 4:return wr(),null;case 10:return ei(s.type),null;case 22:case 23:return Yn(s),Yf(),n!==null&&ct(hs),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ei(Kt),null;case 25:return null;default:return null}}function bC(n,s){switch(Kf(s),s.tag){case 3:ei(Kt),wr();break;case 26:case 27:case 5:j(s);break;case 4:wr();break;case 13:Yn(s);break;case 19:ct($t);break;case 10:ei(s.type);break;case 22:case 23:Yn(s),Yf(),n!==null&&ct(hs);break;case 24:ei(Kt)}}var wM={getCacheForType:function(n){var s=cr(Kt),u=s.data.get(n);return u===void 0&&(u=n(),s.data.set(n,u)),u}},EM=typeof WeakMap=="function"?WeakMap:Map,Et=0,mt=null,Qe=null,it=0,gt=0,jr=null,si=!1,zo=!1,Hv=!1,oi=0,kt=0,qi=0,Cs=0,$v=0,Zr=0,Lo=0,Xa=null,Nn=null,Kv=!1,Wv=0,Hh=1/0,$h=null,Bi=null,Kh=!1,xs=null,Za=0,Gv=0,Jv=null,ec=0,Yv=null;function Or(){if((Et&2)!==0&&it!==0)return it&-it;if(F.T!==null){var n=_o;return n!==0?n:im()}return Oe()}function CC(){Zr===0&&(Zr=(it&536870912)===0||st?Fn():536870912);var n=Jr.current;return n!==null&&(n.flags|=32),Zr}function vr(n,s,u){(n===mt&&gt===2||n.cancelPendingCommit!==null)&&(qo(n,0),ai(n,it,Zr,!1)),$n(n,u),((Et&2)===0||n!==mt)&&(n===mt&&((Et&2)===0&&(Cs|=u),kt===4&&ai(n,it,Zr,!1)),In(n))}function xC(n,s,u){if((Et&6)!==0)throw Error(i(327));var f=!u&&(s&60)===0&&(s&n.expiredLanes)===0||Ur(n,s),y=f?AM(n,s):em(n,s,!0),b=f;do{if(y===0){zo&&!f&&ai(n,s,0,!1);break}else if(y===6)ai(n,s,0,!si);else{if(u=n.current.alternate,b&&!TM(u)){y=em(n,s,!1),b=!1;continue}if(y===2){if(b=s,n.errorRecoveryDisabledLanes&b)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var _=n;y=Xa;var M=_.current.memoizedState.isDehydrated;if(M&&(qo(_,E).flags|=256),E=em(_,E,!1),E!==2){if(Hv&&!M){_.errorRecoveryDisabledLanes|=b,Cs|=b,y=4;break e}b=Nn,Nn=y,b!==null&&Qv(b)}y=E}if(b=!1,y!==2)continue}}if(y===1){qo(n,0),ai(n,s,0,!0);break}e:{switch(f=n,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){ai(f,s,Zr,!si);break e}break;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if(f.finishedWork=u,f.finishedLanes=s,(s&62914560)===s&&(b=Wv+300-ye(),10<b)){if(ai(f,s,Zr,!si),Ri(f,0)!==0)break e;f.timeoutHandle=KC(RC.bind(null,f,u,Nn,$h,Kv,s,Zr,Cs,Lo,si,2,-0,0),b);break e}RC(f,u,Nn,$h,Kv,s,Zr,Cs,Lo,si,0,-0,0)}}break}while(!0);In(n)}function Qv(n){Nn===null?Nn=n:Nn.push.apply(Nn,n)}function RC(n,s,u,f,y,b,E,_,M,D,Y,te,V){var J=s.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(oc={stylesheets:null,count:0,unsuspend:aN},pC(s),s=lN(),s!==null)){n.cancelPendingCommit=s(kC.bind(null,n,u,f,y,E,_,M,1,te,V)),ai(n,b,E,!D);return}kC(n,u,f,y,E,_,M,Y,te,V)}function TM(n){for(var s=n;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!Mr(b(),y))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ai(n,s,u,f){s&=~$v,s&=~Cs,n.suspendedLanes|=s,n.pingedLanes&=~s,f&&(n.warmLanes|=s),f=n.expirationTimes;for(var y=s;0<y;){var b=31-Lt(y),E=1<<b;f[b]=-1,y&=~E}u!==0&&K(n,u,s)}function Wh(){return(Et&6)===0?(tc(0),!1):!0}function Xv(){if(Qe!==null){if(gt===0)var n=Qe.return;else n=Qe,Zn=gs=null,iv(n),Po=null,Oa=0,n=Qe;for(;n!==null;)bC(n.alternate,n),n=n.return;Qe=null}}function qo(n,s){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;u!==-1&&(n.timeoutHandle=-1,$M(u)),u=n.cancelPendingCommit,u!==null&&(n.cancelPendingCommit=null,u()),Xv(),mt=n,Qe=u=Li(n.current,null),it=s,gt=0,jr=null,si=!1,zo=Ur(n,s),Hv=!1,Lo=Zr=$v=Cs=qi=kt=0,Nn=Xa=null,Kv=!1,(s&8)!==0&&(s|=s&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=s;0<f;){var y=31-Lt(f),b=1<<y;s|=n[y],f&=~b}return oi=s,gh(),u}function wC(n,s){Je=null,F.H=Mn,s===Ia?(s=q1(),gt=3):s===D1?(s=q1(),gt=4):gt=s===zb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,jr=s,Qe===null&&(kt=1,zh(n,Kr(s,n.current)))}function EC(){var n=F.H;return F.H=Mn,n===null?Mn:n}function TC(){var n=F.A;return F.A=wM,n}function Zv(){kt=4,si||(it&4194176)!==it&&Jr.current!==null||(zo=!0),(qi&134217727)===0&&(Cs&134217727)===0||mt===null||ai(mt,it,Zr,!1)}function em(n,s,u){var f=Et;Et|=2;var y=EC(),b=TC();(mt!==n||it!==s)&&($h=null,qo(n,s)),s=!1;var E=kt;e:do try{if(gt!==0&&Qe!==null){var _=Qe,M=jr;switch(gt){case 8:Xv(),E=6;break e;case 3:case 2:case 6:Jr.current===null&&(s=!0);var D=gt;if(gt=0,jr=null,Bo(n,_,M,D),u&&zo){E=0;break e}break;default:D=gt,gt=0,jr=null,Bo(n,_,M,D)}}PM(),E=kt;break}catch(Y){wC(n,Y)}while(!0);return s&&n.shellSuspendCounter++,Zn=gs=null,Et=f,F.H=y,F.A=b,Qe===null&&(mt=null,it=0,gh()),E}function PM(){for(;Qe!==null;)PC(Qe)}function AM(n,s){var u=Et;Et|=2;var f=EC(),y=TC();mt!==n||it!==s?($h=null,Hh=ye()+500,qo(n,s)):zo=Ur(n,s);e:do try{if(gt!==0&&Qe!==null){s=Qe;var b=jr;t:switch(gt){case 1:gt=0,jr=null,Bo(n,s,b,1);break;case 2:if(z1(b)){gt=0,jr=null,AC(s);break}s=function(){gt===2&&mt===n&&(gt=7),In(n)},b.then(s,s);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:z1(b)?(gt=0,jr=null,AC(s)):(gt=0,jr=null,Bo(n,s,b,7));break;case 5:var E=null;switch(Qe.tag){case 26:E=Qe.memoizedState;case 5:case 27:var _=Qe;if(!E||nx(E)){gt=0,jr=null;var M=_.sibling;if(M!==null)Qe=M;else{var D=_.return;D!==null?(Qe=D,Gh(D)):Qe=null}break t}}gt=0,jr=null,Bo(n,s,b,5);break;case 6:gt=0,jr=null,Bo(n,s,b,6);break;case 8:Xv(),kt=6;break e;default:throw Error(i(462))}}_M();break}catch(Y){wC(n,Y)}while(!0);return Zn=gs=null,F.H=f,F.A=y,Et=u,Qe!==null?0:(mt=null,it=0,gh(),kt)}function _M(){for(;Qe!==null&&!ce();)PC(Qe)}function PC(n){var s=Jb(n.alternate,n,oi);n.memoizedProps=n.pendingProps,s===null?Gh(n):Qe=s}function AC(n){var s=n,u=s.alternate;switch(s.tag){case 15:case 0:s=Fb(u,s,s.pendingProps,s.type,void 0,it);break;case 11:s=Fb(u,s,s.pendingProps,s.type.render,s.ref,it);break;case 5:iv(s);default:bC(u,s),s=Qe=gC(s,oi),s=Jb(u,s,oi)}n.memoizedProps=n.pendingProps,s===null?Gh(n):Qe=s}function Bo(n,s,u,f){Zn=gs=null,iv(s),Po=null,Oa=0;var y=s.return;try{if(gM(n,y,s,u,it)){kt=1,zh(n,Kr(u,n.current)),Qe=null;return}}catch(b){if(y!==null)throw Qe=y,b;kt=1,zh(n,Kr(u,n.current)),Qe=null;return}s.flags&32768?(st||f===1?n=!0:zo||(it&536870912)!==0?n=!1:(si=n=!0,(f===2||f===3||f===6)&&(f=Jr.current,f!==null&&f.tag===13&&(f.flags|=16384))),_C(s,n)):Gh(s)}function Gh(n){var s=n;do{if((s.flags&32768)!==0){_C(s,si);return}n=s.return;var u=xM(s.alternate,s,oi);if(u!==null){Qe=u;return}if(s=s.sibling,s!==null){Qe=s;return}Qe=s=n}while(s!==null);kt===0&&(kt=5)}function _C(n,s){do{var u=RM(n.alternate,n);if(u!==null){u.flags&=32767,Qe=u;return}if(u=n.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(n=n.sibling,n!==null)){Qe=n;return}Qe=n=u}while(n!==null);kt=6,Qe=null}function kC(n,s,u,f,y,b,E,_,M,D){var Y=F.T,te=ne.p;try{ne.p=2,F.T=null,kM(n,s,u,f,te,y,b,E,_,M,D)}finally{F.T=Y,ne.p=te}}function kM(n,s,u,f,y,b,E,_){do Uo();while(xs!==null);if((Et&6)!==0)throw Error(i(327));var M=n.finishedWork;if(f=n.finishedLanes,M===null)return null;if(n.finishedWork=null,n.finishedLanes=0,M===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var D=M.lanes|M.childLanes;if(D|=Ff,Sa(n,f,D,b,E,_),n===mt&&(Qe=mt=null,it=0),(M.subtreeFlags&10256)===0&&(M.flags&10256)===0||Kh||(Kh=!0,Gv=D,Jv=u,jM(Le,function(){return Uo(),null})),u=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||u?(u=F.T,F.T=null,b=ne.p,ne.p=2,E=Et,Et|=4,SM(n,M),uC(M,n),eM(hm,n.containerInfo),op=!!dm,hm=dm=null,n.current=M,oC(n,M.alternate,M),ie(),Et=E,ne.p=b,F.T=u):n.current=M,Kh?(Kh=!1,xs=n,Za=f):MC(n,D),D=n.pendingLanes,D===0&&(Bi=null),Vn(M.stateNode),In(n),s!==null)for(y=n.onRecoverableError,M=0;M<s.length;M++)D=s[M],y(D.value,{componentStack:D.stack});return(Za&3)!==0&&Uo(),D=n.pendingLanes,(f&4194218)!==0&&(D&42)!==0?n===Yv?ec++:(ec=0,Yv=n):ec=0,tc(0),null}function MC(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,za(s)))}function Uo(){if(xs!==null){var n=xs,s=Gv;Gv=0;var u=De(Za),f=F.T,y=ne.p;try{if(ne.p=32>u?32:u,F.T=null,xs===null)var b=!1;else{u=Jv,Jv=null;var E=xs,_=Za;if(xs=null,Za=0,(Et&6)!==0)throw Error(i(331));var M=Et;if(Et|=4,vC(E.current),hC(E,E.current,_,u),Et=M,tc(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(er,E)}catch{}b=!0}return b}finally{ne.p=y,F.T=f,MC(n,s)}}return!1}function NC(n,s,u){s=Kr(u,s),s=yv(n.stateNode,s,2),n=ji(n,s,2),n!==null&&($n(n,2),In(n))}function pt(n,s,u){if(n.tag===3)NC(n,n,u);else for(;s!==null;){if(s.tag===3){NC(s,n,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Bi===null||!Bi.has(f))){n=Kr(u,n),u=Ob(2),f=ji(s,u,2),f!==null&&(Db(u,f,s,n),$n(f,2),In(f));break}}s=s.return}}function tm(n,s,u){var f=n.pingCache;if(f===null){f=n.pingCache=new EM;var y=new Set;f.set(s,y)}else y=f.get(s),y===void 0&&(y=new Set,f.set(s,y));y.has(u)||(Hv=!0,y.add(u),n=MM.bind(null,n,s,u),s.then(n,n))}function MM(n,s,u){var f=n.pingCache;f!==null&&f.delete(s),n.pingedLanes|=n.suspendedLanes&u,n.warmLanes&=~u,mt===n&&(it&u)===u&&(kt===4||kt===3&&(it&62914560)===it&&300>ye()-Wv?(Et&2)===0&&qo(n,0):$v|=u,Lo===it&&(Lo=0)),In(n)}function IC(n,s){s===0&&(s=ns()),n=Ti(n,s),n!==null&&($n(n,s),In(n))}function NM(n){var s=n.memoizedState,u=0;s!==null&&(u=s.retryLane),IC(n,u)}function IM(n,s){var u=0;switch(n.tag){case 13:var f=n.stateNode,y=n.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(s),IC(n,u)}function jM(n,s){return G(n,s)}var Jh=null,Vo=null,rm=!1,Yh=!1,nm=!1,Rs=0;function In(n){n!==Vo&&n.next===null&&(Vo===null?Jh=Vo=n:Vo=Vo.next=n),Yh=!0,rm||(rm=!0,DM(OM))}function tc(n,s){if(!nm&&Yh){nm=!0;do for(var u=!1,f=Jh;f!==null;){if(n!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var E=f.suspendedLanes,_=f.pingedLanes;b=(1<<31-Lt(42|n)+1)-1,b&=y&~(E&~_),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(u=!0,DC(f,b))}else b=it,b=Ri(f,f===mt?b:0),(b&3)===0||Ur(f,b)||(u=!0,DC(f,b));f=f.next}while(u);nm=!1}}function OM(){Yh=rm=!1;var n=0;Rs!==0&&(HM()&&(n=Rs),Rs=0);for(var s=ye(),u=null,f=Jh;f!==null;){var y=f.next,b=jC(f,s);b===0?(f.next=null,u===null?Jh=y:u.next=y,y===null&&(Vo=u)):(u=f,(n!==0||(b&3)!==0)&&(Yh=!0)),f=y}tc(n)}function jC(n,s){for(var u=n.suspendedLanes,f=n.pingedLanes,y=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var E=31-Lt(b),_=1<<E,M=y[E];M===-1?((_&u)===0||(_&f)!==0)&&(y[E]=dn(_,s)):M<=s&&(n.expiredLanes|=_),b&=~_}if(s=mt,u=it,u=Ri(n,n===s?u:0),f=n.callbackNode,u===0||n===s&&gt===2||n.cancelPendingCommit!==null)return f!==null&&f!==null&&he(f),n.callbackNode=null,n.callbackPriority=0;if((u&3)===0||Ur(n,u)){if(s=u&-u,s===n.callbackPriority)return s;switch(f!==null&&he(f),De(u)){case 2:case 8:u=Ee;break;case 32:u=Le;break;case 268435456:u=At;break;default:u=Le}return f=OC.bind(null,n),u=G(u,f),n.callbackPriority=s,n.callbackNode=u,s}return f!==null&&f!==null&&he(f),n.callbackPriority=2,n.callbackNode=null,2}function OC(n,s){var u=n.callbackNode;if(Uo()&&n.callbackNode!==u)return null;var f=it;return f=Ri(n,n===mt?f:0),f===0?null:(xC(n,f,s),jC(n,ye()),n.callbackNode!=null&&n.callbackNode===u?OC.bind(null,n):null)}function DC(n,s){if(Uo())return null;xC(n,s,!0)}function DM(n){KM(function(){(Et&6)!==0?G(ve,n):n()})}function im(){return Rs===0&&(Rs=Fn()),Rs}function zC(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:uh(""+n)}function LC(n,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,n.id&&u.setAttribute("form",n.id),s.parentNode.insertBefore(u,s),n=new FormData(n),u.parentNode.removeChild(u),n}function zM(n,s,u,f,y){if(s==="submit"&&u&&u.stateNode===y){var b=zC((y[pe]||null).action),E=f.submitter;E&&(s=(s=E[pe]||null)?zC(s.formAction):E.getAttribute("formAction"),s!==null&&(b=s,E=null));var _=new fh("action","action",null,f,y);n.push({event:_,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Rs!==0){var M=E?LC(y,E):new FormData(y);pv(u,{pending:!0,data:M,method:y.method,action:b},null,M)}}else typeof b=="function"&&(_.preventDefault(),M=E?LC(y,E):new FormData(y),pv(u,{pending:!0,data:M,method:y.method,action:b},b,M))},currentTarget:y}]})}}for(var sm=0;sm<k1.length;sm++){var om=k1[sm],LM=om.toLowerCase(),qM=om[0].toUpperCase()+om.slice(1);fn(LM,"on"+qM)}fn(E1,"onAnimationEnd"),fn(T1,"onAnimationIteration"),fn(P1,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(rM,"onTransitionRun"),fn(nM,"onTransitionStart"),fn(iM,"onTransitionCancel"),fn(A1,"onTransitionEnd"),vo("onMouseEnter",["mouseout","mouseover"]),vo("onMouseLeave",["mouseout","mouseover"]),vo("onPointerEnter",["pointerout","pointerover"]),vo("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function qC(n,s){s=(s&4)!==0;for(var u=0;u<n.length;u++){var f=n[u],y=f.event;f=f.listeners;e:{var b=void 0;if(s)for(var E=f.length-1;0<=E;E--){var _=f[E],M=_.instance,D=_.currentTarget;if(_=_.listener,M!==b&&y.isPropagationStopped())break e;b=_,y.currentTarget=D;try{b(y)}catch(Y){Dh(Y)}y.currentTarget=null,b=M}else for(E=0;E<f.length;E++){if(_=f[E],M=_.instance,D=_.currentTarget,_=_.listener,M!==b&&y.isPropagationStopped())break e;b=_,y.currentTarget=D;try{b(y)}catch(Y){Dh(Y)}y.currentTarget=null,b=M}}}}function et(n,s){var u=s[Ze];u===void 0&&(u=s[Ze]=new Set);var f=n+"__bubble";u.has(f)||(BC(s,n,2,!1),u.add(f))}function am(n,s,u){var f=0;s&&(f|=4),BC(u,n,f,s)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function cm(n){if(!n[Qh]){n[Qh]=!0,FS.forEach(function(u){u!=="selectionchange"&&(BM.has(u)||am(u,!1,n),am(u,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Qh]||(s[Qh]=!0,am("selectionchange",!1,s))}}function BC(n,s,u,f){switch(lx(s)){case 2:var y=hN;break;case 8:y=pN;break;default:y=Cm}u=y.bind(null,s,u,n),y=void 0,!kf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),f?y!==void 0?n.addEventListener(s,u,{capture:!0,passive:y}):n.addEventListener(s,u,!0):y!==void 0?n.addEventListener(s,u,{passive:y}):n.addEventListener(s,u,!1)}function lm(n,s,u,f,y){var b=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var _=f.stateNode.containerInfo;if(_===y||_.nodeType===8&&_.parentNode===y)break;if(E===4)for(E=f.return;E!==null;){var M=E.tag;if((M===3||M===4)&&(M=E.stateNode.containerInfo,M===y||M.nodeType===8&&M.parentNode===y))return;E=E.return}for(;_!==null;){if(E=pn(_),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){f=b=E;continue e}_=_.parentNode}}f=f.return}t1(function(){var D=b,Y=Af(u),te=[];e:{var V=_1.get(n);if(V!==void 0){var J=fh,Pe=n;switch(n){case"keypress":if(hh(u)===0)break e;case"keydown":case"keyup":J=I3;break;case"focusin":Pe="focus",J=jf;break;case"focusout":Pe="blur",J=jf;break;case"beforeblur":case"afterblur":J=jf;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=i1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=C3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=D3;break;case E1:case T1:case P1:J=w3;break;case A1:J=L3;break;case"scroll":case"scrollend":J=S3;break;case"wheel":J=B3;break;case"copy":case"cut":case"paste":J=T3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=o1;break;case"toggle":case"beforetoggle":J=V3}var Fe=(s&4)!==0,Mt=!Fe&&(n==="scroll"||n==="scrollend"),L=Fe?V!==null?V+"Capture":null:V;Fe=[];for(var O=D,B;O!==null;){var Z=O;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=Ca(O,L),Z!=null&&Fe.push(nc(O,Z,B))),Mt)break;O=O.return}0<Fe.length&&(V=new J(V,Pe,null,u,Y),te.push({event:V,listeners:Fe}))}}if((s&7)===0){e:{if(V=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",V&&u!==Pf&&(Pe=u.relatedTarget||u.fromElement)&&(pn(Pe)||Pe[Ge]))break e;if((J||V)&&(V=Y.window===Y?Y:(V=Y.ownerDocument)?V.defaultView||V.parentWindow:window,J?(Pe=u.relatedTarget||u.toElement,J=D,Pe=Pe?pn(Pe):null,Pe!==null&&(Mt=de(Pe),Fe=Pe.tag,Pe!==Mt||Fe!==5&&Fe!==27&&Fe!==6)&&(Pe=null)):(J=null,Pe=D),J!==Pe)){if(Fe=i1,Z="onMouseLeave",L="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(Fe=o1,Z="onPointerLeave",L="onPointerEnter",O="pointer"),Mt=J==null?V:ba(J),B=Pe==null?V:ba(Pe),V=new Fe(Z,O+"leave",J,u,Y),V.target=Mt,V.relatedTarget=B,Z=null,pn(Y)===D&&(Fe=new Fe(L,O+"enter",Pe,u,Y),Fe.target=B,Fe.relatedTarget=Mt,Z=Fe),Mt=Z,J&&Pe)t:{for(Fe=J,L=Pe,O=0,B=Fe;B;B=Fo(B))O++;for(B=0,Z=L;Z;Z=Fo(Z))B++;for(;0<O-B;)Fe=Fo(Fe),O--;for(;0<B-O;)L=Fo(L),B--;for(;O--;){if(Fe===L||L!==null&&Fe===L.alternate)break t;Fe=Fo(Fe),L=Fo(L)}Fe=null}else Fe=null;J!==null&&UC(te,V,J,Fe,!1),Pe!==null&&Mt!==null&&UC(te,Mt,Pe,Fe,!0)}}e:{if(V=D?ba(D):window,J=V.nodeName&&V.nodeName.toLowerCase(),J==="select"||J==="input"&&V.type==="file")var Re=f1;else if(h1(V))if(v1)Re=X3;else{Re=Y3;var Ye=J3}else J=V.nodeName,!J||J.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?D&&Tf(D.elementType)&&(Re=f1):Re=Q3;if(Re&&(Re=Re(n,D))){p1(te,Re,u,Y);break e}Ye&&Ye(n,V,D),n==="focusout"&&D&&V.type==="number"&&D.memoizedProps.value!=null&&Ef(V,"number",V.value)}switch(Ye=D?ba(D):window,n){case"focusin":(h1(Ye)||Ye.contentEditable==="true")&&(Co=Ye,Bf=D,_a=null);break;case"focusout":_a=Bf=Co=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,R1(te,u,Y);break;case"selectionchange":if(tM)break;case"keydown":case"keyup":R1(te,u,Y)}var _e;if(Df)e:{switch(n){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else bo?u1(n,u)&&(ze="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(ze="onCompositionStart");ze&&(a1&&u.locale!=="ko"&&(bo||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&bo&&(_e=r1()):(Ei=Y,Mf="value"in Ei?Ei.value:Ei.textContent,bo=!0)),Ye=Xh(D,ze),0<Ye.length&&(ze=new s1(ze,n,null,u,Y),te.push({event:ze,listeners:Ye}),_e?ze.data=_e:(_e=d1(u),_e!==null&&(ze.data=_e)))),(_e=H3?$3(n,u):K3(n,u))&&(ze=Xh(D,"onBeforeInput"),0<ze.length&&(Ye=new s1("onBeforeInput","beforeinput",null,u,Y),te.push({event:Ye,listeners:ze}),Ye.data=_e)),zM(te,n,D,u,Y)}qC(te,s)})}function nc(n,s,u){return{instance:n,listener:s,currentTarget:u}}function Xh(n,s){for(var u=s+"Capture",f=[];n!==null;){var y=n,b=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Ca(n,u),y!=null&&f.unshift(nc(n,y,b)),y=Ca(n,s),y!=null&&f.push(nc(n,y,b))),n=n.return}return f}function Fo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function UC(n,s,u,f,y){for(var b=s._reactName,E=[];u!==null&&u!==f;){var _=u,M=_.alternate,D=_.stateNode;if(_=_.tag,M!==null&&M===f)break;_!==5&&_!==26&&_!==27||D===null||(M=D,y?(D=Ca(u,b),D!=null&&E.unshift(nc(u,D,M))):y||(D=Ca(u,b),D!=null&&E.push(nc(u,D,M)))),u=u.return}E.length!==0&&n.push({event:s,listeners:E})}var UM=/\r\n?/g,VM=/\u0000|\uFFFD/g;function VC(n){return(typeof n=="string"?n:""+n).replace(UM,`
`).replace(VM,"")}function FC(n,s){return s=VC(s),VC(n)===s}function Zh(){}function ht(n,s,u,f,y,b){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||go(n,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&go(n,""+f);break;case"className":ah(n,"class",f);break;case"tabIndex":ah(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ah(n,u,f);break;case"style":ZS(n,f,b);break;case"data":if(s!=="object"){ah(n,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){n.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(u);break}f=uh(""+f),n.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(s!=="input"&&ht(n,s,"name",y.name,y,null),ht(n,s,"formEncType",y.formEncType,y,null),ht(n,s,"formMethod",y.formMethod,y,null),ht(n,s,"formTarget",y.formTarget,y,null)):(ht(n,s,"encType",y.encType,y,null),ht(n,s,"method",y.method,y,null),ht(n,s,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(u);break}f=uh(""+f),n.setAttribute(u,f);break;case"onClick":f!=null&&(n.onclick=Zh);break;case"onScroll":f!=null&&et("scroll",n);break;case"onScrollEnd":f!=null&&et("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));n.innerHTML=u}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}u=uh(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(u,""+f):n.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(u,""):n.removeAttribute(u);break;case"capture":case"download":f===!0?n.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(u,f):n.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(u,f):n.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(u):n.setAttribute(u,f);break;case"popover":et("beforetoggle",n),et("toggle",n),oh(n,"popover",f);break;case"xlinkActuate":Wn(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Wn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Wn(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Wn(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Wn(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Wn(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Wn(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Wn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Wn(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":oh(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=g3.get(u)||u,oh(n,u,f))}}function um(n,s,u,f,y,b){switch(u){case"style":ZS(n,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(i(60));n.innerHTML=u}}break;case"children":typeof f=="string"?go(n,f):(typeof f=="number"||typeof f=="bigint")&&go(n,""+f);break;case"onScroll":f!=null&&et("scroll",n);break;case"onScrollEnd":f!=null&&et("scrollend",n);break;case"onClick":f!=null&&(n.onclick=Zh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!HS.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),s=u.slice(2,y?u.length-7:void 0),b=n[pe]||null,b=b!=null?b[u]:null,typeof b=="function"&&n.removeEventListener(s,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(u in n?n[u]=null:n.hasAttribute(u)&&n.removeAttribute(u)),n.addEventListener(s,f,y);break e}u in n?n[u]=f:f===!0?n.setAttribute(u,""):oh(n,u,f)}}}function nr(n,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",n),et("load",n);var f=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var E=u[b];if(E!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(n,s,b,E,u,null)}}y&&ht(n,s,"srcSet",u.srcSet,u,null),f&&ht(n,s,"src",u.src,u,null);return;case"input":et("invalid",n);var _=b=E=y=null,M=null,D=null;for(f in u)if(u.hasOwnProperty(f)){var Y=u[f];if(Y!=null)switch(f){case"name":y=Y;break;case"type":E=Y;break;case"checked":M=Y;break;case"defaultChecked":D=Y;break;case"value":b=Y;break;case"defaultValue":_=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:ht(n,s,f,Y,u,null)}}JS(n,b,_,M,D,E,y,!1),ch(n);return;case"select":et("invalid",n),f=E=b=null;for(y in u)if(u.hasOwnProperty(y)&&(_=u[y],_!=null))switch(y){case"value":b=_;break;case"defaultValue":E=_;break;case"multiple":f=_;default:ht(n,s,y,_,u,null)}s=b,u=E,n.multiple=!!f,s!=null?mo(n,!!f,s,!1):u!=null&&mo(n,!!f,u,!0);return;case"textarea":et("invalid",n),b=y=f=null;for(E in u)if(u.hasOwnProperty(E)&&(_=u[E],_!=null))switch(E){case"value":f=_;break;case"defaultValue":y=_;break;case"children":b=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:ht(n,s,E,_,u,null)}QS(n,f,y,b),ch(n);return;case"option":for(M in u)if(u.hasOwnProperty(M)&&(f=u[M],f!=null))switch(M){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ht(n,s,M,f,u,null)}return;case"dialog":et("cancel",n),et("close",n);break;case"iframe":case"object":et("load",n);break;case"video":case"audio":for(f=0;f<rc.length;f++)et(rc[f],n);break;case"image":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"embed":case"source":case"link":et("error",n),et("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in u)if(u.hasOwnProperty(D)&&(f=u[D],f!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ht(n,s,D,f,u,null)}return;default:if(Tf(s)){for(Y in u)u.hasOwnProperty(Y)&&(f=u[Y],f!==void 0&&um(n,s,Y,f,u,void 0));return}}for(_ in u)u.hasOwnProperty(_)&&(f=u[_],f!=null&&ht(n,s,_,f,u,null))}function FM(n,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,E=null,_=null,M=null,D=null,Y=null;for(J in u){var te=u[J];if(u.hasOwnProperty(J)&&te!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":M=te;default:f.hasOwnProperty(J)||ht(n,s,J,null,f,te)}}for(var V in f){var J=f[V];if(te=u[V],f.hasOwnProperty(V)&&(J!=null||te!=null))switch(V){case"type":b=J;break;case"name":y=J;break;case"checked":D=J;break;case"defaultChecked":Y=J;break;case"value":E=J;break;case"defaultValue":_=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:J!==te&&ht(n,s,V,J,f,te)}}wf(n,E,_,M,D,Y,b,y);return;case"select":J=E=_=V=null;for(b in u)if(M=u[b],u.hasOwnProperty(b)&&M!=null)switch(b){case"value":break;case"multiple":J=M;default:f.hasOwnProperty(b)||ht(n,s,b,null,f,M)}for(y in f)if(b=f[y],M=u[y],f.hasOwnProperty(y)&&(b!=null||M!=null))switch(y){case"value":V=b;break;case"defaultValue":_=b;break;case"multiple":E=b;default:b!==M&&ht(n,s,y,b,f,M)}s=_,u=E,f=J,V!=null?mo(n,!!u,V,!1):!!f!=!!u&&(s!=null?mo(n,!!u,s,!0):mo(n,!!u,u?[]:"",!1));return;case"textarea":J=V=null;for(_ in u)if(y=u[_],u.hasOwnProperty(_)&&y!=null&&!f.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:ht(n,s,_,null,f,y)}for(E in f)if(y=f[E],b=u[E],f.hasOwnProperty(E)&&(y!=null||b!=null))switch(E){case"value":V=y;break;case"defaultValue":J=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&ht(n,s,E,y,f,b)}YS(n,V,J);return;case"option":for(var Pe in u)if(V=u[Pe],u.hasOwnProperty(Pe)&&V!=null&&!f.hasOwnProperty(Pe))switch(Pe){case"selected":n.selected=!1;break;default:ht(n,s,Pe,null,f,V)}for(M in f)if(V=f[M],J=u[M],f.hasOwnProperty(M)&&V!==J&&(V!=null||J!=null))switch(M){case"selected":n.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:ht(n,s,M,V,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in u)V=u[Fe],u.hasOwnProperty(Fe)&&V!=null&&!f.hasOwnProperty(Fe)&&ht(n,s,Fe,null,f,V);for(D in f)if(V=f[D],J=u[D],f.hasOwnProperty(D)&&V!==J&&(V!=null||J!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,s));break;default:ht(n,s,D,V,f,J)}return;default:if(Tf(s)){for(var Mt in u)V=u[Mt],u.hasOwnProperty(Mt)&&V!==void 0&&!f.hasOwnProperty(Mt)&&um(n,s,Mt,void 0,f,V);for(Y in f)V=f[Y],J=u[Y],!f.hasOwnProperty(Y)||V===J||V===void 0&&J===void 0||um(n,s,Y,V,f,J);return}}for(var L in u)V=u[L],u.hasOwnProperty(L)&&V!=null&&!f.hasOwnProperty(L)&&ht(n,s,L,null,f,V);for(te in f)V=f[te],J=u[te],!f.hasOwnProperty(te)||V===J||V==null&&J==null||ht(n,s,te,V,f,J)}var dm=null,hm=null;function ep(n){return n.nodeType===9?n:n.ownerDocument}function HC(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $C(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function pm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fm=null;function HM(){var n=window.event;return n&&n.type==="popstate"?n===fm?!1:(fm=n,!0):(fm=null,!1)}var KC=typeof setTimeout=="function"?setTimeout:void 0,$M=typeof clearTimeout=="function"?clearTimeout:void 0,WC=typeof Promise=="function"?Promise:void 0,KM=typeof queueMicrotask=="function"?queueMicrotask:typeof WC<"u"?function(n){return WC.resolve(null).then(n).catch(WM)}:KC;function WM(n){setTimeout(function(){throw n})}function vm(n,s){var u=s,f=0;do{var y=u.nextSibling;if(n.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(f===0){n.removeChild(y),dc(s);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=y}while(u);dc(s)}function mm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":mm(u),hn(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}n.removeChild(u)}}function GM(n,s,u,f){for(;n.nodeType===1;){var y=u;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[pr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==y.rel||n.getAttribute("href")!==(y.href==null?null:y.href)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||n.getAttribute("title")!==(y.title==null?null:y.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(y.src==null?null:y.src)||n.getAttribute("type")!==(y.type==null?null:y.type)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=gn(n.nextSibling),n===null)break}return null}function JM(n,s,u){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!u||(n=gn(n.nextSibling),n===null))return null;return n}function gn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}function GC(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return n;s--}else u==="/$"&&s++}n=n.previousSibling}return null}function JC(n,s,u){switch(s=ep(u),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}var en=new Map,YC=new Set;function tp(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ci=ne.d;ne.d={f:YM,r:QM,D:XM,C:ZM,L:eN,m:tN,X:nN,S:rN,M:iN};function YM(){var n=ci.f(),s=Wh();return n||s}function QM(n){var s=wi(n);s!==null&&s.tag===5&&s.type==="form"?Rb(s):ci.r(n)}var Ho=typeof document>"u"?null:document;function QC(n,s,u){var f=Ho;if(f&&typeof s=="string"&&s){var y=Hr(s);y='link[rel="'+n+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),YC.has(y)||(YC.add(y),n={rel:n,crossOrigin:u,href:s},f.querySelector(y)===null&&(s=f.createElement("link"),nr(s,"link",n),Jt(s),f.head.appendChild(s)))}}function XM(n){ci.D(n),QC("dns-prefetch",n,null)}function ZM(n,s){ci.C(n,s),QC("preconnect",n,s)}function eN(n,s,u){ci.L(n,s,u);var f=Ho;if(f&&n&&s){var y='link[rel="preload"][as="'+Hr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Hr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Hr(u.imageSizes)+'"]')):y+='[href="'+Hr(n)+'"]';var b=y;switch(s){case"style":b=$o(n);break;case"script":b=Ko(n)}en.has(b)||(n=$({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:n,as:s},u),en.set(b,n),f.querySelector(y)!==null||s==="style"&&f.querySelector(ic(b))||s==="script"&&f.querySelector(sc(b))||(s=f.createElement("link"),nr(s,"link",n),Jt(s),f.head.appendChild(s)))}}function tN(n,s){ci.m(n,s);var u=Ho;if(u&&n){var f=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Hr(f)+'"][href="'+Hr(n)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Ko(n)}if(!en.has(b)&&(n=$({rel:"modulepreload",href:n},s),en.set(b,n),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(sc(b)))return}f=u.createElement("link"),nr(f,"link",n),Jt(f),u.head.appendChild(f)}}}function rN(n,s,u){ci.S(n,s,u);var f=Ho;if(f&&n){var y=fo(f).hoistableStyles,b=$o(n);s=s||"default";var E=y.get(b);if(!E){var _={loading:0,preload:null};if(E=f.querySelector(ic(b)))_.loading=5;else{n=$({rel:"stylesheet",href:n,"data-precedence":s},u),(u=en.get(b))&&gm(n,u);var M=E=f.createElement("link");Jt(M),nr(M,"link",n),M._p=new Promise(function(D,Y){M.onload=D,M.onerror=Y}),M.addEventListener("load",function(){_.loading|=1}),M.addEventListener("error",function(){_.loading|=2}),_.loading|=4,rp(E,s,f)}E={type:"stylesheet",instance:E,count:1,state:_},y.set(b,E)}}}function nN(n,s){ci.X(n,s);var u=Ho;if(u&&n){var f=fo(u).hoistableScripts,y=Ko(n),b=f.get(y);b||(b=u.querySelector(sc(y)),b||(n=$({src:n,async:!0},s),(s=en.get(y))&&ym(n,s),b=u.createElement("script"),Jt(b),nr(b,"link",n),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function iN(n,s){ci.M(n,s);var u=Ho;if(u&&n){var f=fo(u).hoistableScripts,y=Ko(n),b=f.get(y);b||(b=u.querySelector(sc(y)),b||(n=$({src:n,async:!0,type:"module"},s),(s=en.get(y))&&ym(n,s),b=u.createElement("script"),Jt(b),nr(b,"link",n),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function XC(n,s,u,f){var y=(y=It.current)?tp(y):null;if(!y)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=$o(u.href),u=fo(y).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){n=$o(u.href);var b=fo(y).hoistableStyles,E=b.get(n);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,E),(b=y.querySelector(ic(n)))&&!b._p&&(E.instance=b,E.state.loading=5),en.has(n)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},en.set(n,u),b||sN(y,n,u,E.state))),s&&f===null)throw Error(i(528,""));return E}if(s&&f!==null)throw Error(i(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ko(u),u=fo(y).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function $o(n){return'href="'+Hr(n)+'"'}function ic(n){return'link[rel="stylesheet"]['+n+"]"}function ZC(n){return $({},n,{"data-precedence":n.precedence,precedence:null})}function sN(n,s,u,f){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=n.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),nr(s,"link",u),Jt(s),n.head.appendChild(s))}function Ko(n){return'[src="'+Hr(n)+'"]'}function sc(n){return"script[async]"+n}function ex(n,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=n.querySelector('style[data-href~="'+Hr(u.href)+'"]');if(f)return s.instance=f,Jt(f),f;var y=$({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),Jt(f),nr(f,"style",y),rp(f,u.precedence,n),s.instance=f;case"stylesheet":y=$o(u.href);var b=n.querySelector(ic(y));if(b)return s.state.loading|=4,s.instance=b,Jt(b),b;f=ZC(u),(y=en.get(y))&&gm(f,y),b=(n.ownerDocument||n).createElement("link"),Jt(b);var E=b;return E._p=new Promise(function(_,M){E.onload=_,E.onerror=M}),nr(b,"link",f),s.state.loading|=4,rp(b,u.precedence,n),s.instance=b;case"script":return b=Ko(u.src),(y=n.querySelector(sc(b)))?(s.instance=y,Jt(y),y):(f=u,(y=en.get(b))&&(f=$({},u),ym(f,y)),n=n.ownerDocument||n,y=n.createElement("script"),Jt(y),nr(y,"link",f),n.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,rp(f,u.precedence,n));return s.instance}function rp(n,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,E=0;E<f.length;E++){var _=f[E];if(_.dataset.precedence===s)b=_;else if(b!==y)break}b?b.parentNode.insertBefore(n,b.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(n,s.firstChild))}function gm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function ym(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var np=null;function tx(n,s,u){if(np===null){var f=new Map,y=np=new Map;y.set(u,f)}else y=np,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(n))return f;for(f.set(n,null),u=u.getElementsByTagName(n),y=0;y<u.length;y++){var b=u[y];if(!(b[pr]||b[Se]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var E=b.getAttribute(s)||"";E=n+E;var _=f.get(E);_?_.push(b):f.set(E,[b])}}return f}function rx(n,s,u){n=n.ownerDocument||n,n.head.insertBefore(u,s==="title"?n.querySelector("head > title"):null)}function oN(n,s,u){if(u===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var oc=null;function aN(){}function cN(n,s,u){if(oc===null)throw Error(i(475));var f=oc;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=$o(u.href),b=n.querySelector(ic(y));if(b){n=b._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=ip.bind(f),n.then(f,f)),s.state.loading|=4,s.instance=b,Jt(b);return}b=n.ownerDocument||n,u=ZC(u),(y=en.get(y))&&gm(u,y),b=b.createElement("link"),Jt(b);var E=b;E._p=new Promise(function(_,M){E.onload=_,E.onerror=M}),nr(b,"link",u),s.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=ip.bind(f),n.addEventListener("load",s),n.addEventListener("error",s))}}function lN(){if(oc===null)throw Error(i(475));var n=oc;return n.stylesheets&&n.count===0&&Sm(n,n.stylesheets),0<n.count?function(s){var u=setTimeout(function(){if(n.stylesheets&&Sm(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u)}}:null}function ip(){if(this.count--,this.count===0){if(this.stylesheets)Sm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var sp=null;function Sm(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,sp=new Map,s.forEach(uN,n),sp=null,ip.call(n))}function uN(n,s){if(!(s.state.loading&4)){var u=sp.get(n);if(u)var f=u.get(null);else{u=new Map,sp.set(n,u);for(var y=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var E=y[b];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),f=E)}f&&u.set(null,f)}y=s.instance,E=y.getAttribute("data-precedence"),b=u.get(E)||f,b===f&&u.set(null,y),u.set(E,y),this.count++,f=ip.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(y,n.firstChild)),s.state.loading|=4}}var ac={$$typeof:S,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function dN(n,s,u,f,y,b,E,_){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hn(0),this.hiddenUpdates=Hn(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function ix(n,s,u,f,y,b,E,_,M,D,Y,te){return n=new dN(n,s,u,E,_,M,D,te),s=1,b===!0&&(s|=24),b=Xr(3,null,null,s),n.current=b,b.stateNode=n,s=Qf(),s.refCount++,n.pooledCache=s,s.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:s},Mv(b),n}function sx(n){return n?(n=wo,n):wo}function ox(n,s,u,f,y,b){y=sx(y),f.context===null?f.context=y:f.pendingContext=y,f=Ii(s),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=ji(n,f,s),u!==null&&(vr(u,n,s),Ha(u,n,s))}function ax(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<s?u:s}}function bm(n,s){ax(n,s),(n=n.alternate)&&ax(n,s)}function cx(n){if(n.tag===13){var s=Ti(n,67108864);s!==null&&vr(s,n,67108864),bm(n,67108864)}}var op=!0;function hN(n,s,u,f){var y=F.T;F.T=null;var b=ne.p;try{ne.p=2,Cm(n,s,u,f)}finally{ne.p=b,F.T=y}}function pN(n,s,u,f){var y=F.T;F.T=null;var b=ne.p;try{ne.p=8,Cm(n,s,u,f)}finally{ne.p=b,F.T=y}}function Cm(n,s,u,f){if(op){var y=xm(f);if(y===null)lm(n,s,f,ap,u),ux(n,f);else if(vN(y,n,s,u,f))f.stopPropagation();else if(ux(n,f),s&4&&-1<fN.indexOf(n)){for(;y!==null;){var b=wi(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var E=un(b.pendingLanes);if(E!==0){var _=b;for(_.pendingLanes|=2,_.entangledLanes|=2;E;){var M=1<<31-Lt(E);_.entanglements[1]|=M,E&=~M}In(b),(Et&6)===0&&(Hh=ye()+500,tc(0))}}break;case 13:_=Ti(b,2),_!==null&&vr(_,b,2),Wh(),bm(b,2)}if(b=xm(f),b===null&&lm(n,s,f,ap,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else lm(n,s,f,null,u)}}function xm(n){return n=Af(n),Rm(n)}var ap=null;function Rm(n){if(ap=null,n=pn(n),n!==null){var s=de(n);if(s===null)n=null;else{var u=s.tag;if(u===13){if(n=Me(s),n!==null)return n;n=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return ap=n,null}function lx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case ve:return 2;case Ee:return 8;case Le:case yt:return 32;case At:return 268435456;default:return 32}default:return 32}}var wm=!1,Ui=null,Vi=null,Fi=null,cc=new Map,lc=new Map,Hi=[],fN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ux(n,s){switch(n){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":cc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(s.pointerId)}}function uc(n,s,u,f,y,b){return n===null||n.nativeEvent!==b?(n={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},s!==null&&(s=wi(s),s!==null&&cx(s)),n):(n.eventSystemFlags|=f,s=n.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),n)}function vN(n,s,u,f,y){switch(s){case"focusin":return Ui=uc(Ui,n,s,u,f,y),!0;case"dragenter":return Vi=uc(Vi,n,s,u,f,y),!0;case"mouseover":return Fi=uc(Fi,n,s,u,f,y),!0;case"pointerover":var b=y.pointerId;return cc.set(b,uc(cc.get(b)||null,n,s,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,lc.set(b,uc(lc.get(b)||null,n,s,u,f,y)),!0}return!1}function dx(n){var s=pn(n.target);if(s!==null){var u=de(s);if(u!==null){if(s=u.tag,s===13){if(s=Me(u),s!==null){n.blockedOn=s,Te(n.priority,function(){if(u.tag===13){var f=Or(),y=Ti(u,f);y!==null&&vr(y,u,f),bm(u,f)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cp(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var u=xm(n.nativeEvent);if(u===null){u=n.nativeEvent;var f=new u.constructor(u.type,u);Pf=f,u.target.dispatchEvent(f),Pf=null}else return s=wi(u),s!==null&&cx(s),n.blockedOn=u,!1;s.shift()}return!0}function hx(n,s,u){cp(n)&&u.delete(s)}function mN(){wm=!1,Ui!==null&&cp(Ui)&&(Ui=null),Vi!==null&&cp(Vi)&&(Vi=null),Fi!==null&&cp(Fi)&&(Fi=null),cc.forEach(hx),lc.forEach(hx)}function lp(n,s){n.blockedOn===s&&(n.blockedOn=null,wm||(wm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mN)))}var up=null;function px(n){up!==n&&(up=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){up===n&&(up=null);for(var s=0;s<n.length;s+=3){var u=n[s],f=n[s+1],y=n[s+2];if(typeof f!="function"){if(Rm(f||u)===null)continue;break}var b=wi(u);b!==null&&(n.splice(s,3),s-=3,pv(b,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function dc(n){function s(M){return lp(M,n)}Ui!==null&&lp(Ui,n),Vi!==null&&lp(Vi,n),Fi!==null&&lp(Fi,n),cc.forEach(s),lc.forEach(s);for(var u=0;u<Hi.length;u++){var f=Hi[u];f.blockedOn===n&&(f.blockedOn=null)}for(;0<Hi.length&&(u=Hi[0],u.blockedOn===null);)dx(u),u.blockedOn===null&&Hi.shift();if(u=(n.ownerDocument||n).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],b=u[f+1],E=y[pe]||null;if(typeof b=="function")E||px(u);else if(E){var _=null;if(b&&b.hasAttribute("formAction")){if(y=b,E=b[pe]||null)_=E.formAction;else if(Rm(y)!==null)continue}else _=E.action;typeof _=="function"?u[f+1]=_:(u.splice(f,3),f-=3),px(u)}}}function Em(n){this._internalRoot=n}dp.prototype.render=Em.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var u=s.current,f=Or();ox(u,f,n,s,null,null)},dp.prototype.unmount=Em.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;n.tag===0&&Uo(),ox(n.current,2,null,n,null,null),Wh(),s[Ge]=null}};function dp(n){this._internalRoot=n}dp.prototype.unstable_scheduleHydration=function(n){if(n){var s=Oe();n={blockedOn:null,target:n,priority:s};for(var u=0;u<Hi.length&&s!==0&&s<Hi[u].priority;u++);Hi.splice(u,0,n),u===0&&dx(n)}};var fx=t.version;if(fx!=="19.0.0")throw Error(i(527,fx,"19.0.0"));ne.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=Q(s),n=n!==null?me(n):null,n=n===null?null:n.stateNode,n};var gN={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:F,findFiberByHostInstance:pn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hp.isDisabled&&hp.supportsFiber)try{er=hp.inject(gN),St=hp}catch{}}return pc.createRoot=function(n,s){if(!o(n))throw Error(i(299));var u=!1,f="",y=Mb,b=Nb,E=Ib,_=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(_=s.unstable_transitionCallbacks)),s=ix(n,1,!1,null,null,u,f,y,b,E,_,null),n[Ge]=s.current,cm(n.nodeType===8?n.parentNode:n),new Em(s)},pc.hydrateRoot=function(n,s,u){if(!o(n))throw Error(i(299));var f=!1,y="",b=Mb,E=Nb,_=Ib,M=null,D=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(_=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(M=u.unstable_transitionCallbacks),u.formState!==void 0&&(D=u.formState)),s=ix(n,1,!0,s,u??null,f,y,b,E,_,M,D),s.context=sx(null),u=s.current,f=Or(),y=Ii(f),y.callback=null,ji(u,y,f),s.current.lanes=f,$n(s,f),In(s),n[Ge]=s.current,cm(n),new dp(s)},pc.version="19.0.0",pc}var wx;function AN(){if(wx)return Am.exports;wx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Am.exports=PN(),Am.exports}var _N=AN();function kN(e={}){const{nonce:t,onScriptLoadSuccess:r,onScriptLoadError:i}=e,[o,l]=A.useState(!1),c=A.useRef(r);c.current=r;const a=A.useRef(i);return a.current=i,A.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,d.nonce=t,d.onload=()=>{var h;l(!0),(h=c.current)===null||h===void 0||h.call(c)},d.onerror=()=>{var h;l(!1),(h=a.current)===null||h===void 0||h.call(a)},document.body.appendChild(d),()=>{document.body.removeChild(d)}},[t]),o}const MN=A.createContext(null);function NN({clientId:e,nonce:t,onScriptLoadSuccess:r,onScriptLoadError:i,children:o}){const l=kN({nonce:t,onScriptLoadSuccess:r,onScriptLoadError:i}),c=A.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:l}),[e,l]);return Ve.createElement(MN.Provider,{value:c},o)}function WA(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=WA(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function ro(){for(var e,t,r=0,i="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=WA(e))&&(i&&(i+=" "),i+=t);return i}function IN(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}IN(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Hd=e=>typeof e=="number"&&!isNaN(e),oo=e=>typeof e=="string",gi=e=>typeof e=="function",jN=e=>oo(e)||Hd(e),wy=e=>oo(e)||gi(e)?e:null,ON=(e,t)=>e===!1||Hd(e)&&e>0?e:t,Ey=e=>A.isValidElement(e)||oo(e)||gi(e)||Hd(e);function DN(e,t,r=300){let{scrollHeight:i,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${r}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,r)})})}function zN({enter:e,exit:t,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:a,done:d,nodeRef:h,isIn:p,playToast:v}){let m=r?`${e}--${c}`:e,S=r?`${t}--${c}`:t,C=A.useRef(0);return A.useLayoutEffect(()=>{let x=h.current,R=m.split(" "),w=T=>{T.target===h.current&&(v(),x.removeEventListener("animationend",w),x.removeEventListener("animationcancel",w),C.current===0&&T.type!=="animationcancel"&&x.classList.remove(...R))};x.classList.add(...R),x.addEventListener("animationend",w),x.addEventListener("animationcancel",w)},[]),A.useEffect(()=>{let x=h.current,R=()=>{x.removeEventListener("animationend",R),i?DN(x,d,o):d()};p||(a?R():(C.current=1,x.className+=` ${S}`,x.addEventListener("animationend",R)))},[p]),Ve.createElement(Ve.Fragment,null,l)}}function Ex(e,t){return{content:GA(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function GA(e,t,r=!1){return A.isValidElement(e)&&!oo(e.type)?A.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):gi(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function LN({closeToast:e,theme:t,ariaLabel:r="close"}){return Ve.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),e(!0)},"aria-label":r},Ve.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ve.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function qN({delay:e,isRunning:t,closeToast:r,type:i="default",hide:o,className:l,controlledProgress:c,progress:a,rtl:d,isIn:h,theme:p}){let v=o||c&&a===0,m={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(m.transform=`scaleX(${a})`);let S=ro("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),C=gi(l)?l({rtl:d,type:i,defaultClassName:S}):ro(S,l),x={[c&&a>=1?"onTransitionEnd":"onAnimationEnd"]:c&&a<1?null:()=>{h&&r()}};return Ve.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},Ve.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${i}`}),Ve.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:C,style:m,...x}))}var BN=1,JA=()=>`${BN++}`;function UN(e,t,r){let i=1,o=0,l=[],c=[],a=t,d=new Map,h=new Set,p=T=>(h.add(T),()=>h.delete(T)),v=()=>{c=Array.from(d.values()),h.forEach(T=>T())},m=({containerId:T,toastId:P,updateId:I})=>{let k=T?T!==e:e!==1,U=d.has(P)&&I==null;return k||U},S=(T,P)=>{d.forEach(I=>{var k;(P==null||P===I.props.toastId)&&((k=I.toggle)==null||k.call(I,T))})},C=T=>{var P,I;(I=(P=T.props)==null?void 0:P.onClose)==null||I.call(P,T.removalReason),T.isActive=!1},x=T=>{if(T==null)d.forEach(C);else{let P=d.get(T);P&&C(P)}v()},R=()=>{o-=l.length,l=[]},w=T=>{var P,I;let{toastId:k,updateId:U}=T.props,H=U==null;T.staleId&&d.delete(T.staleId),T.isActive=!0,d.set(k,T),v(),r(Ex(T,H?"added":"updated")),H&&((I=(P=T.props).onOpen)==null||I.call(P))};return{id:e,props:a,observe:p,toggle:S,removeToast:x,toasts:d,clearQueue:R,buildToast:(T,P)=>{if(m(P))return;let{toastId:I,updateId:k,data:U,staleId:H,delay:q}=P,F=k==null;F&&o++;let $={...a,style:a.toastStyle,key:i++,...Object.fromEntries(Object.entries(P).filter(([oe,re])=>re!=null)),toastId:I,updateId:k,data:U,isIn:!1,className:wy(P.className||a.toastClassName),progressClassName:wy(P.progressClassName||a.progressClassName),autoClose:P.isLoading?!1:ON(P.autoClose,a.autoClose),closeToast(oe){d.get(I).removalReason=oe,x(I)},deleteToast(){let oe=d.get(I);if(oe!=null){if(r(Ex(oe,"removed")),d.delete(I),o--,o<0&&(o=0),l.length>0){w(l.shift());return}v()}}};$.closeButton=a.closeButton,P.closeButton===!1||Ey(P.closeButton)?$.closeButton=P.closeButton:P.closeButton===!0&&($.closeButton=Ey(a.closeButton)?a.closeButton:!0);let ue={content:T,props:$,staleId:H};a.limit&&a.limit>0&&o>a.limit&&F?l.push(ue):Hd(q)?setTimeout(()=>{w(ue)},q):w(ue)},setProps(T){a=T},setToggle:(T,P)=>{let I=d.get(T);I&&(I.toggle=P)},isToastActive:T=>{var P;return(P=d.get(T))==null?void 0:P.isActive},getSnapshot:()=>c}}var br=new Map,Od=[],Ty=new Set,VN=e=>Ty.forEach(t=>t(e)),YA=()=>br.size>0;function FN(){Od.forEach(e=>XA(e.content,e.options)),Od=[]}var HN=(e,{containerId:t})=>{var r;return(r=br.get(t||1))==null?void 0:r.toasts.get(e)};function QA(e,t){var r;if(t)return!!((r=br.get(t))!=null&&r.isToastActive(e));let i=!1;return br.forEach(o=>{o.isToastActive(e)&&(i=!0)}),i}function $N(e){if(!YA()){Od=Od.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||jN(e))br.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=br.get(e.containerId);t?t.removeToast(e.id):br.forEach(r=>{r.removeToast(e.id)})}}var KN=(e={})=>{br.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function XA(e,t){Ey(e)&&(YA()||Od.push({content:e,options:t}),br.forEach(r=>{r.buildToast(e,t)}))}function WN(e){var t;(t=br.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function ZA(e,t){br.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function GN(e){let t=e.containerId||1;return{subscribe(r){let i=UN(t,e,VN);br.set(t,i);let o=i.observe(r);return FN(),()=>{o(),br.delete(t)}},setProps(r){var i;(i=br.get(t))==null||i.setProps(r)},getSnapshot(){var r;return(r=br.get(t))==null?void 0:r.getSnapshot()}}}function JN(e){return Ty.add(e),()=>{Ty.delete(e)}}function YN(e){return e&&(oo(e.toastId)||Hd(e.toastId))?e.toastId:JA()}function $d(e,t){return XA(e,t),t.toastId}function rf(e,t){return{...t,type:t&&t.type||e,toastId:YN(t)}}function nf(e){return(t,r)=>$d(t,rf(e,r))}function at(e,t){return $d(e,rf("default",t))}at.loading=(e,t)=>$d(e,rf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function QN(e,{pending:t,error:r,success:i},o){let l;t&&(l=oo(t)?at.loading(t,o):at.loading(t.render,{...o,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(h,p,v)=>{if(p==null){at.dismiss(l);return}let m={type:h,...c,...o,data:v},S=oo(p)?{render:p}:p;return l?at.update(l,{...m,...S}):at(S.render,{...m,...S}),v},d=gi(e)?e():e;return d.then(h=>a("success",i,h)).catch(h=>a("error",r,h)),d}at.promise=QN;at.success=nf("success");at.info=nf("info");at.error=nf("error");at.warning=nf("warning");at.warn=at.warning;at.dark=(e,t)=>$d(e,rf("default",{theme:"dark",...t}));function XN(e){$N(e)}at.dismiss=XN;at.clearWaitingQueue=KN;at.isActive=QA;at.update=(e,t={})=>{let r=HN(e,t);if(r){let{props:i,content:o}=r,l={delay:100,...i,...t,toastId:t.toastId||e,updateId:JA()};l.toastId!==e&&(l.staleId=e);let c=l.render||o;delete l.render,$d(c,l)}};at.done=e=>{at.update(e,{progress:1})};at.onChange=JN;at.play=e=>ZA(!0,e);at.pause=e=>ZA(!1,e);function ZN(e){var t;let{subscribe:r,getSnapshot:i,setProps:o}=A.useRef(GN(e)).current;o(e);let l=(t=A.useSyncExternalStore(r,i,i))==null?void 0:t.slice();function c(a){if(!l)return[];let d=new Map;return e.newestOnTop&&l.reverse(),l.forEach(h=>{let{position:p}=h.props;d.has(p)||d.set(p,[]),d.get(p).push(h)}),Array.from(d,h=>a(h[0],h[1]))}return{getToastToRender:c,isToastActive:QA,count:l==null?void 0:l.length}}function eI(e){let[t,r]=A.useState(!1),[i,o]=A.useState(!1),l=A.useRef(null),c=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:d,closeToast:h,onClick:p,closeOnClick:v}=e;WN({id:e.toastId,containerId:e.containerId,fn:r}),A.useEffect(()=>{if(e.pauseOnFocusLoss)return m(),()=>{S()}},[e.pauseOnFocusLoss]);function m(){document.hasFocus()||w(),window.addEventListener("focus",R),window.addEventListener("blur",w)}function S(){window.removeEventListener("focus",R),window.removeEventListener("blur",w)}function C(H){if(e.draggable===!0||e.draggable===H.pointerType){T();let q=l.current;c.canCloseOnClick=!0,c.canDrag=!0,q.style.transition="none",e.draggableDirection==="x"?(c.start=H.clientX,c.removalDistance=q.offsetWidth*(e.draggablePercent/100)):(c.start=H.clientY,c.removalDistance=q.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function x(H){let{top:q,bottom:F,left:$,right:ue}=l.current.getBoundingClientRect();H.nativeEvent.type!=="touchend"&&e.pauseOnHover&&H.clientX>=$&&H.clientX<=ue&&H.clientY>=q&&H.clientY<=F?w():R()}function R(){r(!0)}function w(){r(!1)}function T(){c.didMove=!1,document.addEventListener("pointermove",I),document.addEventListener("pointerup",k)}function P(){document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",k)}function I(H){let q=l.current;if(c.canDrag&&q){c.didMove=!0,t&&w(),e.draggableDirection==="x"?c.delta=H.clientX-c.start:c.delta=H.clientY-c.start,c.start!==H.clientX&&(c.canCloseOnClick=!1);let F=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;q.style.transform=`translate3d(${F},0)`,q.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function k(){P();let H=l.current;if(c.canDrag&&c.didMove&&H){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),e.closeToast(!0),e.collapseAll();return}H.style.transition="transform 0.2s, opacity 0.2s",H.style.removeProperty("transform"),H.style.removeProperty("opacity")}}let U={onPointerDown:C,onPointerUp:x};return a&&d&&(U.onMouseEnter=w,e.stacked||(U.onMouseLeave=R)),v&&(U.onClick=H=>{p&&p(H),c.canCloseOnClick&&h(!0)}),{playToast:R,pauseToast:w,isRunning:t,preventExitTransition:i,toastRef:l,eventHandlers:U}}var tI=typeof window<"u"?A.useLayoutEffect:A.useEffect,sf=({theme:e,type:t,isLoading:r,...i})=>Ve.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function rI(e){return Ve.createElement(sf,{...e},Ve.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function nI(e){return Ve.createElement(sf,{...e},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function iI(e){return Ve.createElement(sf,{...e},Ve.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function sI(e){return Ve.createElement(sf,{...e},Ve.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function oI(){return Ve.createElement("div",{className:"Toastify__spinner"})}var Py={info:nI,warning:rI,success:iI,error:sI,spinner:oI},aI=e=>e in Py;function cI({theme:e,type:t,isLoading:r,icon:i}){let o=null,l={theme:e,type:t};return i===!1||(gi(i)?o=i({...l,isLoading:r}):A.isValidElement(i)?o=A.cloneElement(i,l):r?o=Py.spinner():aI(t)&&(o=Py[t](l))),o}var lI=e=>{let{isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:o,playToast:l}=eI(e),{closeButton:c,children:a,autoClose:d,onClick:h,type:p,hideProgressBar:v,closeToast:m,transition:S,position:C,className:x,style:R,progressClassName:w,updateId:T,role:P,progress:I,rtl:k,toastId:U,deleteToast:H,isIn:q,isLoading:F,closeOnClick:$,theme:ue,ariaLabel:oe}=e,re=ro("Toastify__toast",`Toastify__toast-theme--${ue}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":$}),xe=gi(x)?x({rtl:k,position:C,type:p,defaultClassName:re}):ro(re,x),ke=cI(e),ee=!!I||!d,ae={closeToast:m,type:p,theme:ue},de=null;return c===!1||(gi(c)?de=c(ae):A.isValidElement(c)?de=A.cloneElement(c,ae):de=LN(ae)),Ve.createElement(S,{isIn:q,done:H,position:C,preventExitTransition:r,nodeRef:i,playToast:l},Ve.createElement("div",{id:U,tabIndex:0,onClick:h,"data-in":q,className:xe,...o,style:R,ref:i,...q&&{role:P,"aria-label":oe}},ke!=null&&Ve.createElement("div",{className:ro("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},ke),GA(a,e,!t),de,!e.customProgressBar&&Ve.createElement(qN,{...T&&!ee?{key:`p-${T}`}:{},rtl:k,theme:ue,delay:d,isRunning:t,isIn:q,closeToast:m,hide:v,type:p,className:w,controlledProgress:ee,progress:I||0})))},uI=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),dI=zN(uI("bounce",!0)),hI={position:"top-right",transition:dI,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function pI(e){let t={...hI,...e},r=e.stacked,[i,o]=A.useState(!0),l=A.useRef(null),{getToastToRender:c,isToastActive:a,count:d}=ZN(t),{className:h,style:p,rtl:v,containerId:m,hotKeys:S}=t;function C(R){let w=ro("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":v});return gi(h)?h({position:R,rtl:v,defaultClassName:w}):ro(w,wy(h))}function x(){r&&(o(!0),at.play())}return tI(()=>{var R;if(r){let w=l.current.querySelectorAll('[data-in="true"]'),T=12,P=(R=t.position)==null?void 0:R.includes("top"),I=0,k=0;Array.from(w).reverse().forEach((U,H)=>{let q=U;q.classList.add("Toastify__toast--stacked"),H>0&&(q.dataset.collapsed=`${i}`),q.dataset.pos||(q.dataset.pos=P?"top":"bot");let F=I*(i?.2:1)+(i?0:T*H);q.style.setProperty("--y",`${P?F:F*-1}px`),q.style.setProperty("--g",`${T}`),q.style.setProperty("--s",`${1-(i?k:0)}`),I+=q.offsetHeight,k+=.025})}},[i,d,r]),A.useEffect(()=>{function R(w){var T;let P=l.current;S(w)&&((T=P.querySelector('[tabIndex="0"]'))==null||T.focus(),o(!1),at.pause()),w.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(o(!0),at.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[S]),Ve.createElement("section",{ref:l,className:"Toastify",id:m,onMouseEnter:()=>{r&&(o(!1),at.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((R,w)=>{let T=w.length?{...p}:{...p,pointerEvents:"none"};return Ve.createElement("div",{tabIndex:-1,className:C(R),"data-stacked":r,style:T,key:`c-${R}`},w.map(({content:P,props:I})=>Ve.createElement(lI,{...I,stacked:r,collapseAll:x,isIn:a(I.toastId,I.containerId),key:`t-${I.key}`},P)))}))}var fc={},Tx;function fI(){if(Tx)return fc;Tx=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.parse=c,fc.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function c(m,S){const C=new l,x=m.length;if(x<2)return C;const R=(S==null?void 0:S.decode)||p;let w=0;do{const T=m.indexOf("=",w);if(T===-1)break;const P=m.indexOf(";",w),I=P===-1?x:P;if(T>I){w=m.lastIndexOf(";",T-1)+1;continue}const k=a(m,w,T),U=d(m,T,k),H=m.slice(k,U);if(C[H]===void 0){let q=a(m,T+1,I),F=d(m,I,q);const $=R(m.slice(q,F));C[H]=$}w=I+1}while(w<x);return C}function a(m,S,C){do{const x=m.charCodeAt(S);if(x!==32&&x!==9)return S}while(++S<C);return C}function d(m,S,C){for(;S>C;){const x=m.charCodeAt(--S);if(x!==32&&x!==9)return S+1}return C}function h(m,S,C){const x=(C==null?void 0:C.encode)||encodeURIComponent;if(!e.test(m))throw new TypeError(`argument name is invalid: ${m}`);const R=x(S);if(!t.test(R))throw new TypeError(`argument val is invalid: ${S}`);let w=m+"="+R;if(!C)return w;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);w+="; Max-Age="+C.maxAge}if(C.domain){if(!r.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);w+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);w+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);w+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(w+="; HttpOnly"),C.secure&&(w+="; Secure"),C.partitioned&&(w+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return w}function p(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function v(m){return o.call(m)==="[object Date]"}return fc}fI();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Px="popstate";function vI(e={}){function t(i,o){let{pathname:l,search:c,hash:a}=i.location;return Ay("",{pathname:l,search:c,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:Dd(o)}return gI(t,r,null,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function En(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mI(){return Math.random().toString(36).substring(2,10)}function Ax(e,t){return{usr:e.state,key:e.key,idx:t}}function Ay(e,t,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?sa(t):t,state:r,key:t&&t.key||i||mI()}}function Dd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function gI(e,t,r,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,a="POP",d=null,h=p();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function p(){return(c.state||{idx:null}).idx}function v(){a="POP";let R=p(),w=R==null?null:R-h;h=R,d&&d({action:a,location:x.location,delta:w})}function m(R,w){a="PUSH";let T=Ay(x.location,R,w);h=p()+1;let P=Ax(T,h),I=x.createHref(T);try{c.pushState(P,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(I)}l&&d&&d({action:a,location:x.location,delta:1})}function S(R,w){a="REPLACE";let T=Ay(x.location,R,w);h=p();let P=Ax(T,h),I=x.createHref(T);c.replaceState(P,"",I),l&&d&&d({action:a,location:x.location,delta:0})}function C(R){let w=o.location.origin!=="null"?o.location.origin:o.location.href,T=typeof R=="string"?R:Dd(R);return T=T.replace(/ $/,"%20"),Rt(w,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,w)}let x={get action(){return a},get location(){return e(o,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Px,v),d=R,()=>{o.removeEventListener(Px,v),d=null}},createHref(R){return t(o,R)},createURL:C,encodeLocation(R){let w=C(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:S,go(R){return c.go(R)}};return x}function e_(e,t,r="/"){return yI(e,t,r,!1)}function yI(e,t,r,i){let o=typeof t=="string"?sa(t):t,l=Xi(o.pathname||"/",r);if(l==null)return null;let c=t_(e);SI(c);let a=null;for(let d=0;a==null&&d<c.length;++d){let h=kI(l);a=AI(c[d],h,i)}return a}function t_(e,t=[],r=[],i=""){let o=(l,c,a)=>{let d={relativePath:a===void 0?l.path||"":a,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(Rt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let h=mi([i,d.relativePath]),p=r.concat(d);l.children&&l.children.length>0&&(Rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),t_(l.children,t,p,h)),!(l.path==null&&!l.index)&&t.push({path:h,score:TI(h,l.index),routesMeta:p})};return e.forEach((l,c)=>{var a;if(l.path===""||!((a=l.path)!=null&&a.includes("?")))o(l,c);else for(let d of r_(l.path))o(l,c,d)}),t}function r_(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=r_(i.join("/")),a=[];return a.push(...c.map(d=>d===""?l:[l,d].join("/"))),o&&a.push(...c),a.map(d=>e.startsWith("/")&&d===""?"/":d)}function SI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:PI(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var bI=/^:[\w-]+$/,CI=3,xI=2,RI=1,wI=10,EI=-2,_x=e=>e==="*";function TI(e,t){let r=e.split("/"),i=r.length;return r.some(_x)&&(i+=EI),t&&(i+=xI),r.filter(o=>!_x(o)).reduce((o,l)=>o+(bI.test(l)?CI:l===""?RI:wI),i)}function PI(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function AI(e,t,r=!1){let{routesMeta:i}=e,o={},l="/",c=[];for(let a=0;a<i.length;++a){let d=i[a],h=a===i.length-1,p=l==="/"?t:t.slice(l.length)||"/",v=Vp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),m=d.route;if(!v&&h&&r&&!i[i.length-1].route.index&&(v=Vp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:mi([l,v.pathname]),pathnameBase:jI(mi([l,v.pathnameBase])),route:m}),v.pathnameBase!=="/"&&(l=mi([l,v.pathnameBase]))}return c}function Vp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=_I(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:i.reduce((h,{paramName:p,isOptional:v},m)=>{if(p==="*"){let C=a[m]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const S=a[m];return v&&!S?h[p]=void 0:h[p]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:e}}function _I(e,t=!1,r=!0){En(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,a,d)=>(i.push({paramName:a,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function kI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return En(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Xi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function MI(e,t="/"){let{pathname:r,search:i="",hash:o=""}=typeof e=="string"?sa(e):e;return{pathname:r?r.startsWith("/")?r:NI(r,t):t,search:OI(i),hash:DI(o)}}function NI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Nm(e,t,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function II(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function E0(e){let t=II(e);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function T0(e,t,r,i=!1){let o;typeof e=="string"?o=sa(e):(o={...e},Rt(!o.pathname||!o.pathname.includes("?"),Nm("?","pathname","search",o)),Rt(!o.pathname||!o.pathname.includes("#"),Nm("#","pathname","hash",o)),Rt(!o.search||!o.search.includes("#"),Nm("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,a;if(c==null)a=r;else{let v=t.length-1;if(!i&&c.startsWith("..")){let m=c.split("/");for(;m[0]==="..";)m.shift(),v-=1;o.pathname=m.join("/")}a=v>=0?t[v]:"/"}let d=MI(o,a),h=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var mi=e=>e.join("/").replace(/\/\/+/g,"/"),jI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,DI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function zI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var n_=["POST","PUT","PATCH","DELETE"];new Set(n_);var LI=["GET",...n_];new Set(LI);var oa=A.createContext(null);oa.displayName="DataRouter";var of=A.createContext(null);of.displayName="DataRouterState";var i_=A.createContext({isTransitioning:!1});i_.displayName="ViewTransition";var qI=A.createContext(new Map);qI.displayName="Fetchers";var BI=A.createContext(null);BI.displayName="Await";var Tn=A.createContext(null);Tn.displayName="Navigation";var Kd=A.createContext(null);Kd.displayName="Location";var ln=A.createContext({outlet:null,matches:[],isDataRoute:!1});ln.displayName="Route";var P0=A.createContext(null);P0.displayName="RouteError";function UI(e,{relative:t}={}){Rt(aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=A.useContext(Tn),{hash:o,pathname:l,search:c}=Wd(e,{relative:t}),a=l;return r!=="/"&&(a=l==="/"?r:mi([r,l])),i.createHref({pathname:a,search:c,hash:o})}function aa(){return A.useContext(Kd)!=null}function bi(){return Rt(aa(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Kd).location}var s_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o_(e){A.useContext(Tn).static||A.useLayoutEffect(e)}function lo(){let{isDataRoute:e}=A.useContext(ln);return e?nj():VI()}function VI(){Rt(aa(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(oa),{basename:t,navigator:r}=A.useContext(Tn),{matches:i}=A.useContext(ln),{pathname:o}=bi(),l=JSON.stringify(E0(i)),c=A.useRef(!1);return o_(()=>{c.current=!0}),A.useCallback((d,h={})=>{if(En(c.current,s_),!c.current)return;if(typeof d=="number"){r.go(d);return}let p=T0(d,JSON.parse(l),o,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:mi([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,l,o,e])}var FI=A.createContext(null);function HI(e){let t=A.useContext(ln).outlet;return t&&A.createElement(FI.Provider,{value:e},t)}function $I(){let{matches:e}=A.useContext(ln),t=e[e.length-1];return t?t.params:{}}function Wd(e,{relative:t}={}){let{matches:r}=A.useContext(ln),{pathname:i}=bi(),o=JSON.stringify(E0(r));return A.useMemo(()=>T0(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function KI(e,t){return a_(e,t)}function a_(e,t,r,i){var T;Rt(aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=A.useContext(Tn),{matches:c}=A.useContext(ln),a=c[c.length-1],d=a?a.params:{},h=a?a.pathname:"/",p=a?a.pathnameBase:"/",v=a&&a.route;{let P=v&&v.path||"";c_(h,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let m=bi(),S;if(t){let P=typeof t=="string"?sa(t):t;Rt(p==="/"||((T=P.pathname)==null?void 0:T.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),S=P}else S=m;let C=S.pathname||"/",x=C;if(p!=="/"){let P=p.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(P.length).join("/")}let R=!l&&r&&r.matches&&r.matches.length>0?r.matches:e_(e,{pathname:x});En(v||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),En(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=QI(R&&R.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:mi([p,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:mi([p,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),c,r,i);return t&&w?A.createElement(Kd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},w):w}function WI(){let e=rj(),t=zI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:o},r):null,c)}var GI=A.createElement(WI,null),JI=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?A.createElement(ln.Provider,{value:this.props.routeContext},A.createElement(P0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YI({routeContext:e,match:t,children:r}){let i=A.useContext(oa);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(ln.Provider,{value:e},r)}function QI(e,t=[],r=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=r==null?void 0:r.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);Rt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,a=-1;if(r)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(a=d),h.route.id){let{loaderData:p,errors:v}=r,m=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||m){c=!0,a>=0?o=o.slice(0,a+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let v,m=!1,S=null,C=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,S=h.route.errorElement||GI,c&&(a<0&&p===0?(c_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,C=null):a===p&&(m=!0,C=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,p+1)),R=()=>{let w;return v?w=S:m?w=C:h.route.Component?w=A.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,A.createElement(YI,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?A.createElement(JI,{location:r.location,revalidation:r.revalidation,component:S,error:v,children:R(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):R()},null)}function A0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XI(e){let t=A.useContext(oa);return Rt(t,A0(e)),t}function ZI(e){let t=A.useContext(of);return Rt(t,A0(e)),t}function ej(e){let t=A.useContext(ln);return Rt(t,A0(e)),t}function _0(e){let t=ej(e),r=t.matches[t.matches.length-1];return Rt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function tj(){return _0("useRouteId")}function rj(){var i;let e=A.useContext(P0),t=ZI("useRouteError"),r=_0("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[r]}function nj(){let{router:e}=XI("useNavigate"),t=_0("useNavigate"),r=A.useRef(!1);return o_(()=>{r.current=!0}),A.useCallback(async(o,l={})=>{En(r.current,s_),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var kx={};function c_(e,t,r){!t&&!kx[e]&&(kx[e]=!0,En(!1,r))}A.memo(ij);function ij({routes:e,future:t,state:r}){return a_(e,void 0,r,t)}function sj({to:e,replace:t,state:r,relative:i}){Rt(aa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=A.useContext(Tn);En(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(ln),{pathname:c}=bi(),a=lo(),d=T0(e,E0(l),c,i==="path"),h=JSON.stringify(d);return A.useEffect(()=>{a(JSON.parse(h),{replace:t,state:r,relative:i})},[a,h,i,t,r]),null}function oj(e){return HI(e.context)}function Cn(e){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aj({basename:e="/",children:t=null,location:r,navigationType:i="POP",navigator:o,static:l=!1}){Rt(!aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),a=A.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof r=="string"&&(r=sa(r));let{pathname:d="/",search:h="",hash:p="",state:v=null,key:m="default"}=r,S=A.useMemo(()=>{let C=Xi(d,c);return C==null?null:{location:{pathname:C,search:h,hash:p,state:v,key:m},navigationType:i}},[c,d,h,p,v,m,i]);return En(S!=null,`<Router basename="${c}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:A.createElement(Tn.Provider,{value:a},A.createElement(Kd.Provider,{children:t,value:S}))}function cj({children:e,location:t}){return KI(_y(e),t)}function _y(e,t=[]){let r=[];return A.Children.forEach(e,(i,o)=>{if(!A.isValidElement(i))return;let l=[...t,o];if(i.type===A.Fragment){r.push.apply(r,_y(i.props.children,l));return}Rt(i.type===Cn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=_y(i.props.children,l)),r.push(c)}),r}var wp="get",Ep="application/x-www-form-urlencoded";function af(e){return e!=null&&typeof e.tagName=="string"}function lj(e){return af(e)&&e.tagName.toLowerCase()==="button"}function uj(e){return af(e)&&e.tagName.toLowerCase()==="form"}function dj(e){return af(e)&&e.tagName.toLowerCase()==="input"}function hj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pj(e,t){return e.button===0&&(!t||t==="_self")&&!hj(e)}var fp=null;function fj(){if(fp===null)try{new FormData(document.createElement("form"),0),fp=!1}catch{fp=!0}return fp}var vj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Im(e){return e!=null&&!vj.has(e)?(En(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ep}"`),null):e}function mj(e,t){let r,i,o,l,c;if(uj(e)){let a=e.getAttribute("action");i=a?Xi(a,t):null,r=e.getAttribute("method")||wp,o=Im(e.getAttribute("enctype"))||Ep,l=new FormData(e)}else if(lj(e)||dj(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||a.getAttribute("action");if(i=d?Xi(d,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||wp,o=Im(e.getAttribute("formenctype"))||Im(a.getAttribute("enctype"))||Ep,l=new FormData(a,e),!fj()){let{name:h,type:p,value:v}=e;if(p==="image"){let m=h?`${h}.`:"";l.append(`${m}x`,"0"),l.append(`${m}y`,"0")}else h&&l.append(h,v)}}else{if(af(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wp,i=null,o=Ep,c=e}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:l,body:c}}function k0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function gj(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yj(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Sj(e,t,r){let i=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let c=await gj(l,r);return c.links?c.links():[]}return[]}));return Rj(i.flat(1).filter(yj).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Mx(e,t,r,i,o,l){let c=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,a=(d,h)=>{var p;return r[h].pathname!==d.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==d.params["*"]};return l==="assets"?t.filter((d,h)=>c(d,h)||a(d,h)):l==="data"?t.filter((d,h)=>{var v;let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(c(d,h)||a(d,h))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=r[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function bj(e,t,{includeHydrateFallback:r}={}){return Cj(e.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Cj(e){return[...new Set(e)]}function xj(e){let t={},r=Object.keys(e).sort();for(let i of r)t[i]=e[i];return t}function Rj(e,t){let r=new Set;return new Set(t),e.reduce((i,o)=>{let l=JSON.stringify(xj(o));return r.has(l)||(r.add(l),i.push({key:l,link:o})),i},[])}function wj(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Ej(){let e=A.useContext(oa);return k0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Tj(){let e=A.useContext(of);return k0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var M0=A.createContext(void 0);M0.displayName="FrameworkContext";function l_(){let e=A.useContext(M0);return k0(e,"You must render this element inside a <HydratedRouter> element"),e}function Pj(e,t){let r=A.useContext(M0),[i,o]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:a,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:v}=t,m=A.useRef(null);A.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let x=w=>{w.forEach(T=>{c(T.isIntersecting)})},R=new IntersectionObserver(x,{threshold:.5});return m.current&&R.observe(m.current),()=>{R.disconnect()}}},[e]),A.useEffect(()=>{if(i){let x=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(x)}}},[i]);let S=()=>{o(!0)},C=()=>{o(!1),c(!1)};return r?e!=="intent"?[l,m,{}]:[l,m,{onFocus:vc(a,S),onBlur:vc(d,C),onMouseEnter:vc(h,S),onMouseLeave:vc(p,C),onTouchStart:vc(v,S)}]:[!1,m,{}]}function vc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Aj({page:e,...t}){let{router:r}=Ej(),i=A.useMemo(()=>e_(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?A.createElement(kj,{page:e,matches:i,...t}):null}function _j(e){let{manifest:t,routeModules:r}=l_(),[i,o]=A.useState([]);return A.useEffect(()=>{let l=!1;return Sj(e,t,r).then(c=>{l||o(c)}),()=>{l=!0}},[e,t,r]),i}function kj({page:e,matches:t,...r}){let i=bi(),{manifest:o,routeModules:l}=l_(),{loaderData:c,matches:a}=Tj(),d=A.useMemo(()=>Mx(e,t,a,o,i,"data"),[e,t,a,o,i]),h=A.useMemo(()=>Mx(e,t,a,o,i,"assets"),[e,t,a,o,i]),p=A.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,C=!1;if(t.forEach(R=>{var T;let w=o.routes[R.route.id];!w||!w.hasLoader||(!d.some(P=>P.route.id===R.route.id)&&R.route.id in c&&((T=l[R.route.id])!=null&&T.shouldRevalidate)||w.hasClientLoader?C=!0:S.add(R.route.id))}),S.size===0)return[];let x=wj(e);return C&&S.size>0&&x.searchParams.set("_routes",t.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[x.pathname+x.search]},[c,i,o,d,t,e,l]),v=A.useMemo(()=>bj(h,o),[h,o]),m=_j(h);return A.createElement(A.Fragment,null,p.map(S=>A.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),v.map(S=>A.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),m.map(({key:S,link:C})=>A.createElement("link",{key:S,...C})))}function Mj(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var u_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{u_&&(window.__reactRouterVersion="7.2.0")}catch{}function Nj({basename:e,children:t,window:r}){let i=A.useRef();i.current==null&&(i.current=vI({window:r,v5Compat:!0}));let o=i.current,[l,c]=A.useState({action:o.action,location:o.location}),a=A.useCallback(d=>{A.startTransition(()=>c(d))},[c]);return A.useLayoutEffect(()=>o.listen(a),[o,a]),A.createElement(aj,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}var d_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qr=A.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:a,target:d,to:h,preventScrollReset:p,viewTransition:v,...m},S){let{basename:C}=A.useContext(Tn),x=typeof h=="string"&&d_.test(h),R,w=!1;if(typeof h=="string"&&x&&(R=h,u_))try{let F=new URL(window.location.href),$=h.startsWith("//")?new URL(F.protocol+h):new URL(h),ue=Xi($.pathname,C);$.origin===F.origin&&ue!=null?h=ue+$.search+$.hash:w=!0}catch{En(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=UI(h,{relative:o}),[P,I,k]=Pj(i,m),U=Dj(h,{replace:c,state:a,target:d,preventScrollReset:p,relative:o,viewTransition:v});function H(F){t&&t(F),F.defaultPrevented||U(F)}let q=A.createElement("a",{...m,...k,href:R||T,onClick:w||l?t:H,ref:Mj(S,I),target:d,"data-discover":!x&&r==="render"?"true":void 0});return P&&!x?A.createElement(A.Fragment,null,q,A.createElement(Aj,{page:T})):q});qr.displayName="Link";var Ij=A.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:a,children:d,...h},p){let v=Wd(c,{relative:h.relative}),m=bi(),S=A.useContext(of),{navigator:C,basename:x}=A.useContext(Tn),R=S!=null&&Uj(v)&&a===!0,w=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,T=m.pathname,P=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(T=T.toLowerCase(),P=P?P.toLowerCase():null,w=w.toLowerCase()),P&&x&&(P=Xi(P,x)||P);const I=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let k=T===w||!o&&T.startsWith(w)&&T.charAt(I)==="/",U=P!=null&&(P===w||!o&&P.startsWith(w)&&P.charAt(w.length)==="/"),H={isActive:k,isPending:U,isTransitioning:R},q=k?t:void 0,F;typeof i=="function"?F=i(H):F=[i,k?"active":null,U?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(H):l;return A.createElement(qr,{...h,"aria-current":q,className:F,ref:p,style:$,to:c,viewTransition:a},typeof d=="function"?d(H):d)});Ij.displayName="NavLink";var jj=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:o,state:l,method:c=wp,action:a,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:v,...m},S)=>{let C=qj(),x=Bj(a,{relative:h}),R=c.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&d_.test(a),T=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let I=P.nativeEvent.submitter,k=(I==null?void 0:I.getAttribute("formmethod"))||c;C(I||P.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:o,state:l,relative:h,preventScrollReset:p,viewTransition:v})};return A.createElement("form",{ref:S,method:R,action:x,onSubmit:i?d:T,...m,"data-discover":!w&&e==="render"?"true":void 0})});jj.displayName="Form";function Oj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h_(e){let t=A.useContext(oa);return Rt(t,Oj(e)),t}function Dj(e,{target:t,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let a=lo(),d=bi(),h=Wd(e,{relative:l});return A.useCallback(p=>{if(pj(p,t)){p.preventDefault();let v=r!==void 0?r:Dd(d)===Dd(h);a(e,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[d,a,h,r,i,t,e,o,l,c])}var zj=0,Lj=()=>`__${String(++zj)}__`;function qj(){let{router:e}=h_("useSubmit"),{basename:t}=A.useContext(Tn),r=tj();return A.useCallback(async(i,o={})=>{let{action:l,method:c,encType:a,formData:d,body:h}=mj(i,t);if(o.navigate===!1){let p=o.fetcherKey||Lj();await e.fetch(p,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:h,formMethod:o.method||c,formEncType:o.encType||a,flushSync:o.flushSync})}else await e.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:h,formMethod:o.method||c,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,r])}function Bj(e,{relative:t}={}){let{basename:r}=A.useContext(Tn),i=A.useContext(ln);Rt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Wd(e||".",{relative:t})},c=bi();if(e==null){l.search=c.search;let a=new URLSearchParams(l.search),d=a.getAll("index");if(d.some(p=>p==="")){a.delete("index"),d.filter(v=>v).forEach(v=>a.append("index",v));let p=a.toString();l.search=p?`?${p}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:mi([r,l.pathname])),Dd(l)}function Uj(e,t={}){let r=A.useContext(i_);Rt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=h_("useViewTransitionState"),o=Wd(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=Xi(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=Xi(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Vp(o.pathname,c)!=null||Vp(o.pathname,l)!=null}new TextEncoder;const ao="/assets/Logo_withoutShadow-M_6JhnEG.png",Vj="/assets/Mission-CMLE1NqU.png";var p_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nx=Ve.createContext&&Ve.createContext(p_),Fj=["attr","size","title"];function Hj(e,t){if(e==null)return{};var r=$j(e,t),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)i=l[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function $j(e,t){if(e==null)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Fp.apply(this,arguments)}function Ix(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Hp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ix(Object(r),!0).forEach(function(i){Kj(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ix(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Kj(e,t,r){return t=Wj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wj(e){var t=Gj(e,"string");return typeof t=="symbol"?t:t+""}function Gj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f_(e){return e&&e.map((t,r)=>Ve.createElement(t.tag,Hp({key:r},t.attr),f_(t.child)))}function Ie(e){return t=>Ve.createElement(Jj,Fp({attr:Hp({},e.attr)},t),f_(e.child))}function Jj(e){var t=r=>{var{attr:i,size:o,title:l}=e,c=Hj(e,Fj),a=o||r.size||"1em",d;return r.className&&(d=r.className),e.className&&(d=(d?d+" ":"")+e.className),Ve.createElement("svg",Fp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,c,{className:d,style:Hp(Hp({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),l&&Ve.createElement("title",null,l),e.children)};return Nx!==void 0?Ve.createElement(Nx.Consumer,null,r=>t(r)):t(p_)}function N0(e){return Ie({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function I0(e){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function v_(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function j0(e){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function cf(e){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function m_(e){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function O0(e){return Ie({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function Yj(e){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Qj(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function g_(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function y_(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7.1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z"},child:[]}]})(e)}function jx(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Xj(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function Zj(e){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function eO(e){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function D0(e){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Ox(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"},child:[]}]})(e)}function z0(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function ky(e){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function My(e){return Ie({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function tO(e){return Ie({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function rO(e){return Ie({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 0 1-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 0 1-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 0 0-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 0 0-15.55-3.1l-31.17 10.39a11.95 11.95 0 0 0-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 0 1 8.93 21.57 46.536 46.536 0 0 1-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 0 1 0-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z"},child:[]}]})(e)}function Gd(e){return Ie({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function nO(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(e)}function iO(e){return Ie({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(e)}function Dx(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function sO(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function oO(e){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M152.1 236.2c-3.5-12.1-7.8-33.2-7.8-33.2h-.5s-4.3 21.1-7.8 33.2l-11.1 37.5H163zM616 96H336v320h280c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm-24 120c0 6.6-5.4 12-12 12h-11.4c-6.9 23.6-21.7 47.4-42.7 69.9 8.4 6.4 17.1 12.5 26.1 18 5.5 3.4 7.3 10.5 4.1 16.2l-7.9 13.9c-3.4 5.9-10.9 7.8-16.7 4.3-12.6-7.8-24.5-16.1-35.4-24.9-10.9 8.7-22.7 17.1-35.4 24.9-5.8 3.5-13.3 1.6-16.7-4.3l-7.9-13.9c-3.2-5.6-1.4-12.8 4.2-16.2 9.3-5.7 18-11.7 26.1-18-7.9-8.4-14.9-17-21-25.7-4-5.7-2.2-13.6 3.7-17.1l6.5-3.9 7.3-4.3c5.4-3.2 12.4-1.7 16 3.4 5 7 10.8 14 17.4 20.9 13.5-14.2 23.8-28.9 30-43.2H412c-6.6 0-12-5.4-12-12v-16c0-6.6 5.4-12 12-12h64v-16c0-6.6 5.4-12 12-12h16c6.6 0 12 5.4 12 12v16h64c6.6 0 12 5.4 12 12zM0 120v272c0 13.3 10.7 24 24 24h280V96H24c-13.3 0-24 10.7-24 24zm58.9 216.1L116.4 167c1.7-4.9 6.2-8.1 11.4-8.1h32.5c5.1 0 9.7 3.3 11.4 8.1l57.5 169.1c2.6 7.8-3.1 15.9-11.4 15.9h-22.9a12 12 0 0 1-11.5-8.6l-9.4-31.9h-60.2l-9.1 31.8c-1.5 5.1-6.2 8.7-11.5 8.7H70.3c-8.2 0-14-8.1-11.4-15.9z"},child:[]}]})(e)}function S_(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function Ny(e){return Ie({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function zx(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function aO(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function Lx(e){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(e)}function cO(e){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function b_(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z"},child:[]}]})(e)}function lO(e){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function uO(e){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function L0(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function dO(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(e)}function hO(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function qx(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function $p(e){return Ie({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z"},child:[]}]})(e)}function pO(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function Bx(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function Ux(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function cn(e){return Ie({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Iy(e){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function fO(e){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function vO(e){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function jy(e){return Ie({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function C_(e){return Ie({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Vx(e){return Ie({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256zm296-80v160c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16z"},child:[]}]})(e)}const x_=()=>{const e={product:[{name:"Features",href:"#features"},{name:"Services",href:"#services"},{name:"Pricing",href:"#pricing"},{name:"FAQ",href:"#faq"}],company:[{name:"About",href:"/#features"},{name:"Blog",href:"/Help"},{name:"Careers",href:"/Help"},{name:"Contact",href:"#contact"}],legal:[{name:"Privacy",href:"/Help"},{name:"Terms",href:"/Help"},{name:"Security",href:"/Help"},{name:"Cookies",href:"/Help"}]};return g.jsxs("footer",{className:"relative bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950 text-white overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-primary-500/5 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-accent-500/5 rounded-full blur-3xl"}),g.jsxs("div",{className:"section-container relative z-10 py-16",children:[g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-8 mb-12",children:[g.jsxs("div",{className:"col-span-2 space-y-6",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("img",{src:ao,alt:"Chatlas",className:"h-12 w-12"}),g.jsx("span",{className:"text-2xl font-display font-bold text-gradient",children:"UnifyChat"})]}),g.jsx("p",{className:"text-neutral-300 max-w-xs text-lg leading-relaxed",children:"Breaking language barriers with AI-powered real-time translation. Connect with anyone, anywhere."}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-2xl bg-white/5 hover:bg-primary-600/20 border border-white/10 hover:border-primary-500/50 transition-all duration-300 hover:scale-110",children:g.jsx(v_,{size:20})}),g.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-2xl bg-white/5 hover:bg-primary-600/20 border border-white/10 hover:border-primary-500/50 transition-all duration-300 hover:scale-110",children:g.jsx(N0,{size:20})}),g.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-2xl bg-white/5 hover:bg-primary-600/20 border border-white/10 hover:border-primary-500/50 transition-all duration-300 hover:scale-110",children:g.jsx(I0,{size:20})})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6 text-gradient-cyan",children:"Product"}),g.jsx("ul",{className:"space-y-2",children:e.product.map(t=>g.jsx("li",{children:g.jsx("a",{href:t.href,className:"text-neutral-400 hover:text-white transition-colors",children:t.name})},t.name))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6 text-gradient-cyan",children:"Company"}),g.jsx("ul",{className:"space-y-2",children:e.company.map(t=>g.jsx("li",{children:t.href.startsWith("#")||t.href.startsWith("/#")?g.jsx("a",{href:t.href,className:"text-neutral-400 hover:text-white transition-colors",children:t.name}):g.jsx(qr,{to:t.href,className:"text-neutral-400 hover:text-white transition-colors",children:t.name})},t.name))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6 text-gradient-cyan",children:"Legal"}),g.jsx("ul",{className:"space-y-2",children:e.legal.map(t=>g.jsx("li",{children:t.href.startsWith("#")||t.href.startsWith("/#")?g.jsx("a",{href:t.href,className:"text-neutral-400 hover:text-white transition-colors",children:t.name}):g.jsx(qr,{to:t.href,className:"text-neutral-400 hover:text-white transition-colors",children:t.name})},t.name))})]})]}),g.jsx("div",{className:"pt-8 border-t border-white/10",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[g.jsxs("p",{className:"text-neutral-400",children:[" 2025 ",g.jsx("span",{className:"text-white font-semibold",children:"UnifyChat"}),". All Rights Reserved."]}),g.jsxs("a",{href:"mailto:unifychathelp@gmail.com",className:"group flex items-center space-x-2 text-neutral-300 hover:text-primary-400 transition-all duration-300",children:[g.jsx("div",{className:"p-2 rounded-xl bg-white/5 group-hover:bg-primary-600/20 border border-white/10 group-hover:border-primary-500/50 transition-all duration-300",children:g.jsx(z0,{})}),g.jsx("span",{className:"font-medium",children:"unifychathelp@gmail.com"})]})]})})]})]})},mO=()=>{const[e,t]=A.useState(0),r=[{id:"speech",icon:Ny,title:"Voice-to-Text & Text-to-Speech",description:"Transform conversations with our in-house powerful speech capabilities. Convert text to natural-sounding speech and vice versa for seamless, engaging cross-language communication.",stats:[{label:"Languages",value:"75+"},{label:"Accuracy",value:"99%"},{label:"Response",value:"<1s"}],badge:"Powered",color:"primary",bgGradient:"from-indigo-500/10 to-purple-500/10"},{id:"files",icon:tO,title:"File Sharing",description:"Share documents, images, and media directly in your chat rooms with built-in language annotation. File sharing is seamless, secure, and efficient for all your cross-cultural collaborative needs.",stats:[{label:"Max Size",value:"100MB"},{label:"File Types",value:"All"},{label:"Security",value:"E2E"}],badge:"Secure",color:"accent",bgGradient:"from-pink-500/10 to-rose-500/10"},{id:"summarize",icon:lO,title:"Chat Summarization",description:"Quickly summarize multilingual conversations within any date range. Stay updated without reading every message and get key takeaways in your preferred language.",stats:[{label:"Speed",value:"Instant"},{label:"Accuracy",value:"95%"},{label:"Support",value:"Multilingual"}],badge:"Coming Soon",color:"success",bgGradient:"from-emerald-500/10 to-teal-500/10"}],i={primary:{bg:"bg-indigo-500",text:"text-indigo-600 dark:text-indigo-400",border:"border-indigo-500",gradient:"from-indigo-600 to-purple-600"},accent:{bg:"bg-pink-500",text:"text-pink-600 dark:text-pink-400",border:"border-pink-500",gradient:"from-pink-600 to-rose-600"},success:{bg:"bg-emerald-500",text:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-500",gradient:"from-emerald-600 to-teal-600"}};return g.jsxs("div",{id:"features",className:"relative py-20 bg-white dark:bg-slate-900 transition-colors overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary-500/10 dark:bg-primary-500/5 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-accent-500/10 dark:bg-accent-500/5 rounded-full blur-3xl"})]}),g.jsxs("div",{className:"section-container relative z-10",children:[g.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16 space-y-6",children:[g.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-neutral-100 dark:bg-slate-800 rounded-full border border-primary-200 dark:border-primary-800 shadow-sm",children:[g.jsx("div",{className:"w-2 h-2 bg-primary-500 dark:bg-primary-400 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-semibold bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"Powerful Features"})]}),g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100 leading-tight",children:["Everything you need for",g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"seamless communication"})]}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-300",children:"AI-powered features designed to break down language barriers"})]}),g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx("div",{className:"flex flex-col md:flex-row gap-3 mb-8 p-2 bg-neutral-100 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700",children:r.map((o,l)=>g.jsx("button",{onClick:()=>t(l),className:`flex-1 p-4 rounded-xl transition-all duration-300 ${e===l?`bg-white dark:bg-slate-700 shadow-lg ${i[o.color].text} border-2 ${i[o.color].border} dark:border-opacity-50`:"bg-transparent text-neutral-600 dark:text-neutral-400 hover:bg-white/50 dark:hover:bg-slate-700/50 border-2 border-transparent"}`,children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${e===l?i[o.color].bg:"bg-neutral-300 dark:bg-slate-600"} transition-colors`,children:g.jsx(o.icon,{className:"text-white text-lg"})}),g.jsx("div",{className:"text-left flex-1",children:g.jsx("p",{className:"font-semibold",children:o.title.split(" ")[0]})}),e===l&&g.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${i[o.color].bg} text-white`,children:o.badge})]})},o.id))}),g.jsx("div",{className:"relative",children:r.map((o,l)=>g.jsx("div",{className:`transition-all duration-500 ${e===l?"opacity-100 block":"opacity-0 hidden"}`,children:g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[g.jsxs("div",{className:"space-y-6 order-2 md:order-1",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-neutral-900 dark:text-neutral-100",children:o.title}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-300 leading-relaxed",children:o.description})]}),g.jsx("div",{className:"grid grid-cols-3 gap-4",children:o.stats.map((c,a)=>g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-slate-800 rounded-xl border border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:`text-2xl font-bold ${i[o.color].text}`,children:c.value}),g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-1",children:c.label})]},a))}),g.jsxs("a",{href:"#services",className:`group inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r ${i[o.color].gradient} text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105`,children:[g.jsx("span",{children:"Learn More"}),g.jsx(cf,{className:"group-hover:translate-x-1 transition-transform"})]})]}),g.jsx("div",{className:"order-1 md:order-2",children:g.jsx("div",{className:`relative p-12 bg-gradient-to-br ${o.bgGradient} dark:${o.bgGradient.replace("/10","/20")} rounded-3xl border border-neutral-200 dark:border-neutral-700`,children:g.jsxs("div",{className:"relative flex items-center justify-center",children:[g.jsx("div",{className:`w-48 h-48 rounded-full bg-gradient-to-br ${i[o.color].gradient} flex items-center justify-center shadow-2xl animate-float`,children:g.jsx(o.icon,{className:"text-white text-7xl"})}),o.id==="speech"&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("button",{className:"w-16 h-16 bg-white dark:bg-slate-800 rounded-full flex items-center justify-center shadow-xl hover:scale-110 transition-transform",children:g.jsx(cO,{className:"text-primary-600 dark:text-primary-400 ml-1"})})})]})})})]})},o.id))})]}),g.jsxs("div",{className:"mt-20 grid md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"p-6 bg-neutral-50 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-primary-500 dark:hover:border-primary-400 transition-all duration-300",children:[g.jsx("div",{className:"text-primary-600 dark:text-primary-400 text-3xl mb-3",children:""}),g.jsx("h4",{className:"font-bold text-neutral-900 dark:text-neutral-100 mb-2",children:"End-to-End Encryption"}),g.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Your messages are always secure and private"})]}),g.jsxs("div",{className:"p-6 bg-neutral-50 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-accent-500 dark:hover:border-accent-400 transition-all duration-300",children:[g.jsx("div",{className:"text-accent-600 dark:text-accent-400 text-3xl mb-3",children:""}),g.jsx("h4",{className:"font-bold text-neutral-900 dark:text-neutral-100 mb-2",children:"Lightning Fast"}),g.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Real-time translation with minimal latency"})]}),g.jsxs("div",{className:"p-6 bg-neutral-50 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-success-500 dark:hover:border-success-400 transition-all duration-300",children:[g.jsx("div",{className:"text-success-600 dark:text-success-400 text-3xl mb-3",children:""}),g.jsx("h4",{className:"font-bold text-neutral-900 dark:text-neutral-100 mb-2",children:"Global Access"}),g.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Available anywhere, anytime, on any device"})]})]})]})]})},R_=A.createContext(),q0=()=>{const e=A.useContext(R_);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},gO=({children:e})=>{const[t,r]=A.useState(()=>localStorage.getItem("theme")||"light");A.useEffect(()=>{const o=document.documentElement;t==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),A.useEffect(()=>{const o=document.documentElement;o.style.setProperty("--transition-duration","300ms"),o.style.setProperty("--transition-timing","cubic-bezier(0.4, 0, 0.2, 1)"),document.documentElement.classList.add("theme-transition"),document.body.classList.add("theme-transition");const l=setTimeout(()=>{document.documentElement.classList.remove("theme-transition"),document.body.classList.remove("theme-transition")},300);return()=>clearTimeout(l)},[t]);const i=()=>{r(o=>o==="light"?"dark":"light")};return g.jsx("div",{className:"theme-wrapper",children:g.jsx(R_.Provider,{value:{theme:t,toggleTheme:i},children:e})})},yO="/assets/light%20home-C0KX8-Ao.jpg",SO="/assets/dark%20home-B40ehyHq.png",bO=({words:e=["Welcome","Bienvenue","Hola","Namaste","",""],interval:t=1500})=>{const[r,i]=A.useState(0);return A.useEffect(()=>{const o=setInterval(()=>i(l=>(l+1)%e.length),t);return()=>clearInterval(o)},[e.length,t]),g.jsxs("span",{className:"inline-block relative","aria-hidden":!0,children:[g.jsx("span",{className:"block text-4xl md:text-5xl font-extrabold tracking-tight leading-tight transition-transform duration-700 ease-in-out transform-gpu animate-appear",style:{WebkitTextStroke:"0.5px rgba(0,0,0,0.05)"},children:e[r]},r),g.jsx("style",{children:`
        @keyframes appear {
          0% { opacity: 0; transform: translateY(10px) scale(.98); }
          30% { opacity: 1; transform: translateY(0) scale(1.02); }
          100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-appear { animation: appear .7s ease forwards; }
        @media (prefers-reduced-motion: reduce) {
          .animate-appear { animation: none !important; }
        }
      `})]})},CO=[{id:1,text:"Hello, how are you?",lang:"EN",translation:"Bonjour, comment a va?",tLang:"FR"},{id:2,text:"Where is the train station?",lang:"EN",translation:"Dnde est la estacin de tren?",tLang:"ES"},{id:3,text:"Thank you very much",lang:"EN",translation:"",tLang:"JA"},{id:4,text:"Good morning",lang:"EN",translation:"",tLang:"HI"},{id:5,text:"Can you help me?",lang:"EN",translation:"  ",tLang:"AR"},{id:6,text:"I love this city",lang:"EN",translation:"J'adore cette ville",tLang:"FR"}],xO=({phrases:e=CO,autoInterval:t=2400,playAudio:r=!0})=>{const[i,o]=A.useState(0),[l,c]=A.useState(!0),a=A.useRef(!1);A.useEffect(()=>{const h=setInterval(()=>o(p=>(p+1)%e.length),t);return()=>clearInterval(h)},[e.length,t]),A.useEffect(()=>{if(!r)return;const h=e[i];if(h){if(!("speechSynthesis"in window)){c(!1);return}if(!a.current)try{a.current=!0;const p=new SpeechSynthesisUtterance(h.translation||h.text),v=(h.tLang||h.lang||"en").toLowerCase(),m={en:"en-US",fr:"fr-FR",es:"es-ES",ja:"ja-JP",hi:"hi-IN",ar:"ar-SA"};p.lang=m[v]||v,p.rate=.95,p.pitch=1;const S=()=>{const C=speechSynthesis.getVoices();if(C&&C.length){const x=C.find(R=>R.lang&&R.lang.toLowerCase().startsWith((p.lang||"").slice(0,2)));x&&(p.voice=x)}};S(),p.voice||setTimeout(S,120),speechSynthesis.cancel(),speechSynthesis.speak(p),setTimeout(()=>a.current=!1,600)}catch{a.current=!1,c(!1)}}},[i,e,r]);const d=e[i];return g.jsxs("div",{className:"w-full max-w-3xl mx-auto",children:[g.jsxs("div",{className:"relative bg-gray-900/60 backdrop-blur-sm rounded-xl p-6 shadow-lg transition-all duration-500 transform-gpu",style:{borderLeft:"3px solid #6366F1",borderRight:"3px solid #8B5CF6",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2), 0 0 8px rgba(99, 102, 241, 0.3), 0 0 8px rgba(139, 92, 246, 0.3)"},children:[g.jsxs("div",{className:"flex flex-col space-y-4 animate-fadeSlide",children:[g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"bg-gray-800 text-xs font-bold px-2 py-1 rounded mr-2 text-primary-300",children:d.lang}),g.jsx("p",{className:"text-white text-lg font-medium",children:d.text})]}),g.jsxs("div",{className:"pl-6 relative",children:[g.jsx("div",{className:"absolute left-0 top-2 h-6 w-4 text-primary-300",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.75.75v10.638l3.96-4.158a.75.75 0 111.08 1.04l-5.25 5.5a.75.75 0 01-1.08 0l-5.25-5.5a.75.75 0 111.08-1.04l3.96 4.158V3.75A.75.75 0 0110 3z",clipRule:"evenodd"})})}),g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"bg-primary-600 text-xs font-bold px-2 py-1 rounded mr-2 text-white",children:d.tLang}),g.jsx("p",{className:"text-primary-300 text-lg font-medium",dir:d.tLang==="AR"?"rtl":"ltr",children:d.translation})]})]})]}),r&&g.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center",children:[g.jsx("div",{className:`w-2 h-2 rounded-full mr-1 ${l?"bg-primary-400":"bg-gray-500"}`}),g.jsx("span",{className:"text-xs text-gray-400",children:"audio"})]})]}),g.jsx("div",{className:"mt-4 text-center",children:g.jsxs("button",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary-600 hover:bg-primary-700 text-white font-medium transition-colors shadow-md hover:shadow-lg",onClick:()=>o((i+1)%e.length),children:[g.jsx("span",{children:"Watch Demo"}),g.jsx("svg",{className:"ml-2 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})]})}),g.jsx("style",{children:`
        @keyframes fadeSlide {
          0% { opacity: 0; transform: translateY(10px); }
          100% { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeSlide {
          animation: fadeSlide 0.5s ease-out forwards;
        }
        @media (prefers-reduced-motion: reduce) {
          .animate-fadeSlide { animation: none !important; }
        }
      `})]})},RO=()=>{const{theme:e}=q0();return g.jsxs("section",{className:"relative overflow-hidden bg-gray-900 text-white py-16 md:py-24",children:[g.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transition-all duration-300",style:{backgroundImage:`url(${e==="dark"?SO:yO})`}}),g.jsx("div",{className:`absolute inset-0 ${e==="dark"?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 opacity-90":"bg-gradient-to-br from-black/80 via-gray-900/70 to-black/80 opacity-98"}`}),g.jsx("div",{className:"absolute top-0 left-1/4 w-64 h-64 bg-primary-500/10 rounded-full filter blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-accent-500/10 rounded-full filter blur-3xl"}),g.jsx("div",{className:"relative container mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-12",children:[g.jsxs("h1",{className:"text-3xl md:text-5xl font-bold mb-6",children:[g.jsx(bO,{})," to UnifyChat"]}),g.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-6 bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:"Break Language Barriers  Connect Globally with AI"}),g.jsx(xO,{}),g.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row justify-center gap-4",children:[g.jsx("a",{href:"/Signup",className:"px-8 py-3 rounded-lg bg-primary-600 hover:bg-primary-700 text-white font-bold text-lg transition-colors shadow-lg hover:shadow-xl",children:"Get Started Free"}),g.jsx("a",{href:"#features",className:"px-8 py-3 rounded-lg bg-gray-800 hover:bg-gray-700 text-white font-bold text-lg transition-colors border border-primary-400/30 hover:border-primary-400/60",children:"Learn More"})]})]})})]})},wO=()=>{const{theme:e}=q0(),t=[{id:"languages",icon:rO,title:"140+",subtitle:"Supported Languages",description:"Covering 95% of the world's population",gradient:"from-indigo-500 via-purple-500 to-pink-500",iconBg:"bg-primary-500"},{id:"users",icon:C_,title:"10K+",subtitle:"Happy Users",description:"And growing every day",gradient:"from-cyan-500 via-blue-500 to-indigo-500",iconBg:"bg-accent-500"},{id:"support",icon:nO,title:"24/7",subtitle:"Support",description:"Always here to help you",gradient:"from-pink-500 via-rose-500 to-red-500",iconBg:"bg-aurora-500"}];return g.jsxs("div",{className:`relative py-32 overflow-hidden ${e==="dark"?"bg-neutral-950":"bg-white"}`,children:[g.jsxs("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-300",style:{backgroundImage:`url(${Vj})`},children:[g.jsx("div",{className:`absolute inset-0 ${e==="dark"?"bg-gradient-to-br from-neutral-950/95 via-neutral-950/85 to-neutral-900/90":"bg-gradient-to-br from-gray-900/80 via-gray-700/70 to-gray-900/80 opacity-95"}`}),g.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${e==="dark"?"from-neutral-950 via-transparent to-transparent":"from-white/90 via-transparent to-transparent"}`})]}),g.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 bg-primary-500/5 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-20 left-20 w-72 h-72 bg-accent-500/5 rounded-full blur-3xl animate-pulse delay-1000"}),g.jsx("div",{className:"section-container relative z-10",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[g.jsxs("div",{className:`space-y-8 animate-slide-right ${e==="dark"?"text-white":"text-gray-900"}`,children:[g.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 glass-dark rounded-full border border-primary-500/30",children:[g.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-accent-400",children:"Our Mission"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("h2",{className:"text-5xl md:text-6xl font-display font-bold leading-[1.1]",children:["A World Without",g.jsx("br",{}),g.jsx("span",{className:"text-gradient",children:"Language Barriers"})]}),g.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-primary-500 to-accent-500 rounded-full"})]}),g.jsxs("p",{className:`text-xl leading-relaxed max-w-2xl ${e==="dark"?"text-neutral-300":"text-gray-700"}`,children:["By combining cutting-edge AI with secure, seamless access, we bring people togetherbreaking down linguistic divides and building a more ",g.jsx("span",{className:"text-primary-400 font-semibold",children:"connected world"}),"."]})]}),g.jsx("div",{className:"grid grid-cols-1 gap-6 animate-slide-left",children:t.map(r=>g.jsx("div",{className:"group relative",children:g.jsxs("div",{className:"relative h-full bg-white dark:bg-slate-800 rounded-3xl p-8 border-2 border-neutral-200 dark:border-neutral-700 hover:border-primary-500 dark:hover:border-primary-400 transition-all duration-300 overflow-hidden",children:[g.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r.gradient} opacity-0 group-hover:opacity-5 dark:group-hover:opacity-10 transition-opacity duration-300`}),g.jsxs("div",{className:"relative z-10 flex items-start space-x-4",children:[g.jsx("div",{className:`w-14 h-14 ${r.iconBg} dark:${r.iconBg}/80 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300 flex-shrink-0`,children:g.jsx(r.icon,{className:"text-white text-2xl"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"text-4xl font-display font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-accent-400 mb-2",children:r.title}),g.jsx("div",{className:`font-medium ${e==="dark"?"text-neutral-300":"text-gray-800"}`,children:r.subtitle}),g.jsx("div",{className:`text-sm mt-1 ${e==="dark"?"text-neutral-500":"text-gray-600"}`,children:r.description})]})]}),g.jsx("div",{className:"pt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:g.jsx("div",{className:`h-1 w-full bg-gradient-to-r ${r.gradient} rounded-full`})})]})},r.id))})]})})]})},w_=A.forwardRef((e,t)=>{const r=[{id:"translate",icon:oO,title:"140+ Languages",subtitle:"Instant Translation",description:"Break down language barriers with support for over 140 languages. Chat naturally while our AI handles the translation in real-time.",features:["Real-time translation","Context-aware","Native accuracy"],gradient:"from-indigo-500 via-purple-500 to-pink-500",iconBg:"bg-indigo-500"},{id:"realtime",icon:O0,title:"Lightning Fast",subtitle:"Real-Time Speed",description:"Experience conversations without delays. Our Azure-powered infrastructure ensures messages translate in milliseconds, not seconds.",features:["&lt; 100ms latency","WebSocket powered","Always reliable"],gradient:"from-cyan-500 via-blue-500 to-indigo-500",iconBg:"bg-cyan-500"},{id:"global",icon:Gd,title:"Global Reach",subtitle:"Connect Worldwide",description:"Join chat rooms with people from around the world. Everyone sees messages in their own language automatically.",features:["Auto-detection","Smart routing","Secure encryption"],gradient:"from-pink-500 via-rose-500 to-red-500",iconBg:"bg-pink-500"}];return g.jsxs("div",{ref:t,id:"services",className:"relative py-20 bg-neutral-50 dark:bg-slate-900 transition-colors overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[g.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-primary-500/20 dark:bg-primary-500/10 rounded-full blur-3xl animate-float"}),g.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-accent-500/20 dark:bg-accent-500/10 rounded-full blur-3xl animate-float-delayed"})]}),g.jsxs("div",{className:"section-container relative z-10",children:[g.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16 space-y-6",children:[g.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-white dark:bg-slate-800 rounded-full border border-primary-200 dark:border-primary-800 shadow-sm",children:[g.jsx("div",{className:"w-2 h-2 bg-primary-500 dark:bg-primary-400 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-semibold bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"Our Services"})]}),g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100 leading-tight",children:["Everything you need to",g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"communicate globally"})]}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-300",children:"Powerful AI-driven services designed for seamless cross-language communication"})]}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((i,o)=>g.jsx("div",{className:"group relative",children:g.jsxs("div",{className:"relative h-full bg-white dark:bg-slate-800 rounded-3xl p-8 border-2 border-neutral-200 dark:border-neutral-700 hover:border-primary-500 dark:hover:border-primary-400 transition-all duration-300 overflow-hidden",children:[g.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i.gradient} opacity-0 group-hover:opacity-5 dark:group-hover:opacity-10 transition-opacity duration-300`}),g.jsxs("div",{className:"relative z-10 space-y-6",children:[g.jsx("div",{className:`inline-flex p-4 ${i.iconBg} dark:${i.iconBg}/80 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300`,children:g.jsx(i.icon,{className:"text-3xl text-white"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-semibold text-neutral-500 dark:text-neutral-400 uppercase tracking-wider",children:i.subtitle}),g.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:i.title})]}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 leading-relaxed",children:i.description}),g.jsx("ul",{className:"space-y-2",children:i.features.map((l,c)=>g.jsxs("li",{className:"flex items-center space-x-2 text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsx(g_,{className:"text-success-600 dark:text-success-400 flex-shrink-0"}),g.jsx("span",{children:l})]},c))}),g.jsx("div",{className:"pt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:g.jsx("div",{className:`h-1 w-full bg-gradient-to-r ${i.gradient} rounded-full`})})]})]})},i.id))}),g.jsx("div",{className:"mt-16 text-center",children:g.jsxs("div",{className:"inline-flex flex-col md:flex-row items-center gap-4 p-8 bg-white dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 shadow-lg",children:[g.jsxs("div",{className:"text-center md:text-left",children:[g.jsx("p",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Ready to connect with the world?"}),g.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Start chatting in any language, instantly"})]}),g.jsx(qr,{to:"/Chat",className:"px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-primary-500/30 whitespace-nowrap",children:"Start Chatting"})]})})]})]})});w_.displayName="Service";const Fx=[{id:"Home",title:"Home"},{id:"Chat",title:"Chat"},{id:"Help",title:"Help"}],EO=[{language:"Afrikaans",code:"af"},{language:"Albanian",code:"sq"},{language:"Amharic",code:"am"},{language:"Arabic",code:"ar"},{language:"Armenian",code:"hy"},{language:"Assamese",code:"as"},{language:"Azerbaijani (Latin)",code:"az"},{language:"Bangla",code:"bn"},{language:"Bashkir",code:"ba"},{language:"Basque",code:"eu"},{language:"Bhojpuri",code:"bho"},{language:"Bodo",code:"brx"},{language:"Bosnian (Latin)",code:"bs"},{language:"Bulgarian",code:"bg"},{language:"Cantonese (Traditional)",code:"yue"},{language:"Catalan",code:"ca"},{language:"Chinese (Literary)",code:"lzh"},{language:"Chinese Simplified",code:"zh-Hans"},{language:"Chinese Traditional",code:"zh-Hant"},{language:"chiShona",code:"sn"},{language:"Croatian",code:"hr"},{language:"Czech",code:"cs"},{language:"Danish",code:"da"},{language:"Dari",code:"prs"},{language:"Divehi",code:"dv"},{language:"Dogri",code:"doi"},{language:"Dutch",code:"nl"},{language:"English",code:"en"},{language:"Estonian",code:"et"},{language:"Faroese",code:"fo"},{language:"Fijian",code:"fj"},{language:"Filipino",code:"fil"},{language:"Finnish",code:"fi"},{language:"French",code:"fr"},{language:"French (Canada)",code:"fr-ca"},{language:"Galician",code:"gl"},{language:"Georgian",code:"ka"},{language:"German",code:"de"},{language:"Greek",code:"el"},{language:"Gujarati",code:"gu"},{language:"Haitian Creole",code:"ht"},{language:"Hausa",code:"ha"},{language:"Hebrew",code:"he"},{language:"Hindi",code:"hi"},{language:"Hmong Daw (Latin)",code:"mww"},{language:"Hungarian",code:"hu"},{language:"Icelandic",code:"is"},{language:"Igbo",code:"ig"},{language:"Indonesian",code:"id"},{language:"Inuinnaqtun",code:"ikt"},{language:"Inuktitut",code:"iu"},{language:"Inuktitut (Latin)",code:"iu-Latn"},{language:"Irish",code:"ga"},{language:"Italian",code:"it"},{language:"Japanese",code:"ja"},{language:"Kannada",code:"kn"},{language:"Kashmiri",code:"ks"},{language:"Kazakh",code:"kk"},{language:"Khmer",code:"km"},{language:"Kinyarwanda",code:"rw"},{language:"Klingon (Latin)",code:"tlh-Latn"},{language:"Klingon (plqaD)",code:"tlh-Piqd"},{language:"Konkani",code:"gom"},{language:"Korean",code:"ko"},{language:"Kurdish (Central)",code:"ku"},{language:"Kurdish (Northern)",code:"kmr"},{language:"Kyrgyz (Cyrillic)",code:"ky"},{language:"Lao",code:"lo"},{language:"Latvian",code:"lv"},{language:"Lithuanian",code:"lt"},{language:"Lingala",code:"ln"},{language:"Lower Sorbian",code:"dsb"},{language:"Luganda",code:"lug"},{language:"Macedonian",code:"mk"},{language:"Maithili",code:"mai"},{language:"Malagasy",code:"mg"},{language:"Malay (Latin)",code:"ms"},{language:"Malayalam",code:"ml"},{language:"Maltese",code:"mt"},{language:"Maori",code:"mi"},{language:"Marathi",code:"mr"},{language:"Mongolian (Cyrillic)",code:"mn-Cyrl"},{language:"Mongolian (Traditional)",code:"mn-Mong"},{language:"Myanmar",code:"my"},{language:"Nepali",code:"ne"},{language:"Norwegian Bokml",code:"nb"},{language:"Nyanja",code:"nya"},{language:"Odia",code:"or"},{language:"Pashto",code:"ps"},{language:"Persian",code:"fa"},{language:"Polish",code:"pl"},{language:"Portuguese (Brazil)",code:"pt"},{language:"Portuguese (Portugal)",code:"pt-pt"},{language:"Punjabi",code:"pa"},{language:"Queretaro Otomi",code:"otq"},{language:"Romanian",code:"ro"},{language:"Rundi",code:"run"},{language:"Russian",code:"ru"},{language:"Samoan (Latin)",code:"sm"},{language:"Serbian (Cyrillic)",code:"sr-Cyrl"},{language:"Serbian (Latin)",code:"sr-Latn"},{language:"Sesotho",code:"st"},{language:"Sesotho sa Leboa",code:"nso"},{language:"Setswana",code:"tn"},{language:"Sindhi",code:"sd"},{language:"Sinhala",code:"si"},{language:"Slovak",code:"sk"},{language:"Slovenian",code:"sl"},{language:"Somali (Arabic)",code:"so"},{language:"Spanish",code:"es"},{language:"Swahili (Latin)",code:"sw"},{language:"Swedish",code:"sv"},{language:"Tahitian",code:"ty"},{language:"Tamil",code:"ta"},{language:"Tatar (Latin)",code:"tt"},{language:"Telugu",code:"te"},{language:"Thai",code:"th"},{language:"Tibetan",code:"bo"},{language:"Tigrinya",code:"ti"},{language:"Tongan",code:"to"},{language:"Turkish",code:"tr"},{language:"Turkmen (Latin)",code:"tk"},{language:"Ukrainian",code:"uk"},{language:"Upper Sorbian",code:"hsb"},{language:"Urdu",code:"ur"},{language:"Uyghur (Arabic)",code:"ug"},{language:"Uzbek (Latin)",code:"uz"},{language:"Vietnamese",code:"vi"},{language:"Welsh",code:"cy"},{language:"Xhosa",code:"xh"},{language:"Yoruba",code:"yo"},{language:"Yucatec Maya",code:"yua"},{language:"Zulu",code:"zu"}];function E_(e,t){return function(){return e.apply(t,arguments)}}const{toString:TO}=Object.prototype,{getPrototypeOf:B0}=Object,lf=(e=>t=>{const r=TO.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Pn=e=>(e=e.toLowerCase(),t=>lf(t)===e),uf=e=>t=>typeof t===e,{isArray:ca}=Array,zd=uf("undefined");function PO(e){return e!==null&&!zd(e)&&e.constructor!==null&&!zd(e.constructor)&&Br(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const T_=Pn("ArrayBuffer");function AO(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&T_(e.buffer),t}const _O=uf("string"),Br=uf("function"),P_=uf("number"),df=e=>e!==null&&typeof e=="object",kO=e=>e===!0||e===!1,Tp=e=>{if(lf(e)!=="object")return!1;const t=B0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},MO=Pn("Date"),NO=Pn("File"),IO=Pn("Blob"),jO=Pn("FileList"),OO=e=>df(e)&&Br(e.pipe),DO=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Br(e.append)&&((t=lf(e))==="formdata"||t==="object"&&Br(e.toString)&&e.toString()==="[object FormData]"))},zO=Pn("URLSearchParams"),[LO,qO,BO,UO]=["ReadableStream","Request","Response","Headers"].map(Pn),VO=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jd(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let i,o;if(typeof e!="object"&&(e=[e]),ca(e))for(i=0,o=e.length;i<o;i++)t.call(null,e[i],i,e);else{const l=r?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let a;for(i=0;i<c;i++)a=l[i],t.call(null,e[a],a,e)}}function A_(e,t){t=t.toLowerCase();const r=Object.keys(e);let i=r.length,o;for(;i-- >0;)if(o=r[i],t===o.toLowerCase())return o;return null}const Xs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,__=e=>!zd(e)&&e!==Xs;function Oy(){const{caseless:e}=__(this)&&this||{},t={},r=(i,o)=>{const l=e&&A_(t,o)||o;Tp(t[l])&&Tp(i)?t[l]=Oy(t[l],i):Tp(i)?t[l]=Oy({},i):ca(i)?t[l]=i.slice():t[l]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Jd(arguments[i],r);return t}const FO=(e,t,r,{allOwnKeys:i}={})=>(Jd(t,(o,l)=>{r&&Br(o)?e[l]=E_(o,r):e[l]=o},{allOwnKeys:i}),e),HO=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),$O=(e,t,r,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},KO=(e,t,r,i)=>{let o,l,c;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)c=o[l],(!i||i(c,e,t))&&!a[c]&&(t[c]=e[c],a[c]=!0);e=r!==!1&&B0(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},WO=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const i=e.indexOf(t,r);return i!==-1&&i===r},GO=e=>{if(!e)return null;if(ca(e))return e;let t=e.length;if(!P_(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},JO=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&B0(Uint8Array)),YO=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=i.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},QO=(e,t)=>{let r;const i=[];for(;(r=e.exec(t))!==null;)i.push(r);return i},XO=Pn("HTMLFormElement"),ZO=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,o){return i.toUpperCase()+o}),Hx=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),eD=Pn("RegExp"),k_=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),i={};Jd(r,(o,l)=>{let c;(c=t(o,l,e))!==!1&&(i[l]=c||o)}),Object.defineProperties(e,i)},tD=e=>{k_(e,(t,r)=>{if(Br(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=e[r];if(Br(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},rD=(e,t)=>{const r={},i=o=>{o.forEach(l=>{r[l]=!0})};return ca(e)?i(e):i(String(e).split(t)),r},nD=()=>{},iD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function sD(e){return!!(e&&Br(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const oD=e=>{const t=new Array(10),r=(i,o)=>{if(df(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[o]=i;const l=ca(i)?[]:{};return Jd(i,(c,a)=>{const d=r(c,o+1);!zd(d)&&(l[a]=d)}),t[o]=void 0,l}}return i};return r(e,0)},aD=Pn("AsyncFunction"),cD=e=>e&&(df(e)||Br(e))&&Br(e.then)&&Br(e.catch),M_=((e,t)=>e?setImmediate:t?((r,i)=>(Xs.addEventListener("message",({source:o,data:l})=>{o===Xs&&l===r&&i.length&&i.shift()()},!1),o=>{i.push(o),Xs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Br(Xs.postMessage)),lD=typeof queueMicrotask<"u"?queueMicrotask.bind(Xs):typeof process<"u"&&process.nextTick||M_,W={isArray:ca,isArrayBuffer:T_,isBuffer:PO,isFormData:DO,isArrayBufferView:AO,isString:_O,isNumber:P_,isBoolean:kO,isObject:df,isPlainObject:Tp,isReadableStream:LO,isRequest:qO,isResponse:BO,isHeaders:UO,isUndefined:zd,isDate:MO,isFile:NO,isBlob:IO,isRegExp:eD,isFunction:Br,isStream:OO,isURLSearchParams:zO,isTypedArray:JO,isFileList:jO,forEach:Jd,merge:Oy,extend:FO,trim:VO,stripBOM:HO,inherits:$O,toFlatObject:KO,kindOf:lf,kindOfTest:Pn,endsWith:WO,toArray:GO,forEachEntry:YO,matchAll:QO,isHTMLForm:XO,hasOwnProperty:Hx,hasOwnProp:Hx,reduceDescriptors:k_,freezeMethods:tD,toObjectSet:rD,toCamelCase:ZO,noop:nD,toFiniteNumber:iD,findKey:A_,global:Xs,isContextDefined:__,isSpecCompliantForm:sD,toJSONObject:oD,isAsyncFn:aD,isThenable:cD,setImmediate:M_,asap:lD};function Ke(e,t,r,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}W.inherits(Ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const N_=Ke.prototype,I_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{I_[e]={value:e}});Object.defineProperties(Ke,I_);Object.defineProperty(N_,"isAxiosError",{value:!0});Ke.from=(e,t,r,i,o,l)=>{const c=Object.create(N_);return W.toFlatObject(e,c,function(d){return d!==Error.prototype},a=>a!=="isAxiosError"),Ke.call(c,e.message,t,r,i,o),c.cause=e,c.name=e.name,l&&Object.assign(c,l),c};const uD=null;function Dy(e){return W.isPlainObject(e)||W.isArray(e)}function j_(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function $x(e,t,r){return e?e.concat(t).map(function(o,l){return o=j_(o),!r&&l?"["+o+"]":o}).join(r?".":""):t}function dD(e){return W.isArray(e)&&!e.some(Dy)}const hD=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function hf(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,R){return!W.isUndefined(R[x])});const i=r.metaTokens,o=r.visitor||p,l=r.dots,c=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(o))throw new TypeError("visitor must be a function");function h(C){if(C===null)return"";if(W.isDate(C))return C.toISOString();if(!d&&W.isBlob(C))throw new Ke("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(C)||W.isTypedArray(C)?d&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function p(C,x,R){let w=C;if(C&&!R&&typeof C=="object"){if(W.endsWith(x,"{}"))x=i?x:x.slice(0,-2),C=JSON.stringify(C);else if(W.isArray(C)&&dD(C)||(W.isFileList(C)||W.endsWith(x,"[]"))&&(w=W.toArray(C)))return x=j_(x),w.forEach(function(P,I){!(W.isUndefined(P)||P===null)&&t.append(c===!0?$x([x],I,l):c===null?x:x+"[]",h(P))}),!1}return Dy(C)?!0:(t.append($x(R,x,l),h(C)),!1)}const v=[],m=Object.assign(hD,{defaultVisitor:p,convertValue:h,isVisitable:Dy});function S(C,x){if(!W.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+x.join("."));v.push(C),W.forEach(C,function(w,T){(!(W.isUndefined(w)||w===null)&&o.call(t,w,W.isString(T)?T.trim():T,x,m))===!0&&S(w,x?x.concat(T):[T])}),v.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return S(e),t}function Kx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function U0(e,t){this._pairs=[],e&&hf(e,this,t)}const O_=U0.prototype;O_.append=function(t,r){this._pairs.push([t,r])};O_.toString=function(t){const r=t?function(i){return t.call(this,i,Kx)}:Kx;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function pD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function D_(e,t,r){if(!t)return e;const i=r&&r.encode||pD;W.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let l;if(o?l=o(t,r):l=W.isURLSearchParams(t)?t.toString():new U0(t,r).toString(i),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Wx{constructor(){this.handlers=[]}use(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(i){i!==null&&t(i)})}}const z_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fD=typeof URLSearchParams<"u"?URLSearchParams:U0,vD=typeof FormData<"u"?FormData:null,mD=typeof Blob<"u"?Blob:null,gD={isBrowser:!0,classes:{URLSearchParams:fD,FormData:vD,Blob:mD},protocols:["http","https","file","blob","url","data"]},V0=typeof window<"u"&&typeof document<"u",zy=typeof navigator=="object"&&navigator||void 0,yD=V0&&(!zy||["ReactNative","NativeScript","NS"].indexOf(zy.product)<0),SD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bD=V0&&window.location.href||"http://localhost",CD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:V0,hasStandardBrowserEnv:yD,hasStandardBrowserWebWorkerEnv:SD,navigator:zy,origin:bD},Symbol.toStringTag,{value:"Module"})),ur={...CD,...gD};function xD(e,t){return hf(e,new ur.classes.URLSearchParams,Object.assign({visitor:function(r,i,o,l){return ur.isNode&&W.isBuffer(r)?(this.append(i,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function RD(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function wD(e){const t={},r=Object.keys(e);let i;const o=r.length;let l;for(i=0;i<o;i++)l=r[i],t[l]=e[l];return t}function L_(e){function t(r,i,o,l){let c=r[l++];if(c==="__proto__")return!0;const a=Number.isFinite(+c),d=l>=r.length;return c=!c&&W.isArray(o)?o.length:c,d?(W.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!a):((!o[c]||!W.isObject(o[c]))&&(o[c]=[]),t(r,i,o[c],l)&&W.isArray(o[c])&&(o[c]=wD(o[c])),!a)}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(i,o)=>{t(RD(i),o,r,0)}),r}return null}function ED(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}const Yd={transitional:z_,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const i=r.getContentType()||"",o=i.indexOf("application/json")>-1,l=W.isObject(t);if(l&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return o?JSON.stringify(L_(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return xD(t,this.formSerializer).toString();if((a=W.isFileList(t))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return hf(a?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||o?(r.setContentType("application/json",!1),ED(t)):t}],transformResponse:[function(t){const r=this.transitional||Yd.transitional,i=r&&r.forcedJSONParsing,o=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(i&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(c)throw a.name==="SyntaxError"?Ke.from(a,Ke.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur.classes.FormData,Blob:ur.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Yd.headers[e]={}});const TD=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PD=e=>{const t={};let r,i,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!r||t[r]&&TD[r])&&(r==="set-cookie"?t[r]?t[r].push(i):t[r]=[i]:t[r]=t[r]?t[r]+", "+i:i)}),t},Gx=Symbol("internals");function mc(e){return e&&String(e).trim().toLowerCase()}function Pp(e){return e===!1||e==null?e:W.isArray(e)?e.map(Pp):String(e)}function AD(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(e);)t[i[1]]=i[2];return t}const _D=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function jm(e,t,r,i,o){if(W.isFunction(i))return i.call(this,t,r);if(o&&(t=r),!!W.isString(t)){if(W.isString(i))return t.indexOf(i)!==-1;if(W.isRegExp(i))return i.test(t)}}function kD(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,i)=>r.toUpperCase()+i)}function MD(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+r,{value:function(o,l,c){return this[i].call(this,t,o,l,c)},configurable:!0})})}let kr=class{constructor(t){t&&this.set(t)}set(t,r,i){const o=this;function l(a,d,h){const p=mc(d);if(!p)throw new Error("header name must be a non-empty string");const v=W.findKey(o,p);(!v||o[v]===void 0||h===!0||h===void 0&&o[v]!==!1)&&(o[v||d]=Pp(a))}const c=(a,d)=>W.forEach(a,(h,p)=>l(h,p,d));if(W.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(W.isString(t)&&(t=t.trim())&&!_D(t))c(PD(t),r);else if(W.isHeaders(t))for(const[a,d]of t.entries())l(d,a,i);else t!=null&&l(r,t,i);return this}get(t,r){if(t=mc(t),t){const i=W.findKey(this,t);if(i){const o=this[i];if(!r)return o;if(r===!0)return AD(o);if(W.isFunction(r))return r.call(this,o,i);if(W.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=mc(t),t){const i=W.findKey(this,t);return!!(i&&this[i]!==void 0&&(!r||jm(this,this[i],i,r)))}return!1}delete(t,r){const i=this;let o=!1;function l(c){if(c=mc(c),c){const a=W.findKey(i,c);a&&(!r||jm(i,i[a],a,r))&&(delete i[a],o=!0)}}return W.isArray(t)?t.forEach(l):l(t),o}clear(t){const r=Object.keys(this);let i=r.length,o=!1;for(;i--;){const l=r[i];(!t||jm(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const r=this,i={};return W.forEach(this,(o,l)=>{const c=W.findKey(i,l);if(c){r[c]=Pp(o),delete r[l];return}const a=t?kD(l):String(l).trim();a!==l&&delete r[l],r[a]=Pp(o),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return W.forEach(this,(i,o)=>{i!=null&&i!==!1&&(r[o]=t&&W.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const i=new this(t);return r.forEach(o=>i.set(o)),i}static accessor(t){const i=(this[Gx]=this[Gx]={accessors:{}}).accessors,o=this.prototype;function l(c){const a=mc(c);i[a]||(MD(o,c),i[a]=!0)}return W.isArray(t)?t.forEach(l):l(t),this}};kr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(kr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[r]=i}}});W.freezeMethods(kr);function Om(e,t){const r=this||Yd,i=t||r,o=kr.from(i.headers);let l=i.data;return W.forEach(e,function(a){l=a.call(r,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function q_(e){return!!(e&&e.__CANCEL__)}function la(e,t,r){Ke.call(this,e??"canceled",Ke.ERR_CANCELED,t,r),this.name="CanceledError"}W.inherits(la,Ke,{__CANCEL__:!0});function B_(e,t,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):t(new Ke("Request failed with status code "+r.status,[Ke.ERR_BAD_REQUEST,Ke.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ND(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ID(e,t){e=e||10;const r=new Array(e),i=new Array(e);let o=0,l=0,c;return t=t!==void 0?t:1e3,function(d){const h=Date.now(),p=i[l];c||(c=h),r[o]=d,i[o]=h;let v=l,m=0;for(;v!==o;)m+=r[v++],v=v%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),h-c<t)return;const S=p&&h-p;return S?Math.round(m*1e3/S):void 0}}function jD(e,t){let r=0,i=1e3/t,o,l;const c=(h,p=Date.now())=>{r=p,o=null,l&&(clearTimeout(l),l=null),e.apply(null,h)};return[(...h)=>{const p=Date.now(),v=p-r;v>=i?c(h,p):(o=h,l||(l=setTimeout(()=>{l=null,c(o)},i-v)))},()=>o&&c(o)]}const Kp=(e,t,r=3)=>{let i=0;const o=ID(50,250);return jD(l=>{const c=l.loaded,a=l.lengthComputable?l.total:void 0,d=c-i,h=o(d),p=c<=a;i=c;const v={loaded:c,total:a,progress:a?c/a:void 0,bytes:d,rate:h||void 0,estimated:h&&a&&p?(a-c)/h:void 0,event:l,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(v)},r)},Jx=(e,t)=>{const r=e!=null;return[i=>t[0]({lengthComputable:r,total:e,loaded:i}),t[1]]},Yx=e=>(...t)=>W.asap(()=>e(...t)),OD=ur.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ur.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ur.origin),ur.navigator&&/(msie|trident)/i.test(ur.navigator.userAgent)):()=>!0,DD=ur.hasStandardBrowserEnv?{write(e,t,r,i,o,l){const c=[e+"="+encodeURIComponent(t)];W.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),W.isString(i)&&c.push("path="+i),W.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function zD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function LD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function U_(e,t,r){let i=!zD(t);return e&&i||r==!1?LD(e,t):t}const Qx=e=>e instanceof kr?{...e}:e;function co(e,t){t=t||{};const r={};function i(h,p,v,m){return W.isPlainObject(h)&&W.isPlainObject(p)?W.merge.call({caseless:m},h,p):W.isPlainObject(p)?W.merge({},p):W.isArray(p)?p.slice():p}function o(h,p,v,m){if(W.isUndefined(p)){if(!W.isUndefined(h))return i(void 0,h,v,m)}else return i(h,p,v,m)}function l(h,p){if(!W.isUndefined(p))return i(void 0,p)}function c(h,p){if(W.isUndefined(p)){if(!W.isUndefined(h))return i(void 0,h)}else return i(void 0,p)}function a(h,p,v){if(v in t)return i(h,p);if(v in e)return i(void 0,h)}const d={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:a,headers:(h,p,v)=>o(Qx(h),Qx(p),v,!0)};return W.forEach(Object.keys(Object.assign({},e,t)),function(p){const v=d[p]||o,m=v(e[p],t[p],p);W.isUndefined(m)&&v!==a||(r[p]=m)}),r}const V_=e=>{const t=co({},e);let{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:a}=t;t.headers=c=kr.from(c),t.url=D_(U_(t.baseURL,t.url),e.params,e.paramsSerializer),a&&c.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let d;if(W.isFormData(r)){if(ur.hasStandardBrowserEnv||ur.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((d=c.getContentType())!==!1){const[h,...p]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];c.setContentType([h||"multipart/form-data",...p].join("; "))}}if(ur.hasStandardBrowserEnv&&(i&&W.isFunction(i)&&(i=i(t)),i||i!==!1&&OD(t.url))){const h=o&&l&&DD.read(l);h&&c.set(o,h)}return t},qD=typeof XMLHttpRequest<"u",BD=qD&&function(e){return new Promise(function(r,i){const o=V_(e);let l=o.data;const c=kr.from(o.headers).normalize();let{responseType:a,onUploadProgress:d,onDownloadProgress:h}=o,p,v,m,S,C;function x(){S&&S(),C&&C(),o.cancelToken&&o.cancelToken.unsubscribe(p),o.signal&&o.signal.removeEventListener("abort",p)}let R=new XMLHttpRequest;R.open(o.method.toUpperCase(),o.url,!0),R.timeout=o.timeout;function w(){if(!R)return;const P=kr.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:P,config:e,request:R};B_(function(H){r(H),x()},function(H){i(H),x()},k),R=null}"onloadend"in R?R.onloadend=w:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(w)},R.onabort=function(){R&&(i(new Ke("Request aborted",Ke.ECONNABORTED,e,R)),R=null)},R.onerror=function(){i(new Ke("Network Error",Ke.ERR_NETWORK,e,R)),R=null},R.ontimeout=function(){let I=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const k=o.transitional||z_;o.timeoutErrorMessage&&(I=o.timeoutErrorMessage),i(new Ke(I,k.clarifyTimeoutError?Ke.ETIMEDOUT:Ke.ECONNABORTED,e,R)),R=null},l===void 0&&c.setContentType(null),"setRequestHeader"in R&&W.forEach(c.toJSON(),function(I,k){R.setRequestHeader(k,I)}),W.isUndefined(o.withCredentials)||(R.withCredentials=!!o.withCredentials),a&&a!=="json"&&(R.responseType=o.responseType),h&&([m,C]=Kp(h,!0),R.addEventListener("progress",m)),d&&R.upload&&([v,S]=Kp(d),R.upload.addEventListener("progress",v),R.upload.addEventListener("loadend",S)),(o.cancelToken||o.signal)&&(p=P=>{R&&(i(!P||P.type?new la(null,e,R):P),R.abort(),R=null)},o.cancelToken&&o.cancelToken.subscribe(p),o.signal&&(o.signal.aborted?p():o.signal.addEventListener("abort",p)));const T=ND(o.url);if(T&&ur.protocols.indexOf(T)===-1){i(new Ke("Unsupported protocol "+T+":",Ke.ERR_BAD_REQUEST,e));return}R.send(l||null)})},UD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let i=new AbortController,o;const l=function(h){if(!o){o=!0,a();const p=h instanceof Error?h:this.reason;i.abort(p instanceof Ke?p:new la(p instanceof Error?p.message:p))}};let c=t&&setTimeout(()=>{c=null,l(new Ke(`timeout ${t} of ms exceeded`,Ke.ETIMEDOUT))},t);const a=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(l):h.removeEventListener("abort",l)}),e=null)};e.forEach(h=>h.addEventListener("abort",l));const{signal:d}=i;return d.unsubscribe=()=>W.asap(a),d}},VD=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let i=0,o;for(;i<r;)o=i+t,yield e.slice(i,o),i=o},FD=async function*(e,t){for await(const r of HD(e))yield*VD(r,t)},HD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:i}=await t.read();if(r)break;yield i}}finally{await t.cancel()}},Xx=(e,t,r,i)=>{const o=FD(e,t);let l=0,c,a=d=>{c||(c=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:h,value:p}=await o.next();if(h){a(),d.close();return}let v=p.byteLength;if(r){let m=l+=v;r(m)}d.enqueue(new Uint8Array(p))}catch(h){throw a(h),h}},cancel(d){return a(d),o.return()}},{highWaterMark:2})},pf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",F_=pf&&typeof ReadableStream=="function",$D=pf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),H_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},KD=F_&&H_(()=>{let e=!1;const t=new Request(ur.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Zx=64*1024,Ly=F_&&H_(()=>W.isReadableStream(new Response("").body)),Wp={stream:Ly&&(e=>e.body)};pf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Wp[t]&&(Wp[t]=W.isFunction(e[t])?r=>r[t]():(r,i)=>{throw new Ke(`Response type '${t}' is not supported`,Ke.ERR_NOT_SUPPORT,i)})})})(new Response);const WD=async e=>{if(e==null)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e))return(await new Request(ur.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(W.isArrayBufferView(e)||W.isArrayBuffer(e))return e.byteLength;if(W.isURLSearchParams(e)&&(e=e+""),W.isString(e))return(await $D(e)).byteLength},GD=async(e,t)=>{const r=W.toFiniteNumber(e.getContentLength());return r??WD(t)},JD=pf&&(async e=>{let{url:t,method:r,data:i,signal:o,cancelToken:l,timeout:c,onDownloadProgress:a,onUploadProgress:d,responseType:h,headers:p,withCredentials:v="same-origin",fetchOptions:m}=V_(e);h=h?(h+"").toLowerCase():"text";let S=UD([o,l&&l.toAbortSignal()],c),C;const x=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let R;try{if(d&&KD&&r!=="get"&&r!=="head"&&(R=await GD(p,i))!==0){let k=new Request(t,{method:"POST",body:i,duplex:"half"}),U;if(W.isFormData(i)&&(U=k.headers.get("content-type"))&&p.setContentType(U),k.body){const[H,q]=Jx(R,Kp(Yx(d)));i=Xx(k.body,Zx,H,q)}}W.isString(v)||(v=v?"include":"omit");const w="credentials"in Request.prototype;C=new Request(t,{...m,signal:S,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:i,duplex:"half",credentials:w?v:void 0});let T=await fetch(C);const P=Ly&&(h==="stream"||h==="response");if(Ly&&(a||P&&x)){const k={};["status","statusText","headers"].forEach(F=>{k[F]=T[F]});const U=W.toFiniteNumber(T.headers.get("content-length")),[H,q]=a&&Jx(U,Kp(Yx(a),!0))||[];T=new Response(Xx(T.body,Zx,H,()=>{q&&q(),x&&x()}),k)}h=h||"text";let I=await Wp[W.findKey(Wp,h)||"text"](T,e);return!P&&x&&x(),await new Promise((k,U)=>{B_(k,U,{data:I,headers:kr.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:C})})}catch(w){throw x&&x(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Ke("Network Error",Ke.ERR_NETWORK,e,C),{cause:w.cause||w}):Ke.from(w,w&&w.code,e,C)}}),qy={http:uD,xhr:BD,fetch:JD};W.forEach(qy,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const eR=e=>`- ${e}`,YD=e=>W.isFunction(e)||e===null||e===!1,$_={getAdapter:e=>{e=W.isArray(e)?e:[e];const{length:t}=e;let r,i;const o={};for(let l=0;l<t;l++){r=e[l];let c;if(i=r,!YD(r)&&(i=qy[(c=String(r)).toLowerCase()],i===void 0))throw new Ke(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+l]=i}if(!i){const l=Object.entries(o).map(([a,d])=>`adapter ${a} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=t?l.length>1?`since :
`+l.map(eR).join(`
`):" "+eR(l[0]):"as no adapter specified";throw new Ke("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:qy};function Dm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new la(null,e)}function tR(e){return Dm(e),e.headers=kr.from(e.headers),e.data=Om.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),$_.getAdapter(e.adapter||Yd.adapter)(e).then(function(i){return Dm(e),i.data=Om.call(e,e.transformResponse,i),i.headers=kr.from(i.headers),i},function(i){return q_(i)||(Dm(e),i&&i.response&&(i.response.data=Om.call(e,e.transformResponse,i.response),i.response.headers=kr.from(i.response.headers))),Promise.reject(i)})}const K_="1.8.1",ff={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ff[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const rR={};ff.transitional=function(t,r,i){function o(l,c){return"[Axios v"+K_+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,a)=>{if(t===!1)throw new Ke(o(c," has been removed"+(r?" in "+r:"")),Ke.ERR_DEPRECATED);return r&&!rR[c]&&(rR[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,c,a):!0}};ff.spelling=function(t){return(r,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function QD(e,t,r){if(typeof e!="object")throw new Ke("options must be an object",Ke.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;for(;o-- >0;){const l=i[o],c=t[l];if(c){const a=e[l],d=a===void 0||c(a,l,e);if(d!==!0)throw new Ke("option "+l+" must be "+d,Ke.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ke("Unknown option "+l,Ke.ERR_BAD_OPTION)}}const Ap={assertOptions:QD,validators:ff},jn=Ap.validators;let no=class{constructor(t){this.defaults=t,this.interceptors={request:new Wx,response:new Wx}}async request(t,r){try{return await this._request(t,r)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=co(this.defaults,r);const{transitional:i,paramsSerializer:o,headers:l}=r;i!==void 0&&Ap.assertOptions(i,{silentJSONParsing:jn.transitional(jn.boolean),forcedJSONParsing:jn.transitional(jn.boolean),clarifyTimeoutError:jn.transitional(jn.boolean)},!1),o!=null&&(W.isFunction(o)?r.paramsSerializer={serialize:o}:Ap.assertOptions(o,{encode:jn.function,serialize:jn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ap.assertOptions(r,{baseUrl:jn.spelling("baseURL"),withXsrfToken:jn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=l&&W.merge(l.common,l[r.method]);l&&W.forEach(["delete","get","head","post","put","patch","common"],C=>{delete l[C]}),r.headers=kr.concat(c,l);const a=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(d=d&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const h=[];this.interceptors.response.forEach(function(x){h.push(x.fulfilled,x.rejected)});let p,v=0,m;if(!d){const C=[tR.bind(this),void 0];for(C.unshift.apply(C,a),C.push.apply(C,h),m=C.length,p=Promise.resolve(r);v<m;)p=p.then(C[v++],C[v++]);return p}m=a.length;let S=r;for(v=0;v<m;){const C=a[v++],x=a[v++];try{S=C(S)}catch(R){x.call(this,R);break}}try{p=tR.call(this,S)}catch(C){return Promise.reject(C)}for(v=0,m=h.length;v<m;)p=p.then(h[v++],h[v++]);return p}getUri(t){t=co(this.defaults,t);const r=U_(t.baseURL,t.url,t.allowAbsoluteUrls);return D_(r,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){no.prototype[t]=function(r,i){return this.request(co(i||{},{method:t,url:r,data:(i||{}).data}))}});W.forEach(["post","put","patch"],function(t){function r(i){return function(l,c,a){return this.request(co(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}no.prototype[t]=r(),no.prototype[t+"Form"]=r(!0)});let XD=class W_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const i=this;this.promise.then(o=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](o);i._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(a=>{i.subscribe(a),l=a}).then(o);return c.cancel=function(){i.unsubscribe(l)},c},t(function(l,c,a){i.reason||(i.reason=new la(l,c,a),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=i=>{t.abort(i)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new W_(function(o){t=o}),cancel:t}}};function ZD(e){return function(r){return e.apply(null,r)}}function e5(e){return W.isObject(e)&&e.isAxiosError===!0}const By={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(By).forEach(([e,t])=>{By[t]=e});function G_(e){const t=new no(e),r=E_(no.prototype.request,t);return W.extend(r,no.prototype,t,{allOwnKeys:!0}),W.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return G_(co(e,o))},r}const Be=G_(Yd);Be.Axios=no;Be.CanceledError=la;Be.CancelToken=XD;Be.isCancel=q_;Be.VERSION=K_;Be.toFormData=hf;Be.AxiosError=Ke;Be.Cancel=Be.CanceledError;Be.all=function(t){return Promise.all(t)};Be.spread=ZD;Be.isAxiosError=e5;Be.mergeConfig=co;Be.AxiosHeaders=kr;Be.formToJSON=e=>L_(W.isHTMLForm(e)?new FormData(e):e);Be.getAdapter=$_.getAdapter;Be.HttpStatusCode=By;Be.default=Be;const{Axios:$F,AxiosError:KF,CanceledError:WF,isCancel:GF,CancelToken:JF,VERSION:YF,all:QF,Cancel:XF,isAxiosError:ZF,spread:eH,toFormData:tH,AxiosHeaders:rH,HttpStatusCode:nH,formToJSON:iH,getAdapter:sH,mergeConfig:oH}=Be,t5=()=>"https://unifychat-2.onrender.com",ft=t5(),vi=Be.create({baseURL:ft,withCredentials:!0,headers:{"Content-Type":"application/json"},timeout:15e3});vi.interceptors.request.use(e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));vi.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("authToken"),localStorage.removeItem("user_id"),window.location.pathname!=="/Signin"&&(window.location.href="/Signin")),Promise.reject(e)});const J_=A.createContext(),r5=({children:e})=>{console.log("AuthProvider rendered");const[t,r]=A.useState(null),[i,o]=A.useState(!0),[l,c]=A.useState(null);A.useEffect(()=>{const v=localStorage.getItem("authToken");console.log(v),v?(Be.defaults.headers.common.Authorization=`Bearer ${v}`,h()):o(!1)},[]);const a=v=>{localStorage.setItem("authToken",v),Be.defaults.headers.common.Authorization=`Bearer ${v}`,h()},d=()=>{localStorage.removeItem("authToken"),r(null),delete Be.defaults.headers.common.Authorization},h=async()=>{try{const m=(await Be.get(`${ft}/auth/me`)).data.data.user;r(m),m!=null&&m.id&&localStorage.setItem("user_id",m.id)}catch(v){console.error("Failed to fetch user",v),d()}finally{o(!1)}},p=async v=>{try{const m=await Be.put(`${ft}/auth/update`,v);return r(m.data.data.user),{success:!0}}catch(m){return console.error("Failed to update user",m),{success:!1,error:m.message}}};return g.jsx(J_.Provider,{value:{user:t,login:a,logout:d,updateUser:p,loading:i,error:l},children:e})},uo=()=>A.useContext(J_),zm=({children:e,variant:t="primary",size:r="md",fullWidth:i=!1,disabled:o=!1,loading:l=!1,icon:c,onClick:a,type:d="button",className:h="",...p})=>{const v="inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",m={primary:"bg-primary-600 text-white hover:bg-primary-700 shadow-soft hover:shadow-medium",secondary:"bg-neutral-900 text-white hover:bg-neutral-800 shadow-soft hover:shadow-medium",outline:"bg-transparent border-2 border-neutral-300 text-neutral-700 hover:border-neutral-400 hover:bg-neutral-50",ghost:"bg-transparent text-neutral-700 hover:bg-neutral-100",danger:"bg-error text-white hover:bg-error-dark shadow-soft hover:shadow-medium",success:"bg-success text-white hover:bg-success-dark shadow-soft hover:shadow-medium",gradient:"bg-gradient-to-r from-primary-600 to-accent-600 text-white hover:from-primary-700 hover:to-accent-700 shadow-glow"},S={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"};return g.jsxs("button",{type:d,onClick:a,disabled:o||l,className:`
        ${v}
        ${m[t]}
        ${S[r]}
        ${i?"w-full":""}
        ${h}
      `,...p,children:[l&&g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c&&!l&&g.jsx("span",{className:"mr-2",children:c}),e]})},n5=A.forwardRef(({label:e,error:t,helperText:r,icon:i,fullWidth:o=!0,className:l="",...c},a)=>g.jsxs("div",{className:`${o?"w-full":""}`,children:[e&&g.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:e}),g.jsxs("div",{className:"relative",children:[i&&g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400",children:i}),g.jsx("input",{ref:a,className:`
            w-full px-4 py-3 bg-white border rounded-xl
            transition-all duration-200 
            placeholder:text-neutral-400
            focus:outline-none focus:ring-2 focus:ring-primary-500/20
            disabled:bg-neutral-50 disabled:cursor-not-allowed
            ${i?"pl-10":""}
            ${t?"border-error focus:border-error focus:ring-error/20":"border-neutral-200 focus:border-primary-500"}
            ${l}
          `,...c})]}),(t||r)&&g.jsx("p",{className:`mt-1.5 text-sm ${t?"text-error":"text-neutral-500"}`,children:t||r})]}));n5.displayName="Input";const F0=()=>{const e=window.location.pathname,[t,r]=A.useState(e==="/"||e==="/Home"?"Home":e==="/Chat"?"Chat":e==="/Help"?"Help":""),{user:i,logout:o}=uo(),{theme:l,toggleTheme:c}=q0(),[a,d]=A.useState(!1),[h,p]=A.useState(!1),[v,m]=A.useState(!1),S=lo();A.useEffect(()=>{const x=()=>{m(window.scrollY>50)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const C=()=>{o(),S("/signin")};return g.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${v?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg shadow-md dark:shadow-slate-900/30":"bg-transparent"} border-b ${v?"border-neutral-200/50 dark:border-neutral-700/50":"border-transparent"}`,children:[g.jsx("div",{className:"section-container",children:g.jsxs("div",{className:`flex items-center justify-between transition-all duration-300 ${v?"h-16":"h-20"}`,children:[e.startsWith("/Chat")&&g.jsx("button",{onClick:()=>S("/"),className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-colors text-neutral-700 dark:text-neutral-200 font-medium",children:" Back"}),!e.startsWith("/Chat")&&g.jsxs(qr,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",onClick:()=>{r("Home"),window.scrollTo(0,0)},children:[g.jsx("img",{src:ao,alt:"UnifyChat",className:"h-10 w-10"}),g.jsx("span",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100 font-['Montserrat']",children:"UnifyChat"})]}),g.jsx("ul",{className:"hidden md:flex items-center space-x-1",children:Fx.map(x=>g.jsx("li",{children:g.jsx(qr,{to:`/${x.id}`,onClick:()=>r(x.title),className:`
                    px-4 py-2 rounded-2xl font-semibold transition-all duration-300
                    ${t===x.title?"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-glow":"text-neutral-700 hover:bg-neutral-100 hover:scale-105"}
                  `,children:x.title})},x.id))}),g.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[g.jsx("a",{href:"https://www.linkedin.com/in/suhanakousar/",target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-all duration-200 text-neutral-600 dark:text-neutral-300 hover:text-blue-600 dark:hover:text-blue-400 hover:scale-110","aria-label":"LinkedIn",children:g.jsx(I0,{size:18})}),g.jsx("a",{href:"https://github.com/suhanakousar",target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-all duration-200 text-neutral-600 dark:text-neutral-300 hover:text-gray-800 dark:hover:text-gray-200 hover:scale-110","aria-label":"GitHub",children:g.jsx(N0,{size:18})}),g.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-all duration-200 text-neutral-600 dark:text-neutral-300 hover:text-primary-600 dark:hover:text-primary-400 hover:scale-110","aria-label":"Toggle theme",children:l==="light"?g.jsx(zx,{size:18,className:"animate-in spin-in-90"}):g.jsx(Bx,{size:18,className:"animate-in spin-in-90"})}),i?g.jsxs("div",{className:"relative",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[g.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-colors",children:[g.jsx("div",{className:"w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:g.jsx(jy,{className:"text-primary-600 dark:text-primary-400"})}),g.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:(i==null?void 0:i.username)||"User"})]}),h&&g.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl dark:shadow-slate-900/50 p-2 animate-slide-down border border-neutral-200 dark:border-neutral-700",children:[g.jsxs("button",{onClick:()=>S("/profile"),className:"flex items-center space-x-2 w-full px-4 py-2.5 text-left rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-700 transition-colors text-neutral-700 dark:text-neutral-200",children:[g.jsx(jy,{}),g.jsx("span",{children:"Profile"})]}),g.jsxs("button",{onClick:C,className:"flex items-center space-x-2 w-full px-4 py-2.5 text-left rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-700 transition-colors text-neutral-700 dark:text-neutral-200",children:[g.jsx(qx,{}),g.jsx("span",{children:"Log out"})]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>S("/signin"),className:"px-4 py-2 text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-slate-800 font-medium rounded-lg transition-all duration-200 hover:scale-105 border border-transparent hover:border-neutral-300 dark:hover:border-neutral-600",children:"Sign in"}),g.jsx("button",{onClick:()=>S("/signup"),className:"px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-semibold rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-lg shadow-primary-500/30",children:"Get Started"})]})]}),g.jsx("button",{className:"md:hidden p-2 rounded-xl hover:bg-neutral-100 transition-colors",onClick:()=>d(!a),children:a?g.jsx(cn,{size:24}):g.jsx(m_,{size:24})})]})}),a&&g.jsx("div",{className:"md:hidden bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-t border-neutral-200/50 dark:border-neutral-700/50 animate-slide-down",children:g.jsxs("div",{className:"section-container py-6 space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-neutral-100 dark:bg-slate-800 rounded-lg",children:[g.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Theme"}),g.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-neutral-200 dark:hover:bg-slate-700 transition-all duration-200 text-neutral-600 dark:text-neutral-300",children:l==="light"?g.jsx(zx,{size:16}):g.jsx(Bx,{size:16})})]}),g.jsx("ul",{className:"space-y-2",children:Fx.map(x=>g.jsx("li",{children:g.jsx(qr,{to:`/${x.id}`,onClick:()=>{r(x.title),d(!1)},className:`
                      block px-4 py-3 rounded-lg font-medium transition-all
                      ${t===x.title?"bg-primary-600 dark:bg-primary-700 text-white":"text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-slate-800"}
                    `,children:x.title})},x.id))}),i?g.jsxs("div",{className:"space-y-2 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsxs("div",{className:"px-4 py-2 text-sm text-neutral-600 dark:text-neutral-400",children:["Signed in as ",g.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:i==null?void 0:i.username})]}),g.jsx(zm,{variant:"outline",fullWidth:!0,onClick:()=>{C(),d(!1)},icon:g.jsx(qx,{}),children:"Log out"})]}):g.jsxs("div",{className:"flex flex-col space-y-2 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx(zm,{variant:"ghost",fullWidth:!0,onClick:()=>{S("/signin"),d(!1)},children:"Sign in"}),g.jsx(zm,{variant:"gradient",fullWidth:!0,onClick:()=>{S("/signup"),d(!1)},children:"Get Started"})]})]})})]})};class Qd{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const i5=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},sr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:i5()},H0=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},s5=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=H0(e);sr.publicKey=r.publicKey,sr.blockHeadless=r.blockHeadless,sr.storageProvider=r.storageProvider,sr.blockList=r.blockList,sr.limitRate=r.limitRate,sr.origin=r.origin||t},Y_=async(e,t,r={})=>{const i=await fetch(sr.origin+e,{method:"POST",headers:r,body:t}),o=await i.text(),l=new Qd(i.status,o);if(i.ok)return l;throw l},Q_=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},o5=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},X_=e=>e.webdriver||!e.languages||e.languages.length===0,Z_=()=>new Qd(451,"Unavailable For Headless Browser"),a5=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},c5=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},l5=(e,t)=>e instanceof FormData?e.get(t):e[t],e4=(e,t)=>{if(c5(e))return!1;a5(e.list,e.watchVariable);const r=l5(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},t4=()=>new Qd(403,"Forbidden"),u5=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},d5=async(e,t,r)=>{const i=Number(await r.get(e)||0);return t-Date.now()+i},r4=async(e,t,r)=>{if(!t.throttle||!r)return!1;u5(t.throttle,t.id);const i=t.id||e;return await d5(i,t.throttle,r)>0?!0:(await r.set(i,Date.now().toString()),!1)},n4=()=>new Qd(429,"Too Many Requests"),h5=async(e,t,r,i)=>{const o=H0(i),l=o.publicKey||sr.publicKey,c=o.blockHeadless||sr.blockHeadless,a=o.storageProvider||sr.storageProvider,d={...sr.blockList,...o.blockList},h={...sr.limitRate,...o.limitRate};return c&&X_(navigator)?Promise.reject(Z_()):(Q_(l,e,t),o5(r),r&&e4(d,r)?Promise.reject(t4()):await r4(location.pathname,h,a)?Promise.reject(n4()):Y_("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},p5=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},f5=e=>typeof e=="string"?document.querySelector(e):e,v5=async(e,t,r,i)=>{const o=H0(i),l=o.publicKey||sr.publicKey,c=o.blockHeadless||sr.blockHeadless,a=sr.storageProvider||o.storageProvider,d={...sr.blockList,...o.blockList},h={...sr.limitRate,...o.limitRate};if(c&&X_(navigator))return Promise.reject(Z_());const p=f5(r);Q_(l,e,t),p5(p);const v=new FormData(p);return e4(d,v)?Promise.reject(t4()):await r4(location.pathname,h,a)?Promise.reject(n4()):(v.append("lib_version","4.4.1"),v.append("service_id",e),v.append("template_id",t),v.append("user_id",l),Y_("/api/v1.0/email/send-form",v))},m5={init:s5,send:h5,sendForm:v5,EmailJSResponseStatus:Qd},i4=()=>{const[e,t]=A.useState({name:"",email:"",message:""}),[r,i]=A.useState({submitted:!1,loading:!1,error:!1,message:""}),o=A.useRef(),l=a=>{const{name:d,value:h}=a.target;t(p=>({...p,[d]:h}))},c=a=>{a.preventDefault(),i({...r,loading:!0}),m5.sendForm(void 0,void 0,o.current,{publicKey:void 0}).then(()=>{i({submitted:!0,loading:!1,error:!1,message:"Thank you for your message! We'll get back to you soon."}),t({name:"",email:"",message:""})},d=>{console.log("FAILED...",d.text),i({submitted:!1,loading:!1,error:!0,message:"Something went wrong. Please try again."})})};return g.jsxs("div",{id:"contact",className:"relative py-32 bg-gradient-to-br from-white via-neutral-50 to-white dark:from-slate-900 dark:via-slate-900 dark:to-slate-900 overflow-hidden transition-colors",children:[g.jsx("div",{className:"absolute inset-0 gradient-mesh opacity-20 dark:opacity-10"}),g.jsx("div",{className:"absolute top-20 right-0 w-96 h-96 bg-primary-500/5 dark:bg-primary-500/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-20 left-0 w-96 h-96 bg-accent-500/5 dark:bg-accent-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),g.jsx("div",{className:"section-container relative z-10",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[g.jsxs("div",{className:"space-y-8 animate-slide-right",children:[g.jsxs("div",{className:"inline-flex items-center space-x-2 px-5 py-2 bg-white dark:bg-slate-800 rounded-full border border-primary-200 dark:border-primary-800 shadow-sm",children:[g.jsx("div",{className:"w-2 h-2 bg-primary-500 dark:bg-primary-400 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"Get in Touch"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("h2",{className:"text-5xl md:text-6xl font-display font-bold text-neutral-900 dark:text-neutral-100 leading-[1.1]",children:["Let's Start a",g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"Conversation"})]}),g.jsx("div",{className:"h-1 w-32 bg-gradient-to-r from-primary-500 via-accent-500 to-success-500 rounded-full"})]}),g.jsx("p",{className:"text-xl text-neutral-600 dark:text-neutral-300 leading-relaxed",children:"Have questions or feedback? We're here to help you break down language barriers and connect globally."}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 p-6 rounded-3xl border border-primary-200 dark:border-primary-800 hover:border-primary-400 dark:hover:border-primary-500 transition-all duration-300 shadow-sm",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500/5 dark:from-primary-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl"}),g.jsxs("div",{className:"relative flex items-start space-x-4",children:[g.jsx("div",{className:"p-3 bg-gradient-to-br from-primary-500 to-primary-600 dark:from-primary-600 dark:to-primary-700 rounded-2xl shadow-lg",children:g.jsx(z0,{className:"text-xl text-white"})}),g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-neutral-900 dark:text-neutral-100 mb-1 text-lg",children:"Email Us"}),g.jsx("div",{className:"text-neutral-600 dark:text-neutral-400",children:"support@unifychat.com"})]})]})]}),g.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 p-6 rounded-3xl border border-accent-200 dark:border-accent-800 hover:border-accent-400 dark:hover:border-accent-500 transition-all duration-300 shadow-sm",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent-500/5 dark:from-accent-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl"}),g.jsxs("div",{className:"relative flex items-start space-x-4",children:[g.jsx("div",{className:"p-3 bg-gradient-to-br from-accent-500 to-accent-600 dark:from-accent-600 dark:to-accent-700 rounded-2xl shadow-lg",children:g.jsx(jy,{className:"text-xl text-white"})}),g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-neutral-900 dark:text-neutral-100 mb-1 text-lg",children:"24/7 Support"}),g.jsx("div",{className:"text-neutral-600 dark:text-neutral-400",children:"Always here when you need us"})]})]})]})]})]}),g.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-3xl p-8 md:p-10 border border-neutral-200 dark:border-neutral-700 shadow-lg animate-slide-left",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-neutral-50/50 dark:from-slate-800 dark:to-slate-900/50 rounded-3xl"}),r.submitted?g.jsxs("div",{className:"relative text-center py-12 space-y-6",children:[g.jsxs("div",{className:"relative inline-block",children:[g.jsx("div",{className:"absolute inset-0 bg-success-500/20 dark:bg-success-500/30 rounded-full blur-2xl animate-pulse"}),g.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-success-500 to-success-600 dark:from-success-600 dark:to-success-700 rounded-full flex items-center justify-center mx-auto shadow-xl",children:g.jsx(g_,{className:"text-4xl text-white"})})]}),g.jsx("h3",{className:"text-3xl font-display font-bold text-neutral-900 dark:text-neutral-100",children:"Message Sent!"}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400",children:r.message}),g.jsx("button",{onClick:()=>i({submitted:!1,loading:!1,error:!1,message:""}),className:"inline-flex items-center px-6 py-3 bg-white dark:bg-slate-700 hover:bg-neutral-50 dark:hover:bg-slate-600 text-neutral-700 dark:text-neutral-200 font-semibold rounded-2xl border-2 border-neutral-200 dark:border-neutral-600 transition-all duration-300 hover:scale-105",children:"Send Another Message"})]}):g.jsxs("form",{ref:o,onSubmit:c,className:"relative space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-neutral-700 dark:text-neutral-300 mb-3",children:"Your Name"}),g.jsx("input",{type:"text",name:"name",value:e.name,onChange:l,placeholder:"John Doe",className:`w-full px-5 py-4 bg-white dark:bg-slate-900 border-2 border-neutral-200 dark:border-neutral-700 rounded-2xl
                             focus:ring-2 focus:ring-primary-500/30 dark:focus:ring-primary-400/30 focus:border-primary-500 dark:focus:border-primary-400
                             transition-all duration-200 placeholder:text-neutral-400 dark:placeholder:text-neutral-500
                             hover:border-neutral-300 dark:hover:border-neutral-600 text-neutral-900 dark:text-neutral-100`,required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-neutral-700 dark:text-neutral-300 mb-3",children:"Email Address"}),g.jsx("input",{type:"email",name:"email",value:e.email,onChange:l,placeholder:"you@example.com",className:`w-full px-5 py-4 bg-white dark:bg-slate-900 border-2 border-neutral-200 dark:border-neutral-700 rounded-2xl
                             focus:ring-2 focus:ring-primary-500/30 dark:focus:ring-primary-400/30 focus:border-primary-500 dark:focus:border-primary-400
                             transition-all duration-200 placeholder:text-neutral-400 dark:placeholder:text-neutral-500
                             hover:border-neutral-300 dark:hover:border-neutral-600 text-neutral-900 dark:text-neutral-100`,required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-neutral-700 dark:text-neutral-300 mb-3",children:"Message"}),g.jsx("textarea",{name:"message",value:e.message,onChange:l,placeholder:"Tell us how we can help you...",rows:"5",className:`w-full px-5 py-4 bg-white dark:bg-slate-900 border-2 border-neutral-200 dark:border-neutral-700 rounded-2xl
                             focus:ring-2 focus:ring-primary-500/30 dark:focus:ring-primary-400/30 focus:border-primary-500 dark:focus:border-primary-400
                             transition-all duration-200 placeholder:text-neutral-400 dark:placeholder:text-neutral-500
                             hover:border-neutral-300 dark:hover:border-neutral-600 resize-none text-neutral-900 dark:text-neutral-100`,required:!0})]}),r.error&&g.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-2xl text-sm font-medium",children:r.message}),g.jsx("button",{type:"submit",disabled:r.loading,className:`w-full relative inline-flex items-center justify-center gap-3 px-8 py-4 
                           bg-gradient-to-r from-primary-600 to-accent-600 text-white text-lg font-bold 
                           rounded-2xl shadow-glow hover:shadow-neon-cyan
                           hover:scale-105 active:scale-95 transition-all duration-300
                           disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100
                           overflow-hidden group`,children:r.loading?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),g.jsx("span",{children:"Sending..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-accent-600 to-primary-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),g.jsx("span",{className:"relative z-10",children:"Send Message"}),g.jsx(cf,{className:"relative z-10 group-hover:translate-x-1 transition-transform"})]})})]})]})]})})]})},nR=()=>{const e=A.useRef(null);return g.jsxs("div",{className:"bg-neutral-50 dark:bg-slate-900",children:[g.jsx(F0,{}),g.jsx(RO,{}),g.jsx(wO,{}),g.jsx(w_,{ref:e}),g.jsx(mO,{}),g.jsx(i4,{}),g.jsx(x_,{})]})};var Xd=e=>e.type==="checkbox",Zs=e=>e instanceof Date,Sr=e=>e==null;const s4=e=>typeof e=="object";var zt=e=>!Sr(e)&&!Array.isArray(e)&&s4(e)&&!Zs(e),g5=e=>zt(e)&&e.target?Xd(e.target)?e.target.checked:e.target.value:e,y5=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,S5=(e,t)=>e.has(y5(t)),b5=e=>{const t=e.constructor&&e.constructor.prototype;return zt(t)&&t.hasOwnProperty("isPrototypeOf")},$0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rn(e){let t;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!($0&&(e instanceof Blob||i))&&(r||zt(e)))if(t=r?[]:{},!r&&!b5(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=rn(e[o]));else return e;return t}var vf=e=>Array.isArray(e)?e.filter(Boolean):[],Ft=e=>e===void 0,we=(e,t,r)=>{if(!t||!zt(e))return r;const i=vf(t.split(/[,[\].]+?/)).reduce((o,l)=>Sr(o)?o:o[l],e);return Ft(i)||i===e?Ft(e[t])?r:e[t]:i},On=e=>typeof e=="boolean",K0=e=>/^\w*$/.test(e),o4=e=>vf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),bt=(e,t,r)=>{let i=-1;const o=K0(t)?[t]:o4(t),l=o.length,c=l-1;for(;++i<l;){const a=o[i];let d=r;if(i!==c){const h=e[a];d=zt(h)||Array.isArray(h)?h:isNaN(+o[i+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=d,e=e[a]}return e};const iR={BLUR:"blur",FOCUS_OUT:"focusout"},wn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},li={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Ve.createContext(null);var C5=(e,t,r,i=!0)=>{const o={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const c=l;return t._proxyFormState[c]!==wn.all&&(t._proxyFormState[c]=!i||wn.all),e[c]}});return o},Ar=e=>zt(e)&&!Object.keys(e).length,x5=(e,t,r,i)=>{r(e);const{name:o,...l}=e;return Ar(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(c=>t[c]===wn.all)},_p=e=>Array.isArray(e)?e:[e];function R5(e){const t=Ve.useRef(e);t.current=e,Ve.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var zn=e=>typeof e=="string",w5=(e,t,r,i,o)=>zn(e)?(i&&t.watch.add(e),we(r,e,o)):Array.isArray(e)?e.map(l=>(i&&t.watch.add(l),we(r,l))):(i&&(t.watchAll=!0),r),E5=(e,t,r,i,o)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:o||!0}}:{},sR=e=>({isOnSubmit:!e||e===wn.onSubmit,isOnBlur:e===wn.onBlur,isOnChange:e===wn.onChange,isOnAll:e===wn.all,isOnTouch:e===wn.onTouched}),oR=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const _d=(e,t,r,i)=>{for(const o of r||Object.keys(e)){const l=we(e,o);if(l){const{_f:c,...a}=l;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],o)&&!i)return!0;if(c.ref&&t(c.ref,c.name)&&!i)return!0;if(_d(a,t))break}else if(zt(a)&&_d(a,t))break}}};var T5=(e,t,r)=>{const i=_p(we(e,r));return bt(i,"root",t[r]),bt(e,r,i),e},W0=e=>e.type==="file",Dn=e=>typeof e=="function",Gp=e=>{if(!$0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},kp=e=>zn(e),G0=e=>e.type==="radio",Jp=e=>e instanceof RegExp;const aR={value:!1,isValid:!1},cR={value:!0,isValid:!0};var a4=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ft(e[0].attributes.value)?Ft(e[0].value)||e[0].value===""?cR:{value:e[0].value,isValid:!0}:cR:aR}return aR};const lR={isValid:!1,value:null};var c4=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,lR):lR;function uR(e,t,r="validate"){if(kp(e)||Array.isArray(e)&&e.every(kp)||On(e)&&!e)return{type:r,message:kp(e)?e:"",ref:t}}var Wo=e=>zt(e)&&!Jp(e)?e:{value:e,message:""},dR=async(e,t,r,i,o,l)=>{const{ref:c,refs:a,required:d,maxLength:h,minLength:p,min:v,max:m,pattern:S,validate:C,name:x,valueAsNumber:R,mount:w}=e._f,T=we(r,x);if(!w||t.has(x))return{};const P=a?a[0]:c,I=oe=>{o&&P.reportValidity&&(P.setCustomValidity(On(oe)?"":oe||""),P.reportValidity())},k={},U=G0(c),H=Xd(c),q=U||H,F=(R||W0(c))&&Ft(c.value)&&Ft(T)||Gp(c)&&c.value===""||T===""||Array.isArray(T)&&!T.length,$=E5.bind(null,x,i,k),ue=(oe,re,xe,ke=li.maxLength,ee=li.minLength)=>{const ae=oe?re:xe;k[x]={type:oe?ke:ee,message:ae,ref:c,...$(oe?ke:ee,ae)}};if(l?!Array.isArray(T)||!T.length:d&&(!q&&(F||Sr(T))||On(T)&&!T||H&&!a4(a).isValid||U&&!c4(a).isValid)){const{value:oe,message:re}=kp(d)?{value:!!d,message:d}:Wo(d);if(oe&&(k[x]={type:li.required,message:re,ref:P,...$(li.required,re)},!i))return I(re),k}if(!F&&(!Sr(v)||!Sr(m))){let oe,re;const xe=Wo(m),ke=Wo(v);if(!Sr(T)&&!isNaN(T)){const ee=c.valueAsNumber||T&&+T;Sr(xe.value)||(oe=ee>xe.value),Sr(ke.value)||(re=ee<ke.value)}else{const ee=c.valueAsDate||new Date(T),ae=N=>new Date(new Date().toDateString()+" "+N),de=c.type=="time",Me=c.type=="week";zn(xe.value)&&T&&(oe=de?ae(T)>ae(xe.value):Me?T>xe.value:ee>new Date(xe.value)),zn(ke.value)&&T&&(re=de?ae(T)<ae(ke.value):Me?T<ke.value:ee<new Date(ke.value))}if((oe||re)&&(ue(!!oe,xe.message,ke.message,li.max,li.min),!i))return I(k[x].message),k}if((h||p)&&!F&&(zn(T)||l&&Array.isArray(T))){const oe=Wo(h),re=Wo(p),xe=!Sr(oe.value)&&T.length>+oe.value,ke=!Sr(re.value)&&T.length<+re.value;if((xe||ke)&&(ue(xe,oe.message,re.message),!i))return I(k[x].message),k}if(S&&!F&&zn(T)){const{value:oe,message:re}=Wo(S);if(Jp(oe)&&!T.match(oe)&&(k[x]={type:li.pattern,message:re,ref:c,...$(li.pattern,re)},!i))return I(re),k}if(C){if(Dn(C)){const oe=await C(T,r),re=uR(oe,P);if(re&&(k[x]={...re,...$(li.validate,re.message)},!i))return I(re.message),k}else if(zt(C)){let oe={};for(const re in C){if(!Ar(oe)&&!i)break;const xe=uR(await C[re](T,r),P,re);xe&&(oe={...xe,...$(re,xe.message)},I(xe.message),i&&(k[x]=oe))}if(!Ar(oe)&&(k[x]={ref:P,...oe},!i))return k}}return I(!0),k};function P5(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=Ft(e)?i++:e[t[i++]];return e}function A5(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ft(e[t]))return!1;return!0}function Wt(e,t){const r=Array.isArray(t)?t:K0(t)?[t]:o4(t),i=r.length===1?e:P5(e,r),o=r.length-1,l=r[o];return i&&delete i[l],o!==0&&(zt(i)&&Ar(i)||Array.isArray(i)&&A5(i))&&Wt(e,r.slice(0,-1)),e}var Lm=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}},Uy=e=>Sr(e)||!s4(e);function Yi(e,t){if(Uy(e)||Uy(t))return e===t;if(Zs(e)&&Zs(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const o of r){const l=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const c=t[o];if(Zs(l)&&Zs(c)||zt(l)&&zt(c)||Array.isArray(l)&&Array.isArray(c)?!Yi(l,c):l!==c)return!1}}return!0}var l4=e=>e.type==="select-multiple",_5=e=>G0(e)||Xd(e),qm=e=>Gp(e)&&e.isConnected,u4=e=>{for(const t in e)if(Dn(e[t]))return!0;return!1};function Yp(e,t={}){const r=Array.isArray(e);if(zt(e)||r)for(const i in e)Array.isArray(e[i])||zt(e[i])&&!u4(e[i])?(t[i]=Array.isArray(e[i])?[]:{},Yp(e[i],t[i])):Sr(e[i])||(t[i]=!0);return t}function d4(e,t,r){const i=Array.isArray(e);if(zt(e)||i)for(const o in e)Array.isArray(e[o])||zt(e[o])&&!u4(e[o])?Ft(t)||Uy(r[o])?r[o]=Array.isArray(e[o])?Yp(e[o],[]):{...Yp(e[o])}:d4(e[o],Sr(t)?{}:t[o],r[o]):r[o]=!Yi(e[o],t[o]);return r}var gc=(e,t)=>d4(e,t,Yp(t)),h4=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>Ft(e)?e:t?e===""?NaN:e&&+e:r&&zn(e)?new Date(e):i?i(e):e;function Bm(e){const t=e.ref;return W0(t)?t.files:G0(t)?c4(e.refs).value:l4(t)?[...t.selectedOptions].map(({value:r})=>r):Xd(t)?a4(e.refs).value:h4(Ft(t.value)?e.ref.value:t.value,e)}var k5=(e,t,r,i)=>{const o={};for(const l of e){const c=we(t,l);c&&bt(o,l,c._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:i}},yc=e=>Ft(e)?e:Jp(e)?e.source:zt(e)?Jp(e.value)?e.value.source:e.value:e;const hR="AsyncFunction";var M5=e=>!!e&&!!e.validate&&!!(Dn(e.validate)&&e.validate.constructor.name===hR||zt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===hR)),N5=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function pR(e,t,r){const i=we(e,r);if(i||K0(r))return{error:i,name:r};const o=r.split(".");for(;o.length;){const l=o.join("."),c=we(t,l),a=we(e,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(a&&a.type)return{name:l,error:a};o.pop()}return{name:r}}var I5=(e,t,r,i,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(t||e):(r?i.isOnBlur:o.isOnBlur)?!e:(r?i.isOnChange:o.isOnChange)?e:!0,j5=(e,t)=>!vf(we(e,t)).length&&Wt(e,t);const O5={mode:wn.onSubmit,reValidateMode:wn.onChange,shouldFocusError:!0};function D5(e={}){let t={...O5,...e},r={submitCount:0,isDirty:!1,isLoading:Dn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},o=zt(t.defaultValues)||zt(t.values)?rn(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:rn(o),c={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Lm(),array:Lm(),state:Lm()},m=sR(t.mode),S=sR(t.reValidateMode),C=t.criteriaMode===wn.all,x=j=>z=>{clearTimeout(h),h=setTimeout(j,z)},R=async j=>{if(!t.disabled&&(p.isValid||j)){const z=t.resolver?Ar((await q()).errors):await $(i,!0);z!==r.isValid&&v.state.next({isValid:z})}},w=(j,z)=>{!t.disabled&&(p.isValidating||p.validatingFields)&&((j||Array.from(a.mount)).forEach(G=>{G&&(z?bt(r.validatingFields,G,z):Wt(r.validatingFields,G))}),v.state.next({validatingFields:r.validatingFields,isValidating:!Ar(r.validatingFields)}))},T=(j,z=[],G,he,ce=!0,ie=!0)=>{if(he&&G&&!t.disabled){if(c.action=!0,ie&&Array.isArray(we(i,j))){const ye=G(we(i,j),he.argA,he.argB);ce&&bt(i,j,ye)}if(ie&&Array.isArray(we(r.errors,j))){const ye=G(we(r.errors,j),he.argA,he.argB);ce&&bt(r.errors,j,ye),j5(r.errors,j)}if(p.touchedFields&&ie&&Array.isArray(we(r.touchedFields,j))){const ye=G(we(r.touchedFields,j),he.argA,he.argB);ce&&bt(r.touchedFields,j,ye)}p.dirtyFields&&(r.dirtyFields=gc(o,l)),v.state.next({name:j,isDirty:oe(j,z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else bt(l,j,z)},P=(j,z)=>{bt(r.errors,j,z),v.state.next({errors:r.errors})},I=j=>{r.errors=j,v.state.next({errors:r.errors,isValid:!1})},k=(j,z,G,he)=>{const ce=we(i,j);if(ce){const ie=we(l,j,Ft(G)?we(o,j):G);Ft(ie)||he&&he.defaultChecked||z?bt(l,j,z?ie:Bm(ce._f)):ke(j,ie),c.mount&&R()}},U=(j,z,G,he,ce)=>{let ie=!1,ye=!1;const Ae={name:j};if(!t.disabled){const ve=!!(we(i,j)&&we(i,j)._f&&we(i,j)._f.disabled);if(!G||he){p.isDirty&&(ye=r.isDirty,r.isDirty=Ae.isDirty=oe(),ie=ye!==Ae.isDirty);const Ee=ve||Yi(we(o,j),z);ye=!!(!ve&&we(r.dirtyFields,j)),Ee||ve?Wt(r.dirtyFields,j):bt(r.dirtyFields,j,!0),Ae.dirtyFields=r.dirtyFields,ie=ie||p.dirtyFields&&ye!==!Ee}if(G){const Ee=we(r.touchedFields,j);Ee||(bt(r.touchedFields,j,G),Ae.touchedFields=r.touchedFields,ie=ie||p.touchedFields&&Ee!==G)}ie&&ce&&v.state.next(Ae)}return ie?Ae:{}},H=(j,z,G,he)=>{const ce=we(r.errors,j),ie=p.isValid&&On(z)&&r.isValid!==z;if(t.delayError&&G?(d=x(()=>P(j,G)),d(t.delayError)):(clearTimeout(h),d=null,G?bt(r.errors,j,G):Wt(r.errors,j)),(G?!Yi(ce,G):ce)||!Ar(he)||ie){const ye={...he,...ie&&On(z)?{isValid:z}:{},errors:r.errors,name:j};r={...r,...ye},v.state.next(ye)}},q=async j=>{w(j,!0);const z=await t.resolver(l,t.context,k5(j||a.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return w(j),z},F=async j=>{const{errors:z}=await q(j);if(j)for(const G of j){const he=we(z,G);he?bt(r.errors,G,he):Wt(r.errors,G)}else r.errors=z;return z},$=async(j,z,G={valid:!0})=>{for(const he in j){const ce=j[he];if(ce){const{_f:ie,...ye}=ce;if(ie){const Ae=a.array.has(ie.name),ve=ce._f&&M5(ce._f);ve&&p.validatingFields&&w([he],!0);const Ee=await dR(ce,a.disabled,l,C,t.shouldUseNativeValidation&&!z,Ae);if(ve&&p.validatingFields&&w([he]),Ee[ie.name]&&(G.valid=!1,z))break;!z&&(we(Ee,ie.name)?Ae?T5(r.errors,Ee,ie.name):bt(r.errors,ie.name,Ee[ie.name]):Wt(r.errors,ie.name))}!Ar(ye)&&await $(ye,z,G)}}return G.valid},ue=()=>{for(const j of a.unMount){const z=we(i,j);z&&(z._f.refs?z._f.refs.every(G=>!qm(G)):!qm(z._f.ref))&&be(j)}a.unMount=new Set},oe=(j,z)=>!t.disabled&&(j&&z&&bt(l,j,z),!Yi(Q(),o)),re=(j,z,G)=>w5(j,a,{...c.mount?l:Ft(z)?o:zn(j)?{[j]:z}:z},G,z),xe=j=>vf(we(c.mount?l:o,j,t.shouldUnregister?we(o,j,[]):[])),ke=(j,z,G={})=>{const he=we(i,j);let ce=z;if(he){const ie=he._f;ie&&(!ie.disabled&&bt(l,j,h4(z,ie)),ce=Gp(ie.ref)&&Sr(z)?"":z,l4(ie.ref)?[...ie.ref.options].forEach(ye=>ye.selected=ce.includes(ye.value)):ie.refs?Xd(ie.ref)?ie.refs.length>1?ie.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(ce)?!!ce.find(Ae=>Ae===ye.value):ce===ye.value)):ie.refs[0]&&(ie.refs[0].checked=!!ce):ie.refs.forEach(ye=>ye.checked=ye.value===ce):W0(ie.ref)?ie.ref.value="":(ie.ref.value=ce,ie.ref.type||v.values.next({name:j,values:{...l}})))}(G.shouldDirty||G.shouldTouch)&&U(j,ce,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&N(j)},ee=(j,z,G)=>{for(const he in z){const ce=z[he],ie=`${j}.${he}`,ye=we(i,ie);(a.array.has(j)||zt(ce)||ye&&!ye._f)&&!Zs(ce)?ee(ie,ce,G):ke(ie,ce,G)}},ae=(j,z,G={})=>{const he=we(i,j),ce=a.array.has(j),ie=rn(z);bt(l,j,ie),ce?(v.array.next({name:j,values:{...l}}),(p.isDirty||p.dirtyFields)&&G.shouldDirty&&v.state.next({name:j,dirtyFields:gc(o,l),isDirty:oe(j,ie)})):he&&!he._f&&!Sr(ie)?ee(j,ie,G):ke(j,ie,G),oR(j,a)&&v.state.next({...r}),v.values.next({name:c.mount?j:void 0,values:{...l}})},de=async j=>{c.mount=!0;const z=j.target;let G=z.name,he=!0;const ce=we(i,G),ie=()=>z.type?Bm(ce._f):g5(j),ye=Ae=>{he=Number.isNaN(Ae)||Zs(Ae)&&isNaN(Ae.getTime())||Yi(Ae,we(l,G,Ae))};if(ce){let Ae,ve;const Ee=ie(),Le=j.type===iR.BLUR||j.type===iR.FOCUS_OUT,yt=!N5(ce._f)&&!t.resolver&&!we(r.errors,G)&&!ce._f.deps||I5(Le,we(r.touchedFields,G),r.isSubmitted,S,m),At=oR(G,a,Le);bt(l,G,Ee),Le?(ce._f.onBlur&&ce._f.onBlur(j),d&&d(0)):ce._f.onChange&&ce._f.onChange(j);const vt=U(G,Ee,Le,!1),Ct=!Ar(vt)||At;if(!Le&&v.values.next({name:G,type:j.type,values:{...l}}),yt)return p.isValid&&(t.mode==="onBlur"&&Le?R():Le||R()),Ct&&v.state.next({name:G,...At?{}:vt});if(!Le&&At&&v.state.next({...r}),t.resolver){const{errors:er}=await q([G]);if(ye(Ee),he){const St=pR(r.errors,i,G),Vn=pR(er,i,St.name||G);Ae=Vn.error,G=Vn.name,ve=Ar(er)}}else w([G],!0),Ae=(await dR(ce,a.disabled,l,C,t.shouldUseNativeValidation))[G],w([G]),ye(Ee),he&&(Ae?ve=!1:p.isValid&&(ve=await $(i,!0)));he&&(ce._f.deps&&N(ce._f.deps),H(G,ve,Ae,vt))}},Me=(j,z)=>{if(we(r.errors,z)&&j.focus)return j.focus(),1},N=async(j,z={})=>{let G,he;const ce=_p(j);if(t.resolver){const ie=await F(Ft(j)?j:ce);G=Ar(ie),he=j?!ce.some(ye=>we(ie,ye)):G}else j?(he=(await Promise.all(ce.map(async ie=>{const ye=we(i,ie);return await $(ye&&ye._f?{[ie]:ye}:ye)}))).every(Boolean),!(!he&&!r.isValid)&&R()):he=G=await $(i);return v.state.next({...!zn(j)||p.isValid&&G!==r.isValid?{}:{name:j},...t.resolver||!j?{isValid:G}:{},errors:r.errors}),z.shouldFocus&&!he&&_d(i,Me,j?ce:a.mount),he},Q=j=>{const z={...c.mount?l:o};return Ft(j)?z:zn(j)?we(z,j):j.map(G=>we(z,G))},me=(j,z)=>({invalid:!!we((z||r).errors,j),isDirty:!!we((z||r).dirtyFields,j),error:we((z||r).errors,j),isValidating:!!we(r.validatingFields,j),isTouched:!!we((z||r).touchedFields,j)}),X=j=>{j&&_p(j).forEach(z=>Wt(r.errors,z)),v.state.next({errors:j?r.errors:{}})},ne=(j,z,G)=>{const he=(we(i,j,{_f:{}})._f||{}).ref,ce=we(r.errors,j)||{},{ref:ie,message:ye,type:Ae,...ve}=ce;bt(r.errors,j,{...ve,...z,ref:he}),v.state.next({name:j,errors:r.errors,isValid:!1}),G&&G.shouldFocus&&he&&he.focus&&he.focus()},fe=(j,z)=>Dn(j)?v.values.subscribe({next:G=>j(re(void 0,z),G)}):re(j,z,!0),be=(j,z={})=>{for(const G of j?_p(j):a.mount)a.mount.delete(G),a.array.delete(G),z.keepValue||(Wt(i,G),Wt(l,G)),!z.keepError&&Wt(r.errors,G),!z.keepDirty&&Wt(r.dirtyFields,G),!z.keepTouched&&Wt(r.touchedFields,G),!z.keepIsValidating&&Wt(r.validatingFields,G),!t.shouldUnregister&&!z.keepDefaultValue&&Wt(o,G);v.values.next({values:{...l}}),v.state.next({...r,...z.keepDirty?{isDirty:oe()}:{}}),!z.keepIsValid&&R()},ut=({disabled:j,name:z,field:G,fields:he})=>{(On(j)&&c.mount||j||a.disabled.has(z))&&(j?a.disabled.add(z):a.disabled.delete(z),U(z,Bm(G?G._f:we(he,z)._f),!1,!1,!0))},Ne=(j,z={})=>{let G=we(i,j);const he=On(z.disabled)||On(t.disabled);return bt(i,j,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:j}},name:j,mount:!0,...z}}),a.mount.add(j),G?ut({field:G,disabled:On(z.disabled)?z.disabled:t.disabled,name:j}):k(j,!0,z.value),{...he?{disabled:z.disabled||t.disabled}:{},...t.progressive?{required:!!z.required,min:yc(z.min),max:yc(z.max),minLength:yc(z.minLength),maxLength:yc(z.maxLength),pattern:yc(z.pattern)}:{},name:j,onChange:de,onBlur:de,ref:ce=>{if(ce){Ne(j,z),G=we(i,j);const ie=Ft(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,ye=_5(ie),Ae=G._f.refs||[];if(ye?Ae.find(ve=>ve===ie):ie===G._f.ref)return;bt(i,j,{_f:{...G._f,...ye?{refs:[...Ae.filter(qm),ie,...Array.isArray(we(o,j))?[{}]:[]],ref:{type:ie.type,name:j}}:{ref:ie}}}),k(j,!1,void 0,ie)}else G=we(i,j,{}),G._f&&(G._f.mount=!1),(t.shouldUnregister||z.shouldUnregister)&&!(S5(a.array,j)&&c.action)&&a.unMount.add(j)}}},ct=()=>t.shouldFocusError&&_d(i,Me,a.mount),nt=j=>{On(j)&&(v.state.next({disabled:j}),_d(i,(z,G)=>{const he=we(i,G);he&&(z.disabled=he._f.disabled||j,Array.isArray(he._f.refs)&&he._f.refs.forEach(ce=>{ce.disabled=he._f.disabled||j}))},0,!1))},lt=(j,z)=>async G=>{let he;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let ce=rn(l);if(a.disabled.size)for(const ie of a.disabled)bt(ce,ie,void 0);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:ie,values:ye}=await q();r.errors=ie,ce=ye}else await $(i);if(Wt(r.errors,"root"),Ar(r.errors)){v.state.next({errors:{}});try{await j(ce,G)}catch(ie){he=ie}}else z&&await z({...r.errors},G),ct(),setTimeout(ct);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ar(r.errors)&&!he,submitCount:r.submitCount+1,errors:r.errors}),he)throw he},or=(j,z={})=>{we(i,j)&&(Ft(z.defaultValue)?ae(j,rn(we(o,j))):(ae(j,z.defaultValue),bt(o,j,rn(z.defaultValue))),z.keepTouched||Wt(r.touchedFields,j),z.keepDirty||(Wt(r.dirtyFields,j),r.isDirty=z.defaultValue?oe(j,rn(we(o,j))):oe()),z.keepError||(Wt(r.errors,j),p.isValid&&R()),v.state.next({...r}))},It=(j,z={})=>{const G=j?rn(j):o,he=rn(G),ce=Ar(j),ie=ce?o:he;if(z.keepDefaultValues||(o=G),!z.keepValues){if(z.keepDirtyValues){const ye=new Set([...a.mount,...Object.keys(gc(o,l))]);for(const Ae of Array.from(ye))we(r.dirtyFields,Ae)?bt(ie,Ae,we(l,Ae)):ae(Ae,we(ie,Ae))}else{if($0&&Ft(j))for(const ye of a.mount){const Ae=we(i,ye);if(Ae&&Ae._f){const ve=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(Gp(ve)){const Ee=ve.closest("form");if(Ee){Ee.reset();break}}}}i={}}l=t.shouldUnregister?z.keepDefaultValues?rn(o):{}:rn(ie),v.array.next({values:{...ie}}),v.values.next({values:{...ie}})}a={mount:z.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!z.keepIsValid||!!z.keepDirtyValues,c.watch=!!t.shouldUnregister,v.state.next({submitCount:z.keepSubmitCount?r.submitCount:0,isDirty:ce?!1:z.keepDirty?r.isDirty:!!(z.keepDefaultValues&&!Yi(j,o)),isSubmitted:z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ce?{}:z.keepDirtyValues?z.keepDefaultValues&&l?gc(o,l):r.dirtyFields:z.keepDefaultValues&&j?gc(o,j):z.keepDirty?r.dirtyFields:{},touchedFields:z.keepTouched?r.touchedFields:{},errors:z.keepErrors?r.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Gt=(j,z)=>It(Dn(j)?j(l):j,z);return{control:{register:Ne,unregister:be,getFieldState:me,handleSubmit:lt,setError:ne,_executeSchema:q,_getWatch:re,_getDirty:oe,_updateValid:R,_removeUnmounted:ue,_updateFieldArray:T,_updateDisabledField:ut,_getFieldArray:xe,_reset:It,_resetDefaultValues:()=>Dn(t.defaultValues)&&t.defaultValues().then(j=>{Gt(j,t.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:j=>{r={...r,...j}},_disableForm:nt,_subjects:v,_proxyFormState:p,_setErrors:I,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(j){c=j},get _defaultValues(){return o},get _names(){return a},set _names(j){a=j},get _formState(){return r},set _formState(j){r=j},get _options(){return t},set _options(j){t={...t,...j}}},trigger:N,register:Ne,handleSubmit:lt,watch:fe,setValue:ae,getValues:Q,reset:Gt,resetField:or,clearErrors:X,unregister:be,setError:ne,setFocus:(j,z={})=>{const G=we(i,j),he=G&&G._f;if(he){const ce=he.refs?he.refs[0]:he.ref;ce.focus&&(ce.focus(),z.shouldSelect&&Dn(ce.select)&&ce.select())}},getFieldState:me}}function p4(e={}){const t=Ve.useRef(void 0),r=Ve.useRef(void 0),[i,o]=Ve.useState({isDirty:!1,isValidating:!1,isLoading:Dn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Dn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...D5(e),formState:i});const l=t.current.control;return l._options=e,R5({subject:l._subjects.state,next:c=>{x5(c,l._proxyFormState,l._updateFormState)&&o({...l._formState})}}),Ve.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),Ve.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),Ve.useEffect(()=>{e.values&&!Yi(e.values,r.current)?(l._reset(e.values,l._options.resetOptions),r.current=e.values,o(c=>({...c}))):l._resetDefaultValues()},[e.values,l]),Ve.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),Ve.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),Ve.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),t.current.formState=C5(i,l),t.current}const yr=e=>{e&&at.success(e)},Ue=e=>{e&&at.error(e)},z5=()=>{var C,x;const e=p4(),{register:t,handleSubmit:r,formState:i}=e,{errors:o}=i,l=lo(),{login:c}=uo(),[a,d]=A.useState(!1),[h,p]=A.useState(!1),v=()=>d(!a),m=async R=>{var w,T,P,I;p(!0);try{const k=await Be.post(`${ft}/auth/login`,R);if(k.data.status==="success"){yr("Login successful"),c((w=k.data)==null?void 0:w.token),localStorage.setItem("user_id",(T=k.data.user)==null?void 0:T.id);const H=new URLSearchParams(window.location.search).get("redirect");l(H||"/")}}catch(k){Ue(((I=(P=k.response)==null?void 0:P.data)==null?void 0:I.message)||"Login failed")}finally{p(!1)}},S=()=>{window.location.href=`${ft}/auth/google`};return g.jsxs("div",{className:"min-h-screen grid lg:grid-cols-2 bg-neutral-50 dark:bg-slate-900 transition-colors",children:[g.jsxs("div",{className:"hidden lg:flex flex-col justify-between p-12 bg-gradient-to-br from-primary-600 via-primary-700 to-accent-600 dark:from-primary-800 dark:via-primary-900 dark:to-accent-800 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 bg-white/10 rounded-full blur-3xl animate-float"}),g.jsx("div",{className:"absolute bottom-40 right-20 w-96 h-96 bg-accent-500/20 rounded-full blur-3xl animate-float-delayed"})]}),g.jsx("div",{className:"relative z-10",children:g.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:()=>l("/"),children:[g.jsx("div",{className:"p-2 bg-white/10 backdrop-blur-sm rounded-2xl group-hover:bg-white/20 transition-all",children:g.jsx("img",{src:ao,alt:"Chatlas Logo",className:"w-10 h-10"})}),g.jsx("span",{className:"text-3xl font-bold text-white",children:"Chat"})]})}),g.jsxs("div",{className:"relative z-10 space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-white leading-tight",children:["Welcome back to",g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-white to-primary-100 bg-clip-text text-transparent",children:"global conversations"})]}),g.jsx("p",{className:"text-xl text-white/90 max-w-md",children:"Continue breaking language barriers with AI-powered real-time translation."})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[g.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:g.jsx(Gd,{className:"text-white text-xl"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-white font-semibold",children:"140+ Languages"}),g.jsx("p",{className:"text-white/70 text-sm",children:"Instant translation"})]})]}),g.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[g.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:g.jsx(O0,{className:"text-white text-xl"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-white font-semibold",children:"Real-Time Speed"}),g.jsx("p",{className:"text-white/70 text-sm",children:"< 100ms latency"})]})]}),g.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[g.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:g.jsx(Zj,{className:"text-white text-xl"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-white font-semibold",children:"Secure Chats"}),g.jsx("p",{className:"text-white/70 text-sm",children:"End-to-end encrypted"})]})]})]})]}),g.jsx("div",{className:"relative z-10 text-white/60 text-sm",children:" 2025 UnifyChat. All rights reserved."})]}),g.jsx("div",{className:"flex items-center justify-center p-6 lg:p-12",children:g.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[g.jsxs("div",{className:"lg:hidden flex items-center justify-center space-x-3 p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-lg",children:[g.jsx("img",{src:ao,alt:"Chatlas Logo",className:"w-10 h-10"}),g.jsx("span",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"UnifyChatChat"})]}),g.jsxs("div",{className:"text-center lg:text-left space-y-3",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100",children:"Welcome back"}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400",children:"Sign in to continue your conversations"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex justify-center p-4 bg-white dark:bg-slate-800 rounded-2xl border-2 border-neutral-200 dark:border-neutral-700",children:g.jsxs("button",{onClick:S,className:"flex items-center justify-center space-x-3 px-6 py-3 bg-white dark:bg-slate-800 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-slate-700 transition-colors",children:[g.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"}),g.jsx("span",{className:"text-neutral-700 dark:text-neutral-300 font-medium",children:"Sign in with Google"})]})}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("div",{className:"w-full border-t-2 border-neutral-200 dark:border-neutral-700"})}),g.jsx("div",{className:"relative flex justify-center text-sm",children:g.jsx("span",{className:"px-4 bg-neutral-50 dark:bg-slate-900 text-neutral-500 dark:text-neutral-400 font-medium",children:"Or continue with email"})})]})]}),g.jsxs("form",{onSubmit:r(m),className:"space-y-6",children:[g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Email address"}),g.jsx("input",{type:"email",placeholder:"you@example.com",className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),o.email&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(C=o.email)==null?void 0:C.message})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:a?"text":"password",placeholder:"Enter your password",className:"w-full px-4 py-3 pr-12 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("password",{required:"Password is required"})}),g.jsx("button",{type:"button",onClick:v,className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors",children:a?g.jsx(ky,{size:20}):g.jsx(My,{size:20})})]}),o.password&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(x=o.password)==null?void 0:x.message})]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("label",{className:"flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600 dark:text-primary-500 border-neutral-300 dark:border-neutral-600 rounded focus:ring-primary-500 dark:focus:ring-primary-400 bg-white dark:bg-slate-800"}),g.jsx("span",{className:"ml-2 text-sm text-neutral-600 dark:text-neutral-400",children:"Remember me"})]}),g.jsx(qr,{to:"/Help",className:"text-sm font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:"Forgot password?"})]}),g.jsx("button",{type:"submit",disabled:h,className:"w-full px-6 py-4 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 dark:from-primary-500 dark:to-primary-600 dark:hover:from-primary-600 dark:hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg shadow-primary-500/30 dark:shadow-primary-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:h?g.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Sign in"}),g.jsx(cf,{})]})})]}),g.jsx("div",{className:"text-center pt-4",children:g.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400",children:["Don't have an account?"," ",g.jsx(qr,{to:"/Signup",className:"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:"Sign up"})]})})]})})]})},L5=()=>{var T,P,I,k,U;const e=p4(),{register:t,handleSubmit:r,formState:i,getValues:o}=e,{errors:l}=i,{login:c}=uo(),a=lo(),[d,h]=A.useState(!1),[p,v]=A.useState(!1),[m,S]=A.useState(!1),C=()=>h(!d),x=()=>v(!p),R=async H=>{var q,F,$,ue,oe,re;S(!0);try{const xe=await Be.post(`${ft}/auth/signup`,H);if(((q=xe.data)==null?void 0:q.status)==="success"){yr(((F=xe.data)==null?void 0:F.message)||"Account created successfully"),localStorage.setItem("user_id",($=xe.data.user)==null?void 0:$.id),c((ue=xe.data)==null?void 0:ue.token);const ee=new URLSearchParams(window.location.search).get("redirect");a(ee||"/")}}catch(xe){Ue(((re=(oe=xe.response)==null?void 0:oe.data)==null?void 0:re.message)||"Registration failed")}finally{S(!1)}},w=[{icon:O0,text:"Real-time translation to 140+ languages"},{icon:hO,text:"Secure end-to-end encrypted messaging"},{icon:C_,text:"Create unlimited group chats"}];return g.jsxs("div",{className:"min-h-screen grid lg:grid-cols-2 bg-neutral-50 dark:bg-slate-900 transition-colors",children:[g.jsxs("div",{className:"hidden lg:flex flex-col justify-between p-12 bg-gradient-to-br from-accent-600 via-accent-700 to-primary-600 dark:from-accent-800 dark:via-accent-900 dark:to-primary-800 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-float"}),g.jsx("div",{className:"absolute bottom-32 left-20 w-96 h-96 bg-primary-500/20 rounded-full blur-3xl animate-float-delayed"})]}),g.jsx("div",{className:"relative z-10",children:g.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:()=>a("/"),children:[g.jsx("div",{className:"p-2 bg-white/10 backdrop-blur-sm rounded-2xl group-hover:bg-white/20 transition-all",children:g.jsx("img",{src:ao,alt:"Chatlas Logo",className:"w-10 h-10"})}),g.jsx("span",{className:"text-3xl font-bold text-white",children:"Chat"})]})}),g.jsxs("div",{className:"relative z-10 space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-white leading-tight",children:["Join the global",g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-white to-accent-100 bg-clip-text text-transparent",children:"conversation"})]}),g.jsx("p",{className:"text-xl text-white/90 max-w-md",children:"Experience seamless communication without language barriers."})]}),g.jsx("div",{className:"space-y-4",children:w.map((H,q)=>g.jsxs("div",{className:"flex items-start space-x-4 p-5 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20 hover:bg-white/15 transition-all",children:[g.jsx("div",{className:"flex-shrink-0 p-3 bg-white/20 rounded-xl",children:g.jsx(H.icon,{className:"text-white text-xl"})}),g.jsx("div",{className:"flex-1",children:g.jsx("p",{className:"text-white font-medium leading-relaxed",children:H.text})})]},q))}),g.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[g.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(H=>g.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-white/20 to-white/10 border-2 border-white flex items-center justify-center",children:g.jsx("span",{className:"text-white text-sm",children:""})},H))}),g.jsx("p",{className:"text-white/90 font-medium",children:"Join 10,000+ users worldwide"})]})]}),g.jsx("div",{className:"relative z-10 text-white/60 text-sm",children:" 2025 UnifyChat. All rights reserved."})]}),g.jsx("div",{className:"flex items-center justify-center p-6 lg:p-12",children:g.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[g.jsxs("div",{className:"lg:hidden flex items-center justify-center space-x-3 p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-lg",children:[g.jsx("img",{src:ao,alt:"Chatlas Logo",className:"w-10 h-10"}),g.jsx("span",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"UnifyChat"})]}),g.jsxs("div",{className:"text-center lg:text-left space-y-3",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100",children:"Create account"}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400",children:"Start chatting across languages"})]}),g.jsxs("form",{onSubmit:r(R),className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Full name"}),g.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("username",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}})}),l.username&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(T=l.username)==null?void 0:T.message})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Email address"}),g.jsx("input",{type:"email",placeholder:"you@example.com",className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),l.email&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(P=l.email)==null?void 0:P.message})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:d?"text":"password",placeholder:"Create a strong password",className:"w-full px-4 py-3 pr-12 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),g.jsx("button",{type:"button",onClick:C,className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors",children:d?g.jsx(ky,{size:20}):g.jsx(My,{size:20})})]}),l.password&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(I=l.password)==null?void 0:I.message})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Confirm password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:p?"text":"password",placeholder:"Re-enter your password",className:"w-full px-4 py-3 pr-12 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("passwordConfirm",{required:"Please confirm your password",validate:H=>H===o("password")||"Passwords do not match"})}),g.jsx("button",{type:"button",onClick:x,className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors",children:p?g.jsx(ky,{size:20}):g.jsx(My,{size:20})})]}),l.passwordConfirm&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(k=l.passwordConfirm)==null?void 0:k.message})]}),g.jsxs("div",{className:"flex items-start",children:[g.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1 text-primary-600 dark:text-primary-500 border-neutral-300 dark:border-neutral-600 rounded focus:ring-primary-500 dark:focus:ring-primary-400 bg-white dark:bg-slate-800",...t("terms",{required:"You must accept the terms and conditions"})}),g.jsxs("label",{className:"ml-2 text-sm text-neutral-600 dark:text-neutral-400",children:["I agree to the"," ",g.jsx(qr,{to:"/Help",className:"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:"Terms of Service"})," ","and"," ",g.jsx(qr,{to:"/Help",className:"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:"Privacy Policy"})]})]}),l.terms&&g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:(U=l.terms)==null?void 0:U.message}),g.jsx("button",{type:"submit",disabled:m,className:"w-full px-6 py-4 bg-gradient-to-r from-accent-600 to-primary-600 hover:from-accent-700 hover:to-primary-700 dark:from-accent-500 dark:to-primary-500 dark:hover:from-accent-600 dark:hover:to-primary-600 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg shadow-accent-500/30 dark:shadow-accent-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:m?g.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Create account"}),g.jsx(cf,{})]})})]}),g.jsx("div",{className:"text-center pt-4",children:g.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400",children:["Already have an account?"," ",g.jsx(qr,{to:"/Signin",className:"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:"Sign in"})]})})]})})]})},f4=({color:e,text:t,size:r="md",url:i})=>{const o={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"};return e||(e=["bg-green-400","bg-blue-400","bg-cyan-400","bg-yellow-400","bg-purple-400"][Math.floor(Math.random()*5)]),i?g.jsx("img",{src:i,alt:"Avatar",className:`${o[r]} rounded-full object-cover`}):g.jsx("div",{className:`${e} ${o[r]} rounded-full flex items-center justify-center text-white font-bold`,children:g.jsx("span",{children:t})})},J0=({size:e="md",person:t})=>{const r={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"};return t?g.jsx("img",{src:t==null?void 0:t.profile_picture,alt:"Avatar",className:`${r[e]} rounded-full object-cover`}):g.jsx("div",{className:`${r[e]} rounded-full flex items-center justify-center text-white font-bold`,children:g.jsx("span",{children:t==null?void 0:t.given_name})})},gr=({icon:e,onClick:t,className:r="",disabled:i=!1})=>g.jsx("button",{className:`p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-brand-grey-light transition duration-200 text-neutral-600 dark:text-neutral-400 ${r} ${i?"opacity-50 cursor-not-allowed":""}`,onClick:t,disabled:i,children:e}),Um=({text:e,isActive:t,onClick:r})=>g.jsx("button",{className:`font-['Montserrat'] px-4 py-2 text-sm font-semibold rounded-full transition-colors ${t?"bg-brand-yellow dark:bg-brand-yellow-light text-brand-grey-dark shadow-sm":"bg-white dark:bg-brand-grey-light border border-neutral-200 dark:border-brand-grey-light text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-brand-grey-medium"}`,onClick:r,children:e}),Y0=A.createContext({});function Q0(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const X0=typeof window<"u",v4=X0?A.useLayoutEffect:A.useEffect,mf=A.createContext(null);function Z0(e,t){e.indexOf(t)===-1&&e.push(t)}function eS(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const yi=(e,t,r)=>r>t?t:r<e?e:r;let tS=()=>{};const Si={},m4=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function g4(e){return typeof e=="object"&&e!==null}const y4=e=>/^0[^.\s]+$/u.test(e);function rS(e){let t;return()=>(t===void 0&&(t=e()),t)}const an=e=>e,q5=(e,t)=>r=>t(e(r)),Zd=(...e)=>e.reduce(q5),Ld=(e,t,r)=>{const i=t-e;return i===0?1:(r-e)/i};class nS{constructor(){this.subscriptions=[]}add(t){return Z0(this.subscriptions,t),()=>eS(this.subscriptions,t)}notify(t,r,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,i);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ln=e=>e*1e3,on=e=>e/1e3;function S4(e,t){return t?e*(1e3/t):0}const b4=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,B5=1e-7,U5=12;function V5(e,t,r,i,o){let l,c,a=0;do c=t+(r-t)/2,l=b4(c,i,o)-e,l>0?r=c:t=c;while(Math.abs(l)>B5&&++a<U5);return c}function eh(e,t,r,i){if(e===t&&r===i)return an;const o=l=>V5(l,0,1,e,r);return l=>l===0||l===1?l:b4(o(l),t,i)}const C4=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,x4=e=>t=>1-e(1-t),R4=eh(.33,1.53,.69,.99),iS=x4(R4),w4=C4(iS),E4=e=>(e*=2)<1?.5*iS(e):.5*(2-Math.pow(2,-10*(e-1))),sS=e=>1-Math.sin(Math.acos(e)),T4=x4(sS),P4=C4(sS),F5=eh(.42,0,1,1),H5=eh(0,0,.58,1),A4=eh(.42,0,.58,1),$5=e=>Array.isArray(e)&&typeof e[0]!="number",_4=e=>Array.isArray(e)&&typeof e[0]=="number",K5={linear:an,easeIn:F5,easeInOut:A4,easeOut:H5,circIn:sS,circInOut:P4,circOut:T4,backIn:iS,backInOut:w4,backOut:R4,anticipate:E4},W5=e=>typeof e=="string",fR=e=>{if(_4(e)){tS(e.length===4);const[t,r,i,o]=e;return eh(t,r,i,o)}else if(W5(e))return K5[e];return e},vp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function G5(e,t){let r=new Set,i=new Set,o=!1,l=!1;const c=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function d(p){c.has(p)&&(h.schedule(p),e()),p(a)}const h={schedule:(p,v=!1,m=!1)=>{const C=m&&o?r:i;return v&&c.add(p),C.has(p)||C.add(p),p},cancel:p=>{i.delete(p),c.delete(p)},process:p=>{if(a=p,o){l=!0;return}o=!0,[r,i]=[i,r],r.forEach(d),r.clear(),o=!1,l&&(l=!1,h.process(p))}};return h}const J5=40;function k4(e,t){let r=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=vp.reduce((P,I)=>(P[I]=G5(l),P),{}),{setup:a,read:d,resolveKeyframes:h,preUpdate:p,update:v,preRender:m,render:S,postRender:C}=c,x=()=>{const P=Si.useManualTiming?o.timestamp:performance.now();r=!1,Si.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(P-o.timestamp,J5),1)),o.timestamp=P,o.isProcessing=!0,a.process(o),d.process(o),h.process(o),p.process(o),v.process(o),m.process(o),S.process(o),C.process(o),o.isProcessing=!1,r&&t&&(i=!1,e(x))},R=()=>{r=!0,i=!0,o.isProcessing||e(x)};return{schedule:vp.reduce((P,I)=>{const k=c[I];return P[I]=(U,H=!1,q=!1)=>(r||R(),k.schedule(U,H,q)),P},{}),cancel:P=>{for(let I=0;I<vp.length;I++)c[vp[I]].cancel(P)},state:o,steps:c}}const{schedule:xt,cancel:Zi,state:ir,steps:Vm}=k4(typeof requestAnimationFrame<"u"?requestAnimationFrame:an,!0);let Mp;function Y5(){Mp=void 0}const _r={now:()=>(Mp===void 0&&_r.set(ir.isProcessing||Si.useManualTiming?ir.timestamp:performance.now()),Mp),set:e=>{Mp=e,queueMicrotask(Y5)}},M4=e=>t=>typeof t=="string"&&t.startsWith(e),oS=M4("--"),Q5=M4("var(--"),aS=e=>Q5(e)?X5.test(e.split("/*")[0].trim()):!1,X5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ua={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qd={...ua,transform:e=>yi(0,1,e)},mp={...ua,default:1},kd=e=>Math.round(e*1e5)/1e5,cS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Z5(e){return e==null}const e8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lS=(e,t)=>r=>!!(typeof r=="string"&&e8.test(r)&&r.startsWith(e)||t&&!Z5(r)&&Object.prototype.hasOwnProperty.call(r,t)),N4=(e,t,r)=>i=>{if(typeof i!="string")return i;const[o,l,c,a]=i.match(cS);return{[e]:parseFloat(o),[t]:parseFloat(l),[r]:parseFloat(c),alpha:a!==void 0?parseFloat(a):1}},t8=e=>yi(0,255,e),Fm={...ua,transform:e=>Math.round(t8(e))},eo={test:lS("rgb","red"),parse:N4("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:i=1})=>"rgba("+Fm.transform(e)+", "+Fm.transform(t)+", "+Fm.transform(r)+", "+kd(qd.transform(i))+")"};function r8(e){let t="",r="",i="",o="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),i=e.substring(3,4),o=e.substring(4,5),t+=t,r+=r,i+=i,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Vy={test:lS("#"),parse:r8,transform:eo.transform},th=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Wi=th("deg"),qn=th("%"),qe=th("px"),n8=th("vh"),i8=th("vw"),vR={...qn,parse:e=>qn.parse(e)/100,transform:e=>qn.transform(e*100)},Jo={test:lS("hsl","hue"),parse:N4("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+qn.transform(kd(t))+", "+qn.transform(kd(r))+", "+kd(qd.transform(i))+")"},Vt={test:e=>eo.test(e)||Vy.test(e)||Jo.test(e),parse:e=>eo.test(e)?eo.parse(e):Jo.test(e)?Jo.parse(e):Vy.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?eo.transform(e):Jo.transform(e),getAnimatableNone:e=>{const t=Vt.parse(e);return t.alpha=0,Vt.transform(t)}},s8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o8(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(cS))==null?void 0:t.length)||0)+(((r=e.match(s8))==null?void 0:r.length)||0)>0}const I4="number",j4="color",a8="var",c8="var(",mR="${}",l8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bd(e){const t=e.toString(),r=[],i={color:[],number:[],var:[]},o=[];let l=0;const a=t.replace(l8,d=>(Vt.test(d)?(i.color.push(l),o.push(j4),r.push(Vt.parse(d))):d.startsWith(c8)?(i.var.push(l),o.push(a8),r.push(d)):(i.number.push(l),o.push(I4),r.push(parseFloat(d))),++l,mR)).split(mR);return{values:r,split:a,indexes:i,types:o}}function O4(e){return Bd(e).values}function D4(e){const{split:t,types:r}=Bd(e),i=t.length;return o=>{let l="";for(let c=0;c<i;c++)if(l+=t[c],o[c]!==void 0){const a=r[c];a===I4?l+=kd(o[c]):a===j4?l+=Vt.transform(o[c]):l+=o[c]}return l}}const u8=e=>typeof e=="number"?0:Vt.test(e)?Vt.getAnimatableNone(e):e;function d8(e){const t=O4(e);return D4(e)(t.map(u8))}const es={test:o8,parse:O4,createTransformer:D4,getAnimatableNone:d8};function Hm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function h8({hue:e,saturation:t,lightness:r,alpha:i}){e/=360,t/=100,r/=100;let o=0,l=0,c=0;if(!t)o=l=c=r;else{const a=r<.5?r*(1+t):r+t-r*t,d=2*r-a;o=Hm(d,a,e+1/3),l=Hm(d,a,e),c=Hm(d,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Qp(e,t){return r=>r>0?t:e}const Pt=(e,t,r)=>e+(t-e)*r,$m=(e,t,r)=>{const i=e*e,o=r*(t*t-i)+i;return o<0?0:Math.sqrt(o)},p8=[Vy,eo,Jo],f8=e=>p8.find(t=>t.test(e));function gR(e){const t=f8(e);if(!t)return!1;let r=t.parse(e);return t===Jo&&(r=h8(r)),r}const yR=(e,t)=>{const r=gR(e),i=gR(t);if(!r||!i)return Qp(e,t);const o={...r};return l=>(o.red=$m(r.red,i.red,l),o.green=$m(r.green,i.green,l),o.blue=$m(r.blue,i.blue,l),o.alpha=Pt(r.alpha,i.alpha,l),eo.transform(o))},Fy=new Set(["none","hidden"]);function v8(e,t){return Fy.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function m8(e,t){return r=>Pt(e,t,r)}function uS(e){return typeof e=="number"?m8:typeof e=="string"?aS(e)?Qp:Vt.test(e)?yR:S8:Array.isArray(e)?z4:typeof e=="object"?Vt.test(e)?yR:g8:Qp}function z4(e,t){const r=[...e],i=r.length,o=e.map((l,c)=>uS(l)(l,t[c]));return l=>{for(let c=0;c<i;c++)r[c]=o[c](l);return r}}function g8(e,t){const r={...e,...t},i={};for(const o in r)e[o]!==void 0&&t[o]!==void 0&&(i[o]=uS(e[o])(e[o],t[o]));return o=>{for(const l in i)r[l]=i[l](o);return r}}function y8(e,t){const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=e.indexes[l][i[l]],a=e.values[c]??0;r[o]=a,i[l]++}return r}const S8=(e,t)=>{const r=es.createTransformer(t),i=Bd(e),o=Bd(t);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Fy.has(e)&&!o.values.length||Fy.has(t)&&!i.values.length?v8(e,t):Zd(z4(y8(i,o),o.values),r):Qp(e,t)};function L4(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Pt(e,t,r):uS(e)(e,t)}const b8=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>xt.update(t,r),stop:()=>Zi(t),now:()=>ir.isProcessing?ir.timestamp:_r.now()}},q4=(e,t,r=10)=>{let i="";const o=Math.max(Math.round(t/r),2);for(let l=0;l<o;l++)i+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Xp=2e4;function dS(e){let t=0;const r=50;let i=e.next(t);for(;!i.done&&t<Xp;)t+=r,i=e.next(t);return t>=Xp?1/0:t}function C8(e,t=100,r){const i=r({...e,keyframes:[0,t]}),o=Math.min(dS(i),Xp);return{type:"keyframes",ease:l=>i.next(o*l).value/t,duration:on(o)}}const x8=5;function B4(e,t,r){const i=Math.max(t-x8,0);return S4(r-e(i),t-i)}const Nt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},SR=.001;function R8({duration:e=Nt.duration,bounce:t=Nt.bounce,velocity:r=Nt.velocity,mass:i=Nt.mass}){let o,l,c=1-t;c=yi(Nt.minDamping,Nt.maxDamping,c),e=yi(Nt.minDuration,Nt.maxDuration,on(e)),c<1?(o=h=>{const p=h*c,v=p*e,m=p-r,S=Hy(h,c),C=Math.exp(-v);return SR-m/S*C},l=h=>{const v=h*c*e,m=v*r+r,S=Math.pow(c,2)*Math.pow(h,2)*e,C=Math.exp(-v),x=Hy(Math.pow(h,2),c);return(-o(h)+SR>0?-1:1)*((m-S)*C)/x}):(o=h=>{const p=Math.exp(-h*e),v=(h-r)*e+1;return-.001+p*v},l=h=>{const p=Math.exp(-h*e),v=(r-h)*(e*e);return p*v});const a=5/e,d=E8(o,l,a);if(e=Ln(e),isNaN(d))return{stiffness:Nt.stiffness,damping:Nt.damping,duration:e};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:c*2*Math.sqrt(i*h),duration:e}}}const w8=12;function E8(e,t,r){let i=r;for(let o=1;o<w8;o++)i=i-e(i)/t(i);return i}function Hy(e,t){return e*Math.sqrt(1-t*t)}const T8=["duration","bounce"],P8=["stiffness","damping","mass"];function bR(e,t){return t.some(r=>e[r]!==void 0)}function A8(e){let t={velocity:Nt.velocity,stiffness:Nt.stiffness,damping:Nt.damping,mass:Nt.mass,isResolvedFromDuration:!1,...e};if(!bR(e,P8)&&bR(e,T8))if(e.visualDuration){const r=e.visualDuration,i=2*Math.PI/(r*1.2),o=i*i,l=2*yi(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Nt.mass,stiffness:o,damping:l}}else{const r=R8(e);t={...t,...r,mass:Nt.mass},t.isResolvedFromDuration=!0}return t}function Zp(e=Nt.visualDuration,t=Nt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:o}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],a={done:!1,value:l},{stiffness:d,damping:h,mass:p,duration:v,velocity:m,isResolvedFromDuration:S}=A8({...r,velocity:-on(r.velocity||0)}),C=m||0,x=h/(2*Math.sqrt(d*p)),R=c-l,w=on(Math.sqrt(d/p)),T=Math.abs(R)<5;i||(i=T?Nt.restSpeed.granular:Nt.restSpeed.default),o||(o=T?Nt.restDelta.granular:Nt.restDelta.default);let P;if(x<1){const k=Hy(w,x);P=U=>{const H=Math.exp(-x*w*U);return c-H*((C+x*w*R)/k*Math.sin(k*U)+R*Math.cos(k*U))}}else if(x===1)P=k=>c-Math.exp(-w*k)*(R+(C+w*R)*k);else{const k=w*Math.sqrt(x*x-1);P=U=>{const H=Math.exp(-x*w*U),q=Math.min(k*U,300);return c-H*((C+x*w*R)*Math.sinh(q)+k*R*Math.cosh(q))/k}}const I={calculatedDuration:S&&v||null,next:k=>{const U=P(k);if(S)a.done=k>=v;else{let H=k===0?C:0;x<1&&(H=k===0?Ln(C):B4(P,k,U));const q=Math.abs(H)<=i,F=Math.abs(c-U)<=o;a.done=q&&F}return a.value=a.done?c:U,a},toString:()=>{const k=Math.min(dS(I),Xp),U=q4(H=>I.next(k*H).value,k,30);return k+"ms "+U},toTransition:()=>{}};return I}Zp.applyToOptions=e=>{const t=C8(e,100,Zp);return e.ease=t.ease,e.duration=Ln(t.duration),e.type="keyframes",e};function $y({keyframes:e,velocity:t=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:a,max:d,restDelta:h=.5,restSpeed:p}){const v=e[0],m={done:!1,value:v},S=q=>a!==void 0&&q<a||d!==void 0&&q>d,C=q=>a===void 0?d:d===void 0||Math.abs(a-q)<Math.abs(d-q)?a:d;let x=r*t;const R=v+x,w=c===void 0?R:c(R);w!==R&&(x=w-v);const T=q=>-x*Math.exp(-q/i),P=q=>w+T(q),I=q=>{const F=T(q),$=P(q);m.done=Math.abs(F)<=h,m.value=m.done?w:$};let k,U;const H=q=>{S(m.value)&&(k=q,U=Zp({keyframes:[m.value,C(m.value)],velocity:B4(P,q,m.value),damping:o,stiffness:l,restDelta:h,restSpeed:p}))};return H(0),{calculatedDuration:null,next:q=>{let F=!1;return!U&&k===void 0&&(F=!0,I(q),H(q)),k!==void 0&&q>=k?U.next(q-k):(!F&&I(q),m)}}}function _8(e,t,r){const i=[],o=r||Si.mix||L4,l=e.length-1;for(let c=0;c<l;c++){let a=o(e[c],e[c+1]);if(t){const d=Array.isArray(t)?t[c]||an:t;a=Zd(d,a)}i.push(a)}return i}function k8(e,t,{clamp:r=!0,ease:i,mixer:o}={}){const l=e.length;if(tS(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=_8(t,i,o),d=a.length,h=p=>{if(c&&p<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(p<e[v+1]);v++);const m=Ld(e[v],e[v+1],p);return a[v](m)};return r?p=>h(yi(e[0],e[l-1],p)):h}function M8(e,t){const r=e[e.length-1];for(let i=1;i<=t;i++){const o=Ld(0,t,i);e.push(Pt(r,1,o))}}function N8(e){const t=[0];return M8(t,e.length-1),t}function I8(e,t){return e.map(r=>r*t)}function j8(e,t){return e.map(()=>t||A4).splice(0,e.length-1)}function Md({duration:e=300,keyframes:t,times:r,ease:i="easeInOut"}){const o=$5(i)?i.map(fR):fR(i),l={done:!1,value:t[0]},c=I8(r&&r.length===t.length?r:N8(t),e),a=k8(c,t,{ease:Array.isArray(o)?o:j8(t,o)});return{calculatedDuration:e,next:d=>(l.value=a(d),l.done=d>=e,l)}}const O8=e=>e!==null;function hS(e,{repeat:t,repeatType:r="loop"},i,o=1){const l=e.filter(O8),a=o<0||t&&r!=="loop"&&t%2===1?0:l.length-1;return!a||i===void 0?l[a]:i}const D8={decay:$y,inertia:$y,tween:Md,keyframes:Md,spring:Zp};function U4(e){typeof e.type=="string"&&(e.type=D8[e.type])}class pS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const z8=e=>e/100;class fS extends pS{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:r}=this.options;r&&r.updatedAt!==_r.now()&&this.tick(_r.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;U4(t);const{type:r=Md,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=t;let{keyframes:a}=t;const d=r||Md;d!==Md&&typeof a[0]!="number"&&(this.mixKeyframes=Zd(z8,L4(a[0],a[1])),a=[0,100]);const h=d({...t,keyframes:a});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...a].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=dS(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=h}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:a,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:p,repeat:v,repeatType:m,repeatDelay:S,type:C,onUpdate:x,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const w=this.currentTime-h*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?w<0:w>o;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let P=this.currentTime,I=i;if(v){const q=Math.min(this.currentTime,o)/a;let F=Math.floor(q),$=q%1;!$&&q>=1&&($=1),$===1&&F--,F=Math.min(F,v+1),!!(F%2)&&(m==="reverse"?($=1-$,S&&($-=S/a)):m==="mirror"&&(I=c)),P=yi(0,1,$)*a}const k=T?{done:!1,value:p[0]}:I.next(P);l&&(k.value=l(k.value));let{done:U}=k;!T&&d!==null&&(U=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return H&&C!==$y&&(k.value=hS(p,this.options,R,this.speed)),x&&x(k.value),H&&this.finish(),k}then(t,r){return this.finished.then(t,r)}get duration(){return on(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+on(t)}get time(){return on(this.currentTime)}set time(t){var r;t=Ln(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_r.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=on(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=b8,startTime:r}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_r.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function L8(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const to=e=>e*180/Math.PI,Ky=e=>{const t=to(Math.atan2(e[1],e[0]));return Wy(t)},q8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ky,rotateZ:Ky,skewX:e=>to(Math.atan(e[1])),skewY:e=>to(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Wy=e=>(e=e%360,e<0&&(e+=360),e),CR=Ky,xR=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),RR=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),B8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xR,scaleY:RR,scale:e=>(xR(e)+RR(e))/2,rotateX:e=>Wy(to(Math.atan2(e[6],e[5]))),rotateY:e=>Wy(to(Math.atan2(-e[2],e[0]))),rotateZ:CR,rotate:CR,skewX:e=>to(Math.atan(e[4])),skewY:e=>to(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Gy(e){return e.includes("scale")?1:0}function Jy(e,t){if(!e||e==="none")return Gy(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(r)i=B8,o=r;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=q8,o=a}if(!o)return Gy(t);const l=i[t],c=o[1].split(",").map(V8);return typeof l=="function"?l(c):c[l]}const U8=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Jy(r,t)};function V8(e){return parseFloat(e.trim())}const da=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ha=new Set(da),wR=e=>e===ua||e===qe,F8=new Set(["x","y","z"]),H8=da.filter(e=>!F8.has(e));function $8(e){const t=[];return H8.forEach(r=>{const i=e.getValue(r);i!==void 0&&(t.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),t}const io={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Jy(t,"x"),y:(e,{transform:t})=>Jy(t,"y")};io.translateX=io.x;io.translateY=io.y;const so=new Set;let Yy=!1,Qy=!1,Xy=!1;function V4(){if(Qy){const e=Array.from(so).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),r=new Map;t.forEach(i=>{const o=$8(i);o.length&&(r.set(i,o),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const o=r.get(i);o&&o.forEach(([l,c])=>{var a;(a=i.getValue(l))==null||a.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Qy=!1,Yy=!1,so.forEach(e=>e.complete(Xy)),so.clear()}function F4(){so.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Qy=!0)})}function K8(){Xy=!0,F4(),V4(),Xy=!1}class vS{constructor(t,r,i,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=i,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(so.add(this),Yy||(Yy=!0,xt.read(F4),xt.resolveKeyframes(V4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:i,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&r){const a=i.readValue(r,c);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}L8(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),so.delete(this)}cancel(){this.state==="scheduled"&&(so.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const W8=e=>e.startsWith("--");function G8(e,t,r){W8(t)?e.style.setProperty(t,r):e.style[t]=r}const J8=rS(()=>window.ScrollTimeline!==void 0),Y8={};function Q8(e,t){const r=rS(e);return()=>Y8[t]??r()}const H4=Q8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Td=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`,ER={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Td([0,.65,.55,1]),circOut:Td([.55,0,1,.45]),backIn:Td([.31,.01,.66,-.59]),backOut:Td([.33,1.53,.69,.99])};function $4(e,t){if(e)return typeof e=="function"?H4()?q4(e,t):"ease-out":_4(e)?Td(e):Array.isArray(e)?e.map(r=>$4(r,t)||ER.easeOut):ER[e]}function X8(e,t,r,{delay:i=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:a="easeOut",times:d}={},h=void 0){const p={[t]:r};d&&(p.offset=d);const v=$4(a,o);Array.isArray(v)&&(p.easing=v);const m={delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return h&&(m.pseudoElement=h),e.animate(p,m)}function K4(e){return typeof e=="function"&&"applyToOptions"in e}function Z8({type:e,...t}){return K4(e)&&H4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ez extends pS{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:i,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:a,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,tS(typeof t.type!="string");const h=Z8(t);this.animation=X8(r,i,o,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=hS(o,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(p):G8(r,i,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,i;const t=((i=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:i.call(r).duration)||0;return on(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+on(t)}get time(){return on(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ln(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&J8()?(this.animation.timeline=t,an):r(this)}}const W4={anticipate:E4,backInOut:w4,circInOut:P4};function tz(e){return e in W4}function rz(e){typeof e.ease=="string"&&tz(e.ease)&&(e.ease=W4[e.ease])}const TR=10;class nz extends ez{constructor(t){rz(t),U4(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:i,onComplete:o,element:l,...c}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const a=new fS({...c,autoplay:!1}),d=Ln(this.finishedTime??this.time);r.setWithVelocity(a.sample(d-TR).value,a.sample(d).value,TR),a.stop()}}const PR=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(es.test(e)||e==="0")&&!e.startsWith("url("));function iz(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function sz(e,t,r,i){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=PR(o,t),a=PR(l,t);return!c||!a?!1:iz(e)||(r==="spring"||K4(r))&&i}function Zy(e){e.duration=0,e.type="keyframes"}const oz=new Set(["opacity","clipPath","filter","transform"]),az=rS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cz(e){var p;const{motionValue:t,name:r,repeatDelay:i,repeatType:o,damping:l,type:c}=e;if(!(((p=t==null?void 0:t.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return az()&&r&&oz.has(r)&&(r!=="transform"||!h)&&!d&&!i&&o!=="mirror"&&l!==0&&c!=="inertia"}const lz=40;class uz extends pS{constructor({autoplay:t=!0,delay:r=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:a,name:d,motionValue:h,element:p,...v}){var C;super(),this.stop=()=>{var x,R;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=_r.now();const m={autoplay:t,delay:r,type:i,repeat:o,repeatDelay:l,repeatType:c,name:d,motionValue:h,element:p,...v},S=(p==null?void 0:p.KeyframeResolver)||vS;this.keyframeResolver=new S(a,(x,R,w)=>this.onKeyframesResolved(x,R,m,!w),d,h,p),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,r,i,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:a,delay:d,isHandoff:h,onUpdate:p}=i;this.resolvedAt=_r.now(),sz(t,l,c,a)||((Si.instantAnimations||!d)&&(p==null||p(hS(t,i,r))),t[0]=t[t.length-1],Zy(i),i.repeat=0);const m={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>lz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:t},S=!h&&cz(m)?new nz({...m,element:m.motionValue.owner.current}):new fS(m);S.finished.then(()=>this.notifyFinished()).catch(an),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),K8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const dz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hz(e){const t=dz.exec(e);if(!t)return[,];const[,r,i,o]=t;return[`--${r??i}`,o]}function G4(e,t,r=1){const[i,o]=hz(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const c=l.trim();return m4(c)?parseFloat(c):c}return aS(o)?G4(o,t,r+1):o}function mS(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const J4=new Set(["width","height","top","left","right","bottom",...da]),pz={test:e=>e==="auto",parse:e=>e},Y4=e=>t=>t.test(e),Q4=[ua,qe,qn,Wi,i8,n8,pz],AR=e=>Q4.find(Y4(e));function fz(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||y4(e):!0}const vz=new Set(["brightness","contrast","saturate","opacity"]);function mz(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=r.match(cS)||[];if(!i)return e;const o=r.replace(i,"");let l=vz.has(t)?1:0;return i!==r&&(l*=100),t+"("+l+o+")"}const gz=/\b([a-z-]*)\(.*?\)/gu,e0={...es,getAnimatableNone:e=>{const t=e.match(gz);return t?t.map(mz).join(" "):e}},_R={...ua,transform:Math.round},yz={rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scale:mp,scaleX:mp,scaleY:mp,scaleZ:mp,skew:Wi,skewX:Wi,skewY:Wi,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:qd,originX:vR,originY:vR,originZ:qe},gS={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe,...yz,zIndex:_R,fillOpacity:qd,strokeOpacity:qd,numOctaves:_R},Sz={...gS,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:e0,WebkitFilter:e0},X4=e=>Sz[e];function Z4(e,t){let r=X4(e);return r!==e0&&(r=es),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const bz=new Set(["auto","none","0"]);function Cz(e,t,r){let i=0,o;for(;i<e.length&&!o;){const l=e[i];typeof l=="string"&&!bz.has(l)&&Bd(l).values.length&&(o=e[i]),i++}if(o&&r)for(const l of t)e[l]=Z4(r,o)}class xz extends vS{constructor(t,r,i,o,l){super(t,r,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),aS(h))){const p=G4(h,r.current);p!==void 0&&(t[d]=p),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!J4.has(i)||t.length!==2)return;const[o,l]=t,c=AR(o),a=AR(l);if(c!==a)if(wR(c)&&wR(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else io[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,i=[];for(let o=0;o<t.length;o++)(t[o]===null||fz(t[o]))&&i.push(o);i.length&&Cz(t,i,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=io[i](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&t.getValue(i,o).jump(o,!1)}measureEndState(){var a;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=io[r](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([d,h])=>{t.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function Rz(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const o=(r==null?void 0:r[e])??i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const ek=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function tk(e){return g4(e)&&"offsetHeight"in e}const kR=30,wz=e=>!isNaN(parseFloat(e));class Ez{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const o=_r.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=_r.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=wz(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new nS);const i=this.events[t].add(r);return t==="change"?()=>{i(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_r.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kR)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,kR);return S4(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ra(e,t){return new Ez(e,t)}const{schedule:yS}=k4(queueMicrotask,!1),xn={x:!1,y:!1};function rk(){return xn.x||xn.y}function Tz(e){return e==="x"||e==="y"?xn[e]?null:(xn[e]=!0,()=>{xn[e]=!1}):xn.x||xn.y?null:(xn.x=xn.y=!0,()=>{xn.x=xn.y=!1})}function nk(e,t){const r=Rz(e),i=new AbortController,o={passive:!0,...t,signal:i.signal};return[r,o,()=>i.abort()]}function MR(e){return!(e.pointerType==="touch"||rk())}function Pz(e,t,r={}){const[i,o,l]=nk(e,r),c=a=>{if(!MR(a))return;const{target:d}=a,h=t(d,a);if(typeof h!="function"||!d)return;const p=v=>{MR(v)&&(h(v),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,o)};return i.forEach(a=>{a.addEventListener("pointerenter",c,o)}),l}const ik=(e,t)=>t?e===t?!0:ik(e,t.parentElement):!1,SS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Az=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _z(e){return Az.has(e.tagName)||e.tabIndex!==-1}const Np=new WeakSet;function NR(e){return t=>{t.key==="Enter"&&e(t)}}function Km(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const kz=(e,t)=>{const r=e.currentTarget;if(!r)return;const i=NR(()=>{if(Np.has(r))return;Km(r,"down");const o=NR(()=>{Km(r,"up")}),l=()=>Km(r,"cancel");r.addEventListener("keyup",o,t),r.addEventListener("blur",l,t)});r.addEventListener("keydown",i,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),t)};function IR(e){return SS(e)&&!rk()}function Mz(e,t,r={}){const[i,o,l]=nk(e,r),c=a=>{const d=a.currentTarget;if(!IR(a))return;Np.add(d);const h=t(d,a),p=(S,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",m),Np.has(d)&&Np.delete(d),IR(S)&&typeof h=="function"&&h(S,{success:C})},v=S=>{p(S,d===window||d===document||r.useGlobalTarget||ik(d,S.target))},m=S=>{p(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",m,o)};return i.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",c,o),tk(a)&&(a.addEventListener("focus",h=>kz(h,o)),!_z(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),l}function sk(e){return g4(e)&&"ownerSVGElement"in e}function Nz(e){return sk(e)&&e.tagName==="svg"}const dr=e=>!!(e&&e.getVelocity),Iz=[...Q4,Vt,es],jz=e=>Iz.find(Y4(e)),bS=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function jR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Oz(...e){return t=>{let r=!1;const i=e.map(o=>{const l=jR(o,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():jR(e[o],null)}}}}function Dz(...e){return A.useCallback(Oz(...e),e)}class zz extends A.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const i=r.offsetParent,o=tk(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Lz({children:e,isPresent:t,anchorX:r,root:i}){const o=A.useId(),l=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=A.useContext(bS),d=Dz(l,e==null?void 0:e.ref);return A.useInsertionEffect(()=>{const{width:h,height:p,top:v,left:m,right:S}=c.current;if(t||!l.current||!h||!p)return;const C=r==="left"?`left: ${m}`:`right: ${S}`;l.current.dataset.motionPopId=o;const x=document.createElement("style");a&&(x.nonce=a);const R=i??document.head;return R.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{R.contains(x)&&R.removeChild(x)}},[t]),g.jsx(zz,{isPresent:t,childRef:l,sizeRef:c,children:A.cloneElement(e,{ref:d})})}const qz=({children:e,initial:t,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:c,anchorX:a,root:d})=>{const h=Q0(Bz),p=A.useId();let v=!0,m=A.useMemo(()=>(v=!1,{id:p,initial:t,isPresent:r,custom:o,onExitComplete:S=>{h.set(S,!0);for(const C of h.values())if(!C)return;i&&i()},register:S=>(h.set(S,!1),()=>h.delete(S))}),[r,h,i]);return l&&v&&(m={...m}),A.useMemo(()=>{h.forEach((S,C)=>h.set(C,!1))},[r]),A.useEffect(()=>{!r&&!h.size&&i&&i()},[r]),c==="popLayout"&&(e=g.jsx(Lz,{isPresent:r,anchorX:a,root:d,children:e})),g.jsx(mf.Provider,{value:m,children:e})};function Bz(){return new Map}function ok(e=!0){const t=A.useContext(mf);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:o}=t,l=A.useId();A.useEffect(()=>{if(e)return o(l)},[e]);const c=A.useCallback(()=>e&&i&&i(l),[l,i,e]);return!r&&i?[!1,c]:[!0]}const gp=e=>e.key||"";function OR(e){const t=[];return A.Children.forEach(e,r=>{A.isValidElement(r)&&t.push(r)}),t}const na=({children:e,custom:t,initial:r=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:a="left",root:d})=>{const[h,p]=ok(c),v=A.useMemo(()=>OR(e),[e]),m=c&&!h?[]:v.map(gp),S=A.useRef(!0),C=A.useRef(v),x=Q0(()=>new Map),[R,w]=A.useState(v),[T,P]=A.useState(v);v4(()=>{S.current=!1,C.current=v;for(let U=0;U<T.length;U++){const H=gp(T[U]);m.includes(H)?x.delete(H):x.get(H)!==!0&&x.set(H,!1)}},[T,m.length,m.join("-")]);const I=[];if(v!==R){let U=[...v];for(let H=0;H<T.length;H++){const q=T[H],F=gp(q);m.includes(F)||(U.splice(H,0,q),I.push(q))}return l==="wait"&&I.length&&(U=I),P(OR(U)),w(v),null}const{forceRender:k}=A.useContext(Y0);return g.jsx(g.Fragment,{children:T.map(U=>{const H=gp(U),q=c&&!h?!1:v===T||m.includes(H),F=()=>{if(x.has(H))x.set(H,!0);else return;let $=!0;x.forEach(ue=>{ue||($=!1)}),$&&(k==null||k(),P(C.current),c&&(p==null||p()),i&&i())};return g.jsx(qz,{isPresent:q,initial:!S.current||r?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:d,onExitComplete:q?void 0:F,anchorX:a,children:U},H)})})},ak=A.createContext({strict:!1}),DR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ia={};for(const e in DR)ia[e]={isEnabled:t=>DR[e].some(r=>!!t[r])};function Uz(e){for(const t in e)ia[t]={...ia[t],...e[t]}}const Vz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ef(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Vz.has(e)}let ck=e=>!ef(e);function Fz(e){typeof e=="function"&&(ck=t=>t.startsWith("on")?!ef(t):e(t))}try{Fz(require("@emotion/is-prop-valid").default)}catch{}function Hz(e,t,r){const i={};for(const o in e)o==="values"&&typeof e.values=="object"||(ck(o)||r===!0&&ef(o)||!t&&!ef(o)||e.draggable&&o.startsWith("onDrag"))&&(i[o]=e[o]);return i}const gf=A.createContext({});function yf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ud(e){return typeof e=="string"||Array.isArray(e)}const CS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xS=["initial",...CS];function Sf(e){return yf(e.animate)||xS.some(t=>Ud(e[t]))}function lk(e){return!!(Sf(e)||e.variants)}function $z(e,t){if(Sf(e)){const{initial:r,animate:i}=e;return{initial:r===!1||Ud(r)?r:void 0,animate:Ud(i)?i:void 0}}return e.inherit!==!1?t:{}}function Kz(e){const{initial:t,animate:r}=$z(e,A.useContext(gf));return A.useMemo(()=>({initial:t,animate:r}),[zR(t),zR(r)])}function zR(e){return Array.isArray(e)?e.join(" "):e}const Vd={};function Wz(e){for(const t in e)Vd[t]=e[t],oS(t)&&(Vd[t].isCSSVariable=!0)}function uk(e,{layout:t,layoutId:r}){return ha.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Vd[e]||e==="opacity")}const Gz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jz=da.length;function Yz(e,t,r){let i="",o=!0;for(let l=0;l<Jz;l++){const c=da[l],a=e[c];if(a===void 0)continue;let d=!0;if(typeof a=="number"?d=a===(c.startsWith("scale")?1:0):d=parseFloat(a)===0,!d||r){const h=ek(a,gS[c]);if(!d){o=!1;const p=Gz[c]||c;i+=`${p}(${h}) `}r&&(t[c]=h)}}return i=i.trim(),r?i=r(t,o?"":i):o&&(i="none"),i}function RS(e,t,r){const{style:i,vars:o,transformOrigin:l}=e;let c=!1,a=!1;for(const d in t){const h=t[d];if(ha.has(d)){c=!0;continue}else if(oS(d)){o[d]=h;continue}else{const p=ek(h,gS[d]);d.startsWith("origin")?(a=!0,l[d]=p):i[d]=p}}if(t.transform||(c||r?i.transform=Yz(t,e.transform,r):i.transform&&(i.transform="none")),a){const{originX:d="50%",originY:h="50%",originZ:p=0}=l;i.transformOrigin=`${d} ${h} ${p}`}}const wS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dk(e,t,r){for(const i in t)!dr(t[i])&&!uk(i,r)&&(e[i]=t[i])}function Qz({transformTemplate:e},t){return A.useMemo(()=>{const r=wS();return RS(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Xz(e,t){const r=e.style||{},i={};return dk(i,r,e),Object.assign(i,Qz(e,t)),i}function Zz(e,t){const r={},i=Xz(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const eL={offset:"stroke-dashoffset",array:"stroke-dasharray"},tL={offset:"strokeDashoffset",array:"strokeDasharray"};function rL(e,t,r=1,i=0,o=!0){e.pathLength=1;const l=o?eL:tL;e[l.offset]=qe.transform(-i);const c=qe.transform(t),a=qe.transform(r);e[l.array]=`${c} ${a}`}function hk(e,{attrX:t,attrY:r,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...a},d,h,p){if(RS(e,a,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:m}=e;v.transform&&(m.transform=v.transform,delete v.transform),(m.transform||v.transformOrigin)&&(m.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),m.transform&&(m.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),r!==void 0&&(v.y=r),i!==void 0&&(v.scale=i),o!==void 0&&rL(v,o,l,c,!1)}const pk=()=>({...wS(),attrs:{}}),fk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function nL(e,t,r,i){const o=A.useMemo(()=>{const l=pk();return hk(l,t,fk(i),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};dk(l,e.style,e),o.style={...l,...o.style}}return o}const iL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ES(e){return typeof e!="string"||e.includes("-")?!1:!!(iL.indexOf(e)>-1||/[A-Z]/u.test(e))}function sL(e,t,r,{latestValues:i},o,l=!1){const a=(ES(e)?nL:Zz)(t,i,o,e),d=Hz(t,typeof e=="string",l),h=e!==A.Fragment?{...d,...a,ref:r}:{},{children:p}=t,v=A.useMemo(()=>dr(p)?p.get():p,[p]);return A.createElement(e,{...h,children:v})}function LR(e){const t=[{},{}];return e==null||e.values.forEach((r,i)=>{t[0][i]=r.get(),t[1][i]=r.getVelocity()}),t}function TS(e,t,r,i){if(typeof t=="function"){const[o,l]=LR(i);t=t(r!==void 0?r:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=LR(i);t=t(r!==void 0?r:e.custom,o,l)}return t}function Ip(e){return dr(e)?e.get():e}function oL({scrapeMotionValuesFromProps:e,createRenderState:t},r,i,o){return{latestValues:aL(r,i,o,e),renderState:t()}}function aL(e,t,r,i){const o={},l=i(e,{});for(const m in l)o[m]=Ip(l[m]);let{initial:c,animate:a}=e;const d=Sf(e),h=lk(e);t&&h&&!d&&e.inherit!==!1&&(c===void 0&&(c=t.initial),a===void 0&&(a=t.animate));let p=r?r.initial===!1:!1;p=p||c===!1;const v=p?a:c;if(v&&typeof v!="boolean"&&!yf(v)){const m=Array.isArray(v)?v:[v];for(let S=0;S<m.length;S++){const C=TS(e,m[S]);if(C){const{transitionEnd:x,transition:R,...w}=C;for(const T in w){let P=w[T];if(Array.isArray(P)){const I=p?P.length-1:0;P=P[I]}P!==null&&(o[T]=P)}for(const T in x)o[T]=x[T]}}}return o}const vk=e=>(t,r)=>{const i=A.useContext(gf),o=A.useContext(mf),l=()=>oL(e,t,i,o);return r?l():Q0(l)};function PS(e,t,r){var l;const{style:i}=e,o={};for(const c in i)(dr(i[c])||t.style&&dr(t.style[c])||uk(c,e)||((l=r==null?void 0:r.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=i[c]);return o}const cL=vk({scrapeMotionValuesFromProps:PS,createRenderState:wS});function mk(e,t,r){const i=PS(e,t,r);for(const o in e)if(dr(e[o])||dr(t[o])){const l=da.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=e[o]}return i}const lL=vk({scrapeMotionValuesFromProps:mk,createRenderState:pk}),uL=Symbol.for("motionComponentSymbol");function Yo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dL(e,t,r){return A.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),r&&(typeof r=="function"?r(i):Yo(r)&&(r.current=i))},[t])}const AS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),hL="framerAppearId",gk="data-"+AS(hL),yk=A.createContext({});function pL(e,t,r,i,o){var x,R;const{visualElement:l}=A.useContext(gf),c=A.useContext(ak),a=A.useContext(mf),d=A.useContext(bS).reducedMotion,h=A.useRef(null);i=i||c.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:l,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,v=A.useContext(yk);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&fL(h.current,r,o,v);const m=A.useRef(!1);A.useInsertionEffect(()=>{p&&m.current&&p.update(r,a)});const S=r[gk],C=A.useRef(!!S&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,S))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,S)));return v4(()=>{p&&(m.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),C.current&&p.animationState&&p.animationState.animateChanges())}),A.useEffect(()=>{p&&(!C.current&&p.animationState&&p.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,S)}),C.current=!1),p.enteringChildren=void 0)}),p}function fL(e,t,r,i){const{layoutId:o,layout:l,drag:c,dragConstraints:a,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Sk(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||a&&Yo(a),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:p,layoutScroll:d,layoutRoot:h})}function Sk(e){if(e)return e.options.allowProjection!==!1?e.projection:Sk(e.parent)}function Wm(e,{forwardMotionProps:t=!1}={},r,i){r&&Uz(r);const o=ES(e)?lL:cL;function l(a,d){let h;const p={...A.useContext(bS),...a,layoutId:vL(a)},{isStatic:v}=p,m=Kz(a),S=o(a,v);if(!v&&X0){mL();const C=gL(p);h=C.MeasureLayout,m.visualElement=pL(e,S,p,i,C.ProjectionNode)}return g.jsxs(gf.Provider,{value:m,children:[h&&m.visualElement?g.jsx(h,{visualElement:m.visualElement,...p}):null,sL(e,a,dL(S,m.visualElement,d),S,v,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=A.forwardRef(l);return c[uL]=e,c}function vL({layoutId:e}){const t=A.useContext(Y0).id;return t&&e!==void 0?t+"-"+e:e}function mL(e,t){A.useContext(ak).strict}function gL(e){const{drag:t,layout:r}=ia;if(!t&&!r)return{};const i={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function yL(e,t){if(typeof Proxy>"u")return Wm;const r=new Map,i=(l,c)=>Wm(l,c,e,t),o=(l,c)=>i(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?i:(r.has(c)||r.set(c,Wm(c,void 0,e,t)),r.get(c))})}function bk({top:e,left:t,right:r,bottom:i}){return{x:{min:t,max:r},y:{min:e,max:i}}}function SL({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function bL(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Gm(e){return e===void 0||e===1}function t0({scale:e,scaleX:t,scaleY:r}){return!Gm(e)||!Gm(t)||!Gm(r)}function Gs(e){return t0(e)||Ck(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ck(e){return qR(e.x)||qR(e.y)}function qR(e){return e&&e!=="0%"}function tf(e,t,r){const i=e-r,o=t*i;return r+o}function BR(e,t,r,i,o){return o!==void 0&&(e=tf(e,o,i)),tf(e,r,i)+t}function r0(e,t=0,r=1,i,o){e.min=BR(e.min,t,r,i,o),e.max=BR(e.max,t,r,i,o)}function xk(e,{x:t,y:r}){r0(e.x,t.translate,t.scale,t.originPoint),r0(e.y,r.translate,r.scale,r.originPoint)}const UR=.999999999999,VR=1.0000000000001;function CL(e,t,r,i=!1){const o=r.length;if(!o)return;t.x=t.y=1;let l,c;for(let a=0;a<o;a++){l=r[a],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Xo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,xk(e,c)),i&&Gs(l.latestValues)&&Xo(e,l.latestValues))}t.x<VR&&t.x>UR&&(t.x=1),t.y<VR&&t.y>UR&&(t.y=1)}function Qo(e,t){e.min=e.min+t,e.max=e.max+t}function FR(e,t,r,i,o=.5){const l=Pt(e.min,e.max,o);r0(e,t,r,l,i)}function Xo(e,t){FR(e.x,t.x,t.scaleX,t.scale,t.originX),FR(e.y,t.y,t.scaleY,t.scale,t.originY)}function Rk(e,t){return bk(bL(e.getBoundingClientRect(),t))}function xL(e,t,r){const i=Rk(e,r),{scroll:o}=t;return o&&(Qo(i.x,o.offset.x),Qo(i.y,o.offset.y)),i}const HR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zo=()=>({x:HR(),y:HR()}),$R=()=>({min:0,max:0}),Dt=()=>({x:$R(),y:$R()}),n0={current:null},wk={current:!1};function RL(){if(wk.current=!0,!!X0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>n0.current=e.matches;e.addEventListener("change",t),t()}else n0.current=!1}const wL=new WeakMap;function EL(e,t,r){for(const i in t){const o=t[i],l=r[i];if(dr(o))e.addValue(i,o);else if(dr(l))e.addValue(i,ra(o,{owner:e}));else if(l!==o)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(i);e.addValue(i,ra(c!==void 0?c:o,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const KR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TL{scrapeMotionValuesFromProps(t,r,i){return{}}constructor({parent:t,props:r,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=_r.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,xt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=r,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!l,this.isControllingVariants=Sf(r),this.isVariantNode=lk(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in v){const S=v[m];d[m]!==void 0&&dr(S)&&S.set(d[m])}}mount(t){var r;this.current=t,wL.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),wk.current||RL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:n0.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Zi(this.notifyUpdate),Zi(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const i=this.features[r];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=ha.has(t);i&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&xt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ia){const r=ia[t];if(!r)continue;const{isEnabled:i,Feature:o}=r;if(!this.features[t]&&o&&i(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<KR.length;i++){const o=KR[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=t[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=EL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const i=this.values.get(t);r!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&r!==void 0&&(i=ra(r===null?void 0:r,{owner:this}),this.addValue(t,i)),i}readValue(t,r){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(m4(i)||y4(i))?i=parseFloat(i):!jz(i)&&es.test(r)&&(i=Z4(t,r)),this.setBaseTarget(t,dr(i)?i.get():i)),dr(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var l;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=TS(this.props,r,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!dr(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new nS),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){yS.render(this.render)}}class Ek extends TL{constructor(){super(...arguments),this.KeyframeResolver=xz}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:i}){delete r[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;dr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Tk(e,{style:t,vars:r},i,o){const l=e.style;let c;for(c in t)l[c]=t[c];o==null||o.applyProjectionStyles(l,i);for(c in r)l.setProperty(c,r[c])}function PL(e){return window.getComputedStyle(e)}class AL extends Ek{constructor(){super(...arguments),this.type="html",this.renderInstance=Tk}readValueFromInstance(t,r){var i;if(ha.has(r))return(i=this.projection)!=null&&i.isProjecting?Gy(r):U8(t,r);{const o=PL(t),l=(oS(r)?o.getPropertyValue(r):o[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Rk(t,r)}build(t,r,i){RS(t,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,r,i){return PS(t,r,i)}}const Pk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _L(e,t,r,i){Tk(e,t,void 0,i);for(const o in t.attrs)e.setAttribute(Pk.has(o)?o:AS(o),t.attrs[o])}class kL extends Ek{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ha.has(r)){const i=X4(r);return i&&i.default||0}return r=Pk.has(r)?r:AS(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,i){return mk(t,r,i)}build(t,r,i){hk(t,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,r,i,o){_L(t,r,i,o)}mount(t){this.isSVGTag=fk(t.tagName),super.mount(t)}}const ML=(e,t)=>ES(e)?new kL(t):new AL(t,{allowProjection:e!==A.Fragment});function ea(e,t,r){const i=e.getProps();return TS(i,t,r!==void 0?r:i.custom,e)}const i0=e=>Array.isArray(e);function NL(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,ra(r))}function IL(e){return i0(e)?e[e.length-1]||0:e}function jL(e,t){const r=ea(e,t);let{transitionEnd:i={},transition:o={},...l}=r||{};l={...l,...i};for(const c in l){const a=IL(l[c]);NL(e,c,a)}}function OL(e){return!!(dr(e)&&e.add)}function s0(e,t){const r=e.getValue("willChange");if(OL(r))return r.add(t);if(!r&&Si.WillChange){const i=new Si.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function Ak(e){return e.props[gk]}const DL=e=>e!==null;function zL(e,{repeat:t,repeatType:r="loop"},i){const o=e.filter(DL),l=t&&r!=="loop"&&t%2===1?0:o.length-1;return o[l]}const LL={type:"spring",stiffness:500,damping:25,restSpeed:10},qL=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),BL={type:"keyframes",duration:.8},UL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VL=(e,{keyframes:t})=>t.length>2?BL:ha.has(e)?e.startsWith("scale")?qL(t[1]):LL:UL;function FL({when:e,delay:t,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:a,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const _S=(e,t,r,i={},o,l)=>c=>{const a=mS(i,e)||{},d=a.delay||i.delay||0;let{elapsed:h=0}=i;h=h-Ln(d);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-h,onUpdate:m=>{t.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{c(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:l?void 0:o};FL(a)||Object.assign(p,VL(e,p)),p.duration&&(p.duration=Ln(p.duration)),p.repeatDelay&&(p.repeatDelay=Ln(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Zy(p),p.delay===0&&(v=!0)),(Si.instantAnimations||Si.skipAnimations)&&(v=!0,Zy(p),p.delay=0),p.allowFlatten=!a.type&&!a.ease,v&&!l&&t.get()!==void 0){const m=zL(p.keyframes,a);if(m!==void 0){xt.update(()=>{p.onUpdate(m),p.onComplete()});return}}return a.isSync?new fS(p):new uz(p)};function HL({protectedKeys:e,needsAnimating:t},r){const i=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,i}function _k(e,t,{delay:r=0,transitionOverride:i,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...a}=t;i&&(l=i);const d=[],h=o&&e.animationState&&e.animationState.getState()[o];for(const p in a){const v=e.getValue(p,e.latestValues[p]??null),m=a[p];if(m===void 0||h&&HL(h,p))continue;const S={delay:r,...mS(l||{},p)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(m)&&m===C&&!S.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const w=Ak(e);if(w){const T=window.MotionHandoffAnimation(w,p,xt);T!==null&&(S.startTime=T,x=!0)}}s0(e,p),v.start(_S(p,v,m,e.shouldReduceMotion&&J4.has(p)?{type:!1}:S,e,x));const R=v.animation;R&&d.push(R)}return c&&Promise.all(d).then(()=>{xt.update(()=>{c&&jL(e,c)})}),d}function kk(e,t,r,i=0,o=1){const l=Array.from(e).sort((h,p)=>h.sortNodePosition(p)).indexOf(t),c=e.size,a=(c-1)*i;return typeof r=="function"?r(l,c):o===1?l*i:a-l*i}function o0(e,t,r={}){var d;const i=ea(e,t,r.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);const l=i?()=>Promise.all(_k(e,i,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:m}=o;return $L(e,t,h,p,v,m,r)}:()=>Promise.resolve(),{when:a}=o;if(a){const[h,p]=a==="beforeChildren"?[l,c]:[c,l];return h().then(()=>p())}else return Promise.all([l(),c(r.delay)])}function $L(e,t,r=0,i=0,o=0,l=1,c){const a=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),a.push(o0(d,t,{...c,delay:r+(typeof i=="function"?0:i)+kk(e.variantChildren,d,i,o,l)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(a)}function KL(e,t,r={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const o=t.map(l=>o0(e,l,r));i=Promise.all(o)}else if(typeof t=="string")i=o0(e,t,r);else{const o=typeof t=="function"?ea(e,t,r.custom):t;i=Promise.all(_k(e,o,r))}return i.then(()=>{e.notify("AnimationComplete",t)})}function Mk(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}const WL=xS.length;function Nk(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Nk(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<WL;r++){const i=xS[r],o=e.props[i];(Ud(o)||o===!1)&&(t[i]=o)}return t}const GL=[...CS].reverse(),JL=CS.length;function YL(e){return t=>Promise.all(t.map(({animation:r,options:i})=>KL(e,r,i)))}function QL(e){let t=YL(e),r=WR(),i=!0;const o=d=>(h,p)=>{var m;const v=ea(e,p,d==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(v){const{transition:S,transitionEnd:C,...x}=v;h={...h,...x,...C}}return h};function l(d){t=d(e)}function c(d){const{props:h}=e,p=Nk(e.parent)||{},v=[],m=new Set;let S={},C=1/0;for(let R=0;R<JL;R++){const w=GL[R],T=r[w],P=h[w]!==void 0?h[w]:p[w],I=Ud(P),k=w===d?T.isActive:null;k===!1&&(C=R);let U=P===p[w]&&P!==h[w]&&I;if(U&&i&&e.manuallyAnimateOnMount&&(U=!1),T.protectedKeys={...S},!T.isActive&&k===null||!P&&!T.prevProp||yf(P)||typeof P=="boolean")continue;const H=XL(T.prevProp,P);let q=H||w===d&&T.isActive&&!U&&I||R>C&&I,F=!1;const $=Array.isArray(P)?P:[P];let ue=$.reduce(o(w),{});k===!1&&(ue={});const{prevResolvedValues:oe={}}=T,re={...oe,...ue},xe=ae=>{q=!0,m.has(ae)&&(F=!0,m.delete(ae)),T.needsAnimating[ae]=!0;const de=e.getValue(ae);de&&(de.liveStyle=!1)};for(const ae in re){const de=ue[ae],Me=oe[ae];if(S.hasOwnProperty(ae))continue;let N=!1;i0(de)&&i0(Me)?N=!Mk(de,Me):N=de!==Me,N?de!=null?xe(ae):m.add(ae):de!==void 0&&m.has(ae)?xe(ae):T.protectedKeys[ae]=!0}T.prevProp=P,T.prevResolvedValues=ue,T.isActive&&(S={...S,...ue}),i&&e.blockInitialAnimation&&(q=!1);const ke=U&&H;q&&(!ke||F)&&v.push(...$.map(ae=>{const de={type:w};if(typeof ae=="string"&&i&&!ke&&e.manuallyAnimateOnMount&&e.parent){const{parent:Me}=e,N=ea(Me,ae);if(Me.enteringChildren&&N){const{delayChildren:Q}=N.transition||{};de.delay=kk(Me.enteringChildren,e,Q)}}return{animation:ae,options:de}}))}if(m.size){const R={};if(typeof h.initial!="boolean"){const w=ea(e,Array.isArray(h.initial)?h.initial[0]:h.initial);w&&w.transition&&(R.transition=w.transition)}m.forEach(w=>{const T=e.getBaseTarget(w),P=e.getValue(w);P&&(P.liveStyle=!0),R[w]=T??null}),v.push({animation:R})}let x=!!v.length;return i&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(x=!1),i=!1,x?t(v):Promise.resolve()}function a(d,h){var v;if(r[d].isActive===h)return Promise.resolve();(v=e.variantChildren)==null||v.forEach(m=>{var S;return(S=m.animationState)==null?void 0:S.setActive(d,h)}),r[d].isActive=h;const p=c(d);for(const m in r)r[m].protectedKeys={};return p}return{animateChanges:c,setActive:a,setAnimateFunction:l,getState:()=>r,reset:()=>{r=WR()}}}function XL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Mk(t,e):!1}function ws(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WR(){return{animate:ws(!0),whileInView:ws(),whileHover:ws(),whileTap:ws(),whileDrag:ws(),whileFocus:ws(),exit:ws()}}class ts{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ZL extends ts{constructor(t){super(t),t.animationState||(t.animationState=QL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();yf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let e9=0;class t9 extends ts{constructor(){super(...arguments),this.id=e9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t);r&&!t&&o.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const r9={animation:{Feature:ZL},exit:{Feature:t9}};function Fd(e,t,r,i={passive:!0}){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r)}function rh(e){return{point:{x:e.pageX,y:e.pageY}}}const n9=e=>t=>SS(t)&&e(t,rh(t));function Nd(e,t,r,i){return Fd(e,t,n9(r),i)}const Ik=1e-4,i9=1-Ik,s9=1+Ik,jk=.01,o9=0-jk,a9=0+jk;function Cr(e){return e.max-e.min}function c9(e,t,r){return Math.abs(e-t)<=r}function GR(e,t,r,i=.5){e.origin=i,e.originPoint=Pt(t.min,t.max,e.origin),e.scale=Cr(r)/Cr(t),e.translate=Pt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=i9&&e.scale<=s9||isNaN(e.scale))&&(e.scale=1),(e.translate>=o9&&e.translate<=a9||isNaN(e.translate))&&(e.translate=0)}function Id(e,t,r,i){GR(e.x,t.x,r.x,i?i.originX:void 0),GR(e.y,t.y,r.y,i?i.originY:void 0)}function JR(e,t,r){e.min=r.min+t.min,e.max=e.min+Cr(t)}function l9(e,t,r){JR(e.x,t.x,r.x),JR(e.y,t.y,r.y)}function YR(e,t,r){e.min=t.min-r.min,e.max=e.min+Cr(t)}function jd(e,t,r){YR(e.x,t.x,r.x),YR(e.y,t.y,r.y)}function nn(e){return[e("x"),e("y")]}const Ok=({current:e})=>e?e.ownerDocument.defaultView:null,QR=(e,t)=>Math.abs(e-t);function u9(e,t){const r=QR(e.x,t.x),i=QR(e.y,t.y);return Math.sqrt(r**2+i**2)}class Dk{constructor(t,r,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Ym(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=u9(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!C)return;const{point:x}=m,{timestamp:R}=ir;this.history.push({...x,timestamp:R});const{onStart:w,onMove:T}=this.handlers;S||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,m)},this.handlePointerMove=(m,S)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Jm(S,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(m,S)=>{this.end();const{onEnd:C,onSessionEnd:x,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Ym(m.type==="pointercancel"?this.lastMoveEventInfo:Jm(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(m,w),x&&x(m,w)},!SS(t))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=o||window;const a=rh(t),d=Jm(a,this.transformPagePoint),{point:h}=d,{timestamp:p}=ir;this.history=[{...h,timestamp:p}];const{onSessionStart:v}=r;v&&v(t,Ym(d,this.history)),this.removeListeners=Zd(Nd(this.contextWindow,"pointermove",this.handlePointerMove),Nd(this.contextWindow,"pointerup",this.handlePointerUp),Nd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zi(this.updatePoint)}}function Jm(e,t){return t?{point:t(e.point)}:e}function XR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ym({point:e},t){return{point:e,delta:XR(e,zk(t)),offset:XR(e,d9(t)),velocity:h9(t,.1)}}function d9(e){return e[0]}function zk(e){return e[e.length-1]}function h9(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,i=null;const o=zk(e);for(;r>=0&&(i=e[r],!(o.timestamp-i.timestamp>Ln(t)));)r--;if(!i)return{x:0,y:0};const l=on(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function p9(e,{min:t,max:r},i){return t!==void 0&&e<t?e=i?Pt(t,e,i.min):Math.max(e,t):r!==void 0&&e>r&&(e=i?Pt(r,e,i.max):Math.min(e,r)),e}function ZR(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function f9(e,{top:t,left:r,bottom:i,right:o}){return{x:ZR(e.x,r,o),y:ZR(e.y,t,i)}}function e2(e,t){let r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,i]=[i,r]),{min:r,max:i}}function v9(e,t){return{x:e2(e.x,t.x),y:e2(e.y,t.y)}}function m9(e,t){let r=.5;const i=Cr(e),o=Cr(t);return o>i?r=Ld(t.min,t.max-i,e.min):i>o&&(r=Ld(e.min,e.max-o,t.min)),yi(0,1,r)}function g9(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const a0=.35;function y9(e=a0){return e===!1?e=0:e===!0&&(e=a0),{x:t2(e,"left","right"),y:t2(e,"top","bottom")}}function t2(e,t,r){return{min:r2(e,t),max:r2(e,r)}}function r2(e,t){return typeof e=="number"?e:e[t]||0}const S9=new WeakMap;class b9{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(rh(v).point)},c=(v,m)=>{const{drag:S,dragPropagation:C,onDragStart:x}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Tz(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nn(w=>{let T=this.getAxisMotionValue(w).get()||0;if(qn.test(T)){const{projection:P}=this.visualElement;if(P&&P.layout){const I=P.layout.layoutBox[w];I&&(T=Cr(I)*(parseFloat(T)/100))}}this.originPoint[w]=T}),x&&xt.postRender(()=>x(v,m)),s0(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},a=(v,m)=>{this.latestPointerEvent=v,this.latestPanInfo=m;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:x,onDrag:R}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:w}=m;if(C&&this.currentDirection===null){this.currentDirection=C9(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),R&&R(v,m)},d=(v,m)=>{this.latestPointerEvent=v,this.latestPanInfo=m,this.stop(v,m),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>nn(v=>{var m;return this.getAnimationState(v)==="paused"&&((m=this.getAxisMotionValue(v).animation)==null?void 0:m.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Dk(t,{onSessionStart:l,onStart:c,onMove:a,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:i,contextWindow:Ok(this.visualElement)})}stop(t,r){const i=t||this.latestPointerEvent,o=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:a}=this.getProps();a&&xt.postRender(()=>a(i,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,i){const{drag:o}=this.getProps();if(!i||!yp(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=p9(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&Yo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=f9(i.layoutBox,t):this.constraints=!1,this.elastic=y9(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&nn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=g9(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Yo(t))return!1;const i=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=xL(i,o.root,this.visualElement.getTransformPagePoint());let c=v9(o.layout.layoutBox,l);if(r){const a=r(SL(c));this.hasMutatedConstraints=!!a,a&&(c=bk(a))}return c}startAnimation(t){const{drag:r,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:a}=this.getProps(),d=this.constraints||{},h=nn(p=>{if(!yp(p,r,this.currentDirection))return;let v=d&&d[p]||{};c&&(v={min:0,max:0});const m=o?200:1e6,S=o?40:1e7,C={type:"inertia",velocity:i?t[p]:0,bounceStiffness:m,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(p,C)});return Promise.all(h).then(a)}startAxisValueAnimation(t,r){const i=this.getAxisMotionValue(t);return s0(this.visualElement,t),i.start(_S(t,i,0,r,this.visualElement,!1))}stopAnimation(){nn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){nn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),o=i[r];return o||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){nn(r=>{const{drag:i}=this.getProps();if(!yp(r,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:a}=o.layout.layoutBox[r];l.set(t[r]-Pt(c,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Yo(r)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};nn(c=>{const a=this.getAxisMotionValue(c);if(a&&this.constraints!==!1){const d=a.get();o[c]=m9({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),nn(c=>{if(!yp(c,t,null))return;const a=this.getAxisMotionValue(c),{min:d,max:h}=this.constraints[c];a.set(Pt(d,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;S9.set(this.visualElement,this);const t=this.visualElement.current,r=Nd(t,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Yo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),xt.read(i);const c=Fd(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(nn(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=d[p].translate,v.set(v.get()+d[p].translate))}),this.visualElement.render())});return()=>{c(),r(),l(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=a0,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:a}}}function yp(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function C9(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class x9 extends ts{constructor(t){super(t),this.removeGroupControls=an,this.removeListeners=an,this.controls=new b9(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||an}unmount(){this.removeGroupControls(),this.removeListeners()}}const n2=e=>(t,r)=>{e&&xt.postRender(()=>e(t,r))};class R9 extends ts{constructor(){super(...arguments),this.removePointerDownListener=an}onPointerDown(t){this.session=new Dk(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ok(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:n2(t),onStart:n2(r),onMove:i,onEnd:(l,c)=>{delete this.session,o&&xt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Nd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Sc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qe.test(e))e=parseFloat(e);else return e;const r=i2(e,t.target.x),i=i2(e,t.target.y);return`${r}% ${i}%`}},w9={correct:(e,{treeScale:t,projectionDelta:r})=>{const i=e,o=es.parse(e);if(o.length>5)return i;const l=es.createTransformer(e),c=typeof o[0]!="number"?1:0,a=r.x.scale*t.x,d=r.y.scale*t.y;o[0+c]/=a,o[1+c]/=d;const h=Pt(a,d,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),l(o)}};let Qm=!1;class E9 extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=t;Wz(T9),l&&(r.group&&r.group.add(l),i&&i.register&&o&&i.register(l),Qm&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),jp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:i,drag:o,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Qm=!0,o||t.layoutDependency!==r||r===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||xt.postRender(()=>{const a=c.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:o}=t;Qm=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Lk(e){const[t,r]=ok(),i=A.useContext(Y0);return g.jsx(E9,{...e,layoutGroup:i,switchLayoutGroup:A.useContext(yk),isPresent:t,safeToRemove:r})}const T9={borderRadius:{...Sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sc,borderTopRightRadius:Sc,borderBottomLeftRadius:Sc,borderBottomRightRadius:Sc,boxShadow:w9};function P9(e,t,r){const i=dr(e)?e:ra(e);return i.start(_S("",i,t,r)),i.animation}const A9=(e,t)=>e.depth-t.depth;class _9{constructor(){this.children=[],this.isDirty=!1}add(t){Z0(this.children,t),this.isDirty=!0}remove(t){eS(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(A9),this.isDirty=!1,this.children.forEach(t)}}function k9(e,t){const r=_r.now(),i=({timestamp:o})=>{const l=o-r;l>=t&&(Zi(i),e(l-t))};return xt.setup(i,!0),()=>Zi(i)}const qk=["TopLeft","TopRight","BottomLeft","BottomRight"],M9=qk.length,s2=e=>typeof e=="string"?parseFloat(e):e,o2=e=>typeof e=="number"||qe.test(e);function N9(e,t,r,i,o,l){o?(e.opacity=Pt(0,r.opacity??1,I9(i)),e.opacityExit=Pt(t.opacity??1,0,j9(i))):l&&(e.opacity=Pt(t.opacity??1,r.opacity??1,i));for(let c=0;c<M9;c++){const a=`border${qk[c]}Radius`;let d=a2(t,a),h=a2(r,a);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||o2(d)===o2(h)?(e[a]=Math.max(Pt(s2(d),s2(h),i),0),(qn.test(h)||qn.test(d))&&(e[a]+="%")):e[a]=h}(t.rotate||r.rotate)&&(e.rotate=Pt(t.rotate||0,r.rotate||0,i))}function a2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const I9=Bk(0,.5,T4),j9=Bk(.5,.95,an);function Bk(e,t,r){return i=>i<e?0:i>t?1:r(Ld(e,t,i))}function c2(e,t){e.min=t.min,e.max=t.max}function tn(e,t){c2(e.x,t.x),c2(e.y,t.y)}function l2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function u2(e,t,r,i,o){return e-=t,e=tf(e,1/r,i),o!==void 0&&(e=tf(e,1/o,i)),e}function O9(e,t=0,r=1,i=.5,o,l=e,c=e){if(qn.test(t)&&(t=parseFloat(t),t=Pt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let a=Pt(l.min,l.max,i);e===l&&(a-=t),e.min=u2(e.min,t,r,a,o),e.max=u2(e.max,t,r,a,o)}function d2(e,t,[r,i,o],l,c){O9(e,t[r],t[i],t[o],t.scale,l,c)}const D9=["x","scaleX","originX"],z9=["y","scaleY","originY"];function h2(e,t,r,i){d2(e.x,t,D9,r?r.x:void 0,i?i.x:void 0),d2(e.y,t,z9,r?r.y:void 0,i?i.y:void 0)}function p2(e){return e.translate===0&&e.scale===1}function Uk(e){return p2(e.x)&&p2(e.y)}function f2(e,t){return e.min===t.min&&e.max===t.max}function L9(e,t){return f2(e.x,t.x)&&f2(e.y,t.y)}function v2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Vk(e,t){return v2(e.x,t.x)&&v2(e.y,t.y)}function m2(e){return Cr(e.x)/Cr(e.y)}function g2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class q9{constructor(){this.members=[]}add(t){Z0(this.members,t),t.scheduleRender()}remove(t){if(eS(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(o=>t===o);if(r===0)return!1;let i;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,r){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,r&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:i}=t;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function B9(e,t,r){let i="";const o=e.x.translate/t.x,l=e.y.translate/t.y,c=(r==null?void 0:r.z)||0;if((o||l||c)&&(i=`translate3d(${o}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:h,rotate:p,rotateX:v,rotateY:m,skewX:S,skewY:C}=r;h&&(i=`perspective(${h}px) ${i}`),p&&(i+=`rotate(${p}deg) `),v&&(i+=`rotateX(${v}deg) `),m&&(i+=`rotateY(${m}deg) `),S&&(i+=`skewX(${S}deg) `),C&&(i+=`skewY(${C}deg) `)}const a=e.x.scale*t.x,d=e.y.scale*t.y;return(a!==1||d!==1)&&(i+=`scale(${a}, ${d})`),i||"none"}const Xm=["","X","Y","Z"],U9=1e3;let V9=0;function Zm(e,t,r,i){const{latestValues:o}=t;o[e]&&(r[e]=o[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Fk(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Ak(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",xt,!(o||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Fk(i)}function Hk({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},a=t==null?void 0:t()){this.id=V9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($9),this.nodes.forEach(J9),this.nodes.forEach(Y9),this.nodes.forEach(K9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new _9)}addEventListener(c,a){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new nS),this.eventHandlers.get(c).add(a)}notifyListeners(c,...a){const d=this.eventHandlers.get(c);d&&d.notify(...a)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=sk(c)&&!Nz(c),this.instance=c;const{layoutId:a,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||a)&&(this.isLayoutDirty=!0),e){let p,v=0;const m=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{v=window.innerWidth}),e(c,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,p&&p(),p=k9(m,250),jp.hasAnimatedSinceResize&&(jp.hasAnimatedSinceResize=!1,this.nodes.forEach(b2)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&h&&(a||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:m,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||t7,{onLayoutAnimationStart:x,onLayoutAnimationComplete:R}=h.getProps(),w=!this.targetLayout||!Vk(this.targetLayout,S),T=!v&&m;if(this.options.layoutRoot||this.resumeFrom||T||v&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...mS(C,"layout"),onPlay:x,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(p,T)}else v||b2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:a,layout:d}=this.options;if(a===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(S2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(G9),this.nodes.forEach(F9),this.nodes.forEach(H9)):this.nodes.forEach(S2),this.clearAllSnapshots();const a=_r.now();ir.delta=yi(0,1e3/60,a-ir.timestamp),ir.timestamp=a,ir.isProcessing=!0,Vm.update.process(ir),Vm.preRender.process(ir),Vm.render.process(ir),ir.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(W9),this.sharedNodes.forEach(X9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cr(this.snapshot.measuredBox.x)&&!Cr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(a=!1),a&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Uk(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&this.instance&&(a||Gs(this.latestValues)||p)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const a=this.measurePageBox();let d=this.removeElementScroll(a);return c&&(d=this.removeTransform(d)),r7(d),{animationId:this.root.animationId,measuredBox:a,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return Dt();const a=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(n7))){const{scroll:p}=this.root;p&&(Qo(a.x,p.offset.x),Qo(a.y,p.offset.y))}return a}removeElementScroll(c){var d;const a=Dt();if(tn(a,c),(d=this.scroll)!=null&&d.wasRoot)return a;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:v,options:m}=p;p!==this.root&&v&&m.layoutScroll&&(v.wasRoot&&tn(a,c),Qo(a.x,v.offset.x),Qo(a.y,v.offset.y))}return a}applyTransform(c,a=!1){const d=Dt();tn(d,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!a&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Xo(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Gs(p.latestValues)&&Xo(d,p.latestValues)}return Gs(this.latestValues)&&Xo(d,this.latestValues),d}removeTransform(c){const a=Dt();tn(a,c);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Gs(h.latestValues))continue;t0(h.latestValues)&&h.updateSnapshot();const p=Dt(),v=h.measurePageBox();tn(p,v),h2(a,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Gs(this.latestValues)&&h2(a,this.latestValues),a}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ir.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==a;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=ir.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),jd(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tn(this.target,this.layout.layoutBox),xk(this.target,this.targetDelta)):tn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),jd(this.relativeTargetOrigin,this.target,S.target),tn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||t0(this.parent.latestValues)||Ck(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),a=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(d=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ir.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;tn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,m=this.treeScale.y;CL(this.layoutCorrected,this.treeScale,this.path,a),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Dt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(l2(this.prevProjectionDelta.x,this.projectionDelta.x),l2(this.prevProjectionDelta.y,this.projectionDelta.y)),Id(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==m||!g2(this.projectionDelta.x,this.prevProjectionDelta.x)||!g2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zo(),this.projectionDelta=Zo(),this.projectionDeltaWithTransform=Zo()}setAnimationOrigin(c,a=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},v=Zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Dt(),S=d?d.source:void 0,C=this.layout?this.layout.source:void 0,x=S!==C,R=this.getStack(),w=!R||R.members.length<=1,T=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(e7));this.animationProgress=0;let P;this.mixTargetDelta=I=>{const k=I/1e3;C2(v.x,c.x,k),C2(v.y,c.y,k),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jd(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Z9(this.relativeTarget,this.relativeTargetOrigin,m,k),P&&L9(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Dt()),tn(P,this.relativeTarget)),x&&(this.animationValues=p,N9(p,h,this.latestValues,k,T,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var a,d,h;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Zi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{jp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ra(0)),this.currentAnimation=P9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(U9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:a,target:d,layout:h,latestValues:p}=c;if(!(!a||!d||!h)){if(this!==c&&this.layout&&h&&$k(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Dt();const v=Cr(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+v;const m=Cr(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+m}tn(a,d),Xo(a,p),Id(this.projectionDeltaWithTransform,this.layoutCorrected,a,p)}}registerSharedNode(c,a){this.sharedNodes.has(c)||this.sharedNodes.set(c,new q9),this.sharedNodes.get(c).add(a);const h=a.options.initialPromotionConfig;a.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(a):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var a;const{layoutId:c}=this.options;return c?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:c}=this.options;return c?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:a,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let a=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(a=!0),!a)return;const h={};d.z&&Zm("z",c,h,this.animationValues);for(let p=0;p<Xm.length;p++)Zm(`rotate${Xm[p]}`,c,h,this.animationValues),Zm(`skew${Xm[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}applyProjectionStyles(c,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ip(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ip(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Gs(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=B9(this.projectionDeltaWithTransform,this.treeScale,p);d&&(v=d(p,v)),c.transform=v;const{x:m,y:S}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${S.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const C in Vd){if(p[C]===void 0)continue;const{correct:x,applyTo:R,isCSSVariable:w}=Vd[C],T=v==="none"?p[C]:x(p[C],h);if(R){const P=R.length;for(let I=0;I<P;I++)c[R[I]]=T}else w?this.options.visualElement.renderState.vars[C]=T:c[C]=T}this.options.layoutId&&(c.pointerEvents=h===this?Ip(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var a;return(a=c.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(y2),this.root.sharedNodes.clear()}}}function F9(e){e.updateLayout()}function H9(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?nn(v=>{const m=c?t.measuredBox[v]:t.layoutBox[v],S=Cr(m);m.min=i[v].min,m.max=m.min+S}):$k(l,t.layoutBox,i)&&nn(v=>{const m=c?t.measuredBox[v]:t.layoutBox[v],S=Cr(i[v]);m.max=m.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+S)});const a=Zo();Id(a,i,t.layoutBox);const d=Zo();c?Id(d,e.applyTransform(o,!0),t.measuredBox):Id(d,i,t.layoutBox);const h=!Uk(a);let p=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:m,layout:S}=v;if(m&&S){const C=Dt();jd(C,t.layoutBox,m.layoutBox);const x=Dt();jd(x,i,S.layoutBox),Vk(C,x)||(p=!0),v.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=C,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:a,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function $9(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function K9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function W9(e){e.clearSnapshot()}function y2(e){e.clearMeasurements()}function S2(e){e.isLayoutDirty=!1}function G9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function b2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function J9(e){e.resolveTargetDelta()}function Y9(e){e.calcProjection()}function Q9(e){e.resetSkewAndRotation()}function X9(e){e.removeLeadSnapshot()}function C2(e,t,r){e.translate=Pt(t.translate,0,r),e.scale=Pt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function x2(e,t,r,i){e.min=Pt(t.min,r.min,i),e.max=Pt(t.max,r.max,i)}function Z9(e,t,r,i){x2(e.x,t.x,r.x,i),x2(e.y,t.y,r.y,i)}function e7(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const t7={duration:.45,ease:[.4,0,.1,1]},R2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),w2=R2("applewebkit/")&&!R2("chrome/")?Math.round:an;function E2(e){e.min=w2(e.min),e.max=w2(e.max)}function r7(e){E2(e.x),E2(e.y)}function $k(e,t,r){return e==="position"||e==="preserve-aspect"&&!c9(m2(t),m2(r),.2)}function n7(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const i7=Hk({attachResizeListener:(e,t)=>Fd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eg={current:void 0},Kk=Hk({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!eg.current){const e=new i7({});e.mount(window),e.setOptions({layoutScroll:!0}),eg.current=e}return eg.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),s7={pan:{Feature:R9},drag:{Feature:x9,ProjectionNode:Kk,MeasureLayout:Lk}};function T2(e,t,r){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=i[o];l&&xt.postRender(()=>l(t,rh(t)))}class o7 extends ts{mount(){const{current:t}=this.node;t&&(this.unmount=Pz(t,(r,i)=>(T2(this.node,i,"Start"),o=>T2(this.node,o,"End"))))}unmount(){}}class a7 extends ts{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zd(Fd(this.node.current,"focus",()=>this.onFocus()),Fd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function P2(e,t,r){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=i[o];l&&xt.postRender(()=>l(t,rh(t)))}class c7 extends ts{mount(){const{current:t}=this.node;t&&(this.unmount=Mz(t,(r,i)=>(P2(this.node,i,"Start"),(o,{success:l})=>P2(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const c0=new WeakMap,tg=new WeakMap,l7=e=>{const t=c0.get(e.target);t&&t(e)},u7=e=>{e.forEach(l7)};function d7({root:e,...t}){const r=e||document;tg.has(r)||tg.set(r,{});const i=tg.get(r),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(u7,{root:e,...t})),i[o]}function h7(e,t,r){const i=d7(t);return c0.set(e,r),i.observe(e),()=>{c0.delete(e),i.unobserve(e)}}const p7={some:0,all:1};class f7 extends ts{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:i,amount:o="some",once:l}=t,c={root:r?r.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:p7[o]},a=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),m=h?p:v;m&&m(d)};return h7(this.node.current,c,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(v7(t,r))&&this.startObserver()}unmount(){}}function v7({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const m7={inView:{Feature:f7},tap:{Feature:c7},focus:{Feature:a7},hover:{Feature:o7}},g7={layout:{ProjectionNode:Kk,MeasureLayout:Lk}},y7={...r9,...m7,...s7,...g7},rt=yL(y7,ML),S7=e=>{const t=new Date(e),i=Math.floor((new Date-t)/1e3);if(i<60)return"now";const o=Math.floor(i/60);if(o<60)return`${o}m`;const l=Math.floor(o/60);if(l<24)return`${l}h`;const c=Math.floor(l/24);if(c<30)return`${c}d`;const a=Math.floor(c/30);return a<12?`${a}m`:`${Math.floor(a/12)} y`},rg=({chats:e,currentChatId:t,onChatClick:r,searchTerm:i,setSearchTerm:o,activeFilter:l,setActiveFilter:c,onNewChat:a,onDeleteChat:d,isAdmin:h,currentUserId:p,chatAdmins:v,onBackToHome:m,onJoinViaLink:S})=>{const[C,x]=A.useState(null),[R,w]=A.useState({chatId:null,x:0,y:0}),T=A.useRef(null);A.useEffect(()=>{const k=U=>{T.current&&!T.current.contains(U.target)&&w({chatId:null,x:0,y:0})};if(R.chatId)return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[R.chatId]);const P=(k,U)=>{k.preventDefault(),k.stopPropagation(),w({chatId:U,x:k.clientX,y:k.clientY})},I=(k,U)=>{U.stopPropagation(),w({chatId:null,x:0,y:0}),d&&v&&p&&v[k]===p&&d(k)};return g.jsxs("div",{className:"w-full md:w-80 border-r border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium flex flex-col transition-colors h-full",children:[g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[m&&g.jsx(rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,className:"p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-brand-grey-light text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-white transition-colors",title:"Back to home",children:g.jsx(j0,{size:18})}),g.jsx("h1",{className:"text-brand-grey-dark dark:text-brand-white font-['Montserrat'] text-[1.75rem] font-bold",children:"Chats"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[S&&g.jsx(gr,{icon:g.jsx(S_,{}),onClick:S,title:"Join via invite link"}),g.jsx(gr,{icon:g.jsx(Xj,{}),onClick:a})]})]}),g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"bg-neutral-100 dark:bg-brand-grey-light rounded-full p-2 flex items-center border border-neutral-200 dark:border-brand-grey-light",children:[g.jsx(L0,{className:"text-neutral-500 dark:text-neutral-400 mx-2"}),g.jsx("input",{type:"text",placeholder:"Search",className:"font-['Inter'] bg-transparent outline-none w-full placeholder-neutral-400 dark:placeholder-neutral-500 text-brand-grey-dark dark:text-brand-white",value:i,onChange:k=>o(k.target.value)})]})}),g.jsxs("div",{className:"flex px-4 gap-2 mb-2",children:[g.jsx(Um,{text:"All",isActive:l==="all",onClick:()=>c("all")}),g.jsx(Um,{text:"Unread",isActive:l==="unread",onClick:()=>c("unread")}),g.jsx(Um,{text:"Pending",isActive:l==="pending",onClick:()=>c("pending")})]}),g.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?g.jsx("div",{className:"p-4 text-center text-neutral-500 dark:text-neutral-400",children:"No chats found"}):e.map(k=>g.jsxs(rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2},className:`group relative py-3 px-4 border-b border-neutral-200 dark:border-brand-grey-light hover:bg-neutral-50 dark:hover:bg-brand-grey-light flex items-center cursor-pointer transition-all duration-200 ${k.id===t?"bg-brand-yellow/10 dark:bg-brand-yellow/20 border-l-4 border-l-brand-yellow shadow-sm":""}`,onClick:()=>r(k.id),onMouseEnter:()=>x(k.id),onMouseLeave:()=>x(null),onContextMenu:U=>P(U,k.id),children:[g.jsx(rt.div,{whileHover:{scale:1.05},transition:{type:"spring",stiffness:400},children:g.jsx(f4,{color:k.avatar_color,text:k.avatar_text})}),g.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"font-['Montserrat'] font-semibold text-brand-grey-dark dark:text-brand-white truncate",children:k.name}),g.jsx("span",{className:"font-['Inter'] text-neutral-500 dark:text-neutral-400 text-xs ml-2 flex-shrink-0",children:S7(k.updated_at)})]}),g.jsx("p",{className:"font-['Inter'] text-neutral-600 dark:text-neutral-400 text-sm truncate",children:k.last_message})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[k.unread&&g.jsx(rt.div,{initial:{scale:0},animate:{scale:1},className:"bg-brand-yellow dark:bg-brand-yellow-light rounded-full h-2 w-2 flex-shrink-0"}),v&&p&&v[k.id]===p&&C===k.id&&g.jsx(rt.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:U=>I(k.id,U),className:"p-1.5 rounded-full hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 transition-colors",title:"Delete chat",children:g.jsx(Iy,{size:12})})]})]},k.id))}),g.jsx(na,{children:R.chatId&&g.jsx(rt.div,{ref:T,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed bg-white dark:bg-brand-grey-medium rounded-lg shadow-xl border border-neutral-200 dark:border-brand-grey-light z-50 py-2 min-w-[160px]",style:{top:R.y,left:R.x},children:v&&p&&v[R.chatId]===p&&g.jsxs("button",{onClick:k=>I(R.chatId,k),className:"w-full px-4 py-2 text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 transition-colors font-['Inter'] text-sm",children:[g.jsx(Iy,{size:14}),"Delete Chat"]})})})]})};var Es={},Ts={},bc={},Ps={},Tt={},ng={},As={},ig={},Cc={},Sp={},A2;function Wk(){if(A2)return Sp;A2=1,Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.default=r;let e;const t=new Uint8Array(16);function r(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}return Sp}var Go={},xc={},Rc={},_2;function b7(){if(_2)return Rc;_2=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return Rc.default=e,Rc}var k2;function bf(){if(k2)return xc;k2=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.default=void 0;var e=t(b7());function t(o){return o&&o.__esModule?o:{default:o}}function r(o){return typeof o=="string"&&e.default.test(o)}var i=r;return xc.default=i,xc}var M2;function Cf(){if(M2)return Go;M2=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.default=void 0,Go.unsafeStringify=i;var e=t(bf());function t(c){return c&&c.__esModule?c:{default:c}}const r=[];for(let c=0;c<256;++c)r.push((c+256).toString(16).slice(1));function i(c,a=0){return r[c[a+0]]+r[c[a+1]]+r[c[a+2]]+r[c[a+3]]+"-"+r[c[a+4]]+r[c[a+5]]+"-"+r[c[a+6]]+r[c[a+7]]+"-"+r[c[a+8]]+r[c[a+9]]+"-"+r[c[a+10]]+r[c[a+11]]+r[c[a+12]]+r[c[a+13]]+r[c[a+14]]+r[c[a+15]]}function o(c,a=0){const d=i(c,a);if(!(0,e.default)(d))throw TypeError("Stringified UUID is invalid");return d}var l=o;return Go.default=l,Go}var N2;function C7(){if(N2)return Cc;N2=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.default=void 0;var e=r(Wk()),t=Cf();function r(h){return h&&h.__esModule?h:{default:h}}let i,o,l=0,c=0;function a(h,p,v){let m=p&&v||0;const S=p||new Array(16);h=h||{};let C=h.node||i,x=h.clockseq!==void 0?h.clockseq:o;if(C==null||x==null){const k=h.random||(h.rng||e.default)();C==null&&(C=i=[k[0]|1,k[1],k[2],k[3],k[4],k[5]]),x==null&&(x=o=(k[6]<<8|k[7])&16383)}let R=h.msecs!==void 0?h.msecs:Date.now(),w=h.nsecs!==void 0?h.nsecs:c+1;const T=R-l+(w-c)/1e4;if(T<0&&h.clockseq===void 0&&(x=x+1&16383),(T<0||R>l)&&h.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=R,c=w,o=x,R+=122192928e5;const P=((R&268435455)*1e4+w)%4294967296;S[m++]=P>>>24&255,S[m++]=P>>>16&255,S[m++]=P>>>8&255,S[m++]=P&255;const I=R/4294967296*1e4&268435455;S[m++]=I>>>8&255,S[m++]=I&255,S[m++]=I>>>24&15|16,S[m++]=I>>>16&255,S[m++]=x>>>8|128,S[m++]=x&255;for(let k=0;k<6;++k)S[m+k]=C[k];return p||(0,t.unsafeStringify)(S)}var d=a;return Cc.default=d,Cc}var wc={},Ki={},Ec={},I2;function Gk(){if(I2)return Ec;I2=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.default=void 0;var e=t(bf());function t(o){return o&&o.__esModule?o:{default:o}}function r(o){if(!(0,e.default)(o))throw TypeError("Invalid UUID");let l;const c=new Uint8Array(16);return c[0]=(l=parseInt(o.slice(0,8),16))>>>24,c[1]=l>>>16&255,c[2]=l>>>8&255,c[3]=l&255,c[4]=(l=parseInt(o.slice(9,13),16))>>>8,c[5]=l&255,c[6]=(l=parseInt(o.slice(14,18),16))>>>8,c[7]=l&255,c[8]=(l=parseInt(o.slice(19,23),16))>>>8,c[9]=l&255,c[10]=(l=parseInt(o.slice(24,36),16))/1099511627776&255,c[11]=l/4294967296&255,c[12]=l>>>24&255,c[13]=l>>>16&255,c[14]=l>>>8&255,c[15]=l&255,c}var i=r;return Ec.default=i,Ec}var j2;function Jk(){if(j2)return Ki;j2=1,Object.defineProperty(Ki,"__esModule",{value:!0}),Ki.URL=Ki.DNS=void 0,Ki.default=c;var e=Cf(),t=r(Gk());function r(a){return a&&a.__esModule?a:{default:a}}function i(a){a=unescape(encodeURIComponent(a));const d=[];for(let h=0;h<a.length;++h)d.push(a.charCodeAt(h));return d}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Ki.DNS=o;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Ki.URL=l;function c(a,d,h){function p(v,m,S,C){var x;if(typeof v=="string"&&(v=i(v)),typeof m=="string"&&(m=(0,t.default)(m)),((x=m)===null||x===void 0?void 0:x.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let R=new Uint8Array(16+v.length);if(R.set(m),R.set(v,m.length),R=h(R),R[6]=R[6]&15|d,R[8]=R[8]&63|128,S){C=C||0;for(let w=0;w<16;++w)S[C+w]=R[w];return S}return(0,e.unsafeStringify)(R)}try{p.name=a}catch{}return p.DNS=o,p.URL=l,p}return Ki}var Tc={},O2;function x7(){if(O2)return Tc;O2=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.default=void 0;function e(S){if(typeof S=="string"){const C=unescape(encodeURIComponent(S));S=new Uint8Array(C.length);for(let x=0;x<C.length;++x)S[x]=C.charCodeAt(x)}return t(i(o(S),S.length*8))}function t(S){const C=[],x=S.length*32,R="0123456789abcdef";for(let w=0;w<x;w+=8){const T=S[w>>5]>>>w%32&255,P=parseInt(R.charAt(T>>>4&15)+R.charAt(T&15),16);C.push(P)}return C}function r(S){return(S+64>>>9<<4)+14+1}function i(S,C){S[C>>5]|=128<<C%32,S[r(C)-1]=C;let x=1732584193,R=-271733879,w=-1732584194,T=271733878;for(let P=0;P<S.length;P+=16){const I=x,k=R,U=w,H=T;x=d(x,R,w,T,S[P],7,-680876936),T=d(T,x,R,w,S[P+1],12,-389564586),w=d(w,T,x,R,S[P+2],17,606105819),R=d(R,w,T,x,S[P+3],22,-1044525330),x=d(x,R,w,T,S[P+4],7,-176418897),T=d(T,x,R,w,S[P+5],12,1200080426),w=d(w,T,x,R,S[P+6],17,-1473231341),R=d(R,w,T,x,S[P+7],22,-45705983),x=d(x,R,w,T,S[P+8],7,1770035416),T=d(T,x,R,w,S[P+9],12,-1958414417),w=d(w,T,x,R,S[P+10],17,-42063),R=d(R,w,T,x,S[P+11],22,-1990404162),x=d(x,R,w,T,S[P+12],7,1804603682),T=d(T,x,R,w,S[P+13],12,-40341101),w=d(w,T,x,R,S[P+14],17,-1502002290),R=d(R,w,T,x,S[P+15],22,1236535329),x=h(x,R,w,T,S[P+1],5,-165796510),T=h(T,x,R,w,S[P+6],9,-1069501632),w=h(w,T,x,R,S[P+11],14,643717713),R=h(R,w,T,x,S[P],20,-373897302),x=h(x,R,w,T,S[P+5],5,-701558691),T=h(T,x,R,w,S[P+10],9,38016083),w=h(w,T,x,R,S[P+15],14,-660478335),R=h(R,w,T,x,S[P+4],20,-405537848),x=h(x,R,w,T,S[P+9],5,568446438),T=h(T,x,R,w,S[P+14],9,-1019803690),w=h(w,T,x,R,S[P+3],14,-187363961),R=h(R,w,T,x,S[P+8],20,1163531501),x=h(x,R,w,T,S[P+13],5,-1444681467),T=h(T,x,R,w,S[P+2],9,-51403784),w=h(w,T,x,R,S[P+7],14,1735328473),R=h(R,w,T,x,S[P+12],20,-1926607734),x=p(x,R,w,T,S[P+5],4,-378558),T=p(T,x,R,w,S[P+8],11,-2022574463),w=p(w,T,x,R,S[P+11],16,1839030562),R=p(R,w,T,x,S[P+14],23,-35309556),x=p(x,R,w,T,S[P+1],4,-1530992060),T=p(T,x,R,w,S[P+4],11,1272893353),w=p(w,T,x,R,S[P+7],16,-155497632),R=p(R,w,T,x,S[P+10],23,-1094730640),x=p(x,R,w,T,S[P+13],4,681279174),T=p(T,x,R,w,S[P],11,-358537222),w=p(w,T,x,R,S[P+3],16,-722521979),R=p(R,w,T,x,S[P+6],23,76029189),x=p(x,R,w,T,S[P+9],4,-640364487),T=p(T,x,R,w,S[P+12],11,-421815835),w=p(w,T,x,R,S[P+15],16,530742520),R=p(R,w,T,x,S[P+2],23,-995338651),x=v(x,R,w,T,S[P],6,-198630844),T=v(T,x,R,w,S[P+7],10,1126891415),w=v(w,T,x,R,S[P+14],15,-1416354905),R=v(R,w,T,x,S[P+5],21,-57434055),x=v(x,R,w,T,S[P+12],6,1700485571),T=v(T,x,R,w,S[P+3],10,-1894986606),w=v(w,T,x,R,S[P+10],15,-1051523),R=v(R,w,T,x,S[P+1],21,-2054922799),x=v(x,R,w,T,S[P+8],6,1873313359),T=v(T,x,R,w,S[P+15],10,-30611744),w=v(w,T,x,R,S[P+6],15,-1560198380),R=v(R,w,T,x,S[P+13],21,1309151649),x=v(x,R,w,T,S[P+4],6,-145523070),T=v(T,x,R,w,S[P+11],10,-1120210379),w=v(w,T,x,R,S[P+2],15,718787259),R=v(R,w,T,x,S[P+9],21,-343485551),x=l(x,I),R=l(R,k),w=l(w,U),T=l(T,H)}return[x,R,w,T]}function o(S){if(S.length===0)return[];const C=S.length*8,x=new Uint32Array(r(C));for(let R=0;R<C;R+=8)x[R>>5]|=(S[R/8]&255)<<R%32;return x}function l(S,C){const x=(S&65535)+(C&65535);return(S>>16)+(C>>16)+(x>>16)<<16|x&65535}function c(S,C){return S<<C|S>>>32-C}function a(S,C,x,R,w,T){return l(c(l(l(C,S),l(R,T)),w),x)}function d(S,C,x,R,w,T,P){return a(C&x|~C&R,S,C,w,T,P)}function h(S,C,x,R,w,T,P){return a(C&R|x&~R,S,C,w,T,P)}function p(S,C,x,R,w,T,P){return a(C^x^R,S,C,w,T,P)}function v(S,C,x,R,w,T,P){return a(x^(C|~R),S,C,w,T,P)}var m=e;return Tc.default=m,Tc}var D2;function R7(){if(D2)return wc;D2=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.default=void 0;var e=r(Jk()),t=r(x7());function r(l){return l&&l.__esModule?l:{default:l}}var o=(0,e.default)("v3",48,t.default);return wc.default=o,wc}var Pc={},Ac={},z2;function w7(){if(z2)return Ac;z2=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return Ac.default=t,Ac}var L2;function E7(){if(L2)return Pc;L2=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.default=void 0;var e=i(w7()),t=i(Wk()),r=Cf();function i(c){return c&&c.__esModule?c:{default:c}}function o(c,a,d){if(e.default.randomUUID&&!a&&!c)return e.default.randomUUID();c=c||{};const h=c.random||(c.rng||t.default)();if(h[6]=h[6]&15|64,h[8]=h[8]&63|128,a){d=d||0;for(let p=0;p<16;++p)a[d+p]=h[p];return a}return(0,r.unsafeStringify)(h)}var l=o;return Pc.default=l,Pc}var _c={},kc={},q2;function T7(){if(q2)return kc;q2=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.default=void 0;function e(o,l,c,a){switch(o){case 0:return l&c^~l&a;case 1:return l^c^a;case 2:return l&c^l&a^c&a;case 3:return l^c^a}}function t(o,l){return o<<l|o>>>32-l}function r(o){const l=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof o=="string"){const p=unescape(encodeURIComponent(o));o=[];for(let v=0;v<p.length;++v)o.push(p.charCodeAt(v))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);const a=o.length/4+2,d=Math.ceil(a/16),h=new Array(d);for(let p=0;p<d;++p){const v=new Uint32Array(16);for(let m=0;m<16;++m)v[m]=o[p*64+m*4]<<24|o[p*64+m*4+1]<<16|o[p*64+m*4+2]<<8|o[p*64+m*4+3];h[p]=v}h[d-1][14]=(o.length-1)*8/Math.pow(2,32),h[d-1][14]=Math.floor(h[d-1][14]),h[d-1][15]=(o.length-1)*8&4294967295;for(let p=0;p<d;++p){const v=new Uint32Array(80);for(let w=0;w<16;++w)v[w]=h[p][w];for(let w=16;w<80;++w)v[w]=t(v[w-3]^v[w-8]^v[w-14]^v[w-16],1);let m=c[0],S=c[1],C=c[2],x=c[3],R=c[4];for(let w=0;w<80;++w){const T=Math.floor(w/20),P=t(m,5)+e(T,S,C,x)+R+l[T]+v[w]>>>0;R=x,x=C,C=t(S,30)>>>0,S=m,m=P}c[0]=c[0]+m>>>0,c[1]=c[1]+S>>>0,c[2]=c[2]+C>>>0,c[3]=c[3]+x>>>0,c[4]=c[4]+R>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,c[0]&255,c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,c[1]&255,c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,c[2]&255,c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,c[3]&255,c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,c[4]&255]}var i=r;return kc.default=i,kc}var B2;function P7(){if(B2)return _c;B2=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.default=void 0;var e=r(Jk()),t=r(T7());function r(l){return l&&l.__esModule?l:{default:l}}var o=(0,e.default)("v5",80,t.default);return _c.default=o,_c}var Mc={},U2;function A7(){if(U2)return Mc;U2=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.default=void 0;var e="00000000-0000-0000-0000-000000000000";return Mc.default=e,Mc}var Nc={},V2;function _7(){if(V2)return Nc;V2=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.default=void 0;var e=t(bf());function t(o){return o&&o.__esModule?o:{default:o}}function r(o){if(!(0,e.default)(o))throw TypeError("Invalid UUID");return parseInt(o.slice(14,15),16)}var i=r;return Nc.default=i,Nc}var F2;function k7(){return F2||(F2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return c.default}});var t=p(C7()),r=p(R7()),i=p(E7()),o=p(P7()),l=p(A7()),c=p(_7()),a=p(bf()),d=p(Cf()),h=p(Gk());function p(v){return v&&v.__esModule?v:{default:v}}}(ig)),ig}var H2;function ho(){if(H2)return As;H2=1,Object.defineProperty(As,"__esModule",{value:!0}),As.createNoDashGuid=As.createGuid=void 0;const e=k7(),t=()=>e.v4();As.createGuid=t;const r=()=>t().replace(new RegExp("-","g"),"").toUpperCase();return As.createNoDashGuid=r,As}var $2;function nh(){return $2||($2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformEvent=e.EventType=void 0;const t=ho();(function(i){i[i.Debug=0]="Debug",i[i.Info=1]="Info",i[i.Warning=2]="Warning",i[i.Error=3]="Error",i[i.None=4]="None"})(e.EventType||(e.EventType={}));class r{constructor(o,l){this.privName=o,this.privEventId=t.createNoDashGuid(),this.privEventTime=new Date().toISOString(),this.privEventType=l,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}e.PlatformEvent=r}(ng)),ng}var K2;function M7(){if(K2)return Tt;K2=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.AudioStreamNodeErrorEvent=Tt.AudioStreamNodeDetachedEvent=Tt.AudioStreamNodeAttachedEvent=Tt.AudioStreamNodeAttachingEvent=Tt.AudioStreamNodeEvent=Tt.AudioSourceErrorEvent=Tt.AudioSourceOffEvent=Tt.AudioSourceReadyEvent=Tt.AudioSourceInitializingEvent=Tt.AudioSourceEvent=void 0;const e=nh();class t extends e.PlatformEvent{constructor(m,S,C=e.EventType.Info){super(m,C),this.privAudioSourceId=S}get audioSourceId(){return this.privAudioSourceId}}Tt.AudioSourceEvent=t;class r extends t{constructor(m){super("AudioSourceInitializingEvent",m)}}Tt.AudioSourceInitializingEvent=r;class i extends t{constructor(m){super("AudioSourceReadyEvent",m)}}Tt.AudioSourceReadyEvent=i;class o extends t{constructor(m){super("AudioSourceOffEvent",m)}}Tt.AudioSourceOffEvent=o;class l extends t{constructor(m,S){super("AudioSourceErrorEvent",m,e.EventType.Error),this.privError=S}get error(){return this.privError}}Tt.AudioSourceErrorEvent=l;class c extends t{constructor(m,S,C){super(m,S),this.privAudioNodeId=C}get audioNodeId(){return this.privAudioNodeId}}Tt.AudioStreamNodeEvent=c;class a extends c{constructor(m,S){super("AudioStreamNodeAttachingEvent",m,S)}}Tt.AudioStreamNodeAttachingEvent=a;class d extends c{constructor(m,S){super("AudioStreamNodeAttachedEvent",m,S)}}Tt.AudioStreamNodeAttachedEvent=d;class h extends c{constructor(m,S){super("AudioStreamNodeDetachedEvent",m,S)}}Tt.AudioStreamNodeDetachedEvent=h;class p extends c{constructor(m,S,C){super("AudioStreamNodeErrorEvent",m,S),this.privError=C}get error(){return this.privError}}return Tt.AudioStreamNodeErrorEvent=p,Tt}var Ot={},W2;function N7(){if(W2)return Ot;W2=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.ConnectionMessageSentEvent=Ot.ConnectionMessageReceivedEvent=Ot.ConnectionEstablishErrorEvent=Ot.ConnectionErrorEvent=Ot.ConnectionClosedEvent=Ot.ConnectionEstablishedEvent=Ot.ConnectionStartEvent=Ot.ConnectionEvent=Ot.ServiceEvent=void 0;const e=nh();class t extends e.PlatformEvent{constructor(v,m,S=e.EventType.Info){super(v,S),this.privJsonResult=m}get jsonString(){return this.privJsonResult}}Ot.ServiceEvent=t;class r extends e.PlatformEvent{constructor(v,m,S=e.EventType.Info){super(v,S),this.privConnectionId=m}get connectionId(){return this.privConnectionId}}Ot.ConnectionEvent=r;class i extends r{constructor(v,m,S){super("ConnectionStartEvent",v),this.privUri=m,this.privHeaders=S}get uri(){return this.privUri}get headers(){return this.privHeaders}}Ot.ConnectionStartEvent=i;class o extends r{constructor(v){super("ConnectionEstablishedEvent",v)}}Ot.ConnectionEstablishedEvent=o;class l extends r{constructor(v,m,S){super("ConnectionClosedEvent",v,e.EventType.Debug),this.privReason=S,this.privStatusCode=m}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}Ot.ConnectionClosedEvent=l;class c extends r{constructor(v,m,S){super("ConnectionErrorEvent",v,e.EventType.Debug),this.privMessage=m,this.privType=S}get message(){return this.privMessage}get type(){return this.privType}}Ot.ConnectionErrorEvent=c;class a extends r{constructor(v,m,S){super("ConnectionEstablishErrorEvent",v,e.EventType.Error),this.privStatusCode=m,this.privReason=S}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}Ot.ConnectionEstablishErrorEvent=a;class d extends r{constructor(v,m,S){super("ConnectionMessageReceivedEvent",v),this.privNetworkReceivedTime=m,this.privMessage=S}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}}Ot.ConnectionMessageReceivedEvent=d;class h extends r{constructor(v,m,S){super("ConnectionMessageSentEvent",v),this.privNetworkSentTime=m,this.privMessage=S}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}return Ot.ConnectionMessageSentEvent=h,Ot}var sg={},ui={},G2;function Un(){if(G2)return ui;G2=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.ObjectDisposedError=ui.InvalidOperationError=ui.ArgumentNullError=void 0;class e extends Error{constructor(o){super(o),this.name="ArgumentNull",this.message=o}}ui.ArgumentNullError=e;class t extends Error{constructor(o){super(o),this.name="InvalidOperation",this.message=o}}ui.InvalidOperationError=t;class r extends Error{constructor(o,l){super(l),this.name=o+"ObjectDisposed",this.message=l}}return ui.ObjectDisposedError=r,ui}var J2;function Yk(){return J2||(J2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionMessage=e.MessageType=void 0;const t=Un(),r=ho();var i;(function(l){l[l.Text=0]="Text",l[l.Binary=1]="Binary"})(i=e.MessageType||(e.MessageType={}));class o{constructor(c,a,d,h){if(this.privBody=null,c===i.Text&&a&&typeof a!="string")throw new t.InvalidOperationError("Payload must be a string");if(c===i.Binary&&a&&!(a instanceof ArrayBuffer))throw new t.InvalidOperationError("Payload must be ArrayBuffer");switch(this.privMessageType=c,this.privBody=a,this.privHeaders=d||{},this.privId=h||r.createNoDashGuid(),this.messageType){case i.Binary:this.privSize=this.binaryBody!==null?this.binaryBody.byteLength:0;break;case i.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===i.Binary)throw new t.InvalidOperationError("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===i.Text)throw new t.InvalidOperationError("Not supported for text message");return this.privBody}get id(){return this.privId}}e.ConnectionMessage=o}(sg)),sg}var Ic={},Y2;function I7(){if(Y2)return Ic;Y2=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.ConnectionOpenResponse=void 0;let e=class{constructor(r,i){this.privStatusCode=r,this.privReason=i}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}};return Ic.ConnectionOpenResponse=e,Ic}var jc={},Q2;function j7(){if(Q2)return jc;Q2=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.DeferralMap=void 0;let e=class{constructor(){this.privMap={}}add(r,i){this.privMap[r]=i}getId(r){return this.privMap[r]}complete(r,i){try{this.privMap[r].resolve(i)}catch(o){this.privMap[r].reject(o)}finally{this.privMap[r]=void 0}}};return jc.DeferralMap=e,jc}var _s={},X2;function Qk(){if(X2)return _s;X2=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.SendingAgentContextMessageEvent=_s.DialogEvent=void 0;const e=nh();class t extends e.PlatformEvent{constructor(o,l=e.EventType.Info){super(o,l)}}_s.DialogEvent=t;class r extends t{constructor(o){super("SendingAgentContextMessageEvent"),this.privAgentConfig=o}get agentConfig(){return this.privAgentConfig}}return _s.SendingAgentContextMessageEvent=r,_s}var Oc={},Dc={},Z2;function Xk(){if(Z2)return Dc;Z2=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.EventSource=void 0;const e=Un(),t=ho();let r=class{constructor(o){this.privEventListeners={},this.privIsDisposed=!1,this.privConsoleListener=void 0,this.privMetadata=o}onEvent(o){if(this.isDisposed())throw new e.ObjectDisposedError("EventSource");if(this.metadata)for(const l in this.metadata)l&&o.metadata&&(o.metadata[l]||(o.metadata[l]=this.metadata[l]));for(const l in this.privEventListeners)l&&this.privEventListeners[l]&&this.privEventListeners[l](o)}attach(o){const l=t.createNoDashGuid();return this.privEventListeners[l]=o,{detach:()=>(delete this.privEventListeners[l],Promise.resolve())}}attachListener(o){return this.attach(l=>o.onEvent(l))}attachConsoleListener(o){return this.privConsoleListener&&this.privConsoleListener.detach(),this.privConsoleListener=this.attach(l=>o.onEvent(l)),this.privConsoleListener}isDisposed(){return this.privIsDisposed}dispose(){this.privEventListeners=null,this.privIsDisposed=!0}get metadata(){return this.privMetadata}};return Dc.EventSource=r,Dc}var ew;function O7(){if(ew)return Oc;ew=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.Events=void 0;const e=Un(),t=Xk();let r=class l0{static setEventSource(o){if(!o)throw new e.ArgumentNullError("eventSource");l0.privInstance=o}static get instance(){return l0.privInstance}};return Oc.Events=r,r.privInstance=new t.EventSource,Oc}var og={},tw;function D7(){return tw||(tw=1,Object.defineProperty(og,"__esModule",{value:!0})),og}var ag={},rw;function z7(){return rw||(rw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionState=void 0,function(t){t[t.None=0]="None",t[t.Connected=1]="Connected",t[t.Connecting=2]="Connecting",t[t.Disconnected=3]="Disconnected"}(e.ConnectionState||(e.ConnectionState={}))}(ag)),ag}var cg={},nw;function L7(){return nw||(nw=1,Object.defineProperty(cg,"__esModule",{value:!0})),cg}var lg={},iw;function q7(){return iw||(iw=1,Object.defineProperty(lg,"__esModule",{value:!0})),lg}var ug={},sw;function B7(){return sw||(sw=1,Object.defineProperty(ug,"__esModule",{value:!0})),ug}var dg={},ow;function U7(){return ow||(ow=1,Object.defineProperty(dg,"__esModule",{value:!0})),dg}var hg={},aw;function V7(){return aw||(aw=1,Object.defineProperty(hg,"__esModule",{value:!0})),hg}var pg={},cw;function F7(){return cw||(cw=1,Object.defineProperty(pg,"__esModule",{value:!0})),pg}var fg={},lw;function H7(){return lw||(lw=1,Object.defineProperty(fg,"__esModule",{value:!0})),fg}var vg={},uw;function $7(){return uw||(uw=1,Object.defineProperty(vg,"__esModule",{value:!0})),vg}var zc={},dw;function Zk(){if(dw)return zc;dw=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.List=void 0;const e=Un();let t=class Js{constructor(i){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.privList=[],i)for(const o of i)this.privList.push(o)}get(i){return this.throwIfDisposed(),this.privList[i]}first(){return this.get(0)}last(){return this.get(this.length()-1)}add(i){this.throwIfDisposed(),this.insertAt(this.privList.length,i)}insertAt(i,o){this.throwIfDisposed(),i===0?this.privList.unshift(o):i===this.privList.length?this.privList.push(o):this.privList.splice(i,0,o),this.triggerSubscriptions(this.privAddSubscriptions)}removeFirst(){return this.throwIfDisposed(),this.removeAt(0)}removeLast(){return this.throwIfDisposed(),this.removeAt(this.length()-1)}removeAt(i){return this.throwIfDisposed(),this.remove(i,1)[0]}remove(i,o){this.throwIfDisposed();const l=this.privList.splice(i,o);return this.triggerSubscriptions(this.privRemoveSubscriptions),l}clear(){this.throwIfDisposed(),this.remove(0,this.length())}length(){return this.throwIfDisposed(),this.privList.length}onAdded(i){this.throwIfDisposed();const o=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[o]=i,{detach:()=>(delete this.privAddSubscriptions[o],Promise.resolve())}}onRemoved(i){this.throwIfDisposed();const o=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[o]=i,{detach:()=>(delete this.privRemoveSubscriptions[o],Promise.resolve())}}onDisposed(i){this.throwIfDisposed();const o=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[o]=i,{detach:()=>(delete this.privDisposedSubscriptions[o],Promise.resolve())}}join(i){return this.throwIfDisposed(),this.privList.join(i)}toArray(){const i=Array();return this.privList.forEach(o=>{i.push(o)}),i}any(i){return this.throwIfDisposed(),i?this.where(i).length()>0:this.length()>0}all(i){return this.throwIfDisposed(),this.where(i).length()===this.length()}forEach(i){this.throwIfDisposed();for(let o=0;o<this.length();o++)i(this.privList[o],o)}select(i){this.throwIfDisposed();const o=[];for(let l=0;l<this.privList.length;l++)o.push(i(this.privList[l],l));return new Js(o)}where(i){this.throwIfDisposed();const o=new Js;for(let l=0;l<this.privList.length;l++)i(this.privList[l],l)&&o.add(this.privList[l]);return o}orderBy(i){this.throwIfDisposed();const l=this.toArray().sort(i);return new Js(l)}orderByDesc(i){return this.throwIfDisposed(),this.orderBy((o,l)=>i(l,o))}clone(){return this.throwIfDisposed(),new Js(this.toArray())}concat(i){return this.throwIfDisposed(),new Js(this.privList.concat(i.toArray()))}concatArray(i){return this.throwIfDisposed(),new Js(this.privList.concat(i))}isDisposed(){return this.privList==null}dispose(i){this.isDisposed()||(this.privDisposeReason=i,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))}throwIfDisposed(){if(this.isDisposed())throw new e.ObjectDisposedError("List",this.privDisposeReason)}triggerSubscriptions(i){if(i)for(const o in i)o&&i[o]()}};return zc.List=t,zc}var mg={},hw;function e6(){return hw||(hw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.marshalPromiseToCallbacks=e.Sink=e.Deferred=e.PromiseResultEventSource=e.PromiseResult=e.PromiseState=void 0;var t;(function(a){a[a.None=0]="None",a[a.Resolved=1]="Resolved",a[a.Rejected=2]="Rejected"})(t=e.PromiseState||(e.PromiseState={}));class r{constructor(d){this.throwIfError=()=>{if(this.isError)throw this.error},d.on(h=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!1,this.privResult=h)},h=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!0,this.privError=h)})}get isCompleted(){return this.privIsCompleted}get isError(){return this.privIsError}get error(){return this.privError}get result(){return this.privResult}}e.PromiseResult=r;class i{constructor(){this.setResult=d=>{this.privOnSetResult(d)},this.setError=d=>{this.privOnSetError(d)},this.on=(d,h)=>{this.privOnSetResult=d,this.privOnSetError=h}}}e.PromiseResultEventSource=i;class o{constructor(){this.resolve=d=>(this.privResolve(d),this),this.reject=d=>(this.privReject(d),this),this.privPromise=new Promise((d,h)=>{this.privResolve=d,this.privReject=h})}get promise(){return this.privPromise}}e.Deferred=o;class l{constructor(){this.privState=t.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.privPromiseResultEvents=new i,this.privPromiseResult=new r(this.privPromiseResultEvents)}get state(){return this.privState}get result(){return this.privPromiseResult}resolve(d){if(this.privState!==t.None)throw new Error("'Cannot resolve a completed promise'");this.privState=t.Resolved,this.privPromiseResultEvents.setResult(d);for(let h=0;h<this.privSuccessHandlers.length;h++)this.executeSuccessCallback(d,this.privSuccessHandlers[h],this.privErrorHandlers[h]);this.detachHandlers()}reject(d){if(this.privState!==t.None)throw new Error("'Cannot reject a completed promise'");this.privState=t.Rejected,this.privPromiseResultEvents.setError(d);for(const h of this.privErrorHandlers)this.executeErrorCallback(d,h);this.detachHandlers()}on(d,h){d==null&&(d=()=>{}),this.privState===t.None?(this.privSuccessHandlers.push(d),this.privErrorHandlers.push(h)):(this.privState===t.Resolved?this.executeSuccessCallback(this.privPromiseResult.result,d,h):this.privState===t.Rejected&&this.executeErrorCallback(this.privPromiseResult.error,h),this.detachHandlers())}executeSuccessCallback(d,h,p){try{h(d)}catch(v){this.executeErrorCallback(`'Unhandled callback error: ${v}'`,p)}}executeErrorCallback(d,h){if(h)try{h(d)}catch(p){throw new Error(`'Unhandled callback error: ${p}. InnerError: ${d}'`)}else throw new Error(`'Unhandled error: ${d}'`)}detachHandlers(){this.privErrorHandlers=[],this.privSuccessHandlers=[]}}e.Sink=l;function c(a,d,h){a.then(p=>{try{d&&d(p)}catch(v){if(h)try{if(v instanceof Error){const m=v;h(m.name+": "+m.message)}else h(v)}catch{}}},p=>{if(h)try{if(p instanceof Error){const v=p;h(v.name+": "+v.message)}else h(p)}catch{}})}e.marshalPromiseToCallbacks=c}(mg)),mg}var Lc={},pw;function t6(){if(pw)return Lc;pw=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.Queue=void 0;const e=Un(),t=Zk(),r=e6();var i;(function(l){l[l.Dequeue=0]="Dequeue",l[l.Peek=1]="Peek"})(i||(i={}));let o=class{constructor(c){this.privPromiseStore=new t.List,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.privList=c||new t.List,this.privDetachables=[],this.privSubscribers=new t.List,this.privDetachables.push(this.privList.onAdded(()=>this.drain()))}enqueue(c){this.throwIfDispose(),this.enqueueFromPromise(new Promise(a=>a(c)))}enqueueFromPromise(c){this.throwIfDispose(),c.then(a=>{this.privList.add(a)},()=>{})}dequeue(){this.throwIfDispose();const c=new r.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:c,type:i.Dequeue}),this.drain()),c.promise}peek(){this.throwIfDispose();const c=new r.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:c,type:i.Peek}),this.drain()),c.promise}length(){return this.throwIfDispose(),this.privList.length()}isDisposed(){return this.privSubscribers==null}async drainAndDispose(c,a){if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=a,this.privIsDisposing=!0;const d=this.privSubscribers;if(d){for(;d.length()>0;)d.removeFirst().deferral.resolve(void 0);this.privSubscribers===d&&(this.privSubscribers=d)}for(const h of this.privDetachables)await h.detach();if(this.privPromiseStore.length()>0&&c){const h=[];return this.privPromiseStore.toArray().forEach(p=>{h.push(p)}),Promise.all(h).finally(()=>{this.privSubscribers=null,this.privList.forEach(p=>{c(p)}),this.privList=null}).then()}else this.privSubscribers=null,this.privList=null}}async dispose(c){await this.drainAndDispose(null,c)}drain(){if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const c=this.privSubscribers,a=this.privList;if(c&&a){for(;a.length()>0&&c.length()>0&&!this.privIsDisposing;){const d=c.removeFirst();if(d.type===i.Peek)d.deferral.resolve(a.first());else{const h=a.removeFirst();d.deferral.resolve(h)}}this.privSubscribers===c&&(this.privSubscribers=c),this.privList===a&&(this.privList=a)}this.privIsDrainInProgress=!1}}throwIfDispose(){if(this.isDisposed())throw this.privDisposeReason?new e.InvalidOperationError(this.privDisposeReason):new e.ObjectDisposedError("Queue");if(this.privIsDisposing)throw new e.InvalidOperationError("Queue disposing")}};return Lc.Queue=o,Lc}var qc={},fw;function K7(){if(fw)return qc;fw=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.RawWebsocketMessage=void 0;const e=Yk(),t=Un(),r=ho();let i=class{constructor(l,c,a){if(this.privPayload=null,!c)throw new t.ArgumentNullError("payload");if(l===e.MessageType.Binary&&Object.getPrototypeOf(c).constructor.name!=="ArrayBuffer")throw new t.InvalidOperationError("Payload must be ArrayBuffer");if(l===e.MessageType.Text&&typeof c!="string")throw new t.InvalidOperationError("Payload must be a string");this.privMessageType=l,this.privPayload=c,this.privId=a||r.createNoDashGuid()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===e.MessageType.Binary)throw new t.InvalidOperationError("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===e.MessageType.Text)throw new t.InvalidOperationError("Not supported for text message");return this.privPayload}get id(){return this.privId}};return qc.RawWebsocketMessage=i,qc}var Bc={},vw;function W7(){if(vw)return Bc;vw=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.RiffPcmEncoder=void 0;let e=class{constructor(r,i){this.privActualSampleRate=r,this.privDesiredSampleRate=i}encode(r){const i=this.downSampleAudioFrame(r,this.privActualSampleRate,this.privDesiredSampleRate);if(!i)return null;const o=i.length*2,l=new ArrayBuffer(o),c=new DataView(l);return this.floatTo16BitPCM(c,0,i),l}setString(r,i,o){for(let l=0;l<o.length;l++)r.setUint8(i+l,o.charCodeAt(l))}floatTo16BitPCM(r,i,o){for(let l=0;l<o.length;l++,i+=2){const c=Math.max(-1,Math.min(1,o[l]));r.setInt16(i,c<0?c*32768:c*32767,!0)}}downSampleAudioFrame(r,i,o){if(!r)return null;if(o===i||o>i)return r;const l=i/o,c=Math.round(r.length/l),a=new Float32Array(c);let d=0,h=0;for(;h<c;){const p=Math.round((h+1)*l);let v=0,m=0;for(;d<p&&d<r.length;)v+=r[d++],m++;a[h++]=v/m}return a}};return Bc.RiffPcmEncoder=e,Bc}var Uc={},mw;function G7(){if(mw)return Uc;mw=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.Stream=void 0;const e=Un(),t=ho(),r=t6();let i=class{constructor(l){this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.privId=l||t.createNoDashGuid(),this.privReaderQueue=new r.Queue}get isClosed(){return this.privIsWriteEnded}get isReadEnded(){return this.privIsReadEnded}get id(){return this.privId}close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}writeStreamChunk(l){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(l)}catch{}}read(){if(this.privIsReadEnded)throw new e.InvalidOperationError("Stream read has already finished");return this.privReaderQueue.dequeue().then(async l=>((l===void 0||l.isEnd)&&await this.privReaderQueue.dispose("End of stream reached"),l))}readEnded(){this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new r.Queue)}throwIfClosed(){if(this.privIsWriteEnded)throw new e.InvalidOperationError("Stream closed")}};return Uc.Stream=i,Uc}var gg={},gw;function kS(){return gw||(gw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TranslationStatus=void 0,function(t){t[t.Success=0]="Success",t[t.Error=1]="Error"}(e.TranslationStatus||(e.TranslationStatus={}))}(gg)),gg}var Vc={},yw;function J7(){if(yw)return Vc;yw=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.ChunkedArrayBufferStream=void 0;const e=je();let t=class extends e.Stream{constructor(i,o){super(o),this.privTargetChunkSize=Math.round(i),this.privNextBufferReadyBytes=0}writeStreamChunk(i){if(i.isEnd||this.privNextBufferReadyBytes===0&&i.buffer.byteLength===this.privTargetChunkSize){super.writeStreamChunk(i);return}let o=0;for(;o<i.buffer.byteLength;){this.privNextBufferToWrite===void 0&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=i.timeReceived);const l=Math.min(i.buffer.byteLength-o,this.privTargetChunkSize-this.privNextBufferReadyBytes),c=new Uint8Array(this.privNextBufferToWrite),a=new Uint8Array(i.buffer.slice(o,l+o));c.set(a,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=l,o+=l,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){this.privNextBufferReadyBytes!==0&&!this.isClosed&&super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}};return Vc.ChunkedArrayBufferStream=t,Vc}var yg={},Sw;function Y7(){return Sw||(Sw=1,Object.defineProperty(yg,"__esModule",{value:!0})),yg}var Fc={},bw;function Q7(){if(bw)return Fc;bw=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.Timeout=void 0;let e=class Gi{static load(){const r=new Map([[0,()=>{}]]),i=new Map,l="data:text/javascript;base64,"+btoa(`!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error('There is no interval scheduled with the given id "'.concat(e,'".'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error('The given method "'.concat(e.method,'" is not supported'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);`),c=new Worker(l);return c.addEventListener("message",({data:h})=>{if(Gi.isCallNotification(h)){const{params:{timerId:p}}=h,v=r.get(p);if(typeof v=="number"){const m=i.get(v);if(m===void 0||m!==p)throw new Error("The timer is in an undefined state.")}else if(typeof v<"u")v(),r.delete(p);else throw new Error("The timer is in an undefined state.")}else if(Gi.isClearResponse(h)){const{id:p}=h,v=i.get(p);if(v===void 0)throw new Error("The timer is in an undefined state.");i.delete(p),r.delete(v)}else{const{error:{message:p}}=h;throw new Error(p)}}),{clearTimeout:h=>{const p=Math.random();i.set(p,h),r.set(h,p),c.postMessage({id:p,method:"clear",params:{timerId:h}})},setTimeout:(h,p)=>{const v=Math.random();return r.set(v,h),c.postMessage({id:null,method:"set",params:{delay:p,now:performance.now(),timerId:v}}),v}}}static loadWorkerTimers(){return()=>(Gi.workerTimers!==null||(Gi.workerTimers=Gi.load()),Gi.workerTimers)}static isCallNotification(r){return r.method!==void 0&&r.method==="call"}static isClearResponse(r){return r.error===null&&typeof r.id=="number"}};return Fc.Timeout=e,e.workerTimers=null,e.clearTimeout=t=>e.timers().clearTimeout(t),e.setTimeout=(t,r)=>e.timers().setTimeout(t,r),e.timers=e.loadWorkerTimers(),Fc}var Xe={},Cw;function X7(){if(Cw)return Xe;Cw=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.OCSPCacheUpdateErrorEvent=Xe.OCSPResponseRetrievedEvent=Xe.OCSPCacheFetchErrorEvent=Xe.OCSPVerificationFailedEvent=Xe.OCSPCacheHitEvent=Xe.OCSPCacheEntryNeedsRefreshEvent=Xe.OCSPCacheEntryExpiredEvent=Xe.OCSPWSUpgradeStartedEvent=Xe.OCSPStapleReceivedEvent=Xe.OCSPCacheUpdateCompleteEvent=Xe.OCSPDiskCacheStoreEvent=Xe.OCSPMemoryCacheStoreEvent=Xe.OCSPCacheUpdateNeededEvent=Xe.OCSPDiskCacheHitEvent=Xe.OCSPCacheMissEvent=Xe.OCSPMemoryCacheHitEvent=Xe.OCSPEvent=void 0;const e=nh();class t extends e.PlatformEvent{constructor(P,I,k){super(P,I),this.privSignature=k}}Xe.OCSPEvent=t;class r extends t{constructor(P){super("OCSPMemoryCacheHitEvent",e.EventType.Debug,P)}}Xe.OCSPMemoryCacheHitEvent=r;class i extends t{constructor(P){super("OCSPCacheMissEvent",e.EventType.Debug,P)}}Xe.OCSPCacheMissEvent=i;class o extends t{constructor(P){super("OCSPDiskCacheHitEvent",e.EventType.Debug,P)}}Xe.OCSPDiskCacheHitEvent=o;class l extends t{constructor(P){super("OCSPCacheUpdateNeededEvent",e.EventType.Debug,P)}}Xe.OCSPCacheUpdateNeededEvent=l;class c extends t{constructor(P){super("OCSPMemoryCacheStoreEvent",e.EventType.Debug,P)}}Xe.OCSPMemoryCacheStoreEvent=c;class a extends t{constructor(P){super("OCSPDiskCacheStoreEvent",e.EventType.Debug,P)}}Xe.OCSPDiskCacheStoreEvent=a;class d extends t{constructor(P){super("OCSPCacheUpdateCompleteEvent",e.EventType.Debug,P)}}Xe.OCSPCacheUpdateCompleteEvent=d;class h extends t{constructor(){super("OCSPStapleReceivedEvent",e.EventType.Debug,"")}}Xe.OCSPStapleReceivedEvent=h;class p extends t{constructor(P){super("OCSPWSUpgradeStartedEvent",e.EventType.Debug,P)}}Xe.OCSPWSUpgradeStartedEvent=p;class v extends t{constructor(P,I){super("OCSPCacheEntryExpiredEvent",e.EventType.Debug,P),this.privExpireTime=I}}Xe.OCSPCacheEntryExpiredEvent=v;class m extends t{constructor(P,I,k){super("OCSPCacheEntryNeedsRefreshEvent",e.EventType.Debug,P),this.privExpireTime=k,this.privStartTime=I}}Xe.OCSPCacheEntryNeedsRefreshEvent=m;class S extends t{constructor(P,I,k){super("OCSPCacheHitEvent",e.EventType.Debug,P),this.privExpireTime=k,this.privExpireTimeString=new Date(k).toLocaleDateString(),this.privStartTime=I,this.privStartTimeString=new Date(I).toLocaleTimeString()}}Xe.OCSPCacheHitEvent=S;class C extends t{constructor(P,I){super("OCSPVerificationFailedEvent",e.EventType.Debug,P),this.privError=I}}Xe.OCSPVerificationFailedEvent=C;class x extends t{constructor(P,I){super("OCSPCacheFetchErrorEvent",e.EventType.Debug,P),this.privError=I}}Xe.OCSPCacheFetchErrorEvent=x;class R extends t{constructor(P){super("OCSPResponseRetrievedEvent",e.EventType.Debug,P)}}Xe.OCSPResponseRetrievedEvent=R;class w extends t{constructor(P,I){super("OCSPCacheUpdateErrorEvent",e.EventType.Debug,P),this.privError=I}}return Xe.OCSPCacheUpdateErrorEvent=w,Xe}var Hc={},xw;function Z7(){if(xw)return Hc;xw=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.BackgroundEvent=void 0;const e=je();class t extends e.PlatformEvent{constructor(i){super("BackgroundEvent",e.EventType.Error),this.privError=i}get error(){return this.privError}}return Hc.BackgroundEvent=t,Hc}var Rw;function je(){return Rw||(Rw=1,function(e){var t=Ps&&Ps.__createBinding||(Object.create?function(o,l,c,a){a===void 0&&(a=c),Object.defineProperty(o,a,{enumerable:!0,get:function(){return l[c]}})}:function(o,l,c,a){a===void 0&&(a=c),o[a]=l[c]}),r=Ps&&Ps.__exportStar||function(o,l){for(var c in o)c!=="default"&&!l.hasOwnProperty(c)&&t(l,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),r(M7(),e),r(N7(),e),r(Yk(),e),r(I7(),e),r(j7(),e),r(Qk(),e),r(Un(),e),r(O7(),e),r(Xk(),e),r(ho(),e),r(D7(),e),r(z7(),e),r(L7(),e),r(q7(),e),r(B7(),e),r(U7(),e),r(V7(),e),r(F7(),e),r(H7(),e),r($7(),e),r(Zk(),e),r(nh(),e),r(e6(),e),r(t6(),e),r(K7(),e),r(W7(),e),r(G7(),e);var i=kS();Object.defineProperty(e,"TranslationStatus",{enumerable:!0,get:function(){return i.TranslationStatus}}),r(J7(),e),r(Y7(),e),r(Q7(),e),r(X7(),e),r(Z7(),e)}(Ps)),Ps}var $c={},ww;function xr(){if(ww)return $c;ww=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.HeaderNames=void 0;let e=class{};return $c.HeaderNames=e,e.AuthKey="Ocp-Apim-Subscription-Key",e.Authorization="Authorization",e.SpIDAuthKey="Apim-Subscription-Id",e.ConnectionId="X-ConnectionId",e.ContentType="Content-Type",e.CustomCommandsAppId="X-CommandsAppId",e.Path="Path",e.RequestId="X-RequestId",e.RequestStreamId="X-StreamId",e.RequestTimestamp="X-Timestamp",$c}var Kc={},Ew;function MS(){if(Ew)return Kc;Ew=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.AuthInfo=void 0;class e{constructor(r,i){this.privHeaderName=r,this.privToken=i}get headerName(){return this.privHeaderName}get token(){return this.privToken}}return Kc.AuthInfo=e,Kc}var Tw;function eq(){if(Tw)return bc;Tw=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.CognitiveSubscriptionKeyAuthentication=void 0;const e=je(),t=xr(),r=MS();let i=class{constructor(l){if(!l)throw new e.ArgumentNullError("subscriptionKey");this.privAuthInfo=new r.AuthInfo(t.HeaderNames.AuthKey,l)}fetch(l){return Promise.resolve(this.privAuthInfo)}fetchOnExpiry(l){return Promise.resolve(this.privAuthInfo)}};return bc.CognitiveSubscriptionKeyAuthentication=i,bc}var Wc={},Pw;function tq(){if(Pw)return Wc;Pw=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.CognitiveTokenAuthentication=void 0;const e=je(),t=MS(),r=xr();let i=class u0{constructor(l,c){if(!l)throw new e.ArgumentNullError("fetchCallback");if(!c)throw new e.ArgumentNullError("fetchOnExpiryCallback");this.privFetchCallback=l,this.privFetchOnExpiryCallback=c}fetch(l){return this.privFetchCallback(l).then(c=>new t.AuthInfo(r.HeaderNames.Authorization,c===void 0?void 0:u0.privTokenPrefix+c))}fetchOnExpiry(l){return this.privFetchOnExpiryCallback(l).then(c=>new t.AuthInfo(r.HeaderNames.Authorization,c===void 0?void 0:u0.privTokenPrefix+c))}};return Wc.CognitiveTokenAuthentication=i,i.privTokenPrefix="Bearer ",Wc}var Sg={},Aw;function rq(){return Aw||(Aw=1,Object.defineProperty(Sg,"__esModule",{value:!0})),Sg}var bg={},_w;function nq(){return _w||(_w=1,Object.defineProperty(bg,"__esModule",{value:!0})),bg}var Gc={},ks={},yn={};const iq={},sq=Object.freeze(Object.defineProperty({__proto__:null,default:iq},Symbol.toStringTag,{value:"Module"})),Qs=SN(sq);var Cg={},kw;function r6(){return kw||(kw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=void 0;const t=je();Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return t.EventType}})}(Cg)),Cg}var Jc={},Mw;function He(){if(Mw)return Jc;Mw=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.Contracts=void 0;let e=class Ys{static throwIfNullOrUndefined(r,i){if(r==null)throw new Error("throwIfNullOrUndefined:"+i)}static throwIfNull(r,i){if(r===null)throw new Error("throwIfNull:"+i)}static throwIfNullOrWhitespace(r,i){if(Ys.throwIfNullOrUndefined(r,i),(""+r).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+i)}static throwIfNullOrTooLong(r,i,o){if(Ys.throwIfNullOrUndefined(r,i),(""+r).length>o)throw new Error("throwIfNullOrTooLong:"+i+" (more than "+o.toString()+" characters)")}static throwIfNullOrTooShort(r,i,o){if(Ys.throwIfNullOrUndefined(r,i),(""+r).length<o)throw new Error("throwIfNullOrTooShort:"+i+" (less than "+o.toString()+" characters)")}static throwIfDisposed(r){if(r)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(r,i){if(Ys.throwIfNullOrUndefined(r,i),r.length===0)throw new Error("throwIfArrayEmptyOrWhitespace:"+i);for(const o of r)Ys.throwIfNullOrWhitespace(o,i)}static throwIfFileDoesNotExist(r,i){Ys.throwIfNullOrWhitespace(r,i)}static throwIfNotUndefined(r,i){if(r!==void 0)throw new Error("throwIfNotUndefined:"+i)}};return Jc.Contracts=e,Jc}var Nw;function oq(){if(Nw)return yn;Nw=1;var e=yn&&yn.__createBinding||(Object.create?function(a,d,h,p){p===void 0&&(p=h),Object.defineProperty(a,p,{enumerable:!0,get:function(){return d[h]}})}:function(a,d,h,p){p===void 0&&(p=h),a[p]=d[h]}),t=yn&&yn.__setModuleDefault||(Object.create?function(a,d){Object.defineProperty(a,"default",{enumerable:!0,value:d})}:function(a,d){a.default=d}),r=yn&&yn.__importStar||function(a){if(a&&a.__esModule)return a;var d={};if(a!=null)for(var h in a)h!=="default"&&Object.hasOwnProperty.call(a,h)&&e(d,a,h);return t(d,a),d};Object.defineProperty(yn,"__esModule",{value:!0}),yn.ConsoleLoggingListener=void 0;const i=r(Qs),o=r6(),l=He();let c=class{constructor(d=o.LogLevel.None){this.privLogPath=void 0,this.privEnableConsoleOutput=!0,this.privLogLevelFilter=d}set logPath(d){l.Contracts.throwIfNullOrUndefined(i.openSync,`
File System access not available`),this.privLogPath=d}set enableConsoleOutput(d){this.privEnableConsoleOutput=d}onEvent(d){if(d.eventType>=this.privLogLevelFilter){const h=this.toString(d);if(this.logCallback&&this.logCallback(h),this.privLogPath&&i.writeFileSync(this.privLogPath,h+`
`,{flag:"a+"}),this.privEnableConsoleOutput)switch(d.eventType){case o.LogLevel.Debug:console.debug(h);break;case o.LogLevel.Info:console.info(h);break;case o.LogLevel.Warning:console.warn(h);break;case o.LogLevel.Error:console.error(h);break;default:console.log(h);break}}}toString(d){const h=[`${d.eventTime}`,`${d.name}`],p=d;for(const v in p)if(v&&d.hasOwnProperty(v)&&v!=="eventTime"&&v!=="eventType"&&v!=="eventId"&&v!=="name"&&v!=="constructor"){const m=p[v];let S="<NULL>";m!=null&&(typeof m=="number"||typeof m=="string"?S=m.toString():S=JSON.stringify(m)),h.push(`${v}: ${S}`)}return h.join(" | ")}};return yn.ConsoleLoggingListener=c,yn}var xg={},Iw;function aq(){return Iw||(Iw=1,Object.defineProperty(xg,"__esModule",{value:!0})),xg}var Rg={},wg={},jw;function po(){return jw||(jw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AudioStreamFormatImpl=e.AudioStreamFormat=e.AudioFormatTag=void 0;var t;(function(o){o[o.PCM=1]="PCM",o[o.MuLaw=2]="MuLaw",o[o.Siren=3]="Siren",o[o.MP3=4]="MP3",o[o.SILKSkype=5]="SILKSkype",o[o.OGG_OPUS=6]="OGG_OPUS",o[o.WEBM_OPUS=7]="WEBM_OPUS",o[o.ALaw=8]="ALaw",o[o.FLAC=9]="FLAC",o[o.OPUS=10]="OPUS",o[o.AMR_WB=11]="AMR_WB",o[o.G722=12]="G722"})(t=e.AudioFormatTag||(e.AudioFormatTag={}));class r{static getDefaultInputFormat(){return i.getDefaultInputFormat()}static getWaveFormat(l,c,a,d){return new i(l,c,a,d)}static getWaveFormatPCM(l,c,a){return new i(l,c,a)}}e.AudioStreamFormat=r;class i extends r{constructor(l=16e3,c=16,a=1,d=t.PCM){super();let h=!0;switch(d){case t.PCM:this.formatTag=1;break;case t.ALaw:this.formatTag=6;break;case t.MuLaw:this.formatTag=7;break;default:h=!1}if(this.bitsPerSample=c,this.samplesPerSec=l,this.channels=a,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),h){this.privHeader=new ArrayBuffer(44);const p=new DataView(this.privHeader);this.setString(p,0,"RIFF"),p.setUint32(4,0,!0),this.setString(p,8,"WAVEfmt "),p.setUint32(16,16,!0),p.setUint16(20,this.formatTag,!0),p.setUint16(22,this.channels,!0),p.setUint32(24,this.samplesPerSec,!0),p.setUint32(28,this.avgBytesPerSec,!0),p.setUint16(32,this.channels*(this.bitsPerSample/8),!0),p.setUint16(34,this.bitsPerSample,!0),this.setString(p,36,"data"),p.setUint32(40,0,!0)}}static getDefaultInputFormat(){return new i}static getAudioContext(l){const c=window.AudioContext||window.webkitAudioContext||!1;if(c)return l!==void 0&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new c({sampleRate:l}):new c;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}close(){}get header(){return this.privHeader}setString(l,c,a){for(let d=0;d<a.length;d++)l.setUint8(c+d,a.charCodeAt(d))}}e.AudioStreamFormatImpl=i}(wg)),wg}var Ow;function cq(){return Ow||(Ow=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MicAudioSource=e.AudioWorkletSourceURLPropertyName=void 0;const t=Ce(),r=je(),i=po();e.AudioWorkletSourceURLPropertyName="MICROPHONE-WorkletSourceUrl";class o{constructor(c,a,d,h){this.privRecorder=c,this.deviceId=a,this.privStreams={},this.privOutputChunkSize=o.AUDIOFORMAT.avgBytesPerSec/10,this.privId=d||r.createNoDashGuid(),this.privEvents=new r.EventSource,this.privMediaStream=h||null,this.privIsClosing=!1}get format(){return Promise.resolve(o.AUDIOFORMAT)}turnOn(){if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new r.Deferred;try{this.createAudioContext()}catch(d){if(d instanceof Error){const h=d;this.privInitializeDeferral.reject(h.name+": "+h.message)}else this.privInitializeDeferral.reject(d);return this.privInitializeDeferral.promise}const c=window.navigator;let a=c.getUserMedia||c.webkitGetUserMedia||c.mozGetUserMedia||c.msGetUserMedia;if(c.mediaDevices&&(a=(d,h,p)=>{c.mediaDevices.getUserMedia(d).then(h).catch(p)}),a){const d=()=>{this.onEvent(new r.AudioSourceInitializingEvent(this.privId)),this.privMediaStream&&this.privMediaStream.active?(this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()):a({audio:this.deviceId?{deviceId:this.deviceId}:!0,video:!1},h=>{this.privMediaStream=h,this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()},h=>{const p=`Error occurred during microphone initialization: ${h}`;this.privInitializeDeferral.reject(p),this.onEvent(new r.AudioSourceErrorEvent(this.privId,p))})};this.privContext.state==="suspended"?this.privContext.resume().then(d).catch(h=>{this.privInitializeDeferral.reject(`Failed to initialize audio context: ${h}`)}):d()}else{const d="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(d),this.onEvent(new r.AudioSourceErrorEvent(d,""))}return this.privInitializeDeferral.promise}id(){return this.privId}attach(c){return this.onEvent(new r.AudioStreamNodeAttachingEvent(this.privId,c)),this.listen(c).then(a=>(this.onEvent(new r.AudioStreamNodeAttachedEvent(this.privId,c)),{detach:async()=>(a.readEnded(),delete this.privStreams[c],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,c)),this.turnOff()),id:()=>c,read:()=>a.read()}))}detach(c){c&&this.privStreams[c]&&(this.privStreams[c].close(),delete this.privStreams[c],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,c)))}async turnOff(){for(const c in this.privStreams)if(c){const a=this.privStreams[c];a&&a.close()}this.onEvent(new r.AudioSourceOffEvent(this.privId)),this.privInitializeDeferral&&(await this.privInitializeDeferral,this.privInitializeDeferral=null),await this.destroyAudioContext()}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().then(c=>({bitspersample:o.AUDIOFORMAT.bitsPerSample,channelcount:o.AUDIOFORMAT.channels,connectivity:t.connectivity.Unknown,manufacturer:"Speech SDK",model:c,samplerate:o.AUDIOFORMAT.samplesPerSec,type:t.type.Microphones}))}setProperty(c,a){if(c===e.AudioWorkletSourceURLPropertyName)this.privRecorder.setWorkletUrl(a);else throw new Error("Property '"+c+"' is not supported on Microphone.")}getMicrophoneLabel(){const c="microphone";if(this.privMicrophoneLabel!==void 0)return Promise.resolve(this.privMicrophoneLabel);if(this.privMediaStream===void 0||!this.privMediaStream.active)return Promise.resolve(c);this.privMicrophoneLabel=c;const a=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(a===void 0)return Promise.resolve(this.privMicrophoneLabel);const d=new r.Deferred;return navigator.mediaDevices.enumerateDevices().then(h=>{for(const p of h)if(p.deviceId===a){this.privMicrophoneLabel=p.label;break}d.resolve(this.privMicrophoneLabel)},()=>d.resolve(this.privMicrophoneLabel)),d.promise}async listen(c){await this.turnOn();const a=new r.ChunkedArrayBufferStream(this.privOutputChunkSize,c);this.privStreams[c]=a;try{this.privRecorder.record(this.privContext,this.privMediaStream,a)}catch(h){throw this.onEvent(new r.AudioStreamNodeErrorEvent(this.privId,c,h)),h}return a}onEvent(c){this.privEvents.onEvent(c),r.Events.instance.onEvent(c)}createAudioContext(){this.privContext||(this.privContext=i.AudioStreamFormatImpl.getAudioContext(o.AUDIOFORMAT.samplesPerSec))}async destroyAudioContext(){if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let c=!1;"close"in this.privContext&&(c=!0),c?this.privIsClosing||(this.privIsClosing=!0,await this.privContext.close(),this.privContext=null,this.privIsClosing=!1):this.privContext!==null&&this.privContext.state==="running"&&await this.privContext.suspend()}}e.MicAudioSource=o,o.AUDIOFORMAT=i.AudioStreamFormat.getDefaultInputFormat()}(Rg)),Rg}var Yc={},Dw;function lq(){if(Dw)return Yc;Dw=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.FileAudioSource=void 0;const e=Ce(),t=je(),r=po();let i=class{constructor(l,c,a){this.privStreams={},this.privHeaderEnd=44,this.privId=a||t.createNoDashGuid(),this.privEvents=new t.EventSource,this.privSource=l,typeof window<"u"&&typeof Blob<"u"&&this.privSource instanceof Blob?this.privFilename=l.name:this.privFilename=c||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}turnOn(){if(this.privFilename.lastIndexOf(".wav")!==this.privFilename.length-4){const l=this.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new t.AudioSourceErrorEvent(l,"")),Promise.reject(l)}this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}id(){return this.privId}async attach(l){this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,l));const c=await this.upload(l);return this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,l)),Promise.resolve({detach:async()=>{c.readEnded(),delete this.privStreams[l],this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,l)),await this.turnOff()},id:()=>l,read:()=>c.read()})}detach(l){l&&this.privStreams[l]&&(this.privStreams[l].close(),delete this.privStreams[l],this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,l)))}turnOff(){for(const l in this.privStreams)if(l){const c=this.privStreams[l];c&&!c.isClosed&&c.close()}return this.onEvent(new t.AudioSourceOffEvent(this.privId)),Promise.resolve()}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.then(l=>Promise.resolve({bitspersample:l.bitsPerSample,channelcount:l.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:l.samplesPerSec,type:e.type.File}))}readHeader(){const c=this.privSource.slice(0,4296),a=new t.Deferred,d=h=>{const p=new DataView(h),v=w=>String.fromCharCode(p.getUint8(w),p.getUint8(w+1),p.getUint8(w+2),p.getUint8(w+3));if(v(0)!=="RIFF"){a.reject("Invalid WAV header in file, RIFF was not found");return}if(v(8)!=="WAVE"||v(12)!=="fmt "){a.reject("Invalid WAV header in file, WAVEfmt was not found");return}const m=p.getInt32(16,!0),S=p.getUint16(22,!0),C=p.getUint32(24,!0),x=p.getUint16(34,!0);let R=36+Math.max(m-16,0);for(;v(R)!=="data";R+=2)if(R>4288){a.reject("Invalid WAV header in file, data block was not found");return}this.privHeaderEnd=R+8,a.resolve(r.AudioStreamFormat.getWaveFormatPCM(C,x,S))};if(typeof window<"u"&&typeof Blob<"u"&&c instanceof Blob){const h=new FileReader;h.onload=p=>{const v=p.target.result;d(v)},h.readAsArrayBuffer(c)}else{const h=c;d(h.buffer.slice(h.byteOffset,h.byteOffset+h.byteLength))}return a.promise}async upload(l){const c=a=>{const d=`Error occurred while processing '${this.privFilename}'. ${a}`;throw this.onEvent(new t.AudioStreamNodeErrorEvent(this.privId,l,d)),new Error(d)};try{await this.turnOn();const a=await this.privAudioFormatPromise,d=new t.ChunkedArrayBufferStream(a.avgBytesPerSec/10,l);this.privStreams[l]=d;const h=this.privSource.slice(this.privHeaderEnd),p=v=>{d.isClosed||(d.writeStreamChunk({buffer:v,isEnd:!1,timeReceived:Date.now()}),d.close())};if(typeof window<"u"&&typeof Blob<"u"&&h instanceof Blob){const v=new FileReader;v.onerror=m=>c(m.toString()),v.onload=m=>{const S=m.target.result;p(S)},v.readAsArrayBuffer(h)}else{const v=h;p(v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength))}return d}catch(a){c(a)}}onEvent(l){this.privEvents.onEvent(l),t.Events.instance.onEvent(l)}};return Yc.FileAudioSource=i,Yc}var Qc={},zw;function uq(){if(zw)return Qc;zw=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.PcmRecorder=void 0;const e=je();class t{constructor(i){this.privStopInputOnRelease=i}record(i,o,l){const a=new e.RiffPcmEncoder(i.sampleRate,16e3),d=i.createMediaStreamSource(o),h=()=>{const v=(()=>{let m=0;try{return i.createScriptProcessor(m,1,1)}catch{m=2048;let C=i.sampleRate;for(;m<16384&&C>=32e3;)m<<=1,C>>=1;return i.createScriptProcessor(m,1,1)}})();v.onaudioprocess=m=>{const S=m.inputBuffer.getChannelData(0);if(l&&!l.isClosed){const C=a.encode(S);C&&l.writeStreamChunk({buffer:C,isEnd:!1,timeReceived:Date.now()})}},d.connect(v),v.connect(i.destination),this.privMediaResources={scriptProcessorNode:v,source:d,stream:o}},p=!!this.privSpeechProcessorScript&&this.privSpeechProcessorScript.toLowerCase()==="ignore";if(i.audioWorklet&&!p){if(!this.privSpeechProcessorScript){const v=`class SP extends AudioWorkletProcessor {
                    constructor(options) {
                      super(options);
                    }
                    process(inputs, outputs) {
                      const input = inputs[0];
                      const output = [];
                      for (let channel = 0; channel < input.length; channel += 1) {
                        output[channel] = input[channel];
                      }
                      this.port.postMessage(output[0]);
                      return true;
                    }
                  }
                  registerProcessor('speech-processor', SP);`,m=new Blob([v],{type:"application/javascript; charset=utf-8"});this.privSpeechProcessorScript=URL.createObjectURL(m)}i.audioWorklet.addModule(this.privSpeechProcessorScript).then(()=>{const v=new AudioWorkletNode(i,"speech-processor");v.port.onmessage=m=>{const S=m.data;if(l&&!l.isClosed){const C=a.encode(S);C&&l.writeStreamChunk({buffer:C,isEnd:!1,timeReceived:Date.now()})}},d.connect(v),v.connect(i.destination),this.privMediaResources={scriptProcessorNode:v,source:d,stream:o}}).catch(()=>{h()})}else try{h()}catch(v){throw new Error(`Unable to start audio worklet node for PCMRecorder: ${v}`)}}releaseMediaResources(i){this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(i.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privStopInputOnRelease&&this.privMediaResources.stream.getTracks().forEach(o=>o.stop()),this.privMediaResources.source=null))}setWorkletUrl(i){this.privSpeechProcessorScript=i}}return Qc.PcmRecorder=t,Qc}var Xc={},Dr={},Lw;function n6(){if(Lw)return Dr;Lw=1;var e=Dr&&Dr.__createBinding||(Object.create?function(m,S,C,x){x===void 0&&(x=C),Object.defineProperty(m,x,{enumerable:!0,get:function(){return S[C]}})}:function(m,S,C,x){x===void 0&&(x=C),m[x]=S[C]}),t=Dr&&Dr.__setModuleDefault||(Object.create?function(m,S){Object.defineProperty(m,"default",{enumerable:!0,value:S})}:function(m,S){m.default=S}),r=Dr&&Dr.__importStar||function(m){if(m&&m.__esModule)return m;var S={};if(m!=null)for(var C in m)C!=="default"&&Object.hasOwnProperty.call(m,C)&&e(S,m,C);return t(S,m),S},i=Dr&&Dr.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.WebsocketMessageAdapter=void 0;const o=r(Qs),l=r(Qs),c=i(Qs),a=i(Qs),d=i(Qs),h=xr(),p=je();let v=class d0{constructor(S,C,x,R,w,T){if(!S)throw new p.ArgumentNullError("uri");if(!x)throw new p.ArgumentNullError("messageFormatter");this.proxyInfo=R,this.privConnectionEvents=new p.EventSource,this.privConnectionId=C,this.privMessageFormatter=x,this.privConnectionState=p.ConnectionState.None,this.privUri=S,this.privHeaders=w,this.privEnableCompression=T,this.privHeaders[h.HeaderNames.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}get state(){return this.privConnectionState}open(){if(this.privConnectionState===p.ConnectionState.Disconnected)return Promise.reject(`Cannot open a connection that is in ${this.privConnectionState} state`);if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new p.Deferred,this.privCertificateValidatedDeferral=new p.Deferred,this.privConnectionState=p.ConnectionState.Connecting;try{if(typeof WebSocket<"u"&&!d0.forceNpmWebSocket)this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);else{const S={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression};this.privCertificateValidatedDeferral.resolve(),S.agent=this.getAgent();let x=new URL(this.privUri).protocol;(x==null?void 0:x.toLocaleLowerCase())==="wss:"?x="https:":(x==null?void 0:x.toLocaleLowerCase())==="ws:"&&(x="http:"),S.agent.protocol=x,this.privWebsocketClient=new d.default(this.privUri,S)}this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new p.Queue,this.privDisconnectDeferral=new p.Deferred,this.privSendMessageQueue=new p.Queue,this.processSendQueue().catch(S=>{p.Events.instance.onEvent(new p.BackgroundEvent(S))})}catch(S){return this.privConnectionEstablishDeferral.resolve(new p.ConnectionOpenResponse(500,S)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new p.ConnectionStartEvent(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=()=>{this.privCertificateValidatedDeferral.promise.then(()=>{this.privConnectionState=p.ConnectionState.Connected,this.onEvent(new p.ConnectionEstablishedEvent(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new p.ConnectionOpenResponse(200,""))},S=>{this.privConnectionEstablishDeferral.reject(S)})},this.privWebsocketClient.onerror=S=>{this.onEvent(new p.ConnectionErrorEvent(this.privConnectionId,S.message,S.type)),this.privLastErrorReceived=S.message},this.privWebsocketClient.onclose=S=>{this.privConnectionState===p.ConnectionState.Connecting?(this.privConnectionState=p.ConnectionState.Disconnected,this.privConnectionEstablishDeferral.resolve(new p.ConnectionOpenResponse(S.code,S.reason+" "+this.privLastErrorReceived))):(this.privConnectionState=p.ConnectionState.Disconnected,this.privWebsocketClient=null,this.onEvent(new p.ConnectionClosedEvent(this.privConnectionId,S.code,S.reason))),this.onClose(S.code,S.reason).catch(C=>{p.Events.instance.onEvent(new p.BackgroundEvent(C))})},this.privWebsocketClient.onmessage=S=>{const C=new Date().toISOString();if(this.privConnectionState===p.ConnectionState.Connected){const x=new p.Deferred;if(this.privReceivingMessageQueue.enqueueFromPromise(x.promise),S.data instanceof ArrayBuffer){const R=new p.RawWebsocketMessage(p.MessageType.Binary,S.data);this.privMessageFormatter.toConnectionMessage(R).then(w=>{this.onEvent(new p.ConnectionMessageReceivedEvent(this.privConnectionId,C,w)),x.resolve(w)},w=>{x.reject(`Invalid binary message format. Error: ${w}`)})}else{const R=new p.RawWebsocketMessage(p.MessageType.Text,S.data);this.privMessageFormatter.toConnectionMessage(R).then(w=>{this.onEvent(new p.ConnectionMessageReceivedEvent(this.privConnectionId,C,w)),x.resolve(w)},w=>{x.reject(`Invalid text message format. Error: ${w}`)})}}},this.privConnectionEstablishDeferral.promise}send(S){if(this.privConnectionState!==p.ConnectionState.Connected)return Promise.reject(`Cannot send on connection that is in ${p.ConnectionState[this.privConnectionState]} state`);const C=new p.Deferred,x=new p.Deferred;return this.privSendMessageQueue.enqueueFromPromise(x.promise),this.privMessageFormatter.fromConnectionMessage(S).then(R=>{x.resolve({Message:S,RawWebsocketMessage:R,sendStatusDeferral:C})},R=>{x.reject(`Error formatting the message. ${R}`)}),C.promise}read(){return this.privConnectionState!==p.ConnectionState.Connected?Promise.reject(`Cannot read on connection that is in ${this.privConnectionState} state`):this.privReceivingMessageQueue.dequeue()}close(S){if(this.privWebsocketClient)this.privConnectionState!==p.ConnectionState.Disconnected&&this.privWebsocketClient.close(1e3,S||"Normal closure by client");else return Promise.resolve();return this.privDisconnectDeferral.promise}get events(){return this.privConnectionEvents}sendRawMessage(S){try{if(!S)return Promise.resolve();if(this.onEvent(new p.ConnectionMessageSentEvent(this.privConnectionId,new Date().toISOString(),S.Message)),this.isWebsocketOpen)this.privWebsocketClient.send(S.RawWebsocketMessage.payload);else return Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+S.Message.id+" "+new Error().stack);return Promise.resolve()}catch(C){return Promise.reject(`websocket send error: ${C}`)}}async onClose(S,C){const x=`Connection closed. ${S}: ${C}`;this.privConnectionState=p.ConnectionState.Disconnected,this.privDisconnectDeferral.resolve(),await this.privReceivingMessageQueue.drainAndDispose(()=>{},x),await this.privSendMessageQueue.drainAndDispose(R=>{R.sendStatusDeferral.reject(x)},x)}async processSendQueue(){for(;;){const C=await this.privSendMessageQueue.dequeue();if(!C)return;try{await this.sendRawMessage(C),C.sendStatusDeferral.resolve()}catch(x){C.sendStatusDeferral.reject(x)}}}onEvent(S){this.privConnectionEvents.onEvent(S),p.Events.instance.onEvent(S)}getAgent(){const S=new c.default.Agent(this.createConnection);return this.proxyInfo!==void 0&&this.proxyInfo.HostName!==void 0&&this.proxyInfo.Port>0&&(S.proxyInfo=this.proxyInfo),S}static GetProxyAgent(S){const C={host:S.HostName,port:S.Port};return S.UserName?C.headers={"Proxy-Authentication":"Basic "+new Buffer(`${S.UserName}:${S.Password===void 0?"":S.Password}`).toString("base64")}:C.headers={},C.headers.requestOCSP="true",new a.default(C)}createConnection(S,C){let x;if(C={...C,requestOCSP:!0,servername:C.host},this.proxyInfo){const w=d0.GetProxyAgent(this.proxyInfo);x=new Promise((T,P)=>{w.callback(S,C,(I,k)=>{I?P(I):T(k)})})}else C.secureEndpoint?x=Promise.resolve(l.connect(C)):x=Promise.resolve(o.connect(C));return x}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}};return Dr.WebsocketMessageAdapter=v,v.forceNpmWebSocket=!1,Dr}var qw;function dq(){if(qw)return Xc;qw=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.WebsocketConnection=void 0;const e=je(),t=n6();let r=class{constructor(o,l,c,a,d,h=!1,p){if(this.privIsDisposed=!1,!o)throw new e.ArgumentNullError("uri");if(!a)throw new e.ArgumentNullError("messageFormatter");this.privMessageFormatter=a;let v="",m=0;if(l){for(const S in l)if(S){v+=m===0&&o.indexOf("?")===-1?"?":"&";const C=encodeURIComponent(S);v+=C;let x=l[S];x&&(x=encodeURIComponent(x),v+=`=${x}`),m++}}if(c){for(const S in c)if(S){v+=m===0&&o.indexOf("?")===-1?"?":"&";const C=encodeURIComponent(c[S]);v+=`${S}=${C}`,m++}}this.privUri=o+v,this.privId=p||e.createNoDashGuid(),this.privConnectionMessageAdapter=new t.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter,d,c,h)}async dispose(){this.privIsDisposed=!0,this.privConnectionMessageAdapter&&await this.privConnectionMessageAdapter.close()}isDisposed(){return this.privIsDisposed}get id(){return this.privId}get uri(){return this.privUri}state(){return this.privConnectionMessageAdapter.state}open(){return this.privConnectionMessageAdapter.open()}send(o){return this.privConnectionMessageAdapter.send(o)}read(){return this.privConnectionMessageAdapter.read()}get events(){return this.privConnectionMessageAdapter.events}};return Xc.WebsocketConnection=r,Xc}var Zc={},Bw;function hq(){if(Bw)return Zc;Bw=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.ReplayableAudioNode=void 0;let e=class{constructor(i,o){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.privAudioNode=i,this.privBytesPerSecond=o}id(){return this.privAudioNode.id()}read(){if(this.privReplay&&this.privBuffers.length!==0){const i=this.privReplayOffset-this.privBufferStartOffset;let o=Math.round(i*this.privBytesPerSecond*1e-7);o%2!==0&&o++;let l=0;for(;l<this.privBuffers.length&&o>=this.privBuffers[l].chunk.buffer.byteLength;)o-=this.privBuffers[l++].chunk.buffer.byteLength;if(l<this.privBuffers.length){const c=this.privBuffers[l].chunk.buffer.slice(o);return this.privReplayOffset+=c.byteLength/this.privBytesPerSecond*1e7,l===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:c,isEnd:!1,timeReceived:this.privBuffers[l].chunk.timeReceived})}}return this.privAudioNode.read().then(i=>(i&&i.buffer&&(this.privBuffers.push(new t(i,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=i.buffer.byteLength),i))}detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}replay(){this.privBuffers&&this.privBuffers.length!==0&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(i){if(this.privBuffers===void 0||this.privBuffers.length===0)return;this.privLastShrinkOffset=i;const o=i-this.privBufferStartOffset;let l=Math.round(o*this.privBytesPerSecond*1e-7),c=0;for(;c<this.privBuffers.length&&l>=this.privBuffers[c].chunk.buffer.byteLength;)l-=this.privBuffers[c++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(i-l/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(c)}findTimeAtOffset(i){if(i<this.privBufferStartOffset||this.privBuffers===void 0)return 0;for(const o of this.privBuffers){const l=o.byteOffset/this.privBytesPerSecond*1e7,c=l+o.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(i>=l&&i<=c)return o.chunk.timeReceived}return 0}};Zc.ReplayableAudioNode=e;class t{constructor(i,o,l){this.chunk=i,this.serial=o,this.byteOffset=l}}return Zc}var el={},Eg={},di={},Sn={},Uw;function i6(){if(Uw)return Sn;Uw=1;var e=Sn&&Sn.__createBinding||(Object.create?function(c,a,d,h){h===void 0&&(h=d),Object.defineProperty(c,h,{enumerable:!0,get:function(){return a[d]}})}:function(c,a,d,h){h===void 0&&(h=d),c[h]=a[d]}),t=Sn&&Sn.__setModuleDefault||(Object.create?function(c,a){Object.defineProperty(c,"default",{enumerable:!0,value:a})}:function(c,a){c.default=a}),r=Sn&&Sn.__importStar||function(c){if(c&&c.__esModule)return c;var a={};if(c!=null)for(var d in c)d!=="default"&&Object.hasOwnProperty.call(c,d)&&e(a,c,d);return t(a,c),a};Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.AudioFileWriter=void 0;const i=r(Qs),o=He();let l=class{constructor(a){o.Contracts.throwIfNullOrUndefined(i.openSync,`
File System access not available, please use Push or PullAudioOutputStream`),this.privFd=i.openSync(a,"w")}set format(a){o.Contracts.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=a;let d=0;this.privAudioFormat.hasHeader&&(d=this.privAudioFormat.header.byteLength),this.privFd!==void 0&&(this.privWriteStream=i.createWriteStream("",{fd:this.privFd,start:d,autoClose:!1}))}write(a){o.Contracts.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),this.privWriteStream!==void 0&&this.privWriteStream.write(new Uint8Array(a.slice(0)))}close(){this.privFd!==void 0&&(this.privWriteStream.on("finish",()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),i.writeSync(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),i.closeSync(this.privFd),this.privFd=void 0}),this.privWriteStream.end())}id(){return this.privId}};return Sn.AudioFileWriter=l,Sn}var zr={},Vw;function s6(){if(Vw)return zr;Vw=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.PullAudioInputStreamImpl=zr.PullAudioInputStream=zr.PushAudioInputStreamImpl=zr.PushAudioInputStream=zr.AudioInputStream=void 0;const e=Ce(),t=je(),r=ho(),i=se(),o=po();let l=class{constructor(){}static createPushStream(v){return c.create(v)}static createPullStream(v,m){return d.create(v,m)}};zr.AudioInputStream=l;class c extends l{static create(v){return new a(v)}}zr.PushAudioInputStream=c;class a extends c{constructor(v){super(),v===void 0?this.privFormat=o.AudioStreamFormatImpl.getDefaultInputFormat():this.privFormat=v,this.privEvents=new t.EventSource,this.privId=r.createNoDashGuid(),this.privStream=new t.ChunkedArrayBufferStream(this.privFormat.avgBytesPerSec/10)}get format(){return Promise.resolve(this.privFormat)}write(v){this.privStream.writeStreamChunk({buffer:v,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}turnOn(){this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}async attach(v){this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,v)),await this.turnOn();const m=this.privStream;return this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,v)),{detach:async()=>(this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,v)),this.turnOff()),id:()=>v,read:()=>m.read()}}detach(v){this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,v))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:e.type.Stream})}onEvent(v){this.privEvents.onEvent(v),t.Events.instance.onEvent(v)}toBuffer(v){const m=Buffer.alloc(v.byteLength),S=new Uint8Array(v);for(let C=0;C<m.length;++C)m[C]=S[C];return m}}zr.PushAudioInputStreamImpl=a;class d extends l{constructor(){super()}static create(v,m){return new h(v,m)}}zr.PullAudioInputStream=d;class h extends d{constructor(v,m){super(),m===void 0?this.privFormat=i.AudioStreamFormat.getDefaultInputFormat():this.privFormat=m,this.privEvents=new t.EventSource,this.privId=r.createNoDashGuid(),this.privCallback=v,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Promise.resolve(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}turnOn(){this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}async attach(v){return this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,v)),await this.turnOn(),this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,v)),{detach:()=>(this.privCallback.close(),this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,v)),this.turnOff()),id:()=>v,read:()=>{let m=0,S;for(;m<this.privBufferSize;){const C=new ArrayBuffer(this.privBufferSize-m),x=this.privCallback.read(C);if(S===void 0?S=C:new Int8Array(S).set(new Int8Array(C),m),x===0)break;m+=x}return Promise.resolve({buffer:S.slice(0,m),isEnd:this.privIsClosed||m===0,timeReceived:Date.now()})}}}detach(v){this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,v))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:e.type.Stream})}onEvent(v){this.privEvents.onEvent(v),t.Events.instance.onEvent(v)}}return zr.PullAudioInputStreamImpl=h,zr}var Lr={},tl={},Tg={},Fw;function o6(){return Fw||(Fw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeechSynthesisOutputFormat=void 0,function(t){t[t.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",t[t.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",t[t.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",t[t.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",t[t.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",t[t.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",t[t.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",t[t.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",t[t.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",t[t.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",t[t.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",t[t.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",t[t.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",t[t.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",t[t.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",t[t.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",t[t.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",t[t.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",t[t.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",t[t.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",t[t.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",t[t.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",t[t.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",t[t.Ogg48Khz16BitMonoOpus=23]="Ogg48Khz16BitMonoOpus",t[t.Webm16Khz16BitMonoOpus=24]="Webm16Khz16BitMonoOpus",t[t.Webm24Khz16BitMonoOpus=25]="Webm24Khz16BitMonoOpus",t[t.Raw24Khz16BitMonoTrueSilk=26]="Raw24Khz16BitMonoTrueSilk",t[t.Raw8Khz8BitMonoALaw=27]="Raw8Khz8BitMonoALaw",t[t.Riff8Khz8BitMonoALaw=28]="Riff8Khz8BitMonoALaw",t[t.Webm24Khz16Bit24KbpsMonoOpus=29]="Webm24Khz16Bit24KbpsMonoOpus",t[t.Audio16Khz16Bit32KbpsMonoOpus=30]="Audio16Khz16Bit32KbpsMonoOpus",t[t.Audio24Khz16Bit48KbpsMonoOpus=31]="Audio24Khz16Bit48KbpsMonoOpus",t[t.Audio24Khz16Bit24KbpsMonoOpus=32]="Audio24Khz16Bit24KbpsMonoOpus",t[t.Raw22050Hz16BitMonoPcm=33]="Raw22050Hz16BitMonoPcm",t[t.Riff22050Hz16BitMonoPcm=34]="Riff22050Hz16BitMonoPcm",t[t.Raw44100Hz16BitMonoPcm=35]="Raw44100Hz16BitMonoPcm",t[t.Riff44100Hz16BitMonoPcm=36]="Riff44100Hz16BitMonoPcm",t[t.AmrWb16000Hz=37]="AmrWb16000Hz",t[t.G72216Khz64Kbps=38]="G72216Khz64Kbps"}(e.SpeechSynthesisOutputFormat||(e.SpeechSynthesisOutputFormat={}))}(Tg)),Tg}var Hw;function ih(){if(Hw)return tl;Hw=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.AudioOutputFormatImpl=void 0;const e=o6(),t=po();class r extends t.AudioStreamFormatImpl{constructor(o,l,c,a,d,h,p,v,m){super(c,h,l,o),this.formatTag=o,this.avgBytesPerSec=a,this.blockAlign=d,this.priAudioFormatString=p,this.priRequestAudioFormatString=v,this.priHasHeader=m}static fromSpeechSynthesisOutputFormat(o){return o===void 0?r.getDefaultOutputFormat():r.fromSpeechSynthesisOutputFormatString(r.SpeechSynthesisOutputFormatToString[o])}static fromSpeechSynthesisOutputFormatString(o){switch(o){case"raw-8khz-8bit-mono-mulaw":return new r(t.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,o,o,!1);case"riff-16khz-16kbps-mono-siren":return new r(t.AudioFormatTag.Siren,1,16e3,2e3,40,0,o,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new r(t.AudioFormatTag.Siren,1,16e3,2e3,40,0,o,o,!1);case"audio-16khz-32kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,16e3,4096,2,16,o,o,!1);case"audio-16khz-128kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,16e3,16384,2,16,o,o,!1);case"audio-16khz-64kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,16e3,8192,2,16,o,o,!1);case"audio-24khz-48kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,24e3,6144,2,16,o,o,!1);case"audio-24khz-96kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,24e3,12288,2,16,o,o,!1);case"audio-24khz-160kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,24e3,20480,2,16,o,o,!1);case"raw-16khz-16bit-mono-truesilk":return new r(t.AudioFormatTag.SILKSkype,1,16e3,32e3,2,16,o,o,!1);case"riff-8khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,8e3,16e3,2,16,o,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,24e3,48e3,2,16,o,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new r(t.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,o,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,16e3,32e3,2,16,o,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,24e3,48e3,2,16,o,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,8e3,16e3,2,16,o,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new r(t.AudioFormatTag.OGG_OPUS,1,16e3,8192,2,16,o,o,!1);case"ogg-24khz-16bit-mono-opus":return new r(t.AudioFormatTag.OGG_OPUS,1,24e3,8192,2,16,o,o,!1);case"raw-48khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,48e3,96e3,2,16,o,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,48e3,96e3,2,16,o,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,48e3,12288,2,16,o,o,!1);case"audio-48khz-192kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,48e3,24576,2,16,o,o,!1);case"ogg-48khz-16bit-mono-opus":return new r(t.AudioFormatTag.OGG_OPUS,1,48e3,12e3,2,16,o,o,!1);case"webm-16khz-16bit-mono-opus":return new r(t.AudioFormatTag.WEBM_OPUS,1,16e3,4e3,2,16,o,o,!1);case"webm-24khz-16bit-mono-opus":return new r(t.AudioFormatTag.WEBM_OPUS,1,24e3,6e3,2,16,o,o,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new r(t.AudioFormatTag.WEBM_OPUS,1,24e3,3e3,2,16,o,o,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new r(t.AudioFormatTag.OPUS,1,16e3,4e3,2,16,o,o,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new r(t.AudioFormatTag.OPUS,1,24e3,6e3,2,16,o,o,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new r(t.AudioFormatTag.OPUS,1,24e3,3e3,2,16,o,o,!1);case"audio-24khz-16bit-mono-flac":return new r(t.AudioFormatTag.FLAC,1,24e3,24e3,2,16,o,o,!1);case"audio-48khz-16bit-mono-flac":return new r(t.AudioFormatTag.FLAC,1,48e3,3e4,2,16,o,o,!1);case"raw-24khz-16bit-mono-truesilk":return new r(t.AudioFormatTag.SILKSkype,1,24e3,48e3,2,16,o,o,!1);case"raw-8khz-8bit-mono-alaw":return new r(t.AudioFormatTag.ALaw,1,8e3,8e3,1,8,o,o,!1);case"riff-8khz-8bit-mono-alaw":return new r(t.AudioFormatTag.ALaw,1,8e3,8e3,1,8,o,"raw-8khz-8bit-mono-alaw",!0);case"raw-22050hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,22050,44100,2,16,o,o,!1);case"riff-22050hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,22050,44100,2,16,o,"raw-22050hz-16bit-mono-pcm",!0);case"raw-44100hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,44100,88200,2,16,o,o,!1);case"riff-44100hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,44100,88200,2,16,o,"raw-44100hz-16bit-mono-pcm",!0);case"amr-wb-16000h":return new r(t.AudioFormatTag.AMR_WB,1,16e3,3052,2,16,o,o,!1);case"g722-16khz-64kbps":return new r(t.AudioFormatTag.G722,1,16e3,8e3,2,16,o,o,!1);case"riff-16khz-16bit-mono-pcm":default:return new r(t.AudioFormatTag.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return r.fromSpeechSynthesisOutputFormatString(typeof window<"u"?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(o){if(this.priHasHeader){const l=new DataView(this.privHeader);l.setUint32(4,o+this.privHeader.byteLength-8,!0),l.setUint32(40,o,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}addHeader(o){if(!this.hasHeader)return o;this.updateHeader(o.byteLength);const l=new Uint8Array(o.byteLength+this.header.byteLength);return l.set(new Uint8Array(this.header),0),l.set(new Uint8Array(o),this.header.byteLength),l.buffer}}return tl.AudioOutputFormatImpl=r,r.SpeechSynthesisOutputFormatToString={[e.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[e.SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[e.SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[e.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[e.SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[e.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Raw48Khz16BitMonoPcm]:"raw-48khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff48Khz16BitMonoPcm]:"riff-48khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Audio48Khz96KBitRateMonoMp3]:"audio-48khz-96kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3]:"audio-48khz-192kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Ogg48Khz16BitMonoOpus]:"ogg-48khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Webm16Khz16BitMonoOpus]:"webm-16khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Webm24Khz16BitMonoOpus]:"webm-24khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Webm24Khz16Bit24KbpsMonoOpus]:"webm-24khz-16bit-24kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoTrueSilk]:"raw-24khz-16bit-mono-truesilk",[e.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoALaw]:"raw-8khz-8bit-mono-alaw",[e.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoALaw]:"riff-8khz-8bit-mono-alaw",[e.SpeechSynthesisOutputFormat.Audio16Khz16Bit32KbpsMonoOpus]:"audio-16khz-16bit-32kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Audio24Khz16Bit48KbpsMonoOpus]:"audio-24khz-16bit-48kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Audio24Khz16Bit24KbpsMonoOpus]:"audio-24khz-16bit-24kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Raw22050Hz16BitMonoPcm]:"raw-22050hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff22050Hz16BitMonoPcm]:"riff-22050hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Raw44100Hz16BitMonoPcm]:"raw-44100hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff44100Hz16BitMonoPcm]:"riff-44100hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.AmrWb16000Hz]:"amr-wb-16000hz",[e.SpeechSynthesisOutputFormat.G72216Khz64Kbps]:"g722-16khz-64kbps"},tl}var $w;function pa(){if($w)return Lr;$w=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.PushAudioOutputStreamImpl=Lr.PushAudioOutputStream=Lr.PullAudioOutputStreamImpl=Lr.PullAudioOutputStream=Lr.AudioOutputStream=void 0;const e=je(),t=He(),r=ih();let i=class{constructor(){}static createPullStream(){return o.create()}};Lr.AudioOutputStream=i;class o extends i{static create(){return new l}}Lr.PullAudioOutputStream=o;class l extends o{constructor(){super(),this.privId=e.createNoDashGuid(),this.privStream=new e.Stream}set format(h){h==null&&(this.privFormat=r.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privFormat=h}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}async read(h){const p=new Int8Array(h);let v=0;if(this.privLastChunkView!==void 0){if(this.privLastChunkView.length>h.byteLength)return p.set(this.privLastChunkView.slice(0,h.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(h.byteLength),Promise.resolve(h.byteLength);p.set(this.privLastChunkView),v=this.privLastChunkView.length,this.privLastChunkView=void 0}for(;v<h.byteLength&&!this.privStream.isReadEnded;){const m=await this.privStream.read();if(m!==void 0&&!m.isEnd){let S;m.buffer.byteLength>h.byteLength-v?(S=m.buffer.slice(0,h.byteLength-v),this.privLastChunkView=new Int8Array(m.buffer.slice(h.byteLength-v))):S=m.buffer,p.set(new Int8Array(S),v),v+=S.byteLength}else this.privStream.readEnded()}return v}write(h){t.Contracts.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:h,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}Lr.PullAudioOutputStreamImpl=l;class c extends i{constructor(){super()}static create(h){return new a(h)}}Lr.PushAudioOutputStream=c;class a extends c{constructor(h){super(),this.privId=e.createNoDashGuid(),this.privCallback=h}set format(h){}write(h){this.privCallback.write&&this.privCallback.write(h)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}return Lr.PushAudioOutputStreamImpl=a,Lr}var Kw;function c6(){if(Kw)return di;Kw=1,Object.defineProperty(di,"__esModule",{value:!0}),di.AudioOutputConfigImpl=di.AudioConfigImpl=di.AudioConfig=void 0;const e=Zt(),t=He(),r=se(),i=i6(),o=s6(),l=pa();let c=class a6{static fromDefaultMicrophoneInput(){const p=new e.PcmRecorder(!0);return new a(new e.MicAudioSource(p))}static fromMicrophoneInput(p){const v=new e.PcmRecorder(!0);return new a(new e.MicAudioSource(v,p))}static fromWavFileInput(p,v="unnamedBuffer.wav"){return new a(new e.FileAudioSource(p,v))}static fromStreamInput(p){if(p instanceof r.PullAudioInputStreamCallback)return new a(new o.PullAudioInputStreamImpl(p));if(p instanceof r.AudioInputStream)return new a(p);if(typeof MediaStream<"u"&&p instanceof MediaStream){const v=new e.PcmRecorder(!1);return new a(new e.MicAudioSource(v,null,null,p))}throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new d(new r.SpeakerAudioDestination)}static fromSpeakerOutput(p){if(p===void 0)return a6.fromDefaultSpeakerOutput();if(p instanceof r.SpeakerAudioDestination)return new d(p);throw new Error("Not Supported Type")}static fromAudioFileOutput(p){return new d(new i.AudioFileWriter(p))}static fromStreamOutput(p){if(p instanceof r.PushAudioOutputStreamCallback)return new d(new l.PushAudioOutputStreamImpl(p));if(p instanceof r.PushAudioOutputStream)return new d(p);if(p instanceof r.PullAudioOutputStream)return new d(p);throw new Error("Not Supported Type")}};di.AudioConfig=c;class a extends c{constructor(p){super(),this.privSource=p}get format(){return this.privSource.format}close(p,v){this.privSource.turnOff().then(()=>{p&&p()},m=>{v&&v(m)})}id(){return this.privSource.id()}turnOn(){return this.privSource.turnOn()}attach(p){return this.privSource.attach(p)}detach(p){return this.privSource.detach(p)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(p,v){if(t.Contracts.throwIfNull(v,"value"),this.privSource.setProperty!==void 0)this.privSource.setProperty(p,v);else throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(p,v){if(this.privSource.getProperty!==void 0)return this.privSource.getProperty(p,v);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}di.AudioConfigImpl=a;class d extends c{constructor(p){super(),this.privDestination=p}set format(p){this.privDestination.format=p}write(p){this.privDestination.write(p)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(){throw new Error("This AudioConfig instance does not support getting properties.")}}return di.AudioOutputConfigImpl=d,di}var Pg={},Ww;function pq(){return Ww||(Ww=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationReason=void 0,function(t){t[t.Error=0]="Error",t[t.EndOfStream=1]="EndOfStream"}(e.CancellationReason||(e.CancellationReason={}))}(Pg)),Pg}var rl={},Gw;function fq(){if(Gw)return rl;Gw=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.PullAudioInputStreamCallback=void 0;let e=class{};return rl.PullAudioInputStreamCallback=e,rl}var nl={},Jw;function vq(){if(Jw)return nl;Jw=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.PushAudioOutputStreamCallback=void 0;let e=class{};return nl.PushAudioOutputStreamCallback=e,nl}var il={},Yw;function mq(){if(Yw)return il;Yw=1,Object.defineProperty(il,"__esModule",{value:!0}),il.KeywordRecognitionModel=void 0;const e=He();let t=class{constructor(){this.privDisposed=!1}static fromFile(i){throw e.Contracts.throwIfFileDoesNotExist(i,"fileName"),new Error("Not yet implemented.")}static fromStream(i){throw e.Contracts.throwIfNull(i,"file"),new Error("Not yet implemented.")}close(){this.privDisposed||(this.privDisposed=!0)}};return il.KeywordRecognitionModel=t,il}var sl={},Qw;function gq(){if(Qw)return sl;Qw=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.SessionEventArgs=void 0;let e=class{constructor(r){this.privSessionId=r}get sessionId(){return this.privSessionId}};return sl.SessionEventArgs=e,sl}var ol={},Xw;function yq(){if(Xw)return ol;Xw=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.RecognitionEventArgs=void 0;const e=se();let t=class extends e.SessionEventArgs{constructor(i,o){super(o),this.privOffset=i}get offset(){return this.privOffset}};return ol.RecognitionEventArgs=t,ol}var Ag={},Zw;function Sq(){return Zw||(Zw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OutputFormat=void 0,function(t){t[t.Simple=0]="Simple",t[t.Detailed=1]="Detailed"}(e.OutputFormat||(e.OutputFormat={}))}(Ag)),Ag}var al={},eE;function bq(){if(eE)return al;eE=1,Object.defineProperty(al,"__esModule",{value:!0}),al.IntentRecognitionEventArgs=void 0;const e=se();let t=class extends e.RecognitionEventArgs{constructor(i,o,l){super(o,l),this.privResult=i}get result(){return this.privResult}};return al.IntentRecognitionEventArgs=t,al}var cl={},tE;function Cq(){if(tE)return cl;tE=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.RecognitionResult=void 0;let e=class{constructor(r,i,o,l,c,a,d,h,p,v){this.privResultId=r,this.privReason=i,this.privText=o,this.privDuration=l,this.privOffset=c,this.privLanguage=a,this.privLanguageDetectionConfidence=d,this.privErrorDetails=h,this.privJson=p,this.privProperties=v}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}};return cl.RecognitionResult=e,cl}var ll={},rE;function xq(){if(rE)return ll;rE=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.SpeechRecognitionResult=void 0;const e=se();let t=class extends e.RecognitionResult{constructor(i,o,l,c,a,d,h,p,v,m,S){super(i,o,l,c,a,d,h,v,m,S),this.privSpeakerId=p}get speakerId(){return this.privSpeakerId}};return ll.SpeechRecognitionResult=t,ll}var ul={},nE;function Rq(){if(nE)return ul;nE=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.IntentRecognitionResult=void 0;const e=se();let t=class extends e.SpeechRecognitionResult{constructor(i,o,l,c,a,d,h,p,v,m,S){super(o,l,c,a,d,h,p,void 0,v,m,S),this.privIntentId=i}get intentId(){return this.privIntentId}};return ul.IntentRecognitionResult=t,ul}var Ms={},iE;function wq(){if(iE)return Ms;iE=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.LanguageUnderstandingModelImpl=Ms.LanguageUnderstandingModel=void 0;const e=He();let t=class{constructor(){}static fromEndpoint(o){e.Contracts.throwIfNull(o,"uri"),e.Contracts.throwIfNullOrWhitespace(o.hostname,"uri");const l=new r,c=o.host.indexOf(".");if(c===-1)throw new Error("Could not determine region from endpoint");l.region=o.host.substr(0,c);const a=o.pathname.lastIndexOf("/")+1;if(a===-1)throw new Error("Could not determine appId from endpoint");if(l.appId=o.pathname.substr(a),l.subscriptionKey=o.searchParams.get("subscription-key"),l.subscriptionKey===void 0)throw new Error("Could not determine subscription key from endpoint");return l}static fromAppId(o){e.Contracts.throwIfNullOrWhitespace(o,"appId");const l=new r;return l.appId=o,l}static fromSubscription(o,l,c){e.Contracts.throwIfNullOrWhitespace(o,"subscriptionKey"),e.Contracts.throwIfNullOrWhitespace(l,"appId"),e.Contracts.throwIfNullOrWhitespace(c,"region");const a=new r;return a.appId=l,a.region=c,a.subscriptionKey=o,a}};Ms.LanguageUnderstandingModel=t;class r extends t{}return Ms.LanguageUnderstandingModelImpl=r,Ms}var hi={},sE;function Eq(){if(sE)return hi;sE=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.MeetingTranscriptionEventArgs=hi.ConversationTranscriptionEventArgs=hi.SpeechRecognitionEventArgs=void 0;const e=se();let t=class extends e.RecognitionEventArgs{constructor(l,c,a){super(c,a),this.privResult=l}get result(){return this.privResult}};hi.SpeechRecognitionEventArgs=t;class r extends e.RecognitionEventArgs{constructor(l,c,a){super(c,a),this.privResult=l}get result(){return this.privResult}}hi.ConversationTranscriptionEventArgs=r;class i extends t{}return hi.MeetingTranscriptionEventArgs=i,hi}var dl={},hl={},oE;function sh(){if(oE)return hl;oE=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.CancellationEventArgsBase=void 0;const e=se();let t=class extends e.RecognitionEventArgs{constructor(i,o,l,c,a){super(c,a),this.privReason=i,this.privErrorDetails=o,this.privErrorCode=l}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return hl.CancellationEventArgsBase=t,hl}var aE;function Tq(){if(aE)return dl;aE=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.SpeechRecognitionCanceledEventArgs=void 0;const e=sh();let t=class extends e.CancellationEventArgsBase{};return dl.SpeechRecognitionCanceledEventArgs=t,dl}var pl={},cE;function Pq(){if(cE)return pl;cE=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.TranslationRecognitionEventArgs=void 0;const e=se();let t=class extends e.RecognitionEventArgs{constructor(i,o,l){super(o,l),this.privResult=i}get result(){return this.privResult}};return pl.TranslationRecognitionEventArgs=t,pl}var fl={},lE;function Aq(){if(lE)return fl;lE=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.TranslationSynthesisEventArgs=void 0;const e=se();let t=class extends e.SessionEventArgs{constructor(i,o){super(o),this.privResult=i}get result(){return this.privResult}};return fl.TranslationSynthesisEventArgs=t,fl}var vl={},uE;function u6(){if(uE)return vl;uE=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.TranslationRecognitionResult=void 0;const e=se();let t=class l6 extends e.SpeechRecognitionResult{constructor(i,o,l,c,a,d,h,p,v,m,S){super(o,l,c,a,d,h,p,void 0,v,m,S),this.privTranslations=i}static fromSpeechRecognitionResult(i){return new l6(void 0,i.resultId,i.reason,i.text,i.duration,i.offset,i.language,i.languageDetectionConfidence,i.errorDetails,i.json,i.properties)}get translations(){return this.privTranslations}};return vl.TranslationRecognitionResult=t,vl}var ml={},dE;function _q(){if(dE)return ml;dE=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.TranslationSynthesisResult=void 0;let e=class{constructor(r,i){this.privReason=r,this.privAudio=i}get audio(){return this.privAudio}get reason(){return this.privReason}};return ml.TranslationSynthesisResult=e,ml}var _g={},hE;function kq(){return hE||(hE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ResultReason=void 0,function(t){t[t.NoMatch=0]="NoMatch",t[t.Canceled=1]="Canceled",t[t.RecognizingSpeech=2]="RecognizingSpeech",t[t.RecognizedSpeech=3]="RecognizedSpeech",t[t.RecognizedKeyword=4]="RecognizedKeyword",t[t.RecognizingIntent=5]="RecognizingIntent",t[t.RecognizedIntent=6]="RecognizedIntent",t[t.TranslatingSpeech=7]="TranslatingSpeech",t[t.TranslatedSpeech=8]="TranslatedSpeech",t[t.SynthesizingAudio=9]="SynthesizingAudio",t[t.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted",t[t.SynthesizingAudioStarted=11]="SynthesizingAudioStarted",t[t.EnrollingVoiceProfile=12]="EnrollingVoiceProfile",t[t.EnrolledVoiceProfile=13]="EnrolledVoiceProfile",t[t.RecognizedSpeakers=14]="RecognizedSpeakers",t[t.RecognizedSpeaker=15]="RecognizedSpeaker",t[t.ResetVoiceProfile=16]="ResetVoiceProfile",t[t.DeletedVoiceProfile=17]="DeletedVoiceProfile",t[t.VoicesListRetrieved=18]="VoicesListRetrieved",t[t.TranslatingParticipantSpeech=19]="TranslatingParticipantSpeech",t[t.TranslatedParticipantSpeech=20]="TranslatedParticipantSpeech",t[t.TranslatedInstantMessage=21]="TranslatedInstantMessage",t[t.TranslatedParticipantInstantMessage=22]="TranslatedParticipantInstantMessage"}(e.ResultReason||(e.ResultReason={}))}(_g)),_g}var Ns={},pE;function Mq(){if(pE)return Ns;pE=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.SpeechConfigImpl=Ns.SpeechConfig=void 0;const e=Ce(),t=He(),r=se();let i=class{constructor(){}static fromSubscription(c,a){t.Contracts.throwIfNullOrWhitespace(c,"subscriptionKey"),t.Contracts.throwIfNullOrWhitespace(a,"region");const d=new o;return d.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,a),d.setProperty(r.PropertyId.SpeechServiceConnection_Key,c),d}static fromEndpoint(c,a){t.Contracts.throwIfNull(c,"endpoint");const d=new o;return d.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,c.href),a!==void 0&&d.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),d}static fromHost(c,a){t.Contracts.throwIfNull(c,"hostName");const d=new o;return d.setProperty(r.PropertyId.SpeechServiceConnection_Host,c.protocol+"//"+c.hostname+(c.port===""?"":":"+c.port)),a!==void 0&&d.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),d}static fromAuthorizationToken(c,a){t.Contracts.throwIfNull(c,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(a,"region");const d=new o;return d.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,a),d.authorizationToken=c,d}close(){}};Ns.SpeechConfig=i;class o extends i{constructor(){super(),this.privProperties=new r.PropertyCollection,this.speechRecognitionLanguage="en-US",this.outputFormat=r.OutputFormat.Simple}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,c)}get speechRecognitionLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,c)}get autoDetectSourceLanguages(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)}set autoDetectSourceLanguages(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,c)}get outputFormat(){return r.OutputFormat[this.privProperties.getProperty(e.OutputFormatPropertyName,void 0)]}set outputFormat(c){this.privProperties.setProperty(e.OutputFormatPropertyName,r.OutputFormat[c])}get endpointId(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,c)}setProperty(c,a){t.Contracts.throwIfNull(a,"value"),this.privProperties.setProperty(c,a)}getProperty(c,a){return this.privProperties.getProperty(c,a)}setProxy(c,a,d,h){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],c),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],d),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],h)}setServiceProperty(c,a){const d=JSON.parse(this.privProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));d[c]=a,this.privProperties.setProperty(e.ServicePropertiesPropertyName,JSON.stringify(d))}setProfanity(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[c])}enableAudioLogging(){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true"),this.privProperties.setProperty(e.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Detailed])}enableDictation(){this.privProperties.setProperty(e.ForceDictationPropertyName,"true")}clone(){const c=new o;return c.privProperties=this.privProperties.clone(),c}get speechSynthesisLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,c)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,c)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[c])}}return Ns.SpeechConfigImpl=o,Ns}var Is={},fE;function Nq(){if(fE)return Is;fE=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.SpeechTranslationConfigImpl=Is.SpeechTranslationConfig=void 0;const e=Ce(),t=He(),r=se();let i=class extends r.SpeechConfig{constructor(){super()}static fromSubscription(c,a){t.Contracts.throwIfNullOrWhitespace(c,"subscriptionKey"),t.Contracts.throwIfNullOrWhitespace(a,"region");const d=new o;return d.properties.setProperty(r.PropertyId.SpeechServiceConnection_Key,c),d.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d}static fromAuthorizationToken(c,a){t.Contracts.throwIfNullOrWhitespace(c,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(a,"region");const d=new o;return d.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,c),d.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d}static fromHost(c,a){t.Contracts.throwIfNull(c,"hostName");const d=new o;return d.setProperty(r.PropertyId.SpeechServiceConnection_Host,c.protocol+"//"+c.hostname+(c.port===""?"":":"+c.port)),a!==void 0&&d.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),d}static fromEndpoint(c,a){t.Contracts.throwIfNull(c,"endpoint"),t.Contracts.throwIfNull(a,"subscriptionKey");const d=new o;return d.properties.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,c.href),d.properties.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),d}};Is.SpeechTranslationConfig=i;class o extends i{constructor(){super(),this.privSpeechProperties=new r.PropertyCollection,this.outputFormat=r.OutputFormat.Simple}set authorizationToken(c){t.Contracts.throwIfNullOrWhitespace(c,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,c)}set speechRecognitionLanguage(c){t.Contracts.throwIfNullOrWhitespace(c,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,c)}get speechRecognitionLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage])}get subscriptionKey(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_Key])}get outputFormat(){return r.OutputFormat[this.privSpeechProperties.getProperty(e.OutputFormatPropertyName,void 0)]}set outputFormat(c){this.privSpeechProperties.setProperty(e.OutputFormatPropertyName,r.OutputFormat[c])}get endpointId(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(c){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,c)}addTargetLanguage(c){t.Contracts.throwIfNullOrWhitespace(c,"value");const a=this.targetLanguages;a.includes(c)||(a.push(c),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,a.join(",")))}get targetLanguages(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]}get voiceName(){return this.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_TranslationVoice])}set voiceName(c){t.Contracts.throwIfNullOrWhitespace(c,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,c)}get region(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}setProxy(c,a,d,h){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],c),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],d),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],h)}getProperty(c,a){return this.privSpeechProperties.getProperty(c,a)}setProperty(c,a){this.privSpeechProperties.setProperty(c,a)}get properties(){return this.privSpeechProperties}close(){}setServiceProperty(c,a){const d=JSON.parse(this.privSpeechProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));d[c]=a,this.privSpeechProperties.setProperty(e.ServicePropertiesPropertyName,JSON.stringify(d))}setProfanity(c){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[c])}enableAudioLogging(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privSpeechProperties.setProperty(e.ForceDictationPropertyName,"true")}get speechSynthesisLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(c){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,c)}get speechSynthesisVoiceName(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(c){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,c)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(c){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[c])}}return Is.SpeechTranslationConfigImpl=o,Is}var gl={},vE;function h6(){if(vE)return gl;vE=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.PropertyCollection=void 0;const e=se();let t=class d6{constructor(){this.privKeys=[],this.privValues=[]}getProperty(i,o){let l;typeof i=="string"?l=i:l=e.PropertyId[i];for(let c=0;c<this.privKeys.length;c++)if(this.privKeys[c]===l)return this.privValues[c];if(o!==void 0)return String(o)}setProperty(i,o){let l;typeof i=="string"?l=i:l=e.PropertyId[i];for(let c=0;c<this.privKeys.length;c++)if(this.privKeys[c]===l){this.privValues[c]=o;return}this.privKeys.push(l),this.privValues.push(o)}clone(){const i=new d6;for(let o=0;o<this.privKeys.length;o++)i.privKeys.push(this.privKeys[o]),i.privValues.push(this.privValues[o]);return i}mergeTo(i){this.privKeys.forEach(o=>{if(i.getProperty(o,void 0)===void 0){const l=this.getProperty(o);i.setProperty(o,l)}})}get keys(){return this.privKeys}};return gl.PropertyCollection=t,gl}var kg={},mE;function NS(){return mE||(mE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PropertyId=void 0,function(t){t[t.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",t[t.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",t[t.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",t[t.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",t[t.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",t[t.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",t[t.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",t[t.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",t[t.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",t[t.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",t[t.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",t[t.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",t[t.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",t[t.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",t[t.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",t[t.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",t[t.Speech_SessionId=16]="Speech_SessionId",t[t.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",t[t.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",t[t.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",t[t.SpeechServiceConnection_AutoDetectSourceLanguages=20]="SpeechServiceConnection_AutoDetectSourceLanguages",t[t.SpeechServiceResponse_RequestDetailedResultTrueFalse=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",t[t.SpeechServiceResponse_RequestProfanityFilterTrueFalse=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",t[t.SpeechServiceResponse_JsonResult=23]="SpeechServiceResponse_JsonResult",t[t.SpeechServiceResponse_JsonErrorDetails=24]="SpeechServiceResponse_JsonErrorDetails",t[t.CancellationDetails_Reason=25]="CancellationDetails_Reason",t[t.CancellationDetails_ReasonText=26]="CancellationDetails_ReasonText",t[t.CancellationDetails_ReasonDetailedText=27]="CancellationDetails_ReasonDetailedText",t[t.LanguageUnderstandingServiceResponse_JsonResult=28]="LanguageUnderstandingServiceResponse_JsonResult",t[t.SpeechServiceConnection_Url=29]="SpeechServiceConnection_Url",t[t.SpeechServiceConnection_InitialSilenceTimeoutMs=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",t[t.SpeechServiceConnection_EndSilenceTimeoutMs=31]="SpeechServiceConnection_EndSilenceTimeoutMs",t[t.Speech_SegmentationSilenceTimeoutMs=32]="Speech_SegmentationSilenceTimeoutMs",t[t.Speech_SegmentationMaximumTimeMs=33]="Speech_SegmentationMaximumTimeMs",t[t.Speech_SegmentationStrategy=34]="Speech_SegmentationStrategy",t[t.SpeechServiceConnection_EnableAudioLogging=35]="SpeechServiceConnection_EnableAudioLogging",t[t.SpeechServiceConnection_LanguageIdMode=36]="SpeechServiceConnection_LanguageIdMode",t[t.SpeechServiceConnection_RecognitionEndpointVersion=37]="SpeechServiceConnection_RecognitionEndpointVersion",t[t.SpeechServiceConnection_SpeakerIdMode=38]="SpeechServiceConnection_SpeakerIdMode",t[t.SpeechServiceResponse_ProfanityOption=39]="SpeechServiceResponse_ProfanityOption",t[t.SpeechServiceResponse_PostProcessingOption=40]="SpeechServiceResponse_PostProcessingOption",t[t.SpeechServiceResponse_RequestWordLevelTimestamps=41]="SpeechServiceResponse_RequestWordLevelTimestamps",t[t.SpeechServiceResponse_StablePartialResultThreshold=42]="SpeechServiceResponse_StablePartialResultThreshold",t[t.SpeechServiceResponse_OutputFormatOption=43]="SpeechServiceResponse_OutputFormatOption",t[t.SpeechServiceResponse_TranslationRequestStablePartialResult=44]="SpeechServiceResponse_TranslationRequestStablePartialResult",t[t.SpeechServiceResponse_RequestWordBoundary=45]="SpeechServiceResponse_RequestWordBoundary",t[t.SpeechServiceResponse_RequestPunctuationBoundary=46]="SpeechServiceResponse_RequestPunctuationBoundary",t[t.SpeechServiceResponse_RequestSentenceBoundary=47]="SpeechServiceResponse_RequestSentenceBoundary",t[t.SpeechServiceResponse_DiarizeIntermediateResults=48]="SpeechServiceResponse_DiarizeIntermediateResults",t[t.Conversation_ApplicationId=49]="Conversation_ApplicationId",t[t.Conversation_DialogType=50]="Conversation_DialogType",t[t.Conversation_Initial_Silence_Timeout=51]="Conversation_Initial_Silence_Timeout",t[t.Conversation_From_Id=52]="Conversation_From_Id",t[t.Conversation_Conversation_Id=53]="Conversation_Conversation_Id",t[t.Conversation_Custom_Voice_Deployment_Ids=54]="Conversation_Custom_Voice_Deployment_Ids",t[t.Conversation_Speech_Activity_Template=55]="Conversation_Speech_Activity_Template",t[t.Conversation_Request_Bot_Status_Messages=56]="Conversation_Request_Bot_Status_Messages",t[t.Conversation_Agent_Connection_Id=57]="Conversation_Agent_Connection_Id",t[t.SpeechServiceConnection_Host=58]="SpeechServiceConnection_Host",t[t.ConversationTranslator_Host=59]="ConversationTranslator_Host",t[t.ConversationTranslator_Name=60]="ConversationTranslator_Name",t[t.ConversationTranslator_CorrelationId=61]="ConversationTranslator_CorrelationId",t[t.ConversationTranslator_Token=62]="ConversationTranslator_Token",t[t.PronunciationAssessment_ReferenceText=63]="PronunciationAssessment_ReferenceText",t[t.PronunciationAssessment_GradingSystem=64]="PronunciationAssessment_GradingSystem",t[t.PronunciationAssessment_Granularity=65]="PronunciationAssessment_Granularity",t[t.PronunciationAssessment_EnableMiscue=66]="PronunciationAssessment_EnableMiscue",t[t.PronunciationAssessment_Json=67]="PronunciationAssessment_Json",t[t.PronunciationAssessment_Params=68]="PronunciationAssessment_Params",t[t.SpeakerRecognition_Api_Version=69]="SpeakerRecognition_Api_Version",t[t.WebWorkerLoadType=70]="WebWorkerLoadType",t[t.TalkingAvatarService_WebRTC_SDP=71]="TalkingAvatarService_WebRTC_SDP"}(e.PropertyId||(e.PropertyId={}))}(kg)),kg}var yl={},gE;function Iq(){if(gE)return yl;gE=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.Recognizer=void 0;const e=Ce(),t=je(),r=He(),i=se();let o=class p6{constructor(c,a,d){this.audioConfig=c!==void 0?c:i.AudioConfig.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=a.clone(),this.privConnectionFactory=d,this.implCommonRecognizerSetup()}close(c,a){r.Contracts.throwIfDisposed(this.privDisposed),t.marshalPromiseToCallbacks(this.dispose(!0),c,a)}get internalData(){return this.privReco}async dispose(c){this.privDisposed||(this.privDisposed=!0,c&&this.privReco&&(await this.privReco.audioSource.turnOff(),await this.privReco.dispose()))}static get telemetryEnabled(){return e.ServiceRecognizerBase.telemetryDataEnabled}static enableTelemetry(c){e.ServiceRecognizerBase.telemetryDataEnabled=c}implCommonRecognizerSetup(){let c=typeof window<"u"?"Browser":"Node",a="unknown",d="unknown";typeof navigator<"u"&&(c=c+"/"+navigator.platform,a=navigator.userAgent,d=navigator.appVersion);const h=this.createRecognizerConfig(new e.SpeechServiceConfig(new e.Context(new e.OS(c,a,d))));this.privReco=this.createServiceRecognizer(p6.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,h)}async recognizeOnceAsyncImpl(c){r.Contracts.throwIfDisposed(this.privDisposed);const a=new t.Deferred;await this.implRecognizerStop(),await this.privReco.recognize(c,a.resolve,a.reject);const d=await a.promise;return await this.implRecognizerStop(),d}async startContinuousRecognitionAsyncImpl(c){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop(),await this.privReco.recognize(c,void 0,void 0)}async stopContinuousRecognitionAsyncImpl(){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop()}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}static getAuthFromProperties(c){const a=c.getProperty(i.PropertyId.SpeechServiceConnection_Key,void 0);return a&&a!==""?new e.CognitiveSubscriptionKeyAuthentication(a):new e.CognitiveTokenAuthentication(()=>{const h=c.getProperty(i.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(h)},()=>{const h=c.getProperty(i.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(h)})}};return yl.Recognizer=o,yl}var Sl={},yE;function jq(){if(yE)return Sl;yE=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.SpeechRecognizer=void 0;const e=Ce(),t=je(),r=He(),i=se();let o=class f6 extends i.Recognizer{constructor(c,a){const d=c;r.Contracts.throwIfNull(d,"speechConfig"),r.Contracts.throwIfNullOrWhitespace(d.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,d.properties,new e.SpeechConnectionFactory),this.privDisposedRecognizer=!1}static FromConfig(c,a,d){const h=c;return a.properties.mergeTo(h.properties),new f6(c,d)}get endpointId(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){r.Contracts.throwIfNullOrWhitespace(c,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,c)}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(e.OutputFormatPropertyName,i.OutputFormat[i.OutputFormat.Simple])===i.OutputFormat[i.OutputFormat.Simple]?i.OutputFormat.Simple:i.OutputFormat.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(c,a){t.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(e.RecognitionMode.Interactive),c,a)}startContinuousRecognitionAsync(c,a){t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),c,a)}stopContinuousRecognitionAsync(c,a){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),c,a)}startKeywordRecognitionAsync(c,a,d){r.Contracts.throwIfNull(c,"model"),d&&d("Not yet implemented.")}stopKeywordRecognitionAsync(c){c&&c()}close(c,a){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),c,a)}async dispose(c){this.privDisposedRecognizer||(c&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(c))}createRecognizerConfig(c){return new e.RecognizerConfig(c,this.privProperties)}createServiceRecognizer(c,a,d,h){const p=d;return new e.SpeechServiceRecognizer(c,a,p,h,this)}};return Sl.SpeechRecognizer=o,Sl}var bl={},SE;function Oq(){if(SE)return bl;SE=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.IntentRecognizer=void 0;const e=Ce(),t=je(),r=He(),i=se();let o=class extends i.Recognizer{constructor(c,a){r.Contracts.throwIfNullOrUndefined(c,"speechConfig");const d=c;r.Contracts.throwIfNullOrUndefined(d,"speechConfig"),super(a,d.properties,new e.IntentConnectionFactory),this.privAddedIntents=[],this.privAddedLmIntents={},this.privDisposedIntentRecognizer=!1,this.privProperties=d.properties,r.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage])}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,c)}get properties(){return this.privProperties}recognizeOnceAsync(c,a){if(r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const d=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",d.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(d.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}t.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(e.RecognitionMode.Interactive),c,a)}startContinuousRecognitionAsync(c,a){if(Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const d=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",d.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(d.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),c,a)}stopContinuousRecognitionAsync(c,a){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),c,a)}startKeywordRecognitionAsync(c,a,d){r.Contracts.throwIfNull(c,"model"),d&&d("Not yet implemented.")}stopKeywordRecognitionAsync(c,a){if(c)try{c()}catch(d){a&&a(d)}}addIntent(c,a){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),r.Contracts.throwIfNullOrWhitespace(a,"intentId"),r.Contracts.throwIfNullOrWhitespace(c,"simplePhrase"),this.privAddedIntents.push([a,c])}addIntentWithLanguageModel(c,a,d){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),r.Contracts.throwIfNullOrWhitespace(c,"intentId"),r.Contracts.throwIfNull(a,"model");const h=a;r.Contracts.throwIfNullOrWhitespace(h.appId,"model.appId"),this.privAddedLmIntents[c]=new e.AddedLmIntent(h,d)}addAllIntents(c,a){r.Contracts.throwIfNull(c,"model");const d=c;r.Contracts.throwIfNullOrWhitespace(d.appId,"model.appId"),this.privUmbrellaIntent=new e.AddedLmIntent(d,a)}close(c,a){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),c,a)}createRecognizerConfig(c){return new e.RecognizerConfig(c,this.privProperties)}createServiceRecognizer(c,a,d,h){const p=d;return new e.IntentServiceRecognizer(c,a,p,h,this)}async dispose(c){this.privDisposedIntentRecognizer||c&&(this.privDisposedIntentRecognizer=!0,await super.dispose(c))}buildSpeechContext(){let c,a,d;const h=[];this.privUmbrellaIntent!==void 0&&(c=this.privUmbrellaIntent.modelImpl.appId,a=this.privUmbrellaIntent.modelImpl.region,d=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(const p of Object.keys(this.privAddedLmIntents)){const v=this.privAddedLmIntents[p];if(c===void 0)c=v.modelImpl.appId;else if(c!==v.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(a===void 0)a=v.modelImpl.region;else if(a!==v.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(d===void 0)d=v.modelImpl.subscriptionKey;else if(d!==v.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");const m="luis/"+c+"-PRODUCTION#"+p;h.push(m)}return{Intent:{id:c,key:d===void 0?this.privProperties.getProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_Key]):d,provider:"LUIS"},ReferenceGrammars:this.privUmbrellaIntent===void 0?h:["luis/"+c+"-PRODUCTION"]}}};return bl.IntentRecognizer=o,bl}var Mg={},bE;function Dq(){return bE||(bE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoiceProfileType=void 0,function(t){t[t.TextIndependentIdentification=0]="TextIndependentIdentification",t[t.TextDependentVerification=1]="TextDependentVerification",t[t.TextIndependentVerification=2]="TextIndependentVerification"}(e.VoiceProfileType||(e.VoiceProfileType={}))}(Mg)),Mg}var Cl={},xl={},js={},CE;function v6(){if(CE)return js;CE=1,Object.defineProperty(js,"__esModule",{value:!0}),js.ConnectionMessageImpl=js.ConnectionMessage=void 0;const e=xr(),t=je(),r=h6(),i=NS();let o=class{};js.ConnectionMessage=o;class l{constructor(a){this.privConnectionMessage=a,this.privProperties=new r.PropertyCollection,this.privConnectionMessage.headers[e.HeaderNames.ConnectionId]&&this.privProperties.setProperty(i.PropertyId.Speech_SessionId,this.privConnectionMessage.headers[e.HeaderNames.ConnectionId]),Object.keys(this.privConnectionMessage.headers).forEach(d=>{this.privProperties.setProperty(d,this.privConnectionMessage.headers[d])})}get path(){return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find(a=>a.toLowerCase()==="path".toLowerCase())]}get isTextMessage(){return this.privConnectionMessage.messageType===t.MessageType.Text}get isBinaryMessage(){return this.privConnectionMessage.messageType===t.MessageType.Binary}get TextMessage(){return this.privConnectionMessage.textBody}get binaryMessage(){return this.privConnectionMessage.binaryBody}get properties(){return this.privProperties}toString(){return""}}return js.ConnectionMessageImpl=l,js}var xE;function m6(){if(xE)return xl;xE=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.Connection=void 0;const e=Ce(),t=je(),r=v6(),i=He(),o=se();let l=class h0{static fromRecognizer(a){const d=a.internalData,h=new h0;return h.privInternalData=d,h.setupEvents(),h}static fromSynthesizer(a){const d=a.internalData,h=new h0;return h.privInternalData=d,h.setupEvents(),h}openConnection(a,d){t.marshalPromiseToCallbacks(this.privInternalData.connect(),a,d)}closeConnection(a,d){if(this.privInternalData instanceof e.SynthesisAdapterBase)throw new Error("Disconnecting a synthesizer's connection is currently not supported");t.marshalPromiseToCallbacks(this.privInternalData.disconnect(),a,d)}setMessageProperty(a,d,h){if(i.Contracts.throwIfNullOrWhitespace(d,"propertyName"),this.privInternalData instanceof e.ServiceRecognizerBase){if(a.toLowerCase()!=="speech.context")throw new Error("Only speech.context message property sets are currently supported for recognizer");this.privInternalData.speechContext.setSection(d,h)}else if(this.privInternalData instanceof e.SynthesisAdapterBase){if(a.toLowerCase()!=="synthesis.context")throw new Error("Only synthesis.context message property sets are currently supported for synthesizer");this.privInternalData.synthesisContext.setSection(d,h)}}sendMessageAsync(a,d,h,p){t.marshalPromiseToCallbacks(this.privInternalData.sendNetworkMessage(a,d),h,p)}close(){}setupEvents(){this.privEventListener=this.privInternalData.connectionEvents.attach(a=>{a.name==="ConnectionEstablishedEvent"?this.connected&&this.connected(new o.ConnectionEventArgs(a.connectionId)):a.name==="ConnectionClosedEvent"?this.disconnected&&this.disconnected(new o.ConnectionEventArgs(a.connectionId)):a.name==="ConnectionMessageSentEvent"?this.messageSent&&this.messageSent(new o.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(a.message))):a.name==="ConnectionMessageReceivedEvent"&&this.messageReceived&&this.messageReceived(new o.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(a.message)))}),this.privServiceEventListener=this.privInternalData.serviceEvents.attach(a=>{this.receivedServiceMessage&&this.receivedServiceMessage(new o.ServiceEventArgs(a.jsonString,a.name))})}};return xl.Connection=l,xl}var RE;function zq(){if(RE)return Cl;RE=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.TranslationRecognizer=void 0;const e=Ce(),t=je(),r=m6(),i=He(),o=se();let l=class g6 extends o.Recognizer{constructor(a,d,h){const p=a;i.Contracts.throwIfNull(p,"speechConfig"),super(d,p.properties,h||new e.TranslationConnectionFactory),this.privDisposedTranslationRecognizer=!1,this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)!==void 0&&i.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice),o.PropertyId[o.PropertyId.SpeechServiceConnection_TranslationVoice]),i.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages),o.PropertyId[o.PropertyId.SpeechServiceConnection_TranslationToLanguages]),i.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage),o.PropertyId[o.PropertyId.SpeechServiceConnection_RecoLanguage])}static FromConfig(a,d,h){const p=a;return d.properties.mergeTo(p.properties),new g6(a,h)}get speechRecognitionLanguage(){return i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage)}get targetLanguages(){return i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")}get voiceName(){return i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(o.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){this.properties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,a)}recognizeOnceAsync(a,d){i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),t.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(e.RecognitionMode.Interactive),a,d)}startContinuousRecognitionAsync(a,d){t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),a,d)}stopContinuousRecognitionAsync(a,d){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),a,d)}removeTargetLanguage(a){if(i.Contracts.throwIfNullOrUndefined(a,"language to be removed"),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0){const d=this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),h=d.indexOf(a);h>-1&&(d.splice(h,1),this.properties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,d.join(",")),this.updateLanguages(d))}}addTargetLanguage(a){i.Contracts.throwIfNullOrUndefined(a,"language to be added");let d=[];this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?(d=this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),d.includes(a)||(d.push(a),this.properties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,d.join(",")))):(this.properties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,a),d=[a]),this.updateLanguages(d)}close(a,d){i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),a,d)}onConnection(){}async dispose(a){this.privDisposedTranslationRecognizer||(this.privDisposedTranslationRecognizer=!0,a&&(await this.implRecognizerStop(),await super.dispose(a)))}createRecognizerConfig(a){return new e.RecognizerConfig(a,this.privProperties)}createServiceRecognizer(a,d,h,p){const v=h;return new e.TranslationServiceRecognizer(a,d,v,p,this)}updateLanguages(a){const d=r.Connection.fromRecognizer(this);d&&(d.setMessageProperty("speech.context","translationcontext",{to:a}),d.sendMessageAsync("event",JSON.stringify({id:"translation",name:"updateLanguage",to:a})))}};return Cl.TranslationRecognizer=l,Cl}var Rl={},wE;function Lq(){if(wE)return Rl;wE=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.Translations=void 0;const e=se();let t=class{constructor(){this.privMap=new e.PropertyCollection}get languages(){return this.privMap.keys}get(i,o){return this.privMap.getProperty(i,o)}set(i,o){this.privMap.setProperty(i,o)}};return Rl.Translations=t,Rl}var Ng={},EE;function qq(){return EE||(EE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NoMatchReason=void 0,function(t){t[t.NotRecognized=0]="NotRecognized",t[t.InitialSilenceTimeout=1]="InitialSilenceTimeout",t[t.InitialBabbleTimeout=2]="InitialBabbleTimeout"}(e.NoMatchReason||(e.NoMatchReason={}))}(Ng)),Ng}var wl={},TE;function Bq(){if(TE)return wl;TE=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.NoMatchDetails=void 0;const e=Ce(),t=se();let r=class y6{constructor(o){this.privReason=o}static fromResult(o){const l=e.SimpleSpeechPhrase.fromJSON(o.json,0);let c=t.NoMatchReason.NotRecognized;switch(l.RecognitionStatus){case e.RecognitionStatus.BabbleTimeout:c=t.NoMatchReason.InitialBabbleTimeout;break;case e.RecognitionStatus.InitialSilenceTimeout:c=t.NoMatchReason.InitialSilenceTimeout;break;default:c=t.NoMatchReason.NotRecognized;break}return new y6(c)}get reason(){return this.privReason}};return wl.NoMatchDetails=r,wl}var El={},PE;function Uq(){if(PE)return El;PE=1,Object.defineProperty(El,"__esModule",{value:!0}),El.TranslationRecognitionCanceledEventArgs=void 0;let e=class{constructor(r,i,o,l,c){this.privCancelReason=i,this.privErrorDetails=o,this.privResult=c,this.privSessionId=r,this.privErrorCode=l}get result(){return this.privResult}get sessionId(){return this.privSessionId}get reason(){return this.privCancelReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return El.TranslationRecognitionCanceledEventArgs=e,El}var Tl={},AE;function Vq(){if(AE)return Tl;AE=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.IntentRecognitionCanceledEventArgs=void 0;const e=se();let t=class extends e.IntentRecognitionEventArgs{constructor(i,o,l,c,a,d){super(c,a,d),this.privReason=i,this.privErrorDetails=o,this.privErrorCode=l}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return Tl.IntentRecognitionCanceledEventArgs=t,Tl}var Pl={},_E;function S6(){if(_E)return Pl;_E=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.CancellationDetailsBase=void 0;let e=class{constructor(r,i,o){this.privReason=r,this.privErrorDetails=i,this.privErrorCode=o}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get ErrorCode(){return this.privErrorCode}};return Pl.CancellationDetailsBase=e,Pl}var Al={},kE;function Fq(){if(kE)return Al;kE=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.CancellationDetails=void 0;const e=Ce(),t=S6(),r=se();let i=class b6 extends t.CancellationDetailsBase{constructor(l,c,a){super(l,c,a)}static fromResult(l){let c=r.CancellationReason.Error,a=r.CancellationErrorCode.NoError;if(l instanceof r.RecognitionResult&&l.json){const d=e.SimpleSpeechPhrase.fromJSON(l.json,0);c=e.EnumTranslation.implTranslateCancelResult(d.RecognitionStatus)}return l.properties&&(a=r.CancellationErrorCode[l.properties.getProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new b6(c,l.errorDetails||e.EnumTranslation.implTranslateErrorDetails(a),a)}};return Al.CancellationDetails=i,Al}var Ig={},ME;function Hq(){return ME||(ME=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationErrorCode=void 0,function(t){t[t.NoError=0]="NoError",t[t.AuthenticationFailure=1]="AuthenticationFailure",t[t.BadRequestParameters=2]="BadRequestParameters",t[t.TooManyRequests=3]="TooManyRequests",t[t.ConnectionFailure=4]="ConnectionFailure",t[t.ServiceTimeout=5]="ServiceTimeout",t[t.ServiceError=6]="ServiceError",t[t.RuntimeError=7]="RuntimeError",t[t.Forbidden=8]="Forbidden"}(e.CancellationErrorCode||(e.CancellationErrorCode={}))}(Ig)),Ig}var _l={},NE;function $q(){if(NE)return _l;NE=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.ConnectionEventArgs=void 0;const e=se();let t=class extends e.SessionEventArgs{};return _l.ConnectionEventArgs=t,_l}var kl={},IE;function Kq(){if(IE)return kl;IE=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.ServiceEventArgs=void 0;const e=se();let t=class extends e.SessionEventArgs{constructor(i,o,l){super(l),this.privJsonResult=i,this.privEventName=o}get jsonString(){return this.privJsonResult}get eventName(){return this.privEventName}};return kl.ServiceEventArgs=t,kl}var Ml={},jE;function Wq(){if(jE)return Ml;jE=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.PhraseListGrammar=void 0;let e=class C6{constructor(r){this.privGrammerBuilder=r.dynamicGrammar}static fromRecognizer(r){const i=r.internalData;return new C6(i)}addPhrase(r){this.privGrammerBuilder.addPhrase(r)}addPhrases(r){this.privGrammerBuilder.addPhrase(r)}clear(){this.privGrammerBuilder.clearPhrases()}};return Ml.PhraseListGrammar=e,Ml}var Os={},OE;function IS(){if(OE)return Os;OE=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.DialogServiceConfigImpl=Os.DialogServiceConfig=void 0;const e=He(),t=se();let r=class{constructor(){}set applicationId(l){}static get DialogTypes(){return{BotFramework:"bot_framework",CustomCommands:"custom_commands"}}};Os.DialogServiceConfig=r;class i extends r{constructor(){super(),this.privSpeechConfig=new t.SpeechConfigImpl}get properties(){return this.privSpeechConfig.properties}get speechRecognitionLanguage(){return this.privSpeechConfig.speechRecognitionLanguage}set speechRecognitionLanguage(l){e.Contracts.throwIfNullOrWhitespace(l,"value"),this.privSpeechConfig.speechRecognitionLanguage=l}get outputFormat(){return this.privSpeechConfig.outputFormat}set outputFormat(l){this.privSpeechConfig.outputFormat=l}setProperty(l,c){this.privSpeechConfig.setProperty(l,c)}getProperty(l,c){return this.privSpeechConfig.getProperty(l)}setProxy(l,c,a,d){this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyHostName,l),this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyPort,`${c}`),a&&this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyUserName,a),d&&this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyPassword,d)}setServiceProperty(l,c,a){this.privSpeechConfig.setServiceProperty(l,c)}close(){}}return Os.DialogServiceConfigImpl=i,Os}var Nl={},DE;function Gq(){if(DE)return Nl;DE=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.BotFrameworkConfig=void 0;const e=He(),t=IS(),r=se();let i=class extends t.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(l,c,a){e.Contracts.throwIfNullOrWhitespace(l,"subscription"),e.Contracts.throwIfNullOrWhitespace(c,"region");const d=new t.DialogServiceConfigImpl;return d.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),d.setProperty(r.PropertyId.SpeechServiceConnection_Key,l),d.setProperty(r.PropertyId.SpeechServiceConnection_Region,c),a&&d.setProperty(r.PropertyId.Conversation_ApplicationId,a),d}static fromAuthorizationToken(l,c,a){e.Contracts.throwIfNullOrWhitespace(l,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(c,"region");const d=new t.DialogServiceConfigImpl;return d.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),d.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,l),d.setProperty(r.PropertyId.SpeechServiceConnection_Region,c),a&&d.setProperty(r.PropertyId.Conversation_ApplicationId,a),d}static fromHost(l,c,a){e.Contracts.throwIfNullOrUndefined(l,"host");const d=l instanceof URL?l:new URL(`wss://${l}.convai.speech.azure.us`);e.Contracts.throwIfNullOrUndefined(d,"resolvedHost");const h=new t.DialogServiceConfigImpl;return h.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),h.setProperty(r.PropertyId.SpeechServiceConnection_Host,d.toString()),c!==void 0&&h.setProperty(r.PropertyId.SpeechServiceConnection_Key,c),h}static fromEndpoint(l,c){e.Contracts.throwIfNull(l,"endpoint");const a=new t.DialogServiceConfigImpl;return a.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),a.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,l.toString()),c!==void 0&&a.setProperty(r.PropertyId.SpeechServiceConnection_Key,c),a}};return Nl.BotFrameworkConfig=i,Nl}var Il={},zE;function Jq(){if(zE)return Il;zE=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.CustomCommandsConfig=void 0;const e=He(),t=IS(),r=se();let i=class extends t.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(l,c,a){e.Contracts.throwIfNullOrWhitespace(l,"applicationId"),e.Contracts.throwIfNullOrWhitespace(c,"subscription"),e.Contracts.throwIfNullOrWhitespace(a,"region");const d=new t.DialogServiceConfigImpl;return d.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.CustomCommands),d.setProperty(r.PropertyId.Conversation_ApplicationId,l),d.setProperty(r.PropertyId.SpeechServiceConnection_Key,c),d.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d}static fromAuthorizationToken(l,c,a){e.Contracts.throwIfNullOrWhitespace(l,"applicationId"),e.Contracts.throwIfNullOrWhitespace(c,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(a,"region");const d=new t.DialogServiceConfigImpl;return d.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.CustomCommands),d.setProperty(r.PropertyId.Conversation_ApplicationId,l),d.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,c),d.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d}set applicationId(l){e.Contracts.throwIfNullOrWhitespace(l,"value"),this.setProperty(r.PropertyId.Conversation_ApplicationId,l)}get applicationId(){return this.getProperty(r.PropertyId.Conversation_ApplicationId)}};return Il.CustomCommandsConfig=i,Il}var jl={},Ol={},Dl={},zl={},LE;function rs(){if(LE)return zl;LE=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.QueryParameterNames=void 0;let e=class{};return zl.QueryParameterNames=e,e.BotId="botid",e.CustomSpeechDeploymentId="cid",e.CustomVoiceDeploymentId="deploymentId",e.EnableAudioLogging="storeAudio",e.EnableLanguageId="lidEnabled",e.EnableWordLevelTimestamps="wordLevelTimestamps",e.EndSilenceTimeoutMs="endSilenceTimeoutMs",e.SegmentationSilenceTimeoutMs="segmentationSilenceTimeoutMs",e.SegmentationMaximumTimeMs="segmentationMaximumTimeMs",e.SegmentationStrategy="segmentationStrategy",e.Format="format",e.InitialSilenceTimeoutMs="initialSilenceTimeoutMs",e.Language="language",e.Profanity="profanity",e.RequestBotStatusMessages="enableBotMessageStatus",e.StableIntermediateThreshold="stableIntermediateThreshold",e.StableTranslation="stableTranslation",e.TestHooks="testhooks",e.Postprocessing="postprocessing",e.CtsMeetingId="meetingId",e.CtsDeviceId="deviceId",e.CtsIsParticipant="isParticipant",e.EnableAvatar="enableTalkingAvatar",zl}var qE;function An(){if(qE)return Dl;qE=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.ConnectionFactoryBase=void 0;const e=Ce(),t=se(),r=rs();let i=class{static getHostSuffix(l){if(l){if(l.toLowerCase().startsWith("china"))return".azure.cn";if(l.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}setCommonUrlParams(l,c,a){new Map([[t.PropertyId.Speech_SegmentationSilenceTimeoutMs,r.QueryParameterNames.SegmentationSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_EnableAudioLogging,r.QueryParameterNames.EnableAudioLogging],[t.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,r.QueryParameterNames.EndSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,r.QueryParameterNames.InitialSilenceTimeoutMs],[t.PropertyId.SpeechServiceResponse_PostProcessingOption,r.QueryParameterNames.Postprocessing],[t.PropertyId.SpeechServiceResponse_ProfanityOption,r.QueryParameterNames.Profanity],[t.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,r.QueryParameterNames.EnableWordLevelTimestamps],[t.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,r.QueryParameterNames.StableIntermediateThreshold]]).forEach((p,v)=>{this.setUrlParameter(v,p,l,c,a)});const h=JSON.parse(l.parameters.getProperty(e.ServicePropertiesPropertyName,"{}"));Object.keys(h).forEach(p=>{c[p]=h[p]})}setUrlParameter(l,c,a,d,h){const p=a.parameters.getProperty(l,void 0);p&&(!h||h.search(c)===-1)&&(d[c]=p.toLocaleLowerCase())}};return Dl.ConnectionFactoryBase=i,Dl}var BE;function Yq(){if(BE)return Ol;BE=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.DialogConnectionFactory=void 0;const e=Zt(),t=Ce(),r=se(),i=An(),o=Ce(),l=xr(),c=rs();class a extends i.ConnectionFactoryBase{create(h,p,v){const m=h.parameters.getProperty(r.PropertyId.Conversation_ApplicationId,""),S=h.parameters.getProperty(r.PropertyId.Conversation_DialogType),C=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),x=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),R=h.parameters.getProperty(r.PropertyId.Conversation_Request_Bot_Status_Messages,"true"),w={};w[l.HeaderNames.ConnectionId]=v,w[c.QueryParameterNames.Format]=h.parameters.getProperty(t.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase(),w[c.QueryParameterNames.Language]=x,w[c.QueryParameterNames.RequestBotStatusMessages]=R,m&&(w[c.QueryParameterNames.BotId]=m,S===r.DialogServiceConfig.DialogTypes.CustomCommands&&(w[l.HeaderNames.CustomCommandsAppId]=m));const T=S===r.DialogServiceConfig.DialogTypes.CustomCommands?"commands/":"",P=S===r.DialogServiceConfig.DialogTypes.CustomCommands?"v1":S===r.DialogServiceConfig.DialogTypes.BotFramework?"v3":"v0",I={};p.token!=null&&p.token!==""&&(I[p.headerName]=p.token);let k=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,"");if(!k){const H=i.ConnectionFactoryBase.getHostSuffix(C),q=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,`wss://${C}.${a.BaseUrl}${H}`);k=`${q.endsWith("/")?q:q+"/"}${T}${a.ApiKey}/${P}`}this.setCommonUrlParams(h,w,k);const U=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(k,w,I,new o.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),U,v)}}return Ol.DialogConnectionFactory=a,a.ApiKey="api",a.BaseUrl="convai.speech",Ol}var UE;function Qq(){if(UE)return jl;UE=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.DialogServiceConnector=void 0;const e=Yq(),t=Ce(),r=je(),i=He(),o=se(),l=NS();let c=class extends o.Recognizer{constructor(d,h){const p=d;i.Contracts.throwIfNull(d,"dialogConfig"),super(h,p.properties,new e.DialogConnectionFactory),this.isTurnComplete=!0,this.privIsDisposed=!1,this.privProperties=p.properties.clone();const v=this.buildAgentConfig();this.privReco.agentConfig.set(v)}connect(d,h){r.marshalPromiseToCallbacks(this.privReco.connect(),d,h)}disconnect(d,h){r.marshalPromiseToCallbacks(this.privReco.disconnect(),d,h)}get authorizationToken(){return this.properties.getProperty(l.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(d){i.Contracts.throwIfNullOrWhitespace(d,"token"),this.properties.setProperty(l.PropertyId.SpeechServiceAuthorization_Token,d)}get properties(){return this.privProperties}get speechActivityTemplate(){return this.properties.getProperty(l.PropertyId.Conversation_Speech_Activity_Template)}set speechActivityTemplate(d){this.properties.setProperty(l.PropertyId.Conversation_Speech_Activity_Template,d)}listenOnceAsync(d,h){if(this.isTurnComplete){i.Contracts.throwIfDisposed(this.privIsDisposed);const v=(async()=>{await this.privReco.connect(),await this.implRecognizerStop(),this.isTurnComplete=!1;const m=new r.Deferred;await this.privReco.recognize(t.RecognitionMode.Conversation,m.resolve,m.reject);const S=await m.promise;return await this.implRecognizerStop(),S})();v.catch(()=>{this.dispose(!0).catch(()=>{})}),r.marshalPromiseToCallbacks(v.finally(()=>{this.isTurnComplete=!0}),d,h)}}sendActivityAsync(d,h,p){r.marshalPromiseToCallbacks(this.privReco.sendMessage(d),h,p)}close(d,h){i.Contracts.throwIfDisposed(this.privIsDisposed),r.marshalPromiseToCallbacks(this.dispose(!0),d,h)}async dispose(d){this.privIsDisposed||d&&(this.privIsDisposed=!0,await this.implRecognizerStop(),await super.dispose(d))}createRecognizerConfig(d){return new t.RecognizerConfig(d,this.privProperties)}createServiceRecognizer(d,h,p,v){const m=p;return new t.DialogServiceAdapter(d,h,m,v,this)}buildAgentConfig(){return{botInfo:{commType:this.properties.getProperty("Conversation_Communication_Type","Default"),commandsCulture:void 0,connectionId:this.properties.getProperty(l.PropertyId.Conversation_Agent_Connection_Id),conversationId:this.properties.getProperty(l.PropertyId.Conversation_Conversation_Id,void 0),fromId:this.properties.getProperty(l.PropertyId.Conversation_From_Id,void 0),ttsAudioFormat:this.properties.getProperty(l.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)},version:.2}}};return jl.DialogServiceConnector=c,jl}var Ll={},VE;function Xq(){if(VE)return Ll;VE=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.ActivityReceivedEventArgs=void 0;let e=class{constructor(r,i){this.privActivity=r,this.privAudioStream=i}get activity(){return this.privActivity}get audioStream(){return this.privAudioStream}};return Ll.ActivityReceivedEventArgs=e,Ll}var ql={},Bl={},FE;function Zq(){if(FE)return Bl;FE=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.TurnStatusResponsePayload=void 0;class e{constructor(r){this.privMessageStatusResponse=JSON.parse(r)}static fromJSON(r){return new e(r)}get interactionId(){return this.privMessageStatusResponse.interactionId}get conversationId(){return this.privMessageStatusResponse.conversationId}get statusCode(){switch(this.privMessageStatusResponse.statusCode){case"Success":return 200;case"Failed":return 400;case"TimedOut":return 429;default:return this.privMessageStatusResponse.statusCode}}}return Bl.TurnStatusResponsePayload=e,Bl}var HE;function eB(){if(HE)return ql;HE=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.TurnStatusReceivedEventArgs=void 0;const e=Zq();let t=class{constructor(i){this.privTurnStatus=e.TurnStatusResponsePayload.fromJSON(i)}get interactionId(){return this.privTurnStatus.interactionId}get conversationId(){return this.privTurnStatus.conversationId}get statusCode(){return this.privTurnStatus.statusCode}};return ql.TurnStatusReceivedEventArgs=t,ql}var jg={},$E;function tB(){return $E||($E=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServicePropertyChannel=void 0,function(t){t[t.UriQueryParameter=0]="UriQueryParameter"}(e.ServicePropertyChannel||(e.ServicePropertyChannel={}))}(jg)),jg}var Og={},KE;function rB(){return KE||(KE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProfanityOption=void 0,function(t){t[t.Masked=0]="Masked",t[t.Removed=1]="Removed",t[t.Raw=2]="Raw"}(e.ProfanityOption||(e.ProfanityOption={}))}(Og)),Og}var Ul={},WE;function nB(){if(WE)return Ul;WE=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.BaseAudioPlayer=void 0;const e=Un(),t=se(),r=po();let i=class{constructor(l){this.audioContext=null,this.gainNode=null,this.autoUpdateBufferTimer=0,l===void 0&&(l=t.AudioStreamFormat.getDefaultInputFormat()),this.init(l)}playAudioSample(l,c,a){try{this.ensureInitializedContext();const d=this.formatAudioData(l),h=new Float32Array(this.samples.length+d.length);h.set(this.samples,0),h.set(d,this.samples.length),this.samples=h,c&&c()}catch(d){a&&a(d)}}stopAudio(l,c){this.audioContext!==null&&(this.samples=new Float32Array,clearInterval(this.autoUpdateBufferTimer),this.audioContext.close().then(()=>{l&&l()},a=>{c&&c(a)}),this.audioContext=null)}init(l){this.audioFormat=l,this.samples=new Float32Array}ensureInitializedContext(){if(this.audioContext===null){this.createAudioContext();const l=200;this.autoUpdateBufferTimer=setInterval(()=>{this.updateAudioBuffer()},l)}}createAudioContext(){this.audioContext=r.AudioStreamFormatImpl.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.startTime=this.audioContext.currentTime}formatAudioData(l){switch(this.audioFormat.bitsPerSample){case 8:return this.formatArrayBuffer(new Int8Array(l),128);case 16:return this.formatArrayBuffer(new Int16Array(l),32768);case 32:return this.formatArrayBuffer(new Int32Array(l),2147483648);default:throw new e.InvalidOperationError("Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time")}}formatArrayBuffer(l,c){const a=new Float32Array(l.length);for(let d=0;d<l.length;d++)a[d]=l[d]/c;return a}updateAudioBuffer(){if(this.samples.length===0)return;const l=this.audioFormat.channels,c=this.audioContext.createBufferSource(),a=this.samples.length/l,d=this.audioContext.createBuffer(l,a,this.audioFormat.samplesPerSec);for(let h=0;h<l;h++){let p=h;const v=d.getChannelData(h);for(let m=0;m<this.samples.length;m++,p+=l)v[m]=this.samples[p]}this.startTime<this.audioContext.currentTime&&(this.startTime=this.audioContext.currentTime),c.buffer=d,c.connect(this.gainNode),c.start(this.startTime),this.startTime+=d.duration,this.samples=new Float32Array}async playAudio(l){this.audioContext===null&&this.createAudioContext();const c=this.audioContext.createBufferSource(),a=this.audioContext.destination;await this.audioContext.decodeAudioData(l,d=>{c.buffer=d,c.connect(a),c.start(0)})}};return Ul.BaseAudioPlayer=i,Ul}var Vl={},GE;function iB(){if(GE)return Vl;GE=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.ConnectionMessageEventArgs=void 0;let e=class{constructor(r){this.privConnectionMessage=r}get message(){return this.privConnectionMessage}toString(){return"Message: "+this.privConnectionMessage.toString()}};return Vl.ConnectionMessageEventArgs=e,Vl}var Fl={},JE;function sB(){if(JE)return Fl;JE=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.VoiceProfile=void 0;let e=class{constructor(r,i){this.privId=r,this.privProfileType=i}get profileId(){return this.privId}get profileType(){return this.privProfileType}};return Fl.VoiceProfile=e,Fl}var Ds={},YE;function oB(){if(YE)return Ds;YE=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.VoiceProfileEnrollmentCancellationDetails=Ds.VoiceProfileEnrollmentResult=void 0;const e=Ce(),t=se();let r=class p0{constructor(l,c,a){this.privReason=l,this.privProperties=new t.PropertyCollection,this.privReason!==t.ResultReason.Canceled?c&&(this.privDetails=JSON.parse(c),this.privDetails.enrollmentStatus.toLowerCase()==="enrolling"&&(this.privReason=t.ResultReason.EnrollingVoiceProfile)):(this.privErrorDetails=a,this.privProperties.setProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[t.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get enrollmentsCount(){return this.privDetails.enrollmentsCount}get enrollmentsLength(){return this.privDetails.enrollmentsLength}get properties(){return this.privProperties}get enrollmentResultDetails(){return this.privDetails}get errorDetails(){return this.privErrorDetails}static FromIdentificationProfileList(l){const c=[];for(const a of l.value){const d=a.enrollmentStatus.toLowerCase()==="enrolling"?t.ResultReason.EnrollingVoiceProfile:a.enrollmentStatus.toLowerCase()==="enrolled"?t.ResultReason.EnrolledVoiceProfile:t.ResultReason.Canceled,h=new p0(d,null,null);h.privDetails=this.getIdentificationDetails(a),c.push(h)}return c}static FromVerificationProfileList(l){const c=[];for(const a of l.value){const d=a.enrollmentStatus.toLowerCase()==="enrolling"?t.ResultReason.EnrollingVoiceProfile:a.enrollmentStatus.toLowerCase()==="enrolled"?t.ResultReason.EnrolledVoiceProfile:t.ResultReason.Canceled,h=new p0(d,null,null);h.privDetails=this.getVerificationDetails(a),c.push(h)}return c}static getIdentificationDetails(l){return{audioLength:l.audioLength?parseFloat(l.audioLength):0,audioSpeechLength:l.audioSpeechLength?parseFloat(l.audioSpeechLength):0,enrollmentStatus:l.enrollmentStatus,enrollmentsCount:l.enrollmentsCount||0,enrollmentsLength:l.enrollmentsLength?parseFloat(l.enrollmentsLength):0,enrollmentsSpeechLength:l.enrollmentsSpeechLength?parseFloat(l.enrollmentsSpeechLength):0,profileId:l.profileId||l.identificationProfileId,remainingEnrollmentsSpeechLength:l.remainingEnrollmentsSpeechLength?parseFloat(l.remainingEnrollmentsSpeechLength):0}}static getVerificationDetails(l){return{audioLength:l.audioLength?parseFloat(l.audioLength):0,audioSpeechLength:l.audioSpeechLength?parseFloat(l.audioSpeechLength):0,enrollmentStatus:l.enrollmentStatus,enrollmentsCount:l.enrollmentsCount,enrollmentsLength:l.enrollmentsLength?parseFloat(l.enrollmentsLength):0,enrollmentsSpeechLength:l.enrollmentsSpeechLength?parseFloat(l.enrollmentsSpeechLength):0,profileId:l.profileId||l.verificationProfileId,remainingEnrollmentsCount:l.remainingEnrollments||l.remainingEnrollmentsCount,remainingEnrollmentsSpeechLength:l.remainingEnrollmentsSpeechLength?parseFloat(l.remainingEnrollmentsSpeechLength):0}}};Ds.VoiceProfileEnrollmentResult=r;class i extends t.CancellationDetailsBase{constructor(l,c,a){super(l,c,a)}static fromResult(l){const c=t.CancellationReason.Error;let a=t.CancellationErrorCode.NoError;return l.properties&&(a=t.CancellationErrorCode[l.properties.getProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[t.CancellationErrorCode.NoError])]),new i(c,l.errorDetails,a)}}return Ds.VoiceProfileEnrollmentCancellationDetails=i,Ds}var zs={},QE;function aB(){if(QE)return zs;QE=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.VoiceProfileCancellationDetails=zs.VoiceProfileResult=void 0;const e=Ce(),t=He(),r=se();let i=class{constructor(c,a){this.privReason=c,this.privProperties=new r.PropertyCollection,c===r.ResultReason.Canceled&&(t.Contracts.throwIfNullOrUndefined(a,"statusText"),this.privErrorDetails=a,this.privProperties.setProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get properties(){return this.privProperties}get errorDetails(){return this.privErrorDetails}};zs.VoiceProfileResult=i;class o extends r.CancellationDetailsBase{constructor(c,a,d){super(c,a,d)}static fromResult(c){const a=r.CancellationReason.Error;let d=r.CancellationErrorCode.NoError;return c.properties&&(d=r.CancellationErrorCode[c.properties.getProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new o(a,c.errorDetails,d)}}return zs.VoiceProfileCancellationDetails=o,zs}var Hl={},XE;function cB(){if(XE)return Hl;XE=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.VoiceProfilePhraseResult=void 0;const e=He(),t=se();let r=class extends t.VoiceProfileResult{constructor(o,l,c,a){super(o,l),this.privPhrases=[],e.Contracts.throwIfNullOrUndefined(a,"phrase array"),this.privType=c,a&&a[0]&&(this.privPhrases=a)}get phrases(){return this.privPhrases}get type(){return this.privType}};return Hl.VoiceProfilePhraseResult=r,Hl}var $l={},ZE;function lB(){if(ZE)return $l;ZE=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.VoiceProfileClient=void 0;const e=Ce(),t=c6(),r=He(),i=se();let o=class extends i.Recognizer{constructor(c){r.Contracts.throwIfNullOrUndefined(c,"speechConfig");const a=c;r.Contracts.throwIfNull(a,"speechConfig"),super(t.AudioConfig.fromStreamInput(i.AudioInputStream.createPushStream()),a.properties,new e.VoiceProfileConnectionFactory),this.privProperties=a.properties.clone(),this.privVoiceAdapter=this.privReco,this.privDisposedVoiceAdapter=!1}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){r.Contracts.throwIfNullOrWhitespace(c,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,c)}async createProfileAsync(c,a){const d=await this.privVoiceAdapter.createProfile(c,a);return new i.VoiceProfile(d[0],c)}async retrieveEnrollmentResultAsync(c){return this.privVoiceAdapter.retrieveEnrollmentResult(c)}async getAllProfilesAsync(c){return this.privVoiceAdapter.getAllProfiles(c)}async getActivationPhrasesAsync(c,a){return this.privVoiceAdapter.getActivationPhrases(c,a)}async enrollProfileAsync(c,a){const d=a;return r.Contracts.throwIfNullOrUndefined(d,"audioConfig"),this.audioConfig=a,this.privVoiceAdapter.SpeakerAudioSource=d,this.privVoiceAdapter.enrollProfile(c)}async deleteProfileAsync(c){return this.privVoiceAdapter.deleteProfile(c)}async resetProfileAsync(c){return this.privVoiceAdapter.resetProfile(c)}async close(){await this.dispose(!0)}createServiceRecognizer(c,a,d,h){const p=d;return new e.VoiceServiceRecognizer(c,a,p,h,this)}async dispose(c){this.privDisposedVoiceAdapter||(this.privDisposedVoiceAdapter=!0,c&&await super.dispose(c))}createRecognizerConfig(c){return new e.RecognizerConfig(c,this.properties)}getResult(c,a){return new i.VoiceProfileResult(c.ok?a:i.ResultReason.Canceled,c.statusText)}};return $l.VoiceProfileClient=o,$l}var Kl={},eT;function uB(){if(eT)return Kl;eT=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.SpeakerRecognizer=void 0;const e=Ce(),t=He(),r=se();let i=class extends r.Recognizer{constructor(l,c){t.Contracts.throwIfNullOrUndefined(l,"speechConfig");const a=l;t.Contracts.throwIfNullOrUndefined(a,"speechConfig"),super(c,a.properties,new e.SpeakerRecognitionConnectionFactory),this.privAudioConfigImpl=c,t.Contracts.throwIfNull(this.privAudioConfigImpl,"audioConfig"),this.privDisposedSpeakerRecognizer=!1,this.privProperties=a.properties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(l){t.Contracts.throwIfNullOrWhitespace(l,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,l)}get properties(){return this.privProperties}async recognizeOnceAsync(l){return t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),this.recognizeSpeakerOnceAsyncImpl(l)}async close(){t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.dispose(!0)}async recognizeSpeakerOnceAsyncImpl(l){t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.implRecognizerStop();const c=await this.privReco.recognizeSpeaker(l);return await this.implRecognizerStop(),c}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}createRecognizerConfig(l){return new e.RecognizerConfig(l,this.privProperties)}createServiceRecognizer(l,c,a,d){const h=a;return new e.SpeakerServiceRecognizer(l,c,h,d,this)}async dispose(l){this.privDisposedSpeakerRecognizer||l&&(this.privDisposedSpeakerRecognizer=!0,await super.dispose(l))}};return Kl.SpeakerRecognizer=i,Kl}var Wl={},tT;function dB(){if(tT)return Wl;tT=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.SpeakerIdentificationModel=void 0;const e=He(),t=se();let r=class x6{constructor(o){if(this.privVoiceProfiles=[],this.privProfileIds=[],e.Contracts.throwIfNullOrUndefined(o,"VoiceProfiles"),o.length===0)throw new Error("Empty Voice Profiles array");for(const l of o){if(l.profileType!==t.VoiceProfileType.TextIndependentIdentification)throw new Error("Identification model can only be created from Identification profile: "+l.profileId);this.privVoiceProfiles.push(l),this.privProfileIds.push(l.profileId)}}static fromProfiles(o){return new x6(o)}get voiceProfileIds(){return this.privProfileIds.join(",")}get profileIds(){return this.privProfileIds}get scenario(){return"TextIndependentIdentification"}};return Wl.SpeakerIdentificationModel=r,Wl}var Gl={},rT;function hB(){if(rT)return Gl;rT=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.SpeakerVerificationModel=void 0;const e=He(),t=se();let r=class R6{constructor(o){if(e.Contracts.throwIfNullOrUndefined(o,"VoiceProfile"),o.profileType===t.VoiceProfileType.TextIndependentIdentification)throw new Error("Verification model cannot be created from Identification profile");this.privVoiceProfile=o}static fromProfile(o){return new R6(o)}get voiceProfile(){return this.privVoiceProfile}get profileIds(){return[this.voiceProfile.profileId]}get scenario(){return this.voiceProfile.profileType===t.VoiceProfileType.TextDependentVerification?"TextDependentVerification":"TextIndependentVerification"}};return Gl.SpeakerVerificationModel=r,Gl}var Jl={},Dg={},nT;function w6(){return nT||(nT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageIdMode=void 0,function(t){t[t.AtStart=0]="AtStart",t[t.Continuous=1]="Continuous"}(e.LanguageIdMode||(e.LanguageIdMode={}))}(Dg)),Dg}var iT;function pB(){if(iT)return Jl;iT=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.AutoDetectSourceLanguageConfig=void 0;const e=Ce(),t=He(),r=se(),i=w6();let o=class Op{constructor(){this.privProperties=new r.PropertyCollection,this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart"),this.privLanguageIdMode=i.LanguageIdMode.AtStart}static fromOpenRange(){const c=new Op;return c.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,e.AutoDetectSourceLanguagesOpenRangeOptionName),c}static fromLanguages(c){t.Contracts.throwIfArrayEmptyOrWhitespace(c,"languages");const a=new Op;return a.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,c.join()),a}static fromSourceLanguageConfigs(c){if(c.length<1)throw new Error("Expected non-empty SourceLanguageConfig array.");const a=new Op,d=[];return c.forEach(h=>{if(d.push(h.language),h.endpointId!==void 0&&h.endpointId!==""){const p=h.language+r.PropertyId.SpeechServiceConnection_EndpointId.toString();a.properties.setProperty(p,h.endpointId)}}),a.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,d.join()),a}get properties(){return this.privProperties}set mode(c){c===i.LanguageIdMode.Continuous?(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"Continuous")):(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"1"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart")),this.privLanguageIdMode=c}};return Jl.AutoDetectSourceLanguageConfig=o,Jl}var Yl={},sT;function fB(){if(sT)return Yl;sT=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.AutoDetectSourceLanguageResult=void 0;const e=He();let t=class f0{constructor(i,o){e.Contracts.throwIfNullOrUndefined(i,"language"),e.Contracts.throwIfNullOrUndefined(o,"languageDetectionConfidence"),this.privLanguage=i,this.privLanguageDetectionConfidence=o}static fromResult(i){return new f0(i.language,i.languageDetectionConfidence)}static fromConversationTranscriptionResult(i){return new f0(i.language,i.languageDetectionConfidence)}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}};return Yl.AutoDetectSourceLanguageResult=t,Yl}var Ql={},oT;function vB(){if(oT)return Ql;oT=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.SourceLanguageConfig=void 0;const e=He();let t=class E6{constructor(i,o){e.Contracts.throwIfNullOrUndefined(i,"language"),this.privLanguage=i,this.privEndpointId=o}static fromLanguage(i,o){return new E6(i,o)}get language(){return this.privLanguage}get endpointId(){return this.privEndpointId}};return Ql.SourceLanguageConfig=t,Ql}var zg={},aT;function mB(){return aT||(aT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeakerRecognitionCancellationDetails=e.SpeakerRecognitionResult=e.SpeakerRecognitionResultType=void 0;const t=Ce(),r=se();var i;(function(c){c[c.Verify=0]="Verify",c[c.Identify=1]="Identify"})(i=e.SpeakerRecognitionResultType||(e.SpeakerRecognitionResultType={}));class o{constructor(a,d=r.ResultReason.RecognizedSpeaker,h=r.CancellationErrorCode.NoError,p=""){this.privProperties=new r.PropertyCollection;const v=a.scenario==="TextIndependentIdentification"?i.Identify:i.Verify;this.privReason=d,this.privReason!==r.ResultReason.Canceled?v===i.Identify?(this.privProfileId=a.identificationResult.identifiedProfile.profileId,this.privScore=a.identificationResult.identifiedProfile.score,this.privReason=r.ResultReason.RecognizedSpeakers):(this.privScore=a.verificationResult.score,a.verificationResult.recognitionResult.toLowerCase()!=="accept"&&(this.privReason=r.ResultReason.NoMatch),a.verificationResult.profileId!==void 0&&a.verificationResult.profileId!==""&&(this.privProfileId=a.verificationResult.profileId)):(this.privErrorDetails=p,this.privProperties.setProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[h])),this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,JSON.stringify(a))}get properties(){return this.privProperties}get reason(){return this.privReason}get profileId(){return this.privProfileId}get errorDetails(){return this.privErrorDetails}get score(){return this.privScore}}e.SpeakerRecognitionResult=o;class l extends r.CancellationDetailsBase{constructor(a,d,h){super(a,d,h)}static fromResult(a){const d=r.CancellationReason.Error;let h=r.CancellationErrorCode.NoError;return a.properties&&(h=r.CancellationErrorCode[a.properties.getProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new l(d,a.errorDetails,h)}}e.SpeakerRecognitionCancellationDetails=l}(zg)),zg}var Lg={},Ls={},cT;function T6(){if(cT)return Ls;cT=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.ConversationImpl=Ls.Conversation=void 0;const e=Ce(),t=je(),r=He(),i=se();let o=class{constructor(){}static createConversationAsync(a,d,h,p){r.Contracts.throwIfNullOrUndefined(a,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(a.region,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),!a.subscriptionKey&&!a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(a.subscriptionKey,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));let v,m,S;return typeof d=="string"?(v=new l(a,d),t.marshalPromiseToCallbacks((async()=>{})(),h,p)):(v=new l(a),m=d,S=h,v.createConversationAsync(()=>{m&&m()},C=>{S&&S(C)})),v}};Ls.Conversation=o;class l extends o{constructor(a,d){if(super(),this.privErrors=e.ConversationConnectionConfig.restErrors,this.onConnected=v=>{var m;this.privIsConnected=!0;try{(m=this.privConversationTranslator)!=null&&m.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,v)}catch{}},this.onDisconnected=v=>{var m;try{(m=this.privConversationTranslator)!=null&&m.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,v)}catch{}finally{this.close(!1)}},this.onCanceled=(v,m)=>{var S;try{(S=this.privConversationTranslator)!=null&&S.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,m)}catch{}},this.onParticipantUpdateCommandReceived=(v,m)=>{try{const S=this.privParticipants.getParticipant(m.id);if(S!==void 0){switch(m.key){case e.ConversationTranslatorCommandTypes.changeNickname:S.displayName=m.value;break;case e.ConversationTranslatorCommandTypes.setUseTTS:S.isUsingTts=m.value;break;case e.ConversationTranslatorCommandTypes.setProfanityFiltering:S.profanity=m.value;break;case e.ConversationTranslatorCommandTypes.setMute:S.isMuted=m.value;break;case e.ConversationTranslatorCommandTypes.setTranslateToLanguages:S.translateToLanguages=m.value;break}this.privParticipants.addOrUpdateParticipant(S),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.Updated,[this.toParticipant(S)],m.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(v,m)=>{try{this.privParticipants.participants.forEach(S=>S.isMuted=S.isHost?!1:m.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.Updated,this.toParticipants(!1),m.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(v,m)=>{try{const S=this.privParticipants.addOrUpdateParticipant(m.participant);S!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.JoinedConversation,[this.toParticipant(S)],m.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(v,m)=>{try{const S=this.privParticipants.getParticipant(m.participant.id);S!==void 0&&(this.privParticipants.deleteParticipant(m.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.LeftConversation,[this.toParticipant(S)],m.sessionId)))}catch{}},this.onTranslationReceived=(v,m)=>{try{switch(m.command){case e.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break;case e.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break;case e.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break}}catch{}},this.onParticipantsListReceived=(v,m)=>{var S;try{if(m.sessionToken!==void 0&&m.sessionToken!==null&&(this.privRoom.token=m.sessionToken),this.privParticipants.participants=[...m.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),m.sessionId)),this.me.isHost){const C=(S=this.privConversationTranslator)==null?void 0:S.properties.getProperty(i.PropertyId.ConversationTranslator_Name);C!==void 0&&C.length>0&&C!==this.me.displayName&&this.changeNicknameAsync(C)}}catch{}},this.onConversationExpiration=(v,m)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,m)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new i.PropertyCollection,this.privManager=new e.ConversationManager,a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage])||a.setProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage],e.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage]),d)this.privConversationId=d;else{a.targetLanguages.length===0&&a.addTargetLanguage(this.privLanguage),a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceResponse_ProfanityOption])||a.setProfanity(i.ProfanityOption.Masked);let m=a.getProperty(i.PropertyId[i.PropertyId.ConversationTranslator_Name]);m==null&&(m="Host"),r.Contracts.throwIfNullOrTooLong(m,"nickname",50),r.Contracts.throwIfNullOrTooShort(m,"nickname",2),a.setProperty(i.PropertyId[i.PropertyId.ConversationTranslator_Name],m)}this.privConfig=a;const p=a;r.Contracts.throwIfNull(p,"speechConfig"),this.privProperties=p.properties.clone(),this.privIsConnected=!1,this.privParticipants=new e.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get conversationId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var a,d;return(a=this.privParticipants.me)!=null&&a.isHost?!1:(d=this.privParticipants.me)==null?void 0:d.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get conversationInfo(){const a=this.conversationId,d=this.participants.map(v=>({id:v.id,preferredLanguage:v.preferredLanguage,voice:v.voice})),h={};for(const v of e.ConversationConnectionConfig.transcriptionEventKeys){const m=this.properties.getProperty(v,"");m!==""&&(h[v]=m)}return{id:a,participants:d,conversationProperties:h}}get canSend(){var a;return this.privIsConnected&&!((a=this.privParticipants.me)!=null&&a.isMuted)}get canSendAsHost(){var a;return this.privIsConnected&&((a=this.privParticipants.me)==null?void 0:a.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),this.privToken=a}set conversationTranslator(a){this.privConversationTranslator=a}onToken(a){this.privConversationTranslator.onToken(a)}createConversationAsync(a,d){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),d),this.privManager.createOrJoin(this.privProperties,void 0,h=>{h||this.handleError(new Error(this.privErrors.permissionDeniedConnect),d),this.privRoom=h,this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}startConversationAsync(a,d){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),d),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer=e.ConversationRecognizerFactory.fromConfig(this,this.privConfig),this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}addParticipantAsync(a,d,h){r.Contracts.throwIfNullOrUndefined(a,"Participant"),t.marshalPromiseToCallbacks(this.addParticipantImplAsync(a),d,h)}joinConversationAsync(a,d,h,p,v){try{r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(d,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(h,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,a,m=>{r.Contracts.throwIfNullOrUndefined(m,this.privErrors.permissionDeniedConnect),this.privRoom=m,this.privConfig.authorizationToken=m.cognitiveSpeechAuthToken,p&&p(m.cognitiveSpeechAuthToken)},m=>{this.handleError(m,v)})}catch(m){this.handleError(m,v)}}deleteConversationAsync(a,d){t.marshalPromiseToCallbacks(this.deleteConversationImplAsync(),a,d)}async deleteConversationImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endConversationAsync(a,d){t.marshalPromiseToCallbacks(this.endConversationImplAsync(),a,d)}endConversationImplAsync(){return this.close(!0)}lockConversationAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}muteAllParticipantsAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}muteParticipantAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),h),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!0),()=>{this.handleCallback(d,h)},v=>{this.handleError(v,h)})}catch(p){this.handleError(p,h)}}removeParticipantAsync(a,d,h){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&a.hasOwnProperty("id"))t.marshalPromiseToCallbacks(this.removeParticipantImplAsync(a),d,h);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),h);let p="";typeof a=="string"?p=a:a.hasOwnProperty("id")?p=a.id:a.hasOwnProperty("userId")&&(p=a.userId),r.Contracts.throwIfNullOrWhitespace(p,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(m=>m.id===p)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(p),()=>{this.handleCallback(d,h)},m=>{this.handleError(m,h)})}}catch(p){this.handleError(p,h)}}unlockConversationAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}unmuteAllParticipantsAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}unmuteParticipantAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),h),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!1),()=>{this.handleCallback(d,h)},v=>{this.handleError(v,h)})}catch(p){this.handleError(p,h)}}sendTextMessageAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),a.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(a),()=>{this.handleCallback(d,h)},p=>{this.handleError(p,h)})}catch(p){this.handleError(p,h)}}setTranslatedLanguagesAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(a),()=>{this.handleCallback(d,h)},p=>{this.handleError(p,h)})}catch(p){this.handleError(p,h)}}changeNicknameAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(a),()=>{this.handleCallback(d,h)},p=>{this.handleError(p,h)})}catch(p){this.handleError(p,h)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(a){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await a.enforceAudioGating(),this.privTranscriberRecognizer=a,this.privTranscriberRecognizer.conversation=this}getKeepAlive(){const a=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:a,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(a){if(this.privParticipants.addOrUpdateParticipant(a)!==void 0&&this.privTranscriberRecognizer){const h=this.conversationInfo;return h.participants=[a],this.privTranscriberRecognizer.pushConversationEvent(h,"join")}}removeParticipantImplAsync(a){this.privParticipants.deleteParticipant(a.id);const d=this.conversationInfo;return d.participants=[a],this.privTranscriberRecognizer.pushConversationEvent(d,"leave")}async close(a){var d;try{this.privIsConnected=!1,await((d=this.privConversationRecognizer)==null?void 0:d.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(h){throw h}a&&this.dispose()}handleCallback(a,d){if(a){try{a()}catch(h){d&&d(h)}a=void 0}}handleError(a,d){if(d)if(a instanceof Error){const h=a;d(h.name+": "+h.message)}else d(a)}toParticipants(a){const d=this.privParticipants.participants.map(h=>this.toParticipant(h));return a?d:d.filter(h=>h.isHost===!1)}toParticipant(a){return new i.Participant(a.id,a.avatar,a.displayName,a.isHost,a.isMuted,a.isUsingTts,a.preferredLanguage,a.voice)}getMuteAllCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMuteCommand(a,d){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMute,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:d})}getLockCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getEjectCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.ejectParticipant,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getChangeNicknameCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.changeNickname,nickname:a,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMessageCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(a,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:a,type:e.ConversationTranslatorMessageTypes.instantMessage})}}return Ls.ConversationImpl=l,Ls}var Xl={},lT;function gB(){if(lT)return Xl;lT=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.ConversationCommon=void 0;let e=class{constructor(r){this.privAudioConfig=r}handleCallback(r,i){if(r){try{r()}catch(o){i&&i(o)}r=void 0}}handleError(r,i){if(i)if(r instanceof Error){const o=r;i(o.name+": "+o.message)}else i(r)}};return Xl.ConversationCommon=e,Xl}var Zl={},uT;function yB(){if(uT)return Zl;uT=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.ConversationExpirationEventArgs=void 0;const e=se();let t=class extends e.SessionEventArgs{constructor(i,o){super(o),this.privExpirationTime=i}get expirationTime(){return this.privExpirationTime}};return Zl.ConversationExpirationEventArgs=t,Zl}var eu={},dT;function SB(){if(dT)return eu;dT=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.ConversationParticipantsChangedEventArgs=void 0;const e=se();let t=class extends e.SessionEventArgs{constructor(i,o,l){super(l),this.privReason=i,this.privParticipant=o}get reason(){return this.privReason}get participants(){return this.privParticipant}};return eu.ConversationParticipantsChangedEventArgs=t,eu}var tu={},hT;function bB(){if(hT)return tu;hT=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.ConversationTranslationCanceledEventArgs=void 0;const e=sh();let t=class extends e.CancellationEventArgsBase{};return tu.ConversationTranslationCanceledEventArgs=t,tu}var ru={},pT;function CB(){if(pT)return ru;pT=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.ConversationTranslationEventArgs=void 0;const e=se();let t=class extends e.RecognitionEventArgs{constructor(i,o,l){super(o,l),this.privResult=i}get result(){return this.privResult}};return ru.ConversationTranslationEventArgs=t,ru}var nu={},fT;function xB(){if(fT)return nu;fT=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.ConversationTranslationResult=void 0;const e=u6();let t=class extends e.TranslationRecognitionResult{constructor(i,o,l,c,a,d,h,p,v,m,S){super(o,c,a,d,h,p,void 0,void 0,v,m,S),this.privId=i,this.privOrigLang=l}get participantId(){return this.privId}get originalLang(){return this.privOrigLang}};return nu.ConversationTranslationResult=t,nu}var qg={},iu={},su={},vT;function P6(){if(vT)return su;vT=1,Object.defineProperty(su,"__esModule",{value:!0}),su.StringUtils=void 0;let e=class{static formatString(r,i){if(!r)return"";if(!i)return r;let o="",l="";const c=h=>{o+=h},a=h=>{l+=h};let d=c;for(let h=0;h<r.length;h++){const p=r[h],v=h+1<r.length?r[h+1]:"";switch(p){case"{":v==="{"?(d("{"),h++):d=a;break;case"}":v==="}"?(d("}"),h++):(i.hasOwnProperty(l)&&(o+=i[l]),d=c,l="");break;default:d(p);break}}return o}};return su.StringUtils=e,su}var mT;function RB(){if(mT)return iu;mT=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.ConversationTranslatorConnectionFactory=void 0;const e=Zt(),t=P6(),r=He(),i=se(),o=xr(),l=rs(),c=An(),a=Ce();let d=class A6 extends c.ConnectionFactoryBase{constructor(p){super(),r.Contracts.throwIfNullOrUndefined(p,"convGetter"),this.privConvGetter=p}create(p,v,m){const S=p.parameters.getProperty("ConversationTranslator_MultiChannelAudio","").toUpperCase()==="TRUE",C=this.privConvGetter().room,x=C.cognitiveSpeechRegion||p.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Region,""),R={hostSuffix:c.ConnectionFactoryBase.getHostSuffix(x),path:A6.CTS_VIRT_MIC_PATH,region:encodeURIComponent(x)};R[l.QueryParameterNames.Language]=encodeURIComponent(p.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage,"")),R[l.QueryParameterNames.CtsMeetingId]=encodeURIComponent(C.roomId),R[l.QueryParameterNames.CtsDeviceId]=encodeURIComponent(C.participantId),R[l.QueryParameterNames.CtsIsParticipant]=C.isHost?"":"&"+l.QueryParameterNames.CtsIsParticipant;let w="";const T={},P={};if(S){w=p.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Endpoint),w||(w="wss://"+p.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Host,"transcribe.{region}.cts.speech{hostSuffix}")+"{path}"),w=t.StringUtils.formatString(w,R);const k=new URL(w);k.searchParams.forEach((H,q)=>{T[q]=H}),new a.TranscriberConnectionFactory().setQueryParams(T,p,w),T[l.QueryParameterNames.CtsMeetingId]=R[l.QueryParameterNames.CtsMeetingId],T[l.QueryParameterNames.CtsDeviceId]=R[l.QueryParameterNames.CtsDeviceId],C.isHost||(T[l.QueryParameterNames.CtsIsParticipant]=""),l.QueryParameterNames.Format in T||(T[l.QueryParameterNames.Format]="simple"),k.searchParams.forEach((H,q)=>{k.searchParams.set(q,T[q]),delete T[q]}),w=k.toString()}else{const k=new a.TranslationConnectionFactory;w=k.getEndpointUrl(p,!0),w=t.StringUtils.formatString(w,R),k.setQueryParams(T,p,w)}P[o.HeaderNames.ConnectionId]=m,P[e.RestConfigBase.configParams.token]=C.token,v.token&&(P[v.headerName]=v.token);const I=p.parameters.getProperty("SPEECH-EnableWebsocketCompression","").toUpperCase()==="TRUE";return new e.WebsocketConnection(w,T,P,new a.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(p),I,m)}};return iu.ConversationTranslatorConnectionFactory=d,d.CTS_VIRT_MIC_PATH="/speech/recognition/dynamicaudio",iu}var gT;function wB(){return gT||(gT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConversationTranslator=e.SpeechState=void 0;const t=Ce(),r=RB(),i=je(),o=He(),l=se(),c=T6(),a=jS();var d;(function(v){v[v.Inactive=0]="Inactive",v[v.Connecting=1]="Connecting",v[v.Connected=2]="Connected"})(d=e.SpeechState||(e.SpeechState={}));class h extends l.TranslationRecognizer{constructor(m,S,C,x){super(m,S,new r.ConversationTranslatorConnectionFactory(x)),this.privSpeechState=d.Inactive,C&&(this.privTranslator=C,this.sessionStarted=()=>{this.privSpeechState=d.Connected},this.sessionStopped=()=>{this.privSpeechState=d.Inactive},this.recognizing=(R,w)=>{this.privTranslator.recognizing&&this.privTranslator.recognizing(this.privTranslator,w)},this.recognized=async(R,w)=>{var T;(T=w.result)!=null&&T.errorDetails?(await this.cancelSpeech(),this.fireCancelEvent(w.result.errorDetails)):this.privTranslator.recognized&&this.privTranslator.recognized(this.privTranslator,w)},this.canceled=async()=>{if(this.privSpeechState!==d.Inactive)try{await this.cancelSpeech()}catch{this.privSpeechState=d.Inactive}})}get state(){return this.privSpeechState}set state(m){this.privSpeechState=m}set authentication(m){this.privReco.authentication=m}onConnection(){this.privSpeechState=d.Connected}async onCancelSpeech(){this.privSpeechState=d.Inactive,await this.cancelSpeech()}fireCancelEvent(m){try{if(this.privTranslator.canceled){const S=new a.ConversationTranslationCanceledEventArgs(l.CancellationReason.Error,m,l.CancellationErrorCode.RuntimeError);this.privTranslator.canceled(this.privTranslator,S)}}catch{}}async cancelSpeech(){var m;try{this.stopContinuousRecognitionAsync(),await((m=this.privReco)==null?void 0:m.disconnect()),this.privSpeechState=d.Inactive}catch{}}}class p extends a.ConversationCommon{constructor(m){super(m),this.privErrors=t.ConversationConnectionConfig.restErrors,this.privIsDisposed=!1,this.privIsSpeaking=!1,this.privPlaceholderKey="abcdefghijklmnopqrstuvwxyz012345",this.privPlaceholderRegion="westus",this.privProperties=new l.PropertyCollection}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get participants(){var m;return(m=this.privConversation)==null?void 0:m.participants}get canSpeak(){return!(!this.privConversation.isConnected||!this.privCTRecognizer||this.privIsSpeaking||this.privCTRecognizer.state===d.Connected||this.privCTRecognizer.state===d.Connecting||this.privConversation.isMutedByHost)}onToken(m){this.privCTRecognizer.authentication=m}setServiceProperty(m,S){const C=JSON.parse(this.privProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));C[m]=S,this.privProperties.setProperty(t.ServicePropertiesPropertyName,JSON.stringify(C))}joinConversationAsync(m,S,C,x,R){try{if(typeof m=="string"){o.Contracts.throwIfNullOrUndefined(m,this.privErrors.invalidArgs.replace("{arg}","conversation id")),o.Contracts.throwIfNullOrWhitespace(S,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privConversation&&this.handleError(new Error(this.privErrors.permissionDeniedStart),R);let w=C;(w==null||w==="")&&(w=t.ConversationConnectionConfig.defaultLanguageCode),this.privSpeechTranslationConfig=l.SpeechTranslationConfig.fromSubscription(this.privPlaceholderKey,this.privPlaceholderRegion),this.privSpeechTranslationConfig.setProfanity(l.ProfanityOption.Masked),this.privSpeechTranslationConfig.addTargetLanguage(w),this.privSpeechTranslationConfig.setProperty(l.PropertyId[l.PropertyId.SpeechServiceConnection_RecoLanguage],w),this.privSpeechTranslationConfig.setProperty(l.PropertyId[l.PropertyId.ConversationTranslator_Name],S);const T=[l.PropertyId.SpeechServiceConnection_Host,l.PropertyId.ConversationTranslator_Host,l.PropertyId.SpeechServiceConnection_Endpoint,l.PropertyId.SpeechServiceConnection_ProxyHostName,l.PropertyId.SpeechServiceConnection_ProxyPassword,l.PropertyId.SpeechServiceConnection_ProxyPort,l.PropertyId.SpeechServiceConnection_ProxyUserName,"ConversationTranslator_MultiChannelAudio","ConversationTranslator_Region"];for(const I of T){const k=this.privProperties.getProperty(I);if(k){const U=typeof I=="string"?I:l.PropertyId[I];this.privSpeechTranslationConfig.setProperty(U,k)}}const P=JSON.parse(this.privProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));for(const I of Object.keys(P))this.privSpeechTranslationConfig.setServiceProperty(I,P[I],l.ServicePropertyChannel.UriQueryParameter);this.privConversation=new c.ConversationImpl(this.privSpeechTranslationConfig),this.privConversation.conversationTranslator=this,this.privConversation.joinConversationAsync(m,S,w,I=>{I||this.handleError(new Error(this.privErrors.permissionDeniedConnect),R),this.privSpeechTranslationConfig.authorizationToken=I,this.privConversation.room.isHost=!1,this.privConversation.startConversationAsync(()=>{this.handleCallback(x,R)},k=>{this.handleError(k,R)})},I=>{this.handleError(I,R)})}else typeof m=="object"?(o.Contracts.throwIfNullOrUndefined(m,this.privErrors.invalidArgs.replace("{arg}","conversation id")),o.Contracts.throwIfNullOrWhitespace(S,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privProperties.setProperty(l.PropertyId.ConversationTranslator_Name,S),this.privConversation=m,this.privConversation.conversationTranslator=this,this.privConversation.room.isHost=!0,o.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedConnect),o.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privSpeechTranslationConfig=m.config,this.handleCallback(C,x)):this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","invalid conversation type")),x)}catch(w){this.handleError(w,typeof C=="string"?R:x)}}leaveConversationAsync(m,S){i.marshalPromiseToCallbacks((async()=>{await this.cancelSpeech(),await this.privConversation.endConversationImplAsync(),await this.privConversation.deleteConversationImplAsync(),this.dispose()})(),m,S)}sendTextMessageAsync(m,S,C){try{o.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),o.Contracts.throwIfNullOrWhitespace(m,this.privErrors.invalidArgs.replace("{arg}",m)),this.privConversation.sendTextMessageAsync(m,S,C)}catch(x){this.handleError(x,C)}}startTranscribingAsync(m,S){i.marshalPromiseToCallbacks((async()=>{try{o.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),o.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privCTRecognizer===void 0&&await this.connectTranslatorRecognizer(),o.Contracts.throwIfNullOrUndefined(this.privCTRecognizer,this.privErrors.permissionDeniedSend),this.canSpeak||this.handleError(new Error(this.privErrors.permissionDeniedSend),S),await this.startContinuousRecognition(),this.privIsSpeaking=!0}catch(C){throw this.privIsSpeaking=!1,await this.cancelSpeech(),C}})(),m,S)}stopTranscribingAsync(m,S){i.marshalPromiseToCallbacks((async()=>{try{if(!this.privIsSpeaking){await this.cancelSpeech();return}this.privIsSpeaking=!1,await new Promise((C,x)=>{this.privCTRecognizer.stopContinuousRecognitionAsync(C,x)})}catch{await this.cancelSpeech()}})(),m,S)}isDisposed(){return this.privIsDisposed}dispose(m,S,C){i.marshalPromiseToCallbacks((async()=>{this.isDisposed&&!this.privIsSpeaking||(await this.cancelSpeech(),this.privIsDisposed=!0,this.privSpeechTranslationConfig.close(),this.privSpeechRecognitionLanguage=void 0,this.privProperties=void 0,this.privAudioConfig=void 0,this.privSpeechTranslationConfig=void 0,this.privConversation.dispose(),this.privConversation=void 0)})(),S,C)}async cancelSpeech(){var m;try{this.privIsSpeaking=!1,await((m=this.privCTRecognizer)==null?void 0:m.onCancelSpeech()),this.privCTRecognizer=void 0}catch{}}async connectTranslatorRecognizer(){try{this.privAudioConfig===void 0&&(this.privAudioConfig=l.AudioConfig.fromDefaultMicrophoneInput()),this.privSpeechTranslationConfig.getProperty(l.PropertyId[l.PropertyId.SpeechServiceConnection_Key])===this.privPlaceholderKey&&this.privSpeechTranslationConfig.setProperty(l.PropertyId[l.PropertyId.SpeechServiceConnection_Key],"");const m=()=>this.privConversation;this.privCTRecognizer=new h(this.privSpeechTranslationConfig,this.privAudioConfig,this,m)}catch(m){throw await this.cancelSpeech(),m}}startContinuousRecognition(){return new Promise((m,S)=>{this.privCTRecognizer.startContinuousRecognitionAsync(m,S)})}}e.ConversationTranslator=p}(qg)),qg}var ou={},yT;function EB(){if(yT)return ou;yT=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.ConversationTranscriber=void 0;const e=Ce(),t=je(),r=He(),i=se();let o=class _6 extends i.Recognizer{constructor(c,a){const d=c;r.Contracts.throwIfNull(d,"speechConfig"),r.Contracts.throwIfNullOrWhitespace(d.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,d.properties,new e.ConversationTranscriberConnectionFactory),this.privProperties.setProperty(i.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privDisposedRecognizer=!1}static FromConfig(c,a,d){const h=c;return a.properties.mergeTo(h.properties),new _6(c,d)}get endpointId(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){r.Contracts.throwIfNullOrWhitespace(c,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,c)}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(e.OutputFormatPropertyName,i.OutputFormat[i.OutputFormat.Simple])===i.OutputFormat[i.OutputFormat.Simple]?i.OutputFormat.Simple:i.OutputFormat.Detailed}get properties(){return this.privProperties}startTranscribingAsync(c,a){t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),c,a)}stopTranscribingAsync(c,a){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),c,a)}close(c,a){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),c,a)}async dispose(c){this.privDisposedRecognizer||(c&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(c))}createRecognizerConfig(c){return new e.RecognizerConfig(c,this.privProperties)}createServiceRecognizer(c,a,d,h){const p=d;return h.isSpeakerDiarizationEnabled=!0,new e.ConversationTranscriptionServiceRecognizer(c,a,p,h,this)}};return ou.ConversationTranscriber=o,ou}var qs={},ST;function TB(){if(ST)return qs;ST=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.Participant=qs.User=void 0;const e=se();class t{constructor(o){this.privUserId=o}get userId(){return this.privUserId}}qs.User=t;class r{constructor(o,l,c,a,d,h,p,v){this.privId=o,this.privAvatar=l,this.privDisplayName=c,this.privIsHost=a,this.privIsMuted=d,this.privIsUsingTts=h,this.privPreferredLanguage=p,this.privVoice=v,this.privProperties=new e.PropertyCollection}get avatar(){return this.privAvatar}get displayName(){return this.privDisplayName}get id(){return this.privId}get preferredLanguage(){return this.privPreferredLanguage}get isHost(){return this.privIsHost}get isMuted(){return this.privIsMuted}get isUsingTts(){return this.privIsUsingTts}get voice(){return this.privVoice}get properties(){return this.privProperties}static From(o,l,c){return new r(o,"",o,!1,!1,!1,l,c)}}return qs.Participant=r,qs}var Bg={},bT;function PB(){return bT||(bT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParticipantChangedReason=void 0,function(t){t[t.JoinedConversation=0]="JoinedConversation",t[t.LeftConversation=1]="LeftConversation",t[t.Updated=2]="Updated"}(e.ParticipantChangedReason||(e.ParticipantChangedReason={}))}(Bg)),Bg}var Bs={},CT;function AB(){if(CT)return Bs;CT=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.MeetingImpl=Bs.Meeting=void 0;const e=Ce(),t=je(),r=He(),i=se();let o=class{constructor(){}static createMeetingAsync(a,d,h,p){if(r.Contracts.throwIfNullOrUndefined(a,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(a.region,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),r.Contracts.throwIfNull(d,"meetingId"),d.length===0)throw new Error("meetingId cannot be empty");!a.subscriptionKey&&!a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(a.subscriptionKey,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));const v=new l(a,d);return t.marshalPromiseToCallbacks((async()=>{})(),h,p),v}};Bs.Meeting=o;class l extends o{constructor(a,d){super(),this.privErrors=e.ConversationConnectionConfig.restErrors,this.onConnected=v=>{var m;this.privIsConnected=!0;try{(m=this.privConversationTranslator)!=null&&m.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,v)}catch{}},this.onDisconnected=v=>{var m;try{(m=this.privConversationTranslator)!=null&&m.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,v)}catch{}finally{this.close(!1)}},this.onCanceled=(v,m)=>{var S;try{(S=this.privConversationTranslator)!=null&&S.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,m)}catch{}},this.onParticipantUpdateCommandReceived=(v,m)=>{try{const S=this.privParticipants.getParticipant(m.id);if(S!==void 0){switch(m.key){case e.ConversationTranslatorCommandTypes.changeNickname:S.displayName=m.value;break;case e.ConversationTranslatorCommandTypes.setUseTTS:S.isUsingTts=m.value;break;case e.ConversationTranslatorCommandTypes.setProfanityFiltering:S.profanity=m.value;break;case e.ConversationTranslatorCommandTypes.setMute:S.isMuted=m.value;break;case e.ConversationTranslatorCommandTypes.setTranslateToLanguages:S.translateToLanguages=m.value;break}this.privParticipants.addOrUpdateParticipant(S),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.Updated,[this.toParticipant(S)],m.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(v,m)=>{try{this.privParticipants.participants.forEach(S=>S.isMuted=S.isHost?!1:m.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.Updated,this.toParticipants(!1),m.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(v,m)=>{try{const S=this.privParticipants.addOrUpdateParticipant(m.participant);S!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.JoinedConversation,[this.toParticipant(S)],m.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(v,m)=>{try{const S=this.privParticipants.getParticipant(m.participant.id);S!==void 0&&(this.privParticipants.deleteParticipant(m.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.LeftConversation,[this.toParticipant(S)],m.sessionId)))}catch{}},this.onTranslationReceived=(v,m)=>{try{switch(m.command){case e.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break;case e.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break;case e.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break}}catch{}},this.onParticipantsListReceived=(v,m)=>{var S;try{if(m.sessionToken!==void 0&&m.sessionToken!==null&&(this.privRoom.token=m.sessionToken),this.privParticipants.participants=[...m.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),m.sessionId)),this.me.isHost){const C=(S=this.privConversationTranslator)==null?void 0:S.properties.getProperty(i.PropertyId.ConversationTranslator_Name);C!==void 0&&C.length>0&&C!==this.me.displayName&&this.changeNicknameAsync(C)}}catch{}},this.onConversationExpiration=(v,m)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,m)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new i.PropertyCollection,this.privManager=new e.ConversationManager,a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage])||a.setProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage],e.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage]),this.privConversationId=d,this.privConfig=a;const p=a;r.Contracts.throwIfNull(p,"speechConfig"),this.privProperties=p.properties.clone(),this.privIsConnected=!1,this.privParticipants=new e.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get meetingId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var a,d;return(a=this.privParticipants.me)!=null&&a.isHost?!1:(d=this.privParticipants.me)==null?void 0:d.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get meetingInfo(){const a=this.meetingId,d=this.participants.map(v=>({id:v.id,preferredLanguage:v.preferredLanguage,voice:v.voice})),h={};for(const v of e.ConversationConnectionConfig.transcriptionEventKeys){const m=this.properties.getProperty(v,"");m!==""&&(h[v]=m)}return{id:a,participants:d,meetingProperties:h}}get canSend(){var a;return this.privIsConnected&&!((a=this.privParticipants.me)!=null&&a.isMuted)}get canSendAsHost(){var a;return this.privIsConnected&&((a=this.privParticipants.me)==null?void 0:a.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),this.privToken=a}createMeetingAsync(a,d){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),d),this.privManager.createOrJoin(this.privProperties,void 0,h=>{h||this.handleError(new Error(this.privErrors.permissionDeniedConnect),d),this.privRoom=h,this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}startMeetingAsync(a,d){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),d),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}addParticipantAsync(a,d,h){r.Contracts.throwIfNullOrUndefined(a,"Participant"),t.marshalPromiseToCallbacks(this.addParticipantImplAsync(a),d,h)}joinMeetingAsync(a,d,h,p,v){try{r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(d,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(h,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,a,m=>{r.Contracts.throwIfNullOrUndefined(m,this.privErrors.permissionDeniedConnect),this.privRoom=m,this.privConfig.authorizationToken=m.cognitiveSpeechAuthToken,p&&p(m.cognitiveSpeechAuthToken)},m=>{this.handleError(m,v)})}catch(m){this.handleError(m,v)}}deleteMeetingAsync(a,d){t.marshalPromiseToCallbacks(this.deleteMeetingImplAsync(),a,d)}async deleteMeetingImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endMeetingAsync(a,d){t.marshalPromiseToCallbacks(this.endMeetingImplAsync(),a,d)}endMeetingImplAsync(){return this.close(!0)}lockMeetingAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}muteAllParticipantsAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}muteParticipantAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),h),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!0),()=>{this.handleCallback(d,h)},v=>{this.handleError(v,h)})}catch(p){this.handleError(p,h)}}removeParticipantAsync(a,d,h){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&a.hasOwnProperty("id"))t.marshalPromiseToCallbacks(this.removeParticipantImplAsync(a),d,h);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),h);let p="";typeof a=="string"?p=a:a.hasOwnProperty("id")?p=a.id:a.hasOwnProperty("userId")&&(p=a.userId),r.Contracts.throwIfNullOrWhitespace(p,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(m=>m.id===p)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(p),()=>{this.handleCallback(d,h)},m=>{this.handleError(m,h)})}}catch(p){this.handleError(p,h)}}unlockMeetingAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}unmuteAllParticipantsAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}unmuteParticipantAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),h),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!1),()=>{this.handleCallback(d,h)},v=>{this.handleError(v,h)})}catch(p){this.handleError(p,h)}}sendTextMessageAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),a.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(a),()=>{this.handleCallback(d,h)},p=>{this.handleError(p,h)})}catch(p){this.handleError(p,h)}}setTranslatedLanguagesAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(a),()=>{this.handleCallback(d,h)},p=>{this.handleError(p,h)})}catch(p){this.handleError(p,h)}}changeNicknameAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(a),()=>{this.handleCallback(d,h)},p=>{this.handleError(p,h)})}catch(p){this.handleError(p,h)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(a){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await a.enforceAudioGating(),this.privTranscriberRecognizer=a,this.privTranscriberRecognizer.meeting=this}getKeepAlive(){const a=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:a,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(a){if(this.privParticipants.addOrUpdateParticipant(a)!==void 0&&this.privTranscriberRecognizer){const h=this.meetingInfo;return h.participants=[a],this.privTranscriberRecognizer.pushMeetingEvent(h,"join")}}removeParticipantImplAsync(a){this.privParticipants.deleteParticipant(a.id);const d=this.meetingInfo;return d.participants=[a],this.privTranscriberRecognizer.pushMeetingEvent(d,"leave")}async close(a){var d;try{this.privIsConnected=!1,await((d=this.privConversationRecognizer)==null?void 0:d.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(h){throw h}a&&this.dispose()}handleCallback(a,d){if(a){try{a()}catch(h){d&&d(h)}a=void 0}}handleError(a,d){if(d)if(a instanceof Error){const h=a;d(h.name+": "+h.message)}else d(a)}toParticipants(a){const d=this.privParticipants.participants.map(h=>this.toParticipant(h));return a?d:d.filter(h=>h.isHost===!1)}toParticipant(a){return new i.Participant(a.id,a.avatar,a.displayName,a.isHost,a.isMuted,a.isUsingTts,a.preferredLanguage,a.voice)}getMuteAllCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingd"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMuteCommand(a,d){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMute,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:d})}getLockCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getEjectCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.ejectParticipant,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getChangeNicknameCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(a,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.changeNickname,nickname:a,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMessageCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(a,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:a,type:e.ConversationTranslatorMessageTypes.instantMessage})}}return Bs.MeetingImpl=l,Bs}var au={},xT;function _B(){if(xT)return au;xT=1,Object.defineProperty(au,"__esModule",{value:!0}),au.MeetingTranscriptionCanceledEventArgs=void 0;const e=sh();class t extends e.CancellationEventArgsBase{}return au.MeetingTranscriptionCanceledEventArgs=t,au}var cu={},RT;function kB(){if(RT)return cu;RT=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.MeetingTranscriber=void 0;const e=Ce(),t=je(),r=He(),i=se(),o=jS();let l=class{constructor(a){this.privAudioConfig=a,this.privProperties=new i.PropertyCollection,this.privRecognizer=void 0,this.privDisposedRecognizer=!1}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get internalData(){return this.privRecognizer.internalData}get connection(){return i.Connection.fromRecognizer(this.privRecognizer)}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,a)}joinMeetingAsync(a,d,h){const p=a;r.Contracts.throwIfNullOrUndefined(o.MeetingImpl,"Meeting"),this.privRecognizer=new e.TranscriberRecognizer(a.config,this.privAudioConfig),r.Contracts.throwIfNullOrUndefined(this.privRecognizer,"Recognizer"),this.privRecognizer.connectMeetingCallbacks(this),t.marshalPromiseToCallbacks(p.connectTranscriberRecognizer(this.privRecognizer),d,h)}startTranscribingAsync(a,d){this.privRecognizer.startContinuousRecognitionAsync(a,d)}stopTranscribingAsync(a,d){this.privRecognizer.stopContinuousRecognitionAsync(a,d)}leaveMeetingAsync(a,d){this.privRecognizer.disconnectCallbacks(),t.marshalPromiseToCallbacks((async()=>{})(),a,d)}close(a,d){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),a,d)}async dispose(a){this.privDisposedRecognizer||(this.privRecognizer&&(await this.privRecognizer.close(),this.privRecognizer=void 0),a&&(this.privDisposedRecognizer=!0))}};return cu.MeetingTranscriber=l,cu}var lu={},wT;function MB(){if(wT)return lu;wT=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.ConversationTranscriptionResult=void 0;const e=se();let t=class extends e.RecognitionResult{constructor(i,o,l,c,a,d,h,p,v,m,S){super(i,o,l,c,a,d,h,v,m,S),this.privSpeakerId=p}get speakerId(){return this.privSpeakerId}};return lu.ConversationTranscriptionResult=t,lu}var ET;function jS(){return ET||(ET=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=T6();Object.defineProperty(e,"Conversation",{enumerable:!0,get:function(){return t.Conversation}}),Object.defineProperty(e,"ConversationImpl",{enumerable:!0,get:function(){return t.ConversationImpl}});var r=gB();Object.defineProperty(e,"ConversationCommon",{enumerable:!0,get:function(){return r.ConversationCommon}});var i=yB();Object.defineProperty(e,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return i.ConversationExpirationEventArgs}});var o=SB();Object.defineProperty(e,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return o.ConversationParticipantsChangedEventArgs}});var l=bB();Object.defineProperty(e,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return l.ConversationTranslationCanceledEventArgs}});var c=CB();Object.defineProperty(e,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return c.ConversationTranslationEventArgs}});var a=xB();Object.defineProperty(e,"ConversationTranslationResult",{enumerable:!0,get:function(){return a.ConversationTranslationResult}});var d=wB();Object.defineProperty(e,"ConversationTranslator",{enumerable:!0,get:function(){return d.ConversationTranslator}});var h=EB();Object.defineProperty(e,"ConversationTranscriber",{enumerable:!0,get:function(){return h.ConversationTranscriber}});var p=TB();Object.defineProperty(e,"Participant",{enumerable:!0,get:function(){return p.Participant}}),Object.defineProperty(e,"User",{enumerable:!0,get:function(){return p.User}});var v=PB();Object.defineProperty(e,"ParticipantChangedReason",{enumerable:!0,get:function(){return v.ParticipantChangedReason}});var m=AB();Object.defineProperty(e,"Meeting",{enumerable:!0,get:function(){return m.Meeting}}),Object.defineProperty(e,"MeetingImpl",{enumerable:!0,get:function(){return m.MeetingImpl}});var S=_B();Object.defineProperty(e,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return S.MeetingTranscriptionCanceledEventArgs}});var C=kB();Object.defineProperty(e,"MeetingTranscriber",{enumerable:!0,get:function(){return C.MeetingTranscriber}});var x=MB();Object.defineProperty(e,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return x.ConversationTranscriptionResult}})}(Lg)),Lg}var Us={},TT;function OS(){if(TT)return Us;TT=1,Object.defineProperty(Us,"__esModule",{value:!0}),Us.SynthesisRequest=Us.Synthesizer=void 0;const e=Ce(),t=je(),r=He(),i=se();let o=class k6{constructor(a){const d=a;r.Contracts.throwIfNull(d,"speechConfig"),this.privProperties=d.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.synthesisRequestQueue=new t.Queue}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,a)}get properties(){return this.privProperties}get autoDetectSourceLanguage(){return this.properties.getProperty(i.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)===e.AutoDetectSourceLanguagesOpenRangeOptionName}buildSsml(a){const d={"af-ZA":"af-ZA-AdriNeural","am-ET":"am-ET-AmehaNeural","ar-AE":"ar-AE-FatimaNeural","ar-BH":"ar-BH-AliNeural","ar-DZ":"ar-DZ-AminaNeural","ar-EG":"ar-EG-SalmaNeural","ar-IQ":"ar-IQ-BasselNeural","ar-JO":"ar-JO-SanaNeural","ar-KW":"ar-KW-FahedNeural","ar-LY":"ar-LY-ImanNeural","ar-MA":"ar-MA-JamalNeural","ar-QA":"ar-QA-AmalNeural","ar-SA":"ar-SA-HamedNeural","ar-SY":"ar-SY-AmanyNeural","ar-TN":"ar-TN-HediNeural","ar-YE":"ar-YE-MaryamNeural","bg-BG":"bg-BG-BorislavNeural","bn-BD":"bn-BD-NabanitaNeural","bn-IN":"bn-IN-BashkarNeural","ca-ES":"ca-ES-JoanaNeural","cs-CZ":"cs-CZ-AntoninNeural","cy-GB":"cy-GB-AledNeural","da-DK":"da-DK-ChristelNeural","de-AT":"de-AT-IngridNeural","de-CH":"de-CH-JanNeural","de-DE":"de-DE-KatjaNeural","el-GR":"el-GR-AthinaNeural","en-AU":"en-AU-NatashaNeural","en-CA":"en-CA-ClaraNeural","en-GB":"en-GB-LibbyNeural","en-HK":"en-HK-SamNeural","en-IE":"en-IE-ConnorNeural","en-IN":"en-IN-NeerjaNeural","en-KE":"en-KE-AsiliaNeural","en-NG":"en-NG-AbeoNeural","en-NZ":"en-NZ-MitchellNeural","en-PH":"en-PH-JamesNeural","en-SG":"en-SG-LunaNeural","en-TZ":"en-TZ-ElimuNeural","en-US":"en-US-AvaMultilingualNeural","en-ZA":"en-ZA-LeahNeural","es-AR":"es-AR-ElenaNeural","es-BO":"es-BO-MarceloNeural","es-CL":"es-CL-CatalinaNeural","es-CO":"es-CO-GonzaloNeural","es-CR":"es-CR-JuanNeural","es-CU":"es-CU-BelkysNeural","es-DO":"es-DO-EmilioNeural","es-EC":"es-EC-AndreaNeural","es-ES":"es-ES-AlvaroNeural","es-GQ":"es-GQ-JavierNeural","es-GT":"es-GT-AndresNeural","es-HN":"es-HN-CarlosNeural","es-MX":"es-MX-DaliaNeural","es-NI":"es-NI-FedericoNeural","es-PA":"es-PA-MargaritaNeural","es-PE":"es-PE-AlexNeural","es-PR":"es-PR-KarinaNeural","es-PY":"es-PY-MarioNeural","es-SV":"es-SV-LorenaNeural","es-US":"es-US-AlonsoNeural","es-UY":"es-UY-MateoNeural","es-VE":"es-VE-PaolaNeural","et-EE":"et-EE-AnuNeural","fa-IR":"fa-IR-DilaraNeural","fi-FI":"fi-FI-SelmaNeural","fil-PH":"fil-PH-AngeloNeural","fr-BE":"fr-BE-CharlineNeural","fr-CA":"fr-CA-SylvieNeural","fr-CH":"fr-CH-ArianeNeural","fr-FR":"fr-FR-DeniseNeural","ga-IE":"ga-IE-ColmNeural","gl-ES":"gl-ES-RoiNeural","gu-IN":"gu-IN-DhwaniNeural","he-IL":"he-IL-AvriNeural","hi-IN":"hi-IN-MadhurNeural","hr-HR":"hr-HR-GabrijelaNeural","hu-HU":"hu-HU-NoemiNeural","id-ID":"id-ID-ArdiNeural","is-IS":"is-IS-GudrunNeural","it-IT":"it-IT-IsabellaNeural","ja-JP":"ja-JP-NanamiNeural","jv-ID":"jv-ID-DimasNeural","kk-KZ":"kk-KZ-AigulNeural","km-KH":"km-KH-PisethNeural","kn-IN":"kn-IN-GaganNeural","ko-KR":"ko-KR-SunHiNeural","lo-LA":"lo-LA-ChanthavongNeural","lt-LT":"lt-LT-LeonasNeural","lv-LV":"lv-LV-EveritaNeural","mk-MK":"mk-MK-AleksandarNeural","ml-IN":"ml-IN-MidhunNeural","mr-IN":"mr-IN-AarohiNeural","ms-MY":"ms-MY-OsmanNeural","mt-MT":"mt-MT-GraceNeural","my-MM":"my-MM-NilarNeural","nb-NO":"nb-NO-PernilleNeural","nl-BE":"nl-BE-ArnaudNeural","nl-NL":"nl-NL-ColetteNeural","pl-PL":"pl-PL-AgnieszkaNeural","ps-AF":"ps-AF-GulNawazNeural","pt-BR":"pt-BR-FranciscaNeural","pt-PT":"pt-PT-DuarteNeural","ro-RO":"ro-RO-AlinaNeural","ru-RU":"ru-RU-SvetlanaNeural","si-LK":"si-LK-SameeraNeural","sk-SK":"sk-SK-LukasNeural","sl-SI":"sl-SI-PetraNeural","so-SO":"so-SO-MuuseNeural","sr-RS":"sr-RS-NicholasNeural","su-ID":"su-ID-JajangNeural","sv-SE":"sv-SE-SofieNeural","sw-KE":"sw-KE-RafikiNeural","sw-TZ":"sw-TZ-DaudiNeural","ta-IN":"ta-IN-PallaviNeural","ta-LK":"ta-LK-KumarNeural","ta-SG":"ta-SG-AnbuNeural","te-IN":"te-IN-MohanNeural","th-TH":"th-TH-PremwadeeNeural","tr-TR":"tr-TR-AhmetNeural","uk-UA":"uk-UA-OstapNeural","ur-IN":"ur-IN-GulNeural","ur-PK":"ur-PK-AsadNeural","uz-UZ":"uz-UZ-MadinaNeural","vi-VN":"vi-VN-HoaiMyNeural","zh-CN":"zh-CN-XiaoxiaoNeural","zh-HK":"zh-HK-HiuMaanNeural","zh-TW":"zh-TW-HsiaoChenNeural","zu-ZA":"zu-ZA-ThandoNeural"};let h=this.properties.getProperty(i.PropertyId.SpeechServiceConnection_SynthLanguage,"en-US"),p=this.properties.getProperty(i.PropertyId.SpeechServiceConnection_SynthVoice,""),v=k6.XMLEncode(a);return this.autoDetectSourceLanguage?h="en-US":p=p||d[h],p&&(v=`<voice name='${p}'>${v}</voice>`),v=`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='${h}'>${v}</speak>`,v}async dispose(a){this.privDisposed||(a&&this.privAdapter&&await this.privAdapter.dispose(),this.privDisposed=!0)}async adapterSpeak(){if(!this.privDisposed&&!this.privSynthesizing){this.privSynthesizing=!0;const a=await this.synthesisRequestQueue.dequeue();return this.privAdapter.Speak(a.text,a.isSSML,a.requestId,a.cb,a.err,a.dataStream)}}createSynthesizerConfig(a){return new e.SynthesizerConfig(a,this.privProperties)}implCommonSynthesizeSetup(){let a=typeof window<"u"?"Browser":"Node",d="unknown",h="unknown";typeof navigator<"u"&&(a=a+"/"+navigator.platform,d=navigator.userAgent,h=navigator.appVersion);const p=this.createSynthesizerConfig(new e.SpeechServiceConfig(new e.Context(new e.OS(a,d,h)))),v=this.privProperties.getProperty(i.PropertyId.SpeechServiceConnection_Key,void 0),m=v&&v!==""?new e.CognitiveSubscriptionKeyAuthentication(v):new e.CognitiveTokenAuthentication(()=>{const S=this.privProperties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(S)},()=>{const S=this.privProperties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(S)});this.privAdapter=this.createSynthesisAdapter(m,this.privConnectionFactory,p),this.privRestAdapter=this.createRestSynthesisAdapter(m,p)}static XMLEncode(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}};Us.Synthesizer=o;class l{constructor(a,d,h,p,v,m){this.requestId=a,this.text=d,this.isSSML=h,this.cb=p,this.err=v,this.dataStream=m}}return Us.SynthesisRequest=l,Us}var uu={},PT;function NB(){if(PT)return uu;PT=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.SpeechSynthesizer=void 0;const e=Ce(),t=je(),r=i6(),i=ih(),o=pa(),l=He(),c=se(),a=OS();let d=class M6 extends c.Synthesizer{constructor(p,v){super(p),v!==null&&(v===void 0?this.audioConfig=typeof window>"u"?void 0:c.AudioConfig.fromDefaultSpeakerOutput():this.audioConfig=v),this.privConnectionFactory=new e.SpeechSynthesisConnectionFactory,this.implCommonSynthesizeSetup()}static FromConfig(p,v,m){const S=p;return v.properties.mergeTo(S.properties),new M6(p,m)}speakTextAsync(p,v,m,S){this.speakImpl(p,!1,v,m,S)}speakSsmlAsync(p,v,m,S){this.speakImpl(p,!0,v,m,S)}async getVoicesAsync(p=""){return this.getVoices(p)}close(p,v){l.Contracts.throwIfDisposed(this.privDisposed),t.marshalPromiseToCallbacks(this.dispose(!0),p,v)}get internalData(){return this.privAdapter}createSynthesisAdapter(p,v,m){return new e.SpeechSynthesisAdapter(p,v,m,this,this.audioConfig)}createRestSynthesisAdapter(p,v){return new e.SynthesisRestAdapter(v,p)}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=i.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(c.SpeechSynthesisOutputFormat[this.properties.getProperty(c.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)])}speakImpl(p,v,m,S,C){try{l.Contracts.throwIfDisposed(this.privDisposed);const x=t.createNoDashGuid();let R;C instanceof c.PushAudioOutputStreamCallback?R=new o.PushAudioOutputStreamImpl(C):C instanceof c.PullAudioOutputStream?R=C:C!==void 0?R=new r.AudioFileWriter(C):R=void 0,this.synthesisRequestQueue.enqueue(new a.SynthesisRequest(x,p,v,w=>{if(this.privSynthesizing=!1,m)try{m(w)}catch(T){S&&S(T)}m=void 0,this.adapterSpeak().catch(()=>{})},w=>{S&&S(w)},R)),this.adapterSpeak().catch(()=>{})}catch(x){if(S)if(x instanceof Error){const R=x;S(R.name+": "+R.message)}else S(x);this.dispose(!0).catch(()=>{})}}async getVoices(p){const v=t.createNoDashGuid(),m=await this.privRestAdapter.getVoicesList(v);if(m.ok&&Array.isArray(m.json)){let S=m.json;return p&&p.length>0&&(S=S.filter(C=>!!C.Locale&&C.Locale.toLowerCase()===p.toLowerCase())),new c.SynthesisVoicesResult(v,S,void 0)}else return new c.SynthesisVoicesResult(v,void 0,`Error: ${m.status}: ${m.statusText}`)}};return uu.SpeechSynthesizer=d,uu}var du={},AT;function IB(){if(AT)return du;AT=1,Object.defineProperty(du,"__esModule",{value:!0}),du.SynthesisResult=void 0;let e=class{constructor(r,i,o,l){this.privResultId=r,this.privReason=i,this.privErrorDetails=o,this.privProperties=l}get resultId(){return this.privResultId}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}};return du.SynthesisResult=e,du}var hu={},_T;function jB(){if(_T)return hu;_T=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.SpeechSynthesisResult=void 0;const e=se();let t=class extends e.SynthesisResult{constructor(i,o,l,c,a,d){super(i,o,c,a),this.privAudioData=l,this.privAudioDuration=d}get audioData(){return this.privAudioData}get audioDuration(){return this.privAudioDuration}};return hu.SpeechSynthesisResult=t,hu}var pu={},kT;function OB(){if(kT)return pu;kT=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.SpeechSynthesisEventArgs=void 0;let e=class{constructor(r){this.privResult=r}get result(){return this.privResult}};return pu.SpeechSynthesisEventArgs=e,pu}var fu={},MT;function DB(){if(MT)return fu;MT=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.SpeechSynthesisWordBoundaryEventArgs=void 0;let e=class{constructor(r,i,o,l,c,a){this.privAudioOffset=r,this.privDuration=i,this.privText=o,this.privWordLength=l,this.privTextOffset=c,this.privBoundaryType=a}get audioOffset(){return this.privAudioOffset}get duration(){return this.privDuration}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}get boundaryType(){return this.privBoundaryType}};return fu.SpeechSynthesisWordBoundaryEventArgs=e,fu}var vu={},NT;function zB(){if(NT)return vu;NT=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.SpeechSynthesisBookmarkEventArgs=void 0;let e=class{constructor(r,i){this.privAudioOffset=r,this.privText=i}get audioOffset(){return this.privAudioOffset}get text(){return this.privText}};return vu.SpeechSynthesisBookmarkEventArgs=e,vu}var mu={},IT;function LB(){if(IT)return mu;IT=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.SpeechSynthesisVisemeEventArgs=void 0;let e=class{constructor(r,i,o){this.privAudioOffset=r,this.privVisemeId=i,this.privAnimation=o}get audioOffset(){return this.privAudioOffset}get visemeId(){return this.privVisemeId}get animation(){return this.privAnimation}};return mu.SpeechSynthesisVisemeEventArgs=e,mu}var Ug={},jT;function qB(){return jT||(jT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeechSynthesisBoundaryType=void 0,function(t){t.Word="WordBoundary",t.Punctuation="PunctuationBoundary",t.Sentence="SentenceBoundary"}(e.SpeechSynthesisBoundaryType||(e.SpeechSynthesisBoundaryType={}))}(Ug)),Ug}var gu={},OT;function BB(){if(OT)return gu;OT=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.SynthesisVoicesResult=void 0;const e=se();let t=class extends e.SynthesisResult{constructor(i,o,l){if(Array.isArray(o)){super(i,e.ResultReason.VoicesListRetrieved,void 0,new e.PropertyCollection),this.privVoices=[];for(const c of o)this.privVoices.push(new e.VoiceInfo(c))}else super(i,e.ResultReason.Canceled,l||"Error information unavailable",new e.PropertyCollection)}get voices(){return this.privVoices}};return gu.SynthesisVoicesResult=t,gu}var Vg={},DT;function UB(){return DT||(DT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoiceInfo=e.SynthesisVoiceType=e.SynthesisVoiceGender=void 0;var t;(function(l){l[l.Unknown=0]="Unknown",l[l.Female=1]="Female",l[l.Male=2]="Male",l[l.Neutral=3]="Neutral"})(t=e.SynthesisVoiceGender||(e.SynthesisVoiceGender={}));var r;(function(l){l[l.OnlineNeural=1]="OnlineNeural",l[l.OnlineStandard=2]="OnlineStandard",l[l.OfflineNeural=3]="OfflineNeural",l[l.OfflineStandard=4]="OfflineStandard"})(r=e.SynthesisVoiceType||(e.SynthesisVoiceType={}));const i={[t[t.Neutral]]:t.Neutral,[t[t.Male]]:t.Male,[t[t.Female]]:t.Female};class o{constructor(c){if(this.privStyleList=[],c){if(this.privName=c.Name,this.privLocale=c.Locale,this.privShortName=c.ShortName,this.privLocaleName=c.LocaleName,this.privDisplayName=c.DisplayName,this.privLocalName=c.LocalName,this.privVoiceType=c.VoiceType.endsWith("Standard")?r.OnlineStandard:r.OnlineNeural,this.privGender=i[c.Gender]||t.Unknown,c.StyleList&&Array.isArray(c.StyleList))for(const a of c.StyleList)this.privStyleList.push(a);this.privSampleRateHertz=c.SampleRateHertz,this.privStatus=c.Status,c.ExtendedPropertyMap&&(this.privExtendedPropertyMap=c.ExtendedPropertyMap),this.privWordsPerMinute=c.WordsPerMinute,Array.isArray(c.SecondaryLocaleList)&&(this.privSecondaryLocaleList=[...c.SecondaryLocaleList]),Array.isArray(c.RolePlayList)&&(this.privRolePlayList=[...c.RolePlayList])}}get name(){return this.privName}get locale(){return this.privLocale}get shortName(){return this.privShortName}get displayName(){return this.privDisplayName}get localName(){return this.privLocalName}get localeName(){return this.privLocaleName}get gender(){return this.privGender}get voiceType(){return this.privVoiceType}get styleList(){return this.privStyleList}get sampleRateHertz(){return this.privSampleRateHertz}get status(){return this.privStatus}get extendedPropertyMap(){return this.privExtendedPropertyMap}get wordsPerMinute(){return this.privWordsPerMinute}get secondaryLocaleList(){return this.privSecondaryLocaleList}get rolePlayList(){return this.privRolePlayList}}e.VoiceInfo=o}(Vg)),Vg}var yu={},zT;function VB(){if(zT)return yu;zT=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.SpeakerAudioDestination=void 0;const e=je(),t=pa(),r=po(),i=60*30,o={[r.AudioFormatTag.PCM]:"audio/wav",[r.AudioFormatTag.MuLaw]:"audio/x-wav",[r.AudioFormatTag.MP3]:"audio/mpeg",[r.AudioFormatTag.OGG_OPUS]:"audio/ogg",[r.AudioFormatTag.WEBM_OPUS]:"audio/webm; codecs=opus",[r.AudioFormatTag.ALaw]:"audio/x-wav",[r.AudioFormatTag.FLAC]:"audio/flac",[r.AudioFormatTag.AMR_WB]:"audio/amr-wb",[r.AudioFormatTag.G722]:"audio/G722"};let l=class{constructor(a){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=a||e.createNoDashGuid(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(a,d,h){this.privAudioBuffer!==void 0?(this.privAudioBuffer.push(a),this.updateSourceBuffer().then(()=>{d&&d()},p=>{h&&h(p)})):this.privAudioOutputStream!==void 0&&(this.privAudioOutputStream.write(a),this.privBytesReceived+=a.byteLength)}close(a,d){if(this.privIsClosed=!0,this.privSourceBuffer!==void 0)this.handleSourceBufferUpdateEnd().then(()=>{a&&a()},h=>{d&&d(h)});else if(this.privAudioOutputStream!==void 0&&typeof window<"u")if((this.privFormat.formatTag===r.AudioFormatTag.PCM||this.privFormat.formatTag===r.AudioFormatTag.MuLaw||this.privFormat.formatTag===r.AudioFormatTag.ALaw)&&this.privFormat.hasHeader===!1)console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else{let h=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(h).then(()=>{h=this.privFormat.addHeader(h);const p=new Blob([h],{type:o[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(p),this.notifyPlayback().then(()=>{a&&a()},v=>{d&&d(v)})},p=>{d&&d(p)})}else this.onAudioEnd&&this.onAudioEnd(this)}set format(a){if(typeof AudioContext<"u"||typeof window<"u"&&typeof window.webkitAudioContext<"u"){this.privFormat=a;const d=o[this.privFormat.formatTag];d===void 0?console.warn(`Unknown mimeType for format ${r.AudioFormatTag[this.privFormat.formatTag]}; playback is not supported.`):typeof MediaSource<"u"&&MediaSource.isTypeSupported(d)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=()=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=i,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(d),this.privSourceBuffer.onupdate=()=>{this.updateSourceBuffer().catch(h=>{e.Events.instance.onEvent(new e.BackgroundEvent(h))})},this.privSourceBuffer.onupdateend=()=>{this.handleSourceBufferUpdateEnd().catch(h=>{e.Events.instance.onEvent(new e.BackgroundEvent(h))})},this.privSourceBuffer.onupdatestart=()=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch(h=>{e.Events.instance.onEvent(new e.BackgroundEvent(h))})):(console.warn(`Format ${r.AudioFormatTag[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`),this.privAudioOutputStream=new t.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get volume(){var a;return((a=this.privAudio)==null?void 0:a.volume)??-1}set volume(a){this.privAudio&&(this.privAudio.volume=a)}mute(){this.privAudio&&(this.privAudio.muted=!0)}unmute(){this.privAudio&&(this.privAudio.muted=!1)}get isClosed(){return this.privIsClosed}get currentTime(){return this.privAudio!==void 0?this.privAudio.currentTime:-1}pause(){!this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.pause(),this.privIsPaused=!0)}resume(a,d){this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.play().then(()=>{a&&a()},h=>{d&&d(h)}),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}async updateSourceBuffer(){if(this.privAudioBuffer!==void 0&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const a=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(a)}catch{this.privAudioBuffer.unshift(a),console.log("buffer filled, pausing addition of binaries until space is made");return}await this.notifyPlayback()}else this.canEndStream()&&await this.handleSourceBufferUpdateEnd()}async handleSourceBufferUpdateEnd(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),await this.notifyPlayback())}async notifyPlayback(){!this.privPlaybackStarted&&this.privAudio!==void 0&&(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||await this.privAudio.play())}canEndStream(){return this.isClosed&&this.privSourceBuffer!==void 0&&this.privAudioBuffer.length===0&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&this.privMediaSource.readyState==="open"}sourceBufferAvailable(){return this.privSourceBuffer!==void 0&&!this.privSourceBuffer.updating}};return yu.SpeakerAudioDestination=l,yu}var Su={},LT;function FB(){if(LT)return Su;LT=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.ConversationTranscriptionCanceledEventArgs=void 0;const e=sh();let t=class extends e.CancellationEventArgsBase{};return Su.ConversationTranscriptionCanceledEventArgs=t,Su}var bu={},qT;function HB(){if(qT)return bu;qT=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.MeetingTranscriptionCanceledEventArgs=void 0;const e=sh();let t=class extends e.CancellationEventArgsBase{};return bu.MeetingTranscriptionCanceledEventArgs=t,bu}var Fg={},BT;function $B(){return BT||(BT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PronunciationAssessmentGradingSystem=void 0,function(t){t[t.FivePoint=1]="FivePoint",t[t.HundredMark=2]="HundredMark"}(e.PronunciationAssessmentGradingSystem||(e.PronunciationAssessmentGradingSystem={}))}(Fg)),Fg}var Hg={},UT;function KB(){return UT||(UT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PronunciationAssessmentGranularity=void 0,function(t){t[t.Phoneme=1]="Phoneme",t[t.Word=2]="Word",t[t.FullText=3]="FullText"}(e.PronunciationAssessmentGranularity||(e.PronunciationAssessmentGranularity={}))}(Hg)),Hg}var Cu={},VT;function WB(){if(VT)return Cu;VT=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.PronunciationAssessmentConfig=void 0;const e=He(),t=se();let r=class N6{constructor(o,l=t.PronunciationAssessmentGradingSystem.FivePoint,c=t.PronunciationAssessmentGranularity.Phoneme,a=!1){e.Contracts.throwIfNullOrUndefined(o,"referenceText"),this.privProperties=new t.PropertyCollection,this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_ReferenceText,o),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_GradingSystem,t.PronunciationAssessmentGradingSystem[l]),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_Granularity,t.PronunciationAssessmentGranularity[c]),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,String(a))}static fromJSON(o){e.Contracts.throwIfNullOrUndefined(o,"json");const l=new N6("");return l.privProperties=new t.PropertyCollection,l.properties.setProperty(t.PropertyId.PronunciationAssessment_Json,o),l}toJSON(){return this.updateJson(),this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Params)}applyTo(o){this.updateJson();const l=o.internalData;l.expectContentAssessmentResponse=!!this.privContentAssessmentTopic,l.speechContext.setPronunciationAssessmentParams(this.properties.getProperty(t.PropertyId.PronunciationAssessment_Params),this.privContentAssessmentTopic,l.isSpeakerDiarizationEnabled)}get referenceText(){return this.properties.getProperty(t.PropertyId.PronunciationAssessment_ReferenceText)}set referenceText(o){e.Contracts.throwIfNullOrWhitespace(o,"referenceText"),this.properties.setProperty(t.PropertyId.PronunciationAssessment_ReferenceText,o)}set phonemeAlphabet(o){e.Contracts.throwIfNullOrWhitespace(o,"phonemeAlphabet"),this.privPhonemeAlphabet=o}set enableMiscue(o){const l=o?"true":"false";this.properties.setProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,l)}get enableMiscue(){return this.properties.getProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,"false").toLowerCase()==="true"}set nbestPhonemeCount(o){this.privNBestPhonemeCount=o}set enableProsodyAssessment(o){this.privEnableProsodyAssessment=o}enableContentAssessmentWithTopic(o){this.privContentAssessmentTopic=o}get properties(){return this.privProperties}updateJson(){const o=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Json,"{}"),l=JSON.parse(o),c=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_ReferenceText);c&&(l.referenceText=c);const a=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_GradingSystem);a&&(l.gradingSystem=a);const d=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Granularity);d&&(l.granularity=d),this.privPhonemeAlphabet&&(l.phonemeAlphabet=this.privPhonemeAlphabet),this.privNBestPhonemeCount&&(l.nbestPhonemeCount=this.privNBestPhonemeCount),l.enableProsodyAssessment=this.privEnableProsodyAssessment,l.dimension="Comprehensive",this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_EnableMiscue)&&(l.enableMiscue=this.enableMiscue),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_Params,JSON.stringify(l))}};return Cu.PronunciationAssessmentConfig=r,Cu}var Vs={},FT;function GB(){if(FT)return Vs;FT=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.PronunciationAssessmentResult=Vs.ContentAssessmentResult=void 0;const e=He(),t=se();class r{constructor(l){this.privPronJson=l}get grammarScore(){return this.privPronJson.ContentAssessment.GrammarScore}get vocabularyScore(){return this.privPronJson.ContentAssessment.VocabularyScore}get topicScore(){return this.privPronJson.ContentAssessment.TopicScore}}Vs.ContentAssessmentResult=r;let i=class I6{constructor(l){const c=JSON.parse(l);e.Contracts.throwIfNullOrUndefined(c.NBest[0],"NBest"),this.privPronJson=c.NBest[0]}static fromResult(l){e.Contracts.throwIfNullOrUndefined(l,"result");const c=l.properties.getProperty(t.PropertyId.SpeechServiceResponse_JsonResult);return e.Contracts.throwIfNullOrUndefined(c,"json"),new I6(c)}get detailResult(){return this.privPronJson}get accuracyScore(){var l;return(l=this.detailResult.PronunciationAssessment)==null?void 0:l.AccuracyScore}get pronunciationScore(){var l;return(l=this.detailResult.PronunciationAssessment)==null?void 0:l.PronScore}get completenessScore(){var l;return(l=this.detailResult.PronunciationAssessment)==null?void 0:l.CompletenessScore}get fluencyScore(){var l;return(l=this.detailResult.PronunciationAssessment)==null?void 0:l.FluencyScore}get prosodyScore(){var l;return(l=this.detailResult.PronunciationAssessment)==null?void 0:l.ProsodyScore}get contentAssessmentResult(){if(this.detailResult.ContentAssessment!==void 0)return new r(this.detailResult)}};return Vs.PronunciationAssessmentResult=i,Vs}var xu={},HT;function JB(){if(HT)return xu;HT=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.AvatarConfig=void 0;const e=He(),t=se();let r=class{constructor(o,l,c){this.privCustomized=!1,e.Contracts.throwIfNullOrWhitespace(o,"character"),this.character=o,this.style=l,c===void 0&&(c=new t.AvatarVideoFormat),this.videoFormat=c}get customized(){return this.privCustomized}set customized(o){this.privCustomized=o}get backgroundColor(){return this.privBackgroundColor}set backgroundColor(o){this.privBackgroundColor=o}get backgroundImage(){return this.privBackgroundImage}set backgroundImage(o){this.privBackgroundImage=o}get remoteIceServers(){return this.privRemoteIceServers}set remoteIceServers(o){this.privRemoteIceServers=o}};return xu.AvatarConfig=r,xu}var $g={},$T;function YB(){return $T||($T=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AvatarEventArgs=e.AvatarEventTypes=void 0,function(r){r.SwitchedToSpeaking="SwitchedToSpeaking",r.SwitchedToIdle="SwitchedToIdle",r.SessionClosed="SessionClosed"}(e.AvatarEventTypes||(e.AvatarEventTypes={}));class t{constructor(i,o){this.privOffset=i,this.privDescription=o}get type(){return this.privType}get offset(){return this.privOffset}get description(){return this.privDescription}}e.AvatarEventArgs=t}($g)),$g}var Ru={},wu={},KT;function j6(){if(KT)return wu;KT=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.SpeechSynthesisConnectionFactory=void 0;const e=Zt(),t=se(),r=An(),i=Ce(),o=xr(),l=rs();let c=class{constructor(){this.synthesisUri="/cognitiveservices/websocket/v1"}create(d,h,p){let v=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const m=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,void 0),S=r.ConnectionFactoryBase.getHostSuffix(m),C=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),x=C===void 0?"tts":"voice",R=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+m+"."+x+".speech"+S),w={},T={};h.token!==void 0&&h.token!==""&&(T[h.headerName]=h.token),T[o.HeaderNames.ConnectionId]=p,C!==void 0&&C!==""&&(!v||v.search(l.QueryParameterNames.CustomVoiceDeploymentId)===-1)&&(w[l.QueryParameterNames.CustomVoiceDeploymentId]=C),d.avatarEnabled&&(!v||v.search(l.QueryParameterNames.EnableAvatar)===-1)&&(w[l.QueryParameterNames.EnableAvatar]="true"),v||(v=R+this.synthesisUri),d.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,v);const P=d.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(v,w,T,new i.WebsocketMessageFormatter,e.ProxyInfo.fromParameters(d.parameters),P,p)}};return wu.SpeechSynthesisConnectionFactory=c,wu}var WT;function QB(){if(WT)return Ru;WT=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.AvatarSynthesizer=void 0;const e=j6(),t=Ce(),r=je(),i=ih(),o=se(),l=He(),c=OS();let a=class extends o.Synthesizer{constructor(h,p){super(h),l.Contracts.throwIfNullOrUndefined(p,"avatarConfig"),this.privConnectionFactory=new e.SpeechSynthesisConnectionFactory,this.privAvatarConfig=p,this.implCommonSynthesizeSetup()}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=i.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(o.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm)}async startAvatarAsync(h){l.Contracts.throwIfNullOrUndefined(h,"peerConnection"),this.privIceServers=h.getConfiguration().iceServers,l.Contracts.throwIfNullOrUndefined(this.privIceServers,"Ice servers must be set.");const p=new r.Deferred;h.onicegatheringstatechange=()=>{r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering state: "+h.iceGatheringState,r.EventType.Debug)),h.iceGatheringState==="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering complete.",r.EventType.Info)),p.resolve())},h.onicecandidate=x=>{x.candidate?r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: "+x.candidate.candidate,r.EventType.Debug)):(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: complete",r.EventType.Debug)),p.resolve())},setTimeout(()=>{h.iceGatheringState!=="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering timeout.",r.EventType.Warning)),p.resolve())},2e3);const v=await h.createOffer();await h.setLocalDescription(v),await p.promise,r.Events.instance.onEvent(new r.PlatformEvent("peer connection: got local SDP.",r.EventType.Info)),this.privProperties.setProperty(o.PropertyId.TalkingAvatarService_WebRTC_SDP,JSON.stringify(h.localDescription));const m=await this.speak("",!1);if(m.reason!==o.ResultReason.SynthesizingAudioCompleted)return new o.SynthesisResult(m.resultId,m.reason,m.errorDetails,m.properties);const S=atob(m.properties.getProperty(o.PropertyId.TalkingAvatarService_WebRTC_SDP)),C=new RTCSessionDescription(JSON.parse(S));return await h.setRemoteDescription(C),new o.SynthesisResult(m.resultId,m.reason,void 0,m.properties)}async speakTextAsync(h){const p=await this.speak(h,!1);return new o.SynthesisResult(p.resultId,p.reason,p.errorDetails,p.properties)}async speakSsmlAsync(h){const p=await this.speak(h,!0);return new o.SynthesisResult(p.resultId,p.reason,p.errorDetails,p.properties)}async stopSpeakingAsync(){for(;this.synthesisRequestQueue.length()>0;)(await this.synthesisRequestQueue.dequeue()).err("Synthesis is canceled by user.");return this.privAdapter.stopSpeaking()}async stopAvatarAsync(){return l.Contracts.throwIfDisposed(this.privDisposed),this.dispose(!0)}async close(){if(!this.privDisposed)return this.dispose(!0)}get iceServers(){return this.privIceServers}createSynthesisAdapter(h,p,v){return new t.AvatarSynthesisAdapter(h,p,v,this,this.privAvatarConfig)}createRestSynthesisAdapter(h,p){}createSynthesizerConfig(h){const p=super.createSynthesizerConfig(h);return p.avatarEnabled=!0,p}async speak(h,p){const v=r.createNoDashGuid(),m=new r.Deferred;return this.synthesisRequestQueue.enqueue(new c.SynthesisRequest(v,h,p,S=>{m.resolve(S),this.privSynthesizing=!1,this.adapterSpeak()},S=>{m.reject(S),this.privSynthesizing=!1})),this.adapterSpeak(),m.promise}};return Ru.AvatarSynthesizer=a,Ru}var Fs={},GT;function XB(){if(GT)return Fs;GT=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.AvatarVideoFormat=Fs.Coordinate=void 0;class e{constructor(i,o){this.x=i,this.y=o}}Fs.Coordinate=e;let t=class{constructor(i="H264",o=2e6,l=1920,c=1080){this.codec=i,this.bitrate=o,this.width=l,this.height=c}setCropRange(i,o){this.cropRange={bottomRight:o,topLeft:i}}};return Fs.AvatarVideoFormat=t,Fs}var Eu={},JT;function ZB(){if(JT)return Eu;JT=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.AvatarWebRTCConnectionResult=void 0;const e=se();let t=class extends e.SynthesisResult{constructor(i,o,l,c,a){super(o,l,c,a),this.privSDPAnswer=i}get SDPAnswer(){return this.privSDPAnswer}};return Eu.AvatarWebRTCConnectionResult=t,Eu}var Tu={},YT;function eU(){if(YT)return Tu;YT=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.Diagnostics=void 0;const e=Zt(),t=je();let r=class{static SetLoggingLevel(o){this.privListener=new e.ConsoleLoggingListener(o),t.Events.instance.attachConsoleListener(this.privListener)}static StartConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!0)}static StopConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!1)}static SetLogOutputPath(o){if(typeof window>"u")this.privListener&&(this.privListener.logPath=o);else throw new Error("File system logging not available in browser.")}static set onLogOutput(o){this.privListener&&(this.privListener.logCallback=o)}};return Tu.Diagnostics=r,r.privListener=void 0,Tu}var QT;function se(){return QT||(QT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=c6();Object.defineProperty(e,"AudioConfig",{enumerable:!0,get:function(){return t.AudioConfig}});var r=po();Object.defineProperty(e,"AudioStreamFormat",{enumerable:!0,get:function(){return r.AudioStreamFormat}}),Object.defineProperty(e,"AudioFormatTag",{enumerable:!0,get:function(){return r.AudioFormatTag}});var i=s6();Object.defineProperty(e,"AudioInputStream",{enumerable:!0,get:function(){return i.AudioInputStream}}),Object.defineProperty(e,"PullAudioInputStream",{enumerable:!0,get:function(){return i.PullAudioInputStream}}),Object.defineProperty(e,"PushAudioInputStream",{enumerable:!0,get:function(){return i.PushAudioInputStream}});var o=pa();Object.defineProperty(e,"AudioOutputStream",{enumerable:!0,get:function(){return o.AudioOutputStream}}),Object.defineProperty(e,"PullAudioOutputStream",{enumerable:!0,get:function(){return o.PullAudioOutputStream}}),Object.defineProperty(e,"PushAudioOutputStream",{enumerable:!0,get:function(){return o.PushAudioOutputStream}});var l=pq();Object.defineProperty(e,"CancellationReason",{enumerable:!0,get:function(){return l.CancellationReason}});var c=fq();Object.defineProperty(e,"PullAudioInputStreamCallback",{enumerable:!0,get:function(){return c.PullAudioInputStreamCallback}});var a=vq();Object.defineProperty(e,"PushAudioOutputStreamCallback",{enumerable:!0,get:function(){return a.PushAudioOutputStreamCallback}});var d=mq();Object.defineProperty(e,"KeywordRecognitionModel",{enumerable:!0,get:function(){return d.KeywordRecognitionModel}});var h=gq();Object.defineProperty(e,"SessionEventArgs",{enumerable:!0,get:function(){return h.SessionEventArgs}});var p=yq();Object.defineProperty(e,"RecognitionEventArgs",{enumerable:!0,get:function(){return p.RecognitionEventArgs}});var v=Sq();Object.defineProperty(e,"OutputFormat",{enumerable:!0,get:function(){return v.OutputFormat}});var m=bq();Object.defineProperty(e,"IntentRecognitionEventArgs",{enumerable:!0,get:function(){return m.IntentRecognitionEventArgs}});var S=Cq();Object.defineProperty(e,"RecognitionResult",{enumerable:!0,get:function(){return S.RecognitionResult}});var C=xq();Object.defineProperty(e,"SpeechRecognitionResult",{enumerable:!0,get:function(){return C.SpeechRecognitionResult}});var x=Rq();Object.defineProperty(e,"IntentRecognitionResult",{enumerable:!0,get:function(){return x.IntentRecognitionResult}});var R=wq();Object.defineProperty(e,"LanguageUnderstandingModel",{enumerable:!0,get:function(){return R.LanguageUnderstandingModel}});var w=Eq();Object.defineProperty(e,"SpeechRecognitionEventArgs",{enumerable:!0,get:function(){return w.SpeechRecognitionEventArgs}}),Object.defineProperty(e,"ConversationTranscriptionEventArgs",{enumerable:!0,get:function(){return w.ConversationTranscriptionEventArgs}}),Object.defineProperty(e,"MeetingTranscriptionEventArgs",{enumerable:!0,get:function(){return w.MeetingTranscriptionEventArgs}});var T=Tq();Object.defineProperty(e,"SpeechRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return T.SpeechRecognitionCanceledEventArgs}});var P=Pq();Object.defineProperty(e,"TranslationRecognitionEventArgs",{enumerable:!0,get:function(){return P.TranslationRecognitionEventArgs}});var I=Aq();Object.defineProperty(e,"TranslationSynthesisEventArgs",{enumerable:!0,get:function(){return I.TranslationSynthesisEventArgs}});var k=u6();Object.defineProperty(e,"TranslationRecognitionResult",{enumerable:!0,get:function(){return k.TranslationRecognitionResult}});var U=_q();Object.defineProperty(e,"TranslationSynthesisResult",{enumerable:!0,get:function(){return U.TranslationSynthesisResult}});var H=kq();Object.defineProperty(e,"ResultReason",{enumerable:!0,get:function(){return H.ResultReason}});var q=Mq();Object.defineProperty(e,"SpeechConfig",{enumerable:!0,get:function(){return q.SpeechConfig}}),Object.defineProperty(e,"SpeechConfigImpl",{enumerable:!0,get:function(){return q.SpeechConfigImpl}});var F=Nq();Object.defineProperty(e,"SpeechTranslationConfig",{enumerable:!0,get:function(){return F.SpeechTranslationConfig}}),Object.defineProperty(e,"SpeechTranslationConfigImpl",{enumerable:!0,get:function(){return F.SpeechTranslationConfigImpl}});var $=h6();Object.defineProperty(e,"PropertyCollection",{enumerable:!0,get:function(){return $.PropertyCollection}});var ue=NS();Object.defineProperty(e,"PropertyId",{enumerable:!0,get:function(){return ue.PropertyId}});var oe=Iq();Object.defineProperty(e,"Recognizer",{enumerable:!0,get:function(){return oe.Recognizer}});var re=jq();Object.defineProperty(e,"SpeechRecognizer",{enumerable:!0,get:function(){return re.SpeechRecognizer}});var xe=Oq();Object.defineProperty(e,"IntentRecognizer",{enumerable:!0,get:function(){return xe.IntentRecognizer}});var ke=Dq();Object.defineProperty(e,"VoiceProfileType",{enumerable:!0,get:function(){return ke.VoiceProfileType}});var ee=zq();Object.defineProperty(e,"TranslationRecognizer",{enumerable:!0,get:function(){return ee.TranslationRecognizer}});var ae=Lq();Object.defineProperty(e,"Translations",{enumerable:!0,get:function(){return ae.Translations}});var de=qq();Object.defineProperty(e,"NoMatchReason",{enumerable:!0,get:function(){return de.NoMatchReason}});var Me=Bq();Object.defineProperty(e,"NoMatchDetails",{enumerable:!0,get:function(){return Me.NoMatchDetails}});var N=Uq();Object.defineProperty(e,"TranslationRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return N.TranslationRecognitionCanceledEventArgs}});var Q=Vq();Object.defineProperty(e,"IntentRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return Q.IntentRecognitionCanceledEventArgs}});var me=S6();Object.defineProperty(e,"CancellationDetailsBase",{enumerable:!0,get:function(){return me.CancellationDetailsBase}});var X=Fq();Object.defineProperty(e,"CancellationDetails",{enumerable:!0,get:function(){return X.CancellationDetails}});var ne=Hq();Object.defineProperty(e,"CancellationErrorCode",{enumerable:!0,get:function(){return ne.CancellationErrorCode}});var fe=$q();Object.defineProperty(e,"ConnectionEventArgs",{enumerable:!0,get:function(){return fe.ConnectionEventArgs}});var be=Kq();Object.defineProperty(e,"ServiceEventArgs",{enumerable:!0,get:function(){return be.ServiceEventArgs}});var ut=m6();Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return ut.Connection}});var Ne=Wq();Object.defineProperty(e,"PhraseListGrammar",{enumerable:!0,get:function(){return Ne.PhraseListGrammar}});var ct=IS();Object.defineProperty(e,"DialogServiceConfig",{enumerable:!0,get:function(){return ct.DialogServiceConfig}});var nt=Gq();Object.defineProperty(e,"BotFrameworkConfig",{enumerable:!0,get:function(){return nt.BotFrameworkConfig}});var lt=Jq();Object.defineProperty(e,"CustomCommandsConfig",{enumerable:!0,get:function(){return lt.CustomCommandsConfig}});var or=Qq();Object.defineProperty(e,"DialogServiceConnector",{enumerable:!0,get:function(){return or.DialogServiceConnector}});var It=Xq();Object.defineProperty(e,"ActivityReceivedEventArgs",{enumerable:!0,get:function(){return It.ActivityReceivedEventArgs}});var Gt=eB();Object.defineProperty(e,"TurnStatusReceivedEventArgs",{enumerable:!0,get:function(){return Gt.TurnStatusReceivedEventArgs}});var Rr=tB();Object.defineProperty(e,"ServicePropertyChannel",{enumerable:!0,get:function(){return Rr.ServicePropertyChannel}});var wr=rB();Object.defineProperty(e,"ProfanityOption",{enumerable:!0,get:function(){return wr.ProfanityOption}});var ar=nB();Object.defineProperty(e,"BaseAudioPlayer",{enumerable:!0,get:function(){return ar.BaseAudioPlayer}});var j=iB();Object.defineProperty(e,"ConnectionMessageEventArgs",{enumerable:!0,get:function(){return j.ConnectionMessageEventArgs}});var z=v6();Object.defineProperty(e,"ConnectionMessage",{enumerable:!0,get:function(){return z.ConnectionMessage}});var G=sB();Object.defineProperty(e,"VoiceProfile",{enumerable:!0,get:function(){return G.VoiceProfile}});var he=oB();Object.defineProperty(e,"VoiceProfileEnrollmentResult",{enumerable:!0,get:function(){return he.VoiceProfileEnrollmentResult}}),Object.defineProperty(e,"VoiceProfileEnrollmentCancellationDetails",{enumerable:!0,get:function(){return he.VoiceProfileEnrollmentCancellationDetails}});var ce=aB();Object.defineProperty(e,"VoiceProfileResult",{enumerable:!0,get:function(){return ce.VoiceProfileResult}}),Object.defineProperty(e,"VoiceProfileCancellationDetails",{enumerable:!0,get:function(){return ce.VoiceProfileCancellationDetails}});var ie=cB();Object.defineProperty(e,"VoiceProfilePhraseResult",{enumerable:!0,get:function(){return ie.VoiceProfilePhraseResult}});var ye=lB();Object.defineProperty(e,"VoiceProfileClient",{enumerable:!0,get:function(){return ye.VoiceProfileClient}});var Ae=uB();Object.defineProperty(e,"SpeakerRecognizer",{enumerable:!0,get:function(){return Ae.SpeakerRecognizer}});var ve=dB();Object.defineProperty(e,"SpeakerIdentificationModel",{enumerable:!0,get:function(){return ve.SpeakerIdentificationModel}});var Ee=hB();Object.defineProperty(e,"SpeakerVerificationModel",{enumerable:!0,get:function(){return Ee.SpeakerVerificationModel}});var Le=pB();Object.defineProperty(e,"AutoDetectSourceLanguageConfig",{enumerable:!0,get:function(){return Le.AutoDetectSourceLanguageConfig}});var yt=fB();Object.defineProperty(e,"AutoDetectSourceLanguageResult",{enumerable:!0,get:function(){return yt.AutoDetectSourceLanguageResult}});var At=vB();Object.defineProperty(e,"SourceLanguageConfig",{enumerable:!0,get:function(){return At.SourceLanguageConfig}});var vt=mB();Object.defineProperty(e,"SpeakerRecognitionResult",{enumerable:!0,get:function(){return vt.SpeakerRecognitionResult}}),Object.defineProperty(e,"SpeakerRecognitionResultType",{enumerable:!0,get:function(){return vt.SpeakerRecognitionResultType}}),Object.defineProperty(e,"SpeakerRecognitionCancellationDetails",{enumerable:!0,get:function(){return vt.SpeakerRecognitionCancellationDetails}});var Ct=jS();Object.defineProperty(e,"Conversation",{enumerable:!0,get:function(){return Ct.Conversation}}),Object.defineProperty(e,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return Ct.ConversationExpirationEventArgs}}),Object.defineProperty(e,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return Ct.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(e,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return Ct.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(e,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return Ct.ConversationTranslationEventArgs}}),Object.defineProperty(e,"ConversationTranslationResult",{enumerable:!0,get:function(){return Ct.ConversationTranslationResult}}),Object.defineProperty(e,"ConversationTranslator",{enumerable:!0,get:function(){return Ct.ConversationTranslator}}),Object.defineProperty(e,"ConversationTranscriber",{enumerable:!0,get:function(){return Ct.ConversationTranscriber}}),Object.defineProperty(e,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return Ct.ConversationTranscriptionResult}}),Object.defineProperty(e,"Meeting",{enumerable:!0,get:function(){return Ct.Meeting}}),Object.defineProperty(e,"MeetingTranscriber",{enumerable:!0,get:function(){return Ct.MeetingTranscriber}}),Object.defineProperty(e,"Participant",{enumerable:!0,get:function(){return Ct.Participant}}),Object.defineProperty(e,"ParticipantChangedReason",{enumerable:!0,get:function(){return Ct.ParticipantChangedReason}}),Object.defineProperty(e,"User",{enumerable:!0,get:function(){return Ct.User}});var er=OS();Object.defineProperty(e,"Synthesizer",{enumerable:!0,get:function(){return er.Synthesizer}});var St=o6();Object.defineProperty(e,"SpeechSynthesisOutputFormat",{enumerable:!0,get:function(){return St.SpeechSynthesisOutputFormat}});var Vn=NB();Object.defineProperty(e,"SpeechSynthesizer",{enumerable:!0,get:function(){return Vn.SpeechSynthesizer}});var Er=IB();Object.defineProperty(e,"SynthesisResult",{enumerable:!0,get:function(){return Er.SynthesisResult}});var Lt=jB();Object.defineProperty(e,"SpeechSynthesisResult",{enumerable:!0,get:function(){return Lt.SpeechSynthesisResult}});var ma=OB();Object.defineProperty(e,"SpeechSynthesisEventArgs",{enumerable:!0,get:function(){return ma.SpeechSynthesisEventArgs}});var ga=DB();Object.defineProperty(e,"SpeechSynthesisWordBoundaryEventArgs",{enumerable:!0,get:function(){return ga.SpeechSynthesisWordBoundaryEventArgs}});var ya=zB();Object.defineProperty(e,"SpeechSynthesisBookmarkEventArgs",{enumerable:!0,get:function(){return ya.SpeechSynthesisBookmarkEventArgs}});var Ci=LB();Object.defineProperty(e,"SpeechSynthesisVisemeEventArgs",{enumerable:!0,get:function(){return Ci.SpeechSynthesisVisemeEventArgs}});var xi=qB();Object.defineProperty(e,"SpeechSynthesisBoundaryType",{enumerable:!0,get:function(){return xi.SpeechSynthesisBoundaryType}});var un=BB();Object.defineProperty(e,"SynthesisVoicesResult",{enumerable:!0,get:function(){return un.SynthesisVoicesResult}});var Ri=UB();Object.defineProperty(e,"VoiceInfo",{enumerable:!0,get:function(){return Ri.VoiceInfo}});var Ur=VB();Object.defineProperty(e,"SpeakerAudioDestination",{enumerable:!0,get:function(){return Ur.SpeakerAudioDestination}});var dn=FB();Object.defineProperty(e,"ConversationTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return dn.ConversationTranscriptionCanceledEventArgs}});var Fn=HB();Object.defineProperty(e,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return Fn.MeetingTranscriptionCanceledEventArgs}});var ns=$B();Object.defineProperty(e,"PronunciationAssessmentGradingSystem",{enumerable:!0,get:function(){return ns.PronunciationAssessmentGradingSystem}});var Hn=KB();Object.defineProperty(e,"PronunciationAssessmentGranularity",{enumerable:!0,get:function(){return Hn.PronunciationAssessmentGranularity}});var $n=WB();Object.defineProperty(e,"PronunciationAssessmentConfig",{enumerable:!0,get:function(){return $n.PronunciationAssessmentConfig}});var Sa=GB();Object.defineProperty(e,"PronunciationAssessmentResult",{enumerable:!0,get:function(){return Sa.PronunciationAssessmentResult}});var K=w6();Object.defineProperty(e,"LanguageIdMode",{enumerable:!0,get:function(){return K.LanguageIdMode}});var le=JB();Object.defineProperty(e,"AvatarConfig",{enumerable:!0,get:function(){return le.AvatarConfig}});var De=YB();Object.defineProperty(e,"AvatarEventArgs",{enumerable:!0,get:function(){return De.AvatarEventArgs}});var Oe=QB();Object.defineProperty(e,"AvatarSynthesizer",{enumerable:!0,get:function(){return Oe.AvatarSynthesizer}});var Te=XB();Object.defineProperty(e,"AvatarVideoFormat",{enumerable:!0,get:function(){return Te.AvatarVideoFormat}}),Object.defineProperty(e,"Coordinate",{enumerable:!0,get:function(){return Te.Coordinate}});var ge=ZB();Object.defineProperty(e,"AvatarWebRTCConnectionResult",{enumerable:!0,get:function(){return ge.AvatarWebRTCConnectionResult}});var Se=eU();Object.defineProperty(e,"Diagnostics",{enumerable:!0,get:function(){return Se.Diagnostics}});var pe=r6();Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return pe.LogLevel}})}(Eg)),Eg}var XT;function tU(){if(XT)return el;XT=1,Object.defineProperty(el,"__esModule",{value:!0}),el.ProxyInfo=void 0;const e=se();let t=class O6{constructor(i,o,l,c){this.privProxyHostName=i,this.privProxyPort=o,this.privProxyUserName=l,this.privProxyPassword=c}static fromParameters(i){return new O6(i.getProperty(e.PropertyId.SpeechServiceConnection_ProxyHostName),parseInt(i.getProperty(e.PropertyId.SpeechServiceConnection_ProxyPort),10),i.getProperty(e.PropertyId.SpeechServiceConnection_ProxyUserName),i.getProperty(e.PropertyId.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(i){return this.fromParameters(i.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}};return el.ProxyInfo=t,el}var Pu={},Kg,ZT;function rU(){if(ZT)return Kg;ZT=1;const e=new Set(["json","buffer","string"]);return Kg=t=>(...r)=>{const i=new Set;let o,l,c,a="";return r.forEach(d=>{if(typeof d=="string")if(d.toUpperCase()===d)if(o){const h=`Can't set method to ${d}, already set to ${o}.`;throw new Error(h)}else o=d;else if(d.startsWith("http:")||d.startsWith("https:"))a=d;else if(e.has(d))l=d;else throw new Error(`Unknown encoding, ${d}`);else if(typeof d=="number")i.add(d);else if(typeof d=="object")if(Array.isArray(d)||d instanceof Set)d.forEach(h=>i.add(h));else{if(c)throw new Error("Cannot set headers twice.");c=d}else throw new Error(`Unknown type: ${typeof d}`)}),o||(o="GET"),i.size===0&&i.add(200),t(i,o,l,c,a)},Kg}var Wg,eP;function nU(){if(eP)return Wg;eP=1;const e=rU();class t extends Error{constructor(o,...l){super(...l),Error.captureStackTrace&&Error.captureStackTrace(this,t),this.name="StatusError",this.message=o.statusMessage,this.statusCode=o.status,this.res=o,this.json=o.json.bind(o),this.text=o.text.bind(o),this.arrayBuffer=o.arrayBuffer.bind(o);let c;Object.defineProperty(this,"responseBody",{get:()=>(c||(c=this.arrayBuffer()),c)}),this.headers={};for(const[d,h]of o.headers.entries())this.headers[d.toLowerCase()]=h}}return Wg=e((i,o,l,c,a)=>async(d,h,p={})=>{d=a+(d||"");let v=new URL(d);if(c||(c={}),v.username&&(c.Authorization="Basic "+btoa(v.username+":"+v.password),v=new URL(v.protocol+"//"+v.host+v.pathname+v.search)),v.protocol!=="https:"&&v.protocol!=="http:")throw new Error(`Unknown protocol, ${v.protocol}`);if(h&&!(h instanceof ArrayBuffer||ArrayBuffer.isView(h)||typeof h=="string"))if(typeof h=="object")h=JSON.stringify(h),c["Content-Type"]="application/json";else throw new Error("Unknown body type.");p=new Headers({...c||{},...p});const m=await fetch(v,{method:o,headers:p,body:h});if(m.statusCode=m.status,!i.has(m.status))throw new t(m);return l==="json"?m.json():l==="buffer"?m.arrayBuffer():l==="string"?m.text():m}),Wg}var tP;function iU(){return tP||(tP=1,function(e){var t=Pu&&Pu.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.RestMessageAdapter=e.RestRequestType=void 0;const r=t(nU()),i=je();var o;(function(c){c.Get="GET",c.Post="POST",c.Delete="DELETE",c.File="file"})(o=e.RestRequestType||(e.RestRequestType={}));let l=class{constructor(a){if(!a)throw new i.ArgumentNullError("configParams");this.privHeaders=a.headers,this.privIgnoreCache=a.ignoreCache}static extractHeaderValue(a,d){let h="";try{const p=d.trim().split(/[\r\n]+/),v={};p.forEach(m=>{const S=m.split(": "),C=S.shift().toLowerCase(),x=S.join(": ");v[C]=x}),h=v[a.toLowerCase()]}catch{}return h}set options(a){this.privHeaders=a.headers,this.privIgnoreCache=a.ignoreCache}setHeaders(a,d){this.privHeaders[a]=d}request(a,d,h={},p=null){const v=new i.Deferred,m=a===o.File?"POST":a,S=(x,R={})=>{const w=x;return{data:JSON.stringify(R),headers:JSON.stringify(x.headers),json:R,ok:x.statusCode>=200&&x.statusCode<300,status:x.statusCode,statusText:R.error?R.error.message:w.statusText?w.statusText:w.statusMessage}},C=x=>{const R=r.default(d,m,this.privHeaders,200,201,202,204,400,401,402,403,404),w=this.queryParams(h)===""?"":`?${this.queryParams(h)}`;R(w,x).then(async T=>{if(a===o.Delete||T.statusCode===204)v.resolve(S(T));else try{const P=await T.json();v.resolve(S(T,P))}catch{v.resolve(S(T))}}).catch(T=>{v.reject(T)})};return this.privIgnoreCache&&(this.privHeaders["Cache-Control"]="no-cache"),a===o.Post&&p&&(this.privHeaders["content-type"]="application/json",this.privHeaders["Content-Type"]="application/json"),C(p),v.promise}queryParams(a={}){return Object.keys(a).map(d=>encodeURIComponent(d)+"="+encodeURIComponent(a[d])).join("&")}};e.RestMessageAdapter=l}(Pu)),Pu}var Au={},rP;function D6(){if(rP)return Au;rP=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.RestConfigBase=void 0;let e=class Dp{static get requestOptions(){return Dp.privDefaultRequestOptions}static get configParams(){return Dp.privDefaultParams}static get restErrors(){return Dp.privRestErrors}};return Au.RestConfigBase=e,e.privDefaultRequestOptions={headers:{Accept:"application/json"},ignoreCache:!1,timeout:1e4},e.privRestErrors={authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."},e.privDefaultParams={apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",contentTypeKey:"Content-Type",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"},Au}var nP;function Zt(){return nP||(nP=1,function(e){var t=ks&&ks.__createBinding||(Object.create?function(i,o,l,c){c===void 0&&(c=l),Object.defineProperty(i,c,{enumerable:!0,get:function(){return o[l]}})}:function(i,o,l,c){c===void 0&&(c=l),i[c]=o[l]}),r=ks&&ks.__exportStar||function(i,o){for(var l in i)l!=="default"&&!o.hasOwnProperty(l)&&t(o,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),r(oq(),e),r(aq(),e),r(cq(),e),r(lq(),e),r(uq(),e),r(dq(),e),r(n6(),e),r(hq(),e),r(tU(),e),r(iU(),e),r(D6(),e)}(ks)),ks}var iP;function sU(){if(iP)return Gc;iP=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.IntentConnectionFactory=void 0;const e=Zt(),t=se(),r=An(),i=Ce(),o=xr();let l=class extends r.ConnectionFactoryBase{create(a,d,h){let p=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint);if(!p){const C=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_IntentRegion),x=r.ConnectionFactoryBase.getHostSuffix(C);p=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+C+".sr.speech"+x)+"/speech/recognition/interactive/cognitiveservices/v1"}const v={format:"simple",language:a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(a,v,p);const m={};d.token!==void 0&&d.token!==""&&(m[d.headerName]=d.token),m[o.HeaderNames.ConnectionId]=h,a.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,p);const S=a.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(p,v,m,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(a),S,h)}getSpeechRegionFromIntentRegion(a){switch(a){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return a}}};return Gc.IntentConnectionFactory=l,Gc}var Hs={},sP;function oU(){if(sP)return Hs;sP=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.VoiceProfileConnectionFactory=Hs.SpeakerRecognitionConnectionFactory=void 0;const e=Zt(),t=se(),r=An(),i=Ce(),o=xr();class l extends r.ConnectionFactoryBase{create(h,p,v,m){let S=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint);if(!S){const w=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region),T=r.ConnectionFactoryBase.getHostSuffix(w),P=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,`wss://${w}.spr-frontend.speech${T}`),I=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_SpeakerIdMode,"TextIndependentIdentification");S=`${P}/speaker/ws/${this.scenarioToPath(I)}/${v}`}const C={format:"simple",language:h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(h,C,S);const x={};p.token!==void 0&&p.token!==""&&(x[p.headerName]=p.token),x[o.HeaderNames.ConnectionId]=m,x[o.HeaderNames.SpIDAuthKey]=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Key),h.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,S);const R=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(S,C,x,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),R,m)}scenarioToPath(h){switch(h){case"TextIndependentVerification":case"2":return"verification/text-independent";case"TextDependentVerification":case"1":return"verification/text-dependent";default:return"identification/text-independent"}}}let c=class extends l{create(h,p,v){return super.create(h,p,"recognition",v)}};Hs.SpeakerRecognitionConnectionFactory=c;class a extends l{create(h,p,v){return super.create(h,p,"profile",v)}}return Hs.VoiceProfileConnectionFactory=a,Hs}var Gg={},oP;function DS(){return oP||(oP=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionEndedEvent=e.RecognitionCompletionStatus=e.RecognitionStartedEvent=e.ConnectingToServiceEvent=e.ListeningStartedEvent=e.RecognitionTriggeredEvent=e.SpeechRecognitionEvent=void 0;const t=je();class r extends t.PlatformEvent{constructor(p,v,m,S=t.EventType.Info){super(p,S),this.privRequestId=v,this.privSessionId=m}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}e.SpeechRecognitionEvent=r;class i extends r{constructor(p,v,m,S){super("RecognitionTriggeredEvent",p,v),this.privAudioSourceId=m,this.privAudioNodeId=S}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}e.RecognitionTriggeredEvent=i;class o extends r{constructor(p,v,m,S){super("ListeningStartedEvent",p,v),this.privAudioSourceId=m,this.privAudioNodeId=S}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}e.ListeningStartedEvent=o;class l extends r{constructor(p,v,m){super("ConnectingToServiceEvent",p,m),this.privAuthFetchEventid=v}get authFetchEventid(){return this.privAuthFetchEventid}}e.ConnectingToServiceEvent=l;class c extends r{constructor(p,v,m,S,C){super("RecognitionStartedEvent",p,C),this.privAudioSourceId=v,this.privAudioNodeId=m,this.privAuthFetchEventId=S}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}}e.RecognitionStartedEvent=c;var a;(function(h){h[h.Success=0]="Success",h[h.AudioSourceError=1]="AudioSourceError",h[h.AudioSourceTimeout=2]="AudioSourceTimeout",h[h.AuthTokenFetchError=3]="AuthTokenFetchError",h[h.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",h[h.UnAuthorized=5]="UnAuthorized",h[h.ConnectTimeout=6]="ConnectTimeout",h[h.ConnectError=7]="ConnectError",h[h.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",h[h.UnknownError=9]="UnknownError"})(a=e.RecognitionCompletionStatus||(e.RecognitionCompletionStatus={}));class d extends r{constructor(p,v,m,S,C,x,R,w){super("RecognitionEndedEvent",p,C,R===a.Success?t.EventType.Info:t.EventType.Error),this.privAudioSourceId=v,this.privAudioNodeId=m,this.privAuthFetchEventId=S,this.privStatus=R,this.privError=w,this.privServiceTag=x}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}get serviceTag(){return this.privServiceTag}get status(){return this.privStatus}get error(){return this.privError}}e.RecognitionEndedEvent=d}(Gg)),Gg}var _u={},ku={},aP;function fa(){if(aP)return ku;aP=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.SpeechConnectionMessage=void 0;const e=je(),t=xr();class r extends e.ConnectionMessage{constructor(o,l,c,a,d,h,p,v){if(!l)throw new e.ArgumentNullError("path");if(!c)throw new e.ArgumentNullError("requestId");const m={};if(m[t.HeaderNames.Path]=l,m[t.HeaderNames.RequestId]=c,m[t.HeaderNames.RequestTimestamp]=new Date().toISOString(),a&&(m[t.HeaderNames.ContentType]=a),h&&(m[t.HeaderNames.RequestStreamId]=h),p)for(const S in p)S&&(m[S]=p[S]);v?super(o,d,m,v):super(o,d,m),this.privPath=l,this.privRequestId=c,this.privContentType=a,this.privStreamId=h,this.privAdditionalHeaders=p}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}static fromConnectionMessage(o){let l=null,c=null,a=null,d=null;const h={};if(o.headers)for(const p in o.headers)p&&(p.toLowerCase()===t.HeaderNames.Path.toLowerCase()?l=o.headers[p]:p.toLowerCase()===t.HeaderNames.RequestId.toLowerCase()?c=o.headers[p]:p.toLowerCase()===t.HeaderNames.ContentType.toLowerCase()?a=o.headers[p]:p.toLowerCase()===t.HeaderNames.RequestStreamId.toLowerCase()?d=o.headers[p]:h[p]=o.headers[p]);return new r(o.messageType,l,c,a,o.body,d,h,o.id)}}return ku.SpeechConnectionMessage=r,ku}var cP;function aU(){if(cP)return _u;cP=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.ServiceRecognizerBase=void 0;const e=Zt(),t=je(),r=se(),i=Ce(),o=fa();let l=class Pd{constructor(a,d,h,p,v){if(this.privConnectionConfigurationPromise=void 0,this.privConnectionPromise=void 0,this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.privAverageBytesPerMs=0,this.privEnableSpeakerId=!1,this.privExpectContentAssessmentResponse=!1,this.recognizeOverride=void 0,this.recognizeSpeaker=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.handleSpeechPhraseMessage=void 0,this.handleSpeechHypothesisMessage=void 0,!a)throw new t.ArgumentNullError("authentication");if(!d)throw new t.ArgumentNullError("connectionFactory");if(!h)throw new t.ArgumentNullError("audioSource");if(!p)throw new t.ArgumentNullError("recognizerConfig");this.privEnableSpeakerId=p.isSpeakerDiarizationEnabled,this.privMustReportEndOfStream=!1,this.privAuthentication=a,this.privConnectionFactory=d,this.privAudioSource=h,this.privRecognizerConfig=p,this.privIsDisposed=!1,this.privRecognizer=v,this.privRequestSession=new i.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new t.EventSource,this.privServiceEvents=new t.EventSource,this.privDynamicGrammar=new i.DynamicGrammarBuilder,this.privSpeechContext=new i.SpeechContext(this.privDynamicGrammar),this.privAgentConfig=new i.AgentConfig,this.privRecognizerConfig.parameters.getProperty(r.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?this.privSetTimeout=t.Timeout.setTimeout:(typeof window<"u"&&(this.privSetTimeout=window.setTimeout.bind(window)),typeof globalThis<"u"&&(this.privSetTimeout=globalThis.setTimeout.bind(globalThis))),this.connectionEvents.attach(S=>{if(S.name==="ConnectionClosedEvent"){const C=S;(C.statusCode===1003||C.statusCode===1007||C.statusCode===1002||C.statusCode===4e3||this.privRequestSession.numConnectionAttempts>this.privRecognizerConfig.maxRetryCount)&&this.cancelRecognitionLocal(r.CancellationReason.Error,C.statusCode===1007?r.CancellationErrorCode.BadRequestParameters:r.CancellationErrorCode.ConnectionFailure,`${C.reason} websocket error code: ${C.statusCode}`)}}),this.privEnableSpeakerId&&(this.privDiarizationSessionId=t.createNoDashGuid()),this.setLanguageIdJson(),this.setOutputDetailLevelJson()}setTranslationJson(){const a=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0);if(a!==void 0){const d=a.split(","),h=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0),p=h!==void 0?"Synthesize":"None";if(this.privSpeechContext.setSection("translation",{onSuccess:{action:p},output:{interimResults:{mode:"Always"}},targetLanguages:d}),h!==void 0){const v={};for(const m of d)v[m]=h;this.privSpeechContext.setSection("synthesis",{defaultVoices:v})}}}setSpeechSegmentationTimeoutJson(){const a=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationSilenceTimeoutMs,void 0),d=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationMaximumTimeMs,void 0),h=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationStrategy,void 0),p={segmentation:{mode:""}};let v=!1;if(h!==void 0){v=!0;let m="";switch(h.toLowerCase()){case"default":break;case"time":m="Custom";break;case"semantic":m="Semantic";break}p.segmentation.mode=m}if(a!==void 0){v=!0;const m=parseInt(a,10);p.segmentation.mode="Custom",p.segmentation.segmentationSilenceTimeoutMs=m}if(d!==void 0){v=!0;const m=parseInt(d,10);p.segmentation.mode="Custom",p.segmentation.segmentationForcedTimeoutMs=m}if(v){const m=this.recognitionMode===i.RecognitionMode.Conversation?"CONVERSATION":this.recognitionMode===i.RecognitionMode.Dictation?"DICTATION":"INTERACTIVE",S=this.privSpeechContext.getSection("phraseDetection");S.mode=m,S[m]=p,this.privSpeechContext.setSection("phraseDetection",S)}}setLanguageIdJson(){const a=this.privSpeechContext.getSection("phraseDetection");if(this.privRecognizerConfig.autoDetectSourceLanguages!==void 0){const h=this.privRecognizerConfig.autoDetectSourceLanguages.split(",");let p;this.privRecognizerConfig.languageIdMode==="Continuous"?p="DetectContinuous":p="DetectAtAudioStart",this.privSpeechContext.setSection("languageId",{Priority:"PrioritizeLatency",languages:h,mode:p,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}});const v=this.privRecognizerConfig.sourceLanguageModels;v!==void 0&&(a.customModels=v,a.onInterim={action:"None"},a.onSuccess={action:"None"})}this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0&&(a.onInterim={action:"Translate"},a.onSuccess={action:"Translate"},this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"None"},phraseResults:{resultType:"None"}})),this.privSpeechContext.setSection("phraseDetection",a)}setOutputDetailLevelJson(){this.privEnableSpeakerId&&(this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true"?this.privSpeechContext.setWordLevelTimings():this.privRecognizerConfig.parameters.getProperty(i.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()===r.OutputFormat[r.OutputFormat.Detailed].toLocaleLowerCase()&&this.privSpeechContext.setDetailedOutputFormat())}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(a){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.ConversationTranslator_Token,a)}set voiceProfileType(a){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.SpeechServiceConnection_SpeakerIdMode,a)}set authentication(a){this.privAuthentication=a}isDisposed(){return this.privIsDisposed}async dispose(a){if(this.privIsDisposed=!0,this.privConnectionConfigurationPromise!==void 0)try{await(await this.privConnectionConfigurationPromise).dispose(a)}catch{return}}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}async recognize(a,d,h){if(this.recognizeOverride!==void 0){await this.recognizeOverride(a,d,h);return}this.privConnectionConfigurationPromise=void 0,this.privRecognizerConfig.recognitionMode=a,this.setSpeechSegmentationTimeoutJson(),this.setTranslationJson(),this.privSuccessCallback=d,this.privErrorCallback=h,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);const p=this.connectImpl();let v;try{const C=await this.audioSource.attach(this.privRequestSession.audioNodeId),x=await this.audioSource.format,R=await this.audioSource.deviceInfo;this.privIsLiveAudio=R.type&&R.type===i.type.Microphones,v=new e.ReplayableAudioNode(C,x.avgBytesPerSec),await this.privRequestSession.onAudioSourceAttachCompleted(v,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:R}}catch(C){throw await this.privRequestSession.onStopRecognizing(),C}try{await p}catch(C){await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,C);return}const m=new r.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,m),this.receiveMessage(),this.sendAudio(v).catch(async C=>{await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,C)})}async stopRecognizing(){if(this.privRequestSession.isRecognizing)try{await this.audioSource.turnOff(),await this.sendFinalAudio(),await this.privRequestSession.onStopRecognizing(),await this.privRequestSession.turnCompletionPromise}finally{await this.privRequestSession.dispose()}}async connect(){return await this.connectImpl(),Promise.resolve()}connectAsync(a,d){this.connectImpl().then(()=>{try{a&&a()}catch(h){d&&d(h)}},h=>{try{d&&d(h)}catch{}})}async disconnect(){if(await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.NoError,"Disconnecting"),this.disconnectOverride!==void 0&&await this.disconnectOverride(),this.privConnectionPromise!==void 0)try{await(await this.privConnectionPromise).dispose()}catch{}this.privConnectionPromise=void 0}sendMessage(a){}async sendNetworkMessage(a,d){const h=typeof d=="string"?t.MessageType.Text:t.MessageType.Binary,p=typeof d=="string"?"application/json":"";return(await this.fetchConnection()).send(new o.SpeechConnectionMessage(h,a,this.privRequestSession.requestId,p,d))}set activityTemplate(a){this.privActivityTemplate=a}get activityTemplate(){return this.privActivityTemplate}set expectContentAssessmentResponse(a){this.privExpectContentAssessmentResponse=a}async sendTelemetryData(){const a=this.privRequestSession.getTelemetry();if(Pd.telemetryDataEnabled!==!0||this.privIsDisposed||a===null)return;if(Pd.telemetryData)try{Pd.telemetryData(a)}catch{}await(await this.fetchConnection()).send(new o.SpeechConnectionMessage(t.MessageType.Text,"telemetry",this.privRequestSession.requestId,"application/json",a))}async cancelRecognitionLocal(a,d,h){this.privRequestSession.isRecognizing&&(await this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a,d,h))}async receiveMessage(){try{if(this.privIsDisposed)return;let a=await this.fetchConnection();const d=await a.read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(!d)return this.receiveMessage();this.privServiceHasSentMessage=!0;const h=o.SpeechConnectionMessage.fromConnectionMessage(d);if(h.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(h.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const p=i.SpeechDetected.fromJSON(h.textBody,this.privRequestSession.currentTurnAudioOffset),v=new r.RecognitionEventArgs(p.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,v);break;case"speech.enddetected":let m;h.textBody.length>0?m=h.textBody:m="{ Offset: 0 }";const S=i.SpeechDetected.fromJSON(m,this.privRequestSession.currentTurnAudioOffset),C=new r.RecognitionEventArgs(S.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,C);break;case"turn.end":await this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,await this.cancelRecognitionLocal(r.CancellationReason.EndOfStream,r.CancellationErrorCode.NoError,void 0));const x=new r.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing){this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,x);return}else a=await this.fetchConnection(),await this.sendPrePayloadJSON(a);break;default:await this.processTypeSpecificMessages(h)||this.privServiceEvents&&this.serviceEvents.onEvent(new t.ServiceEvent(h.path.toLowerCase(),h.textBody))}return this.receiveMessage()}catch{return null}}updateSpeakerDiarizationAudioOffset(){const a=this.privRequestSession.recognitionBytesSent,d=this.privAverageBytesPerMs!==0?a/this.privAverageBytesPerMs:0;this.privSpeechContext.setSpeakerDiarizationAudioOffsetMs(d)}sendSpeechContext(a,d){this.privEnableSpeakerId&&this.updateSpeakerDiarizationAudioOffset();const h=this.speechContext.toJSON();if(d&&this.privRequestSession.onSpeechContext(),h)return a.send(new o.SpeechConnectionMessage(t.MessageType.Text,"speech.context",this.privRequestSession.requestId,"application/json",h))}noOp(){}async sendPrePayloadJSON(a,d=!0){if(this.sendPrePayloadJSONOverride!==void 0)return this.sendPrePayloadJSONOverride(a);await this.sendSpeechContext(a,d),await this.sendWaveHeader(a)}async sendWaveHeader(a){const d=await this.audioSource.format;return a.send(new o.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",d.header))}connectImpl(){return this.privConnectionPromise!==void 0?this.privConnectionPromise.then(a=>a.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl())):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch(()=>{}),this.postConnectImplOverride!==void 0?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}sendSpeechServiceConfig(a,d,h){if(d.onSpeechContext(),Pd.telemetryDataEnabled!==!0){const v={context:{system:JSON.parse(h).context.system}};h=JSON.stringify(v)}if(this.privRecognizerConfig.parameters.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()==="true"){const p=JSON.parse(h);p.context.DisableReferenceChannel="True",p.context.MicSpec="1_0_0",h=JSON.stringify(p)}if(h)return a.send(new o.SpeechConnectionMessage(t.MessageType.Text,"speech.config",d.requestId,"application/json",h))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(a=>a.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async sendAudio(a){const d=await this.audioSource.format;this.privAverageBytesPerMs=d.avgBytesPerSec/1e3;let h=Date.now();const p=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),v=d.avgBytesPerSec/1e3*parseInt(p,10),m=this.privRequestSession.recogNumber,S=async()=>{if(!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===m){const C=await this.fetchConnection(),x=await a.read();if(this.privRequestSession.isSpeechEnded)return;let R,w;if(!x||x.isEnd?(R=null,w=0):(R=x.buffer,this.privRequestSession.onAudioSent(R.byteLength),v>=this.privRequestSession.bytesSent?w=0:w=Math.max(0,h-Date.now())),w!==0&&await this.delay(w),R!==null&&(h=Date.now()+R.byteLength*1e3/(d.avgBytesPerSec*2)),!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===m)if(C.send(new o.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,null,R)).catch(()=>{this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch(()=>{})}),x!=null&&x.isEnd)this.privIsLiveAudio||this.privRequestSession.onSpeechEnded();else return S()}};return S()}async retryableConnect(){let a=!1;this.privAuthFetchEventId=t.createNoDashGuid();const d=this.privRequestSession.sessionId;this.privConnectionId=d!==void 0?d:t.createNoDashGuid(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);let h=0,p="";for(;this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount;){const m=await(a?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId));await this.privRequestSession.onAuthCompleted(!1);const S=this.privConnectionFactory.create(this.privRecognizerConfig,m,this.privConnectionId);this.privRequestSession.listenForServiceTelemetry(S.events),S.events.attach(x=>{this.connectionEvents.onEvent(x)});const C=await S.open();if(C.statusCode===200)return await this.privRequestSession.onConnectionEstablishCompleted(C.statusCode),Promise.resolve(S);C.statusCode===1006&&(a=!0),h=C.statusCode,p=C.reason,this.privRequestSession.onRetryConnection()}return await this.privRequestSession.onConnectionEstablishCompleted(h,p),Promise.reject(`Unable to contact server. StatusCode: ${h}, ${this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint)} Reason: ${p}`)}delay(a){return new Promise(d=>this.privSetTimeout(d,a))}writeBufferToConsole(a){let d="Buffer Size: ";if(a===null)d+="null";else{const h=new Uint8Array(a);d+=`${a.byteLength}\r
`;for(let p=0;p<a.byteLength;p++)d+=h[p].toString(16).padStart(2,"0")+" ",(p+1)%16===0&&(console.info(d),d="")}console.info(d)}async sendFinalAudio(){await(await this.fetchConnection()).send(new o.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,null,null))}async configureConnection(){const a=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(a):(await this.sendSpeechServiceConfig(a,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendPrePayloadJSON(a,!1),a)}};return _u.ServiceRecognizerBase=l,l.telemetryDataEnabled=!0,_u}var Mu={},lP;function cU(){if(lP)return Mu;lP=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.ConversationServiceRecognizer=void 0;const e=se(),t=Ce();let r=class extends t.ServiceRecognizerBase{constructor(o,l,c,a,d){super(o,l,c,a,d),this.handleSpeechPhraseMessage=async h=>this.handleSpeechPhrase(h),this.handleSpeechHypothesisMessage=h=>this.handleSpeechHypothesis(h)}processTypeSpecificMessages(o){}handleRecognizedCallback(o,l,c){}handleRecognizingCallback(o,l,c){}async processSpeechMessages(o){let l=!1;switch(o.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":this.handleSpeechHypothesisMessage&&this.handleSpeechHypothesisMessage(o.textBody),l=!0;break;case"speech.phrase":this.handleSpeechPhraseMessage&&await this.handleSpeechPhraseMessage(o.textBody),l=!0;break}return l}cancelRecognition(o,l,c,a,d){}async handleSpeechPhrase(o){const l=t.SimpleSpeechPhrase.fromJSON(o,this.privRequestSession.currentTurnAudioOffset),c=t.EnumTranslation.implTranslateRecognitionResult(l.RecognitionStatus);let a;const d=new e.PropertyCollection;if(d.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,o),this.privRequestSession.onPhraseRecognized(l.Offset+l.Duration),e.ResultReason.Canceled===c){const h=t.EnumTranslation.implTranslateCancelResult(l.RecognitionStatus),p=t.EnumTranslation.implTranslateCancelErrorCode(l.RecognitionStatus);await this.cancelRecognitionLocal(h,p,t.EnumTranslation.implTranslateErrorDetails(p))}else if(l.RecognitionStatus!==t.RecognitionStatus.EndOfDictation){if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])a=new e.SpeechRecognitionResult(this.privRequestSession.requestId,c,l.DisplayText,l.Duration,l.Offset,l.Language,l.LanguageDetectionConfidence,l.SpeakerId,void 0,l.asJson(),d);else{const h=t.DetailedSpeechPhrase.fromJSON(o,this.privRequestSession.currentTurnAudioOffset);a=new e.SpeechRecognitionResult(this.privRequestSession.requestId,c,h.Text,h.Duration,h.Offset,h.Language,h.LanguageDetectionConfidence,h.SpeakerId,void 0,h.asJson(),d)}this.handleRecognizedCallback(a,a.offset,this.privRequestSession.sessionId)}}handleSpeechHypothesis(o){const l=t.SpeechHypothesis.fromJSON(o,this.privRequestSession.currentTurnAudioOffset),c=new e.PropertyCollection;c.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,o);const a=new e.SpeechRecognitionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,l.Text,l.Duration,l.Offset,l.Language,l.LanguageDetectionConfidence,l.SpeakerId,void 0,l.asJson(),c);this.privRequestSession.onHypothesis(l.Offset),this.handleRecognizingCallback(a,l.Duration,this.privRequestSession.sessionId)}};return Mu.ConversationServiceRecognizer=r,Mu}var Jg={},uP;function lU(){return uP||(uP=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognizerConfig=e.SpeechResultFormat=e.RecognitionMode=void 0;const t=se(),r=Ce();var i;(function(l){l[l.Interactive=0]="Interactive",l[l.Conversation=1]="Conversation",l[l.Dictation=2]="Dictation"})(i=e.RecognitionMode||(e.RecognitionMode={})),function(l){l[l.Simple=0]="Simple",l[l.Detailed=1]="Detailed"}(e.SpeechResultFormat||(e.SpeechResultFormat={}));class o{constructor(c,a){this.privSpeechServiceConfig=c||new r.SpeechServiceConfig(new r.Context(null)),this.privParameters=a,this.privMaxRetryCount=parseInt(a.getProperty("SPEECH-Error-MaxRetryCount","4"),10),this.privLanguageIdMode=a.getProperty(t.PropertyId.SpeechServiceConnection_LanguageIdMode,void 0),this.privEnableSpeakerId=!1}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(c){this.privRecognitionMode=c,this.privRecognitionActivityTimeout=c===i.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=i[c]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==i.Interactive}get languageIdMode(){return this.privLanguageIdMode}get autoDetectSourceLanguages(){return this.parameters.getProperty(t.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}get recognitionEndpointVersion(){return this.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,void 0)}get sourceLanguageModels(){const c=[];let a=!1;if(this.autoDetectSourceLanguages!==void 0)for(const d of this.autoDetectSourceLanguages.split(",")){const h=d+t.PropertyId.SpeechServiceConnection_EndpointId.toString(),p=this.parameters.getProperty(h,void 0);p!==void 0?(c.push({language:d,endpoint:p}),a=!0):c.push({language:d,endpoint:""})}return a?c:void 0}get maxRetryCount(){return this.privMaxRetryCount}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}set isSpeakerDiarizationEnabled(c){this.privEnableSpeakerId=c}}e.RecognizerConfig=o}(Jg)),Jg}var Yg={},dP;function uU(){return dP||(dP=1,Object.defineProperty(Yg,"__esModule",{value:!0})),Yg}var Nu={},hP;function dU(){if(hP)return Nu;hP=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.WebsocketMessageFormatter=void 0;const e=je(),t=`\r
`;let r=class{toConnectionMessage(o){const l=new e.Deferred;try{if(o.messageType===e.MessageType.Text){const c=o.textContent;let a={},d=null;if(c){const h=c.split(`\r
\r
`);h&&h.length>0&&(a=this.parseHeaders(h[0]),h.length>1&&(d=h[1]))}l.resolve(new e.ConnectionMessage(o.messageType,d,a,o.id))}else if(o.messageType===e.MessageType.Binary){const c=o.binaryContent;let a={},d=null;if(!c||c.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const h=new DataView(c),p=h.getInt16(0);if(c.byteLength<p+2)throw new Error("Invalid binary message format. Header content missing.");let v="";for(let m=0;m<p;m++)v+=String.fromCharCode(h.getInt8(m+2));a=this.parseHeaders(v),c.byteLength>p+2&&(d=c.slice(2+p)),l.resolve(new e.ConnectionMessage(o.messageType,d,a,o.id))}}catch(c){l.reject(`Error formatting the message. Error: ${c}`)}return l.promise}fromConnectionMessage(o){const l=new e.Deferred;try{if(o.messageType===e.MessageType.Text){const c=`${this.makeHeaders(o)}${t}${o.textBody?o.textBody:""}`;l.resolve(new e.RawWebsocketMessage(e.MessageType.Text,c,o.id))}else if(o.messageType===e.MessageType.Binary){const c=this.makeHeaders(o),a=o.binaryBody,d=this.stringToArrayBuffer(c),h=new Int8Array(d),p=h.byteLength,v=new Int8Array(2+p+(a?a.byteLength:0));if(v[0]=p>>8&255,v[1]=p&255,v.set(h,2),a){const S=new Int8Array(a);v.set(S,2+p)}const m=v.buffer;l.resolve(new e.RawWebsocketMessage(e.MessageType.Binary,m,o.id))}}catch(c){l.reject(`Error formatting the message. ${c}`)}return l.promise}makeHeaders(o){let l="";if(o.headers)for(const c in o.headers)c&&(l+=`${c}: ${o.headers[c]}${t}`);return l}parseHeaders(o){const l={};if(o){const c=o.match(/[^\r\n]+/g);if(l){for(const a of c)if(a){const d=a.indexOf(":"),h=d>0?a.substr(0,d).trim().toLowerCase():a,p=d>0&&a.length>d+1?a.substr(d+1).trim():"";l[h]=p}}}return l}stringToArrayBuffer(o){const l=new ArrayBuffer(o.length),c=new DataView(l);for(let a=0;a<o.length;a++)c.setUint8(a,o.charCodeAt(a));return l}};return Nu.WebsocketMessageFormatter=r,Nu}var Iu={},pP;function hU(){if(pP)return Iu;pP=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.SpeechConnectionFactory=void 0;const e=Zt(),t=Ce(),r=se(),i=An(),o=Ce(),l=xr(),c=rs();let a=class extends i.ConnectionFactoryBase{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.universalUri="/speech/universal/v"}create(h,p,v){let m=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);const S=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region,void 0),C=i.ConnectionFactoryBase.getHostSuffix(S),x=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://"+S+".stt.speech"+C),R={},w=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId,void 0),T=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(w?(!m||m.search(c.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(R[c.QueryParameterNames.CustomSpeechDeploymentId]=w):T&&(!m||m.search(c.QueryParameterNames.Language)===-1)&&(R[c.QueryParameterNames.Language]=T),(!m||m.search(c.QueryParameterNames.Format)===-1)&&(R[c.QueryParameterNames.Format]=h.parameters.getProperty(t.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()),h.autoDetectSourceLanguages!==void 0&&(R[c.QueryParameterNames.EnableLanguageId]="true"),this.setCommonUrlParams(h,R,m),!m)switch(h.recognitionMode){case o.RecognitionMode.Conversation:h.parameters.getProperty(t.ForceDictationPropertyName,"false")==="true"?m=x+this.dictationRelativeUri:h.recognitionEndpointVersion!==void 0&&parseInt(h.recognitionEndpointVersion,10)>1?m=`${x}${this.universalUri}${h.recognitionEndpointVersion}`:m=x+this.conversationRelativeUri;break;case o.RecognitionMode.Dictation:m=x+this.dictationRelativeUri;break;default:h.recognitionEndpointVersion!==void 0&&parseInt(h.recognitionEndpointVersion,10)>1?m=`${x}${this.universalUri}${h.recognitionEndpointVersion}`:m=x+this.interactiveRelativeUri;break}const P={};p.token!==void 0&&p.token!==""&&(P[p.headerName]=p.token),P[l.HeaderNames.ConnectionId]=v;const I=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",k=new e.WebsocketConnection(m,R,P,new o.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),I,v),U=k.uri;return h.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,U),k}};return Iu.SpeechConnectionFactory=a,Iu}var ju={},fP;function pU(){if(fP)return ju;fP=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.ConversationTranscriberConnectionFactory=void 0;const e=Zt(),t=se(),r=Ce(),i=An(),o=Ce(),l=xr(),c=rs();let a=class extends i.ConnectionFactoryBase{constructor(){super(...arguments),this.universalUri="/speech/universal/v2"}create(h,p,v){let m=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const S=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,void 0),C=i.ConnectionFactoryBase.getHostSuffix(S),x=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+S+".stt.speech"+C),R={},w=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),T=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);w?(!m||m.search(c.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(R[c.QueryParameterNames.CustomSpeechDeploymentId]=w):T&&(!m||m.search(c.QueryParameterNames.Language)===-1)&&(R[c.QueryParameterNames.Language]=T),h.autoDetectSourceLanguages!==void 0&&(R[c.QueryParameterNames.EnableLanguageId]="true"),this.setV2UrlParams(h,R,m),m||(m=`${x}${this.universalUri}`);const P={};p.token!==void 0&&p.token!==""&&(P[p.headerName]=p.token),P[l.HeaderNames.ConnectionId]=v;const I=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",k=new e.WebsocketConnection(m,R,P,new o.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),I,v),U=k.uri;return h.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,U),k}setV2UrlParams(h,p,v){new Map([[t.PropertyId.Speech_SegmentationSilenceTimeoutMs,c.QueryParameterNames.SegmentationSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_EnableAudioLogging,c.QueryParameterNames.EnableAudioLogging],[t.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,c.QueryParameterNames.EndSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,c.QueryParameterNames.InitialSilenceTimeoutMs],[t.PropertyId.SpeechServiceResponse_PostProcessingOption,c.QueryParameterNames.Postprocessing],[t.PropertyId.SpeechServiceResponse_ProfanityOption,c.QueryParameterNames.Profanity],[t.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,c.QueryParameterNames.StableIntermediateThreshold]]).forEach((C,x)=>{this.setUrlParameter(x,C,h,p,v)});const S=JSON.parse(h.parameters.getProperty(r.ServicePropertiesPropertyName,"{}"));Object.keys(S).forEach(C=>{p[C]=S[C]})}};return ju.ConversationTranscriberConnectionFactory=a,ju}var Ou={},vP;function fU(){if(vP)return Ou;vP=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.TranscriberConnectionFactory=void 0;const e=Zt(),t=se(),r=An(),i=Ce(),o=xr(),l=rs();let c=class extends r.ConnectionFactoryBase{constructor(){super(...arguments),this.multiaudioRelativeUri="/speech/recognition/multiaudio"}create(d,h,p){let v=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const m=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,"centralus"),S=r.ConnectionFactoryBase.getHostSuffix(m),C="wss://transcribe."+m+".cts.speech"+S+this.multiaudioRelativeUri,x=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,C),R={};this.setQueryParams(R,d,v),v||(v=x);const w={};h.token!==void 0&&h.token!==""&&(w[h.headerName]=h.token),w[o.HeaderNames.ConnectionId]=p,d.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,v);const T=d.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(v,R,w,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(d),T,p)}setQueryParams(d,h,p){const v=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),m=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);v&&!(l.QueryParameterNames.CustomSpeechDeploymentId in d)&&(d[l.QueryParameterNames.CustomSpeechDeploymentId]=v),m&&!(l.QueryParameterNames.Language in d)&&(d[l.QueryParameterNames.Language]=m);const S=h.parameters.getProperty(t.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true",C=h.parameters.getProperty(i.OutputFormatPropertyName,t.OutputFormat[t.OutputFormat.Simple])!==t.OutputFormat[t.OutputFormat.Simple];(S||C)&&(d[l.QueryParameterNames.Format]=t.OutputFormat[t.OutputFormat.Detailed].toLowerCase()),this.setCommonUrlParams(h,d,p)}};return Ou.TranscriberConnectionFactory=c,Ou}var Du={},mP;function vU(){if(mP)return Du;mP=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.TranslationConnectionFactory=void 0;const e=Zt(),t=P6(),r=se(),i=An(),o=Ce(),l=xr(),c=rs();let a=class extends i.ConnectionFactoryBase{create(h,p,v){const m=this.getEndpointUrl(h),S={};h.autoDetectSourceLanguages!==void 0&&(S[c.QueryParameterNames.EnableLanguageId]="true"),this.setQueryParams(S,h,m);const C={};p.token!==void 0&&p.token!==""&&(C[p.headerName]=p.token),C[l.HeaderNames.ConnectionId]=v,h.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,m);const x=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(m,S,C,new o.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),x,v)}getEndpointUrl(h,p){const v=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),m=i.ConnectionFactoryBase.getHostSuffix(v);let S=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);return S||(h.autoDetectSourceLanguages!==void 0?S=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.stt.speech"+m)+"/speech/universal/v2":S=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.s2s.speech"+m)+"/speech/translation/cognitiveservices/v1"),p===!0?S:t.StringUtils.formatString(S,{region:v})}setQueryParams(h,p,v){h.from=p.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage),h.to=p.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages),h.scenario=p.recognitionMode===o.RecognitionMode.Interactive?"interactive":p.recognitionMode===o.RecognitionMode.Conversation?"conversation":"",this.setCommonUrlParams(p,h,v),this.setUrlParameter(r.PropertyId.SpeechServiceResponse_TranslationRequestStablePartialResult,c.QueryParameterNames.StableTranslation,p,h,v);const m=p.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0);m!==void 0&&(h.voice=m,h.features="texttospeech")}};return Du.TranslationConnectionFactory=a,Du}var zu={},gP;function mU(){if(gP)return zu;gP=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.EnumTranslation=void 0;const e=se(),t=Ce();let r=class{static implTranslateRecognitionResult(o,l=!1){let c=e.ResultReason.Canceled;switch(o){case t.RecognitionStatus.Success:c=e.ResultReason.RecognizedSpeech;break;case t.RecognitionStatus.EndOfDictation:c=l?e.ResultReason.RecognizedSpeech:e.ResultReason.NoMatch;break;case t.RecognitionStatus.NoMatch:case t.RecognitionStatus.InitialSilenceTimeout:case t.RecognitionStatus.BabbleTimeout:c=e.ResultReason.NoMatch;break;case t.RecognitionStatus.Error:case t.RecognitionStatus.BadRequest:case t.RecognitionStatus.Forbidden:default:c=e.ResultReason.Canceled;break}return c}static implTranslateCancelResult(o){let l=e.CancellationReason.EndOfStream;switch(o){case t.RecognitionStatus.Success:case t.RecognitionStatus.EndOfDictation:case t.RecognitionStatus.NoMatch:l=e.CancellationReason.EndOfStream;break;case t.RecognitionStatus.InitialSilenceTimeout:case t.RecognitionStatus.BabbleTimeout:case t.RecognitionStatus.Error:case t.RecognitionStatus.BadRequest:case t.RecognitionStatus.Forbidden:default:l=e.CancellationReason.Error;break}return l}static implTranslateCancelErrorCode(o){let l=e.CancellationErrorCode.NoError;switch(o){case t.RecognitionStatus.Error:l=e.CancellationErrorCode.ServiceError;break;case t.RecognitionStatus.TooManyRequests:l=e.CancellationErrorCode.TooManyRequests;break;case t.RecognitionStatus.BadRequest:l=e.CancellationErrorCode.BadRequestParameters;break;case t.RecognitionStatus.Forbidden:l=e.CancellationErrorCode.Forbidden;break;default:l=e.CancellationErrorCode.NoError;break}return l}static implTranslateErrorDetails(o){let l="The speech service encountered an internal error and could not continue.";switch(o){case e.CancellationErrorCode.Forbidden:l="The recognizer is using a free subscription that ran out of quota.";break;case e.CancellationErrorCode.BadRequestParameters:l="Invalid parameter or unsupported audio format in the request.";break;case e.CancellationErrorCode.TooManyRequests:l="The number of parallel requests exceeded the number of allowed concurrent transcriptions.";break}return l}};return zu.EnumTranslation=r,zu}var Qg={},yP;function gU(){return yP||(yP=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionStatus=e.SynthesisStatus=void 0,function(t){t[t.Success=0]="Success",t[t.SynthesisEnd=1]="SynthesisEnd",t[t.Error=2]="Error"}(e.SynthesisStatus||(e.SynthesisStatus={})),function(t){t[t.Success=0]="Success",t[t.NoMatch=1]="NoMatch",t[t.InitialSilenceTimeout=2]="InitialSilenceTimeout",t[t.BabbleTimeout=3]="BabbleTimeout",t[t.Error=4]="Error",t[t.EndOfDictation=5]="EndOfDictation",t[t.TooManyRequests=6]="TooManyRequests",t[t.BadRequest=7]="BadRequest",t[t.Forbidden=8]="Forbidden"}(e.RecognitionStatus||(e.RecognitionStatus={}))}(Qg)),Qg}var Lu={},SP;function yU(){if(SP)return Lu;SP=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.TranslationSynthesisEnd=void 0;const e=Ce();let t=class z6{constructor(i){this.privSynthesisEnd=JSON.parse(i),this.privSynthesisEnd.SynthesisStatus&&(this.privSynthesisEnd.SynthesisStatus=e.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus]),this.privSynthesisEnd.Status&&(this.privSynthesisEnd.SynthesisStatus=e.SynthesisStatus[this.privSynthesisEnd.Status])}static fromJSON(i){return new z6(i)}get SynthesisStatus(){return this.privSynthesisEnd.SynthesisStatus}get FailureReason(){return this.privSynthesisEnd.FailureReason}};return Lu.TranslationSynthesisEnd=t,Lu}var qu={},bP;function SU(){if(bP)return qu;bP=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.TranslationHypothesis=void 0;const e=He(),t=kS();let r=class v0{constructor(o,l){this.privTranslationHypothesis=o,this.privTranslationHypothesis.Offset+=l,this.privTranslationHypothesis.Translation.TranslationStatus=this.mapTranslationStatus(this.privTranslationHypothesis.Translation.TranslationStatus)}static fromJSON(o,l){return new v0(JSON.parse(o),l)}static fromTranslationResponse(o,l){e.Contracts.throwIfNullOrUndefined(o,"translationHypothesis");const c=o.SpeechHypothesis;return o.SpeechHypothesis=void 0,c.Translation=o,new v0(c,l)}get Duration(){return this.privTranslationHypothesis.Duration}get Offset(){return this.privTranslationHypothesis.Offset}get Text(){return this.privTranslationHypothesis.Text}get Translation(){return this.privTranslationHypothesis.Translation}get Language(){var o;return(o=this.privTranslationHypothesis.PrimaryLanguage)==null?void 0:o.Language}asJson(){const o={...this.privTranslationHypothesis};return o.Translation!==void 0?JSON.stringify({...o,TranslationStatus:t.TranslationStatus[o.Translation.TranslationStatus]}):JSON.stringify(o)}mapTranslationStatus(o){if(typeof o=="string")return t.TranslationStatus[o];if(typeof o=="number")return o}};return qu.TranslationHypothesis=r,qu}var Bu={},CP;function bU(){if(CP)return Bu;CP=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.TranslationPhrase=void 0;const e=He(),t=Ce(),r=kS();let i=class m0{constructor(l,c){this.privTranslationPhrase=l,this.privTranslationPhrase.Offset+=c,this.privTranslationPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privTranslationPhrase.RecognitionStatus),this.privTranslationPhrase.Translation!==void 0&&(this.privTranslationPhrase.Translation.TranslationStatus=this.mapTranslationStatus(this.privTranslationPhrase.Translation.TranslationStatus))}static fromJSON(l,c){return new m0(JSON.parse(l),c)}static fromTranslationResponse(l,c){e.Contracts.throwIfNullOrUndefined(l,"translationResponse");const a=l.SpeechPhrase;return l.SpeechPhrase=void 0,a.Translation=l,a.Text=a.DisplayText,new m0(a,c)}get RecognitionStatus(){return this.privTranslationPhrase.RecognitionStatus}get Offset(){return this.privTranslationPhrase.Offset}get Duration(){return this.privTranslationPhrase.Duration}get Text(){return this.privTranslationPhrase.Text}get Language(){var l;return(l=this.privTranslationPhrase.PrimaryLanguage)==null?void 0:l.Language}get Confidence(){var l;return(l=this.privTranslationPhrase.PrimaryLanguage)==null?void 0:l.Confidence}get Translation(){return this.privTranslationPhrase.Translation}asJson(){const l={...this.privTranslationPhrase},c={...l,RecognitionStatus:t.RecognitionStatus[l.RecognitionStatus]};return l.Translation&&(c.Translation={...l.Translation,TranslationStatus:r.TranslationStatus[l.Translation.TranslationStatus]}),JSON.stringify(c)}mapRecognitionStatus(l){if(typeof l=="string")return t.RecognitionStatus[l];if(typeof l=="number")return l}mapTranslationStatus(l){if(typeof l=="string")return r.TranslationStatus[l];if(typeof l=="number")return l}};return Bu.TranslationPhrase=i,Bu}var Uu={},xP;function CU(){if(xP)return Uu;xP=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.TranslationServiceRecognizer=void 0;const e=je(),t=se(),r=Ce();let i=class extends r.ConversationServiceRecognizer{constructor(l,c,a,d,h){super(l,c,a,d,h),this.privTranslationRecognizer=h,this.connectionEvents.attach(p=>{p.name==="ConnectionEstablishedEvent"&&this.privTranslationRecognizer.onConnection()})}async processTypeSpecificMessages(l){const c=new t.PropertyCollection;let a=await this.processSpeechMessages(l);if(a)return!0;const d=async p=>{if(c.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,p.asJson()),this.privRequestSession.onPhraseRecognized(p.Offset+p.Duration),p.RecognitionStatus===r.RecognitionStatus.Success){const v=this.fireEventForResult(p,c);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,v)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(v.result)}catch(m){this.privErrorCallback&&this.privErrorCallback(m)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}else{const v=r.EnumTranslation.implTranslateRecognitionResult(p.RecognitionStatus),m=new t.TranslationRecognitionResult(void 0,this.privRequestSession.requestId,v,p.Text,p.Duration,p.Offset,p.Language,p.Confidence,void 0,p.asJson(),c);if(v===t.ResultReason.Canceled){const S=r.EnumTranslation.implTranslateCancelResult(p.RecognitionStatus),C=r.EnumTranslation.implTranslateCancelErrorCode(p.RecognitionStatus);await this.cancelRecognitionLocal(S,C,r.EnumTranslation.implTranslateErrorDetails(C))}else if(p.RecognitionStatus!==r.RecognitionStatus.EndOfDictation){const S=new t.TranslationRecognitionEventArgs(m,m.offset,this.privRequestSession.sessionId);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,S)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(m)}catch(C){this.privErrorCallback&&this.privErrorCallback(C)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}a=!0}},h=p=>{c.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,p.asJson());const v=this.fireEventForResult(p,c);if(this.privRequestSession.onHypothesis(v.offset),this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,v)}catch{}a=!0};switch(l.messageType===e.MessageType.Text&&c.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,l.textBody),l.path.toLowerCase()){case"translation.hypothesis":h(r.TranslationHypothesis.fromJSON(l.textBody,this.privRequestSession.currentTurnAudioOffset));break;case"translation.response":const p=JSON.parse(l.textBody);if(p.SpeechPhrase)await d(r.TranslationPhrase.fromTranslationResponse(p,this.privRequestSession.currentTurnAudioOffset));else{const m=JSON.parse(l.textBody);m.SpeechHypothesis&&h(r.TranslationHypothesis.fromTranslationResponse(m,this.privRequestSession.currentTurnAudioOffset))}break;case"translation.phrase":await d(r.TranslationPhrase.fromJSON(l.textBody,this.privRequestSession.currentTurnAudioOffset));break;case"translation.synthesis":this.sendSynthesisAudio(l.binaryBody,this.privRequestSession.sessionId),a=!0;break;case"audio.end":case"translation.synthesis.end":const v=r.TranslationSynthesisEnd.fromJSON(l.textBody);switch(v.SynthesisStatus){case r.SynthesisStatus.Error:if(this.privTranslationRecognizer.synthesizing){const m=new t.TranslationSynthesisResult(t.ResultReason.Canceled,void 0),S=new t.TranslationSynthesisEventArgs(m,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,S)}catch{}}if(this.privTranslationRecognizer.canceled){const m=new t.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,t.CancellationReason.Error,v.FailureReason,t.CancellationErrorCode.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,m)}catch{}}break;case r.SynthesisStatus.Success:this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId);break}a=!0;break}return a}cancelRecognition(l,c,a,d,h){const p=new t.PropertyCollection;if(p.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[d]),this.privTranslationRecognizer.canceled){const v=new t.TranslationRecognitionCanceledEventArgs(l,a,h,d,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,v)}catch{}}if(this.privSuccessCallback){const v=new t.TranslationRecognitionResult(void 0,c,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,h,void 0,p);try{this.privSuccessCallback(v),this.privSuccessCallback=void 0}catch{}}}handleRecognizingCallback(l,c,a){try{const d=new t.TranslationRecognitionEventArgs(t.TranslationRecognitionResult.fromSpeechRecognitionResult(l),c,a);this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,d)}catch{}}handleRecognizedCallback(l,c,a){try{const d=new t.TranslationRecognitionEventArgs(t.TranslationRecognitionResult.fromSpeechRecognitionResult(l),c,a);this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,d)}catch{}}fireEventForResult(l,c){let a;if(l.Translation.Translations!==void 0){a=new t.Translations;for(const S of l.Translation.Translations)a.set(S.Language,S.Text||S.DisplayText)}let d,h;l instanceof r.TranslationPhrase?(l.Translation&&l.Translation.TranslationStatus===e.TranslationStatus.Success?d=t.ResultReason.TranslatedSpeech:d=t.ResultReason.RecognizedSpeech,h=l.Confidence):d=t.ResultReason.TranslatingSpeech;const p=l.Language,v=new t.TranslationRecognitionResult(a,this.privRequestSession.requestId,d,l.Text,l.Duration,l.Offset,p,h,l.Translation.FailureReason,l.asJson(),c);return new t.TranslationRecognitionEventArgs(v,l.Offset,this.privRequestSession.sessionId)}sendSynthesisAudio(l,c){const a=l===void 0?t.ResultReason.SynthesizingAudioCompleted:t.ResultReason.SynthesizingAudio,d=new t.TranslationSynthesisResult(a,l),h=new t.TranslationSynthesisEventArgs(d,c);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,h)}catch{}}};return Uu.TranslationServiceRecognizer=i,Uu}var Vu={},RP;function xU(){if(RP)return Vu;RP=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.SpeechDetected=void 0;let e=class L6{constructor(r,i){this.privSpeechStartDetected=JSON.parse(r),this.privSpeechStartDetected.Offset+=i}static fromJSON(r,i){return new L6(r,i)}get Offset(){return this.privSpeechStartDetected.Offset}};return Vu.SpeechDetected=e,Vu}var Fu={},wP;function RU(){if(wP)return Fu;wP=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.SpeechHypothesis=void 0;let e=class q6{constructor(r,i){this.privSpeechHypothesis=JSON.parse(r),this.updateOffset(i)}static fromJSON(r,i){return new q6(r,i)}updateOffset(r){this.privSpeechHypothesis.Offset+=r}asJson(){return JSON.stringify(this.privSpeechHypothesis)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}get Language(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSpeechHypothesis.SpeakerId}};return Fu.SpeechHypothesis=e,Fu}var Hu={},EP;function wU(){if(EP)return Hu;EP=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.SpeechKeyword=void 0;let e=class B6{constructor(r,i){this.privSpeechKeyword=JSON.parse(r),this.privSpeechKeyword.Offset+=i}static fromJSON(r,i){return new B6(r,i)}get Status(){return this.privSpeechKeyword.Status}get Text(){return this.privSpeechKeyword.Text}get Offset(){return this.privSpeechKeyword.Offset}get Duration(){return this.privSpeechKeyword.Duration}asJson(){return JSON.stringify(this.privSpeechKeyword)}};return Hu.SpeechKeyword=e,Hu}var $u={},TP;function EU(){if(TP)return $u;TP=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.SpeechServiceRecognizer=void 0;const e=se(),t=Ce();let r=class extends t.ServiceRecognizerBase{constructor(o,l,c,a,d){super(o,l,c,a,d),this.privSpeechRecognizer=d}async processTypeSpecificMessages(o){let l;const c=new e.PropertyCollection;let a=!1;switch(o.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const d=t.SpeechHypothesis.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);c.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,d.asJson()),l=new e.SpeechRecognitionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,d.Text,d.Duration,d.Offset,d.Language,d.LanguageDetectionConfidence,void 0,void 0,d.asJson(),c),this.privRequestSession.onHypothesis(d.Offset);const h=new e.SpeechRecognitionEventArgs(l,d.Offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,h)}catch{}a=!0;break;case"speech.phrase":const p=t.SimpleSpeechPhrase.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);c.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,p.asJson());const v=t.EnumTranslation.implTranslateRecognitionResult(p.RecognitionStatus,this.privExpectContentAssessmentResponse);if(this.privRequestSession.onPhraseRecognized(p.Offset+p.Duration),e.ResultReason.Canceled===v){const m=t.EnumTranslation.implTranslateCancelResult(p.RecognitionStatus),S=t.EnumTranslation.implTranslateCancelErrorCode(p.RecognitionStatus);await this.cancelRecognitionLocal(m,S,t.EnumTranslation.implTranslateErrorDetails(S))}else{if(p.RecognitionStatus===t.RecognitionStatus.EndOfDictation)break;if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])l=new e.SpeechRecognitionResult(this.privRequestSession.requestId,v,p.DisplayText,p.Duration,p.Offset,p.Language,p.LanguageDetectionConfidence,void 0,void 0,p.asJson(),c);else{const S=t.DetailedSpeechPhrase.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);c.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,S.asJson()),l=new e.SpeechRecognitionResult(this.privRequestSession.requestId,v,S.RecognitionStatus===t.RecognitionStatus.Success?S.NBest[0].Display:"",S.Duration,S.Offset,S.Language,S.LanguageDetectionConfidence,void 0,void 0,S.asJson(),c)}const m=new e.SpeechRecognitionEventArgs(l,l.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,m)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(l)}catch(S){this.privErrorCallback&&this.privErrorCallback(S)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}a=!0;break}return a}cancelRecognition(o,l,c,a,d){const h=new e.PropertyCollection;if(h.setProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[a]),this.privSpeechRecognizer.canceled){const p=new e.SpeechRecognitionCanceledEventArgs(c,d,a,void 0,o);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,p)}catch{}}if(this.privSuccessCallback){const p=new e.SpeechRecognitionResult(l,e.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,d,void 0,h);try{this.privSuccessCallback(p),this.privSuccessCallback=void 0}catch{}}}};return $u.SpeechServiceRecognizer=r,$u}var Ku={},PP;function TU(){if(PP)return Ku;PP=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.ConversationTranscriptionServiceRecognizer=void 0;const e=se(),t=Ce();let r=class extends t.ServiceRecognizerBase{constructor(o,l,c,a,d){super(o,l,c,a,d),this.privConversationTranscriber=d,this.setSpeakerDiarizationJson()}setSpeakerDiarizationJson(){if(this.privEnableSpeakerId){const o=this.privSpeechContext.getSection("phraseDetection");o.mode="Conversation";const l={};l.mode="Anonymous",l.audioSessionId=this.privDiarizationSessionId,l.audioOffsetMs=0,l.diarizeIntermediates=this.privRecognizerConfig.parameters.getProperty(e.PropertyId.SpeechServiceResponse_DiarizeIntermediateResults,"false")==="true",o.speakerDiarization=l,this.privSpeechContext.setSection("phraseDetection",o)}}async processTypeSpecificMessages(o){let l;const c=new e.PropertyCollection;c.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,o.textBody);let a=!1;switch(o.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const d=t.SpeechHypothesis.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);l=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,d.Text,d.Duration,d.Offset,d.Language,d.LanguageDetectionConfidence,d.SpeakerId,void 0,d.asJson(),c),this.privRequestSession.onHypothesis(d.Offset);const h=new e.ConversationTranscriptionEventArgs(l,d.Duration,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribing)try{this.privConversationTranscriber.transcribing(this.privConversationTranscriber,h)}catch{}a=!0;break;case"speech.phrase":const p=t.SimpleSpeechPhrase.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset),v=t.EnumTranslation.implTranslateRecognitionResult(p.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(p.Offset+p.Duration),e.ResultReason.Canceled===v){const m=t.EnumTranslation.implTranslateCancelResult(p.RecognitionStatus),S=t.EnumTranslation.implTranslateCancelErrorCode(p.RecognitionStatus);await this.cancelRecognitionLocal(m,S,t.EnumTranslation.implTranslateErrorDetails(S))}else if(!(this.privRequestSession.isSpeechEnded&&v===e.ResultReason.NoMatch&&p.RecognitionStatus!==t.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])l=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,v,p.DisplayText,p.Duration,p.Offset,p.Language,p.LanguageDetectionConfidence,p.SpeakerId,void 0,p.asJson(),c);else{const S=t.DetailedSpeechPhrase.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);l=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,v,S.RecognitionStatus===t.RecognitionStatus.Success?S.NBest[0].Display:void 0,S.Duration,S.Offset,S.Language,S.LanguageDetectionConfidence,p.SpeakerId,void 0,S.asJson(),c)}const m=new e.ConversationTranscriptionEventArgs(l,l.offset,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribed)try{this.privConversationTranscriber.transcribed(this.privConversationTranscriber,m)}catch{}}a=!0;break}return a}cancelRecognition(o,l,c,a,d){if(new e.PropertyCollection().setProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[a]),this.privConversationTranscriber.canceled){const p=new e.ConversationTranscriptionCanceledEventArgs(c,d,a,void 0,o);try{this.privConversationTranscriber.canceled(this.privConversationTranscriber,p)}catch{}}}};return Ku.ConversationTranscriptionServiceRecognizer=r,Ku}var Wu={},AP;function PU(){if(AP)return Wu;AP=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.TranscriptionServiceRecognizer=void 0;const e=je(),t=se(),r=Ce(),i=fa();let o=class extends r.ConversationServiceRecognizer{constructor(c,a,d,h,p){super(c,a,d,h,p),this.privTranscriberRecognizer=p,this.sendPrePayloadJSONOverride=v=>this.sendTranscriptionStartJSON(v),this.privRecognizerConfig.parameters.getProperty(t.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps)==="true"&&this.privSpeechContext.setWordLevelTimings()}async sendSpeechEventAsync(c,a){if(this.privRequestSession.isRecognizing){const d=await this.fetchConnection();await this.sendSpeechEvent(d,this.createSpeechEventPayload(c,a))}}async sendMeetingSpeechEventAsync(c,a){if(this.privRequestSession.isRecognizing){const d=await this.fetchConnection();await this.sendSpeechEvent(d,this.createMeetingSpeechEventPayload(c,a))}}processTypeSpecificMessages(c){return this.processSpeechMessages(c)}handleRecognizedCallback(c,a,d){try{const h=new t.SpeechRecognitionEventArgs(c,a,d);if(this.privTranscriberRecognizer.recognized(this.privTranscriberRecognizer,h),this.privSuccessCallback){try{this.privSuccessCallback(c)}catch(p){this.privErrorCallback&&this.privErrorCallback(p)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}catch{}}handleRecognizingCallback(c,a,d){try{const h=new t.SpeechRecognitionEventArgs(c,a,d);this.privTranscriberRecognizer.recognizing(this.privTranscriberRecognizer,h)}catch{}}cancelRecognition(c,a,d,h,p){const v=new t.PropertyCollection;if(v.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[h]),this.privTranscriberRecognizer.IsMeetingRecognizer()){if(this.privTranscriberRecognizer.canceled){const m=new t.MeetingTranscriptionCanceledEventArgs(d,p,h,void 0,c);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,m)}catch{}}}else if(this.privTranscriberRecognizer.canceled){const m=new t.ConversationTranscriptionCanceledEventArgs(d,p,h,void 0,c);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,m)}catch{}}if(this.privSuccessCallback){const m=new t.SpeechRecognitionResult(a,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,p,void 0,v);try{this.privSuccessCallback(m),this.privSuccessCallback=void 0}catch{}}}async sendTranscriptionStartJSON(c){if(await this.sendSpeechContext(c,!0),this.privTranscriberRecognizer.IsMeetingRecognizer()){const a=this.privTranscriberRecognizer.getMeetingInfo(),d=this.createMeetingSpeechEventPayload(a,"start");await this.sendSpeechEvent(c,d)}else{const a=this.privTranscriberRecognizer.getConversationInfo(),d=this.createSpeechEventPayload(a,"start");await this.sendSpeechEvent(c,d)}await this.sendWaveHeader(c)}sendSpeechEvent(c,a){const d=JSON.stringify(a);if(d)return c.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speech.event",this.privRequestSession.requestId,"application/json",d))}createSpeechEventPayload(c,a){const d={id:"meeting",name:a,meeting:c.conversationProperties};return d.meeting.id=c.id,d.meeting.attendees=c.participants,d}createMeetingSpeechEventPayload(c,a){const d={id:"meeting",name:a,meeting:c.meetingProperties};return d.meeting.id=c.id,d.meeting.attendees=c.participants,d}};return Wu.TranscriptionServiceRecognizer=o,Wu}var Gu={},_P;function AU(){if(_P)return Gu;_P=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.DetailedSpeechPhrase=void 0;const e=Ce();let t=class U6{constructor(i,o){this.privDetailedSpeechPhrase=JSON.parse(i),this.privDetailedSpeechPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privDetailedSpeechPhrase.RecognitionStatus),this.updateOffsets(o)}static fromJSON(i,o){return new U6(i,o)}updateOffsets(i){if(this.privDetailedSpeechPhrase.Offset+=i,this.privDetailedSpeechPhrase.NBest)for(const o of this.privDetailedSpeechPhrase.NBest){if(o.Words)for(const l of o.Words)l.Offset+=i;if(o.DisplayWords)for(const l of o.DisplayWords)l.Offset+=i}}asJson(){const i={...this.privDetailedSpeechPhrase};return JSON.stringify({...i,RecognitionStatus:e.RecognitionStatus[i.RecognitionStatus]})}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}get Language(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}get Text(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display||this.privDetailedSpeechPhrase.NBest[0].DisplayText:this.privDetailedSpeechPhrase.DisplayText}get SpeakerId(){return this.privDetailedSpeechPhrase.SpeakerId}mapRecognitionStatus(i){if(typeof i=="string")return e.RecognitionStatus[i];if(typeof i=="number")return i}};return Gu.DetailedSpeechPhrase=t,Gu}var Ju={},kP;function _U(){if(kP)return Ju;kP=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.SimpleSpeechPhrase=void 0;const e=Ce();let t=class V6{constructor(i,o=0){this.privSimpleSpeechPhrase=JSON.parse(i),this.privSimpleSpeechPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privSimpleSpeechPhrase.RecognitionStatus),this.updateOffset(o)}static fromJSON(i,o){return new V6(i,o)}updateOffset(i){this.privSimpleSpeechPhrase.Offset+=i}asJson(){const i={...this.privSimpleSpeechPhrase};return JSON.stringify({...i,RecognitionStatus:e.RecognitionStatus[i.RecognitionStatus]})}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}get Language(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSimpleSpeechPhrase.SpeakerId}mapRecognitionStatus(i){if(typeof i=="string")return e.RecognitionStatus[i];if(typeof i=="number")return i}};return Ju.SimpleSpeechPhrase=t,Ju}var Yu={},MP;function kU(){if(MP)return Yu;MP=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.AddedLmIntent=void 0;let e=class{constructor(r,i){this.modelImpl=r,this.intentName=i}};return Yu.AddedLmIntent=e,Yu}var Qu={},NP;function MU(){if(NP)return Qu;NP=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.IntentServiceRecognizer=void 0;const e=je(),t=se(),r=Ce();let i=class extends r.ServiceRecognizerBase{constructor(l,c,a,d,h){super(l,c,a,d,h),this.privIntentRecognizer=h,this.privIntentDataSent=!1}setIntents(l,c){this.privAddedLmIntents=l,this.privUmbrellaIntent=c,this.privIntentDataSent=!0}processTypeSpecificMessages(l){let c,a,d=!1;const h=new t.PropertyCollection;switch(l.messageType===e.MessageType.Text&&h.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,l.textBody),l.path.toLowerCase()){case"speech.hypothesis":const v=r.SpeechHypothesis.fromJSON(l.textBody,this.privRequestSession.currentTurnAudioOffset);if(c=new t.IntentRecognitionResult(void 0,this.privRequestSession.requestId,t.ResultReason.RecognizingIntent,v.Text,v.Duration,v.Offset,v.Language,v.LanguageDetectionConfidence,void 0,v.asJson(),h),this.privRequestSession.onHypothesis(c.offset),a=new t.IntentRecognitionEventArgs(c,v.Offset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,a)}catch{}d=!0;break;case"speech.phrase":const m=r.SimpleSpeechPhrase.fromJSON(l.textBody,this.privRequestSession.currentTurnAudioOffset);c=new t.IntentRecognitionResult(void 0,this.privRequestSession.requestId,r.EnumTranslation.implTranslateRecognitionResult(m.RecognitionStatus),m.DisplayText,m.Duration,m.Offset,m.Language,m.LanguageDetectionConfidence,void 0,m.asJson(),h),a=new t.IntentRecognitionEventArgs(c,c.offset,this.privRequestSession.sessionId);const S=()=>{if(this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,a)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(c)}catch(x){this.privErrorCallback&&this.privErrorCallback(x)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}};this.privIntentDataSent===!1||t.ResultReason.NoMatch===a.result.reason?(this.privRequestSession.onPhraseRecognized(a.offset+a.result.duration),S()):this.privPendingIntentArgs=a,d=!0;break;case"response":if(a=this.privPendingIntentArgs,this.privPendingIntentArgs=void 0,a===void 0){if(l.textBody==="")return;a=new t.IntentRecognitionEventArgs(new t.IntentRecognitionResult,0,this.privRequestSession.sessionId)}const C=r.IntentResponse.fromJSON(l.textBody);if(C!==null&&C.topScoringIntent&&C.topScoringIntent.intent){let x=this.privAddedLmIntents[C.topScoringIntent.intent];if(this.privUmbrellaIntent!==void 0&&(x=this.privUmbrellaIntent),x){const R=x===void 0||x.intentName===void 0?C.topScoringIntent.intent:x.intentName;let w=a.result.reason;R!==void 0&&(w=t.ResultReason.RecognizedIntent);const T=a.result.properties!==void 0?a.result.properties:new t.PropertyCollection;T.setProperty(t.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,l.textBody),a=new t.IntentRecognitionEventArgs(new t.IntentRecognitionResult(R,a.result.resultId,w,a.result.text,a.result.duration,a.result.offset,void 0,void 0,a.result.errorDetails,a.result.json,T),a.offset,a.sessionId)}}if(this.privRequestSession.onPhraseRecognized(a.offset+a.result.duration),this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,a)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(a.result)}catch(x){this.privErrorCallback&&this.privErrorCallback(x)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}d=!0;break}const p=new e.Deferred;return p.resolve(d),p.promise}cancelRecognition(l,c,a,d,h){const p=new t.PropertyCollection;if(p.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[d]),this.privIntentRecognizer.canceled){const v=new t.IntentRecognitionCanceledEventArgs(a,h,d,void 0,void 0,l);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,v)}catch{}}if(this.privSuccessCallback){const v=new t.IntentRecognitionResult(void 0,c,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,h,void 0,p);try{this.privSuccessCallback(v),this.privSuccessCallback=void 0}catch{}}}};return Qu.IntentServiceRecognizer=i,Qu}var Xu={},IP;function NU(){if(IP)return Xu;IP=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.IntentResponse=void 0;let e=class F6{constructor(r){r===""?this.privIntentResponse={}:this.privIntentResponse=JSON.parse(r)}static fromJSON(r){return new F6(r)}get query(){return this.privIntentResponse.query}get topScoringIntent(){return this.privIntentResponse.topScoringIntent}get entities(){return this.privIntentResponse.entities}};return Xu.IntentResponse=e,Xu}var Xg={},jP;function IU(){return jP||(jP=1,Object.defineProperty(Xg,"__esModule",{value:!0})),Xg}var Zu={},ed={},OP;function jU(){if(OP)return ed;OP=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.ServiceTelemetryListener=void 0;const e=je(),t=DS();class r{constructor(o,l,c){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privRequestId=o,this.privAudioSourceId=l,this.privAudioNodeId=c,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(o){o>0&&this.privPhraseLatencies.push(Date.now()-o)}hypothesisReceived(o){o>0&&this.privHypothesisLatencies.push(Date.now()-o)}onEvent(o){this.privIsDisposed||(o instanceof t.RecognitionTriggeredEvent&&o.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:o.eventTime,Name:"ListeningTrigger",Start:o.eventTime}),o instanceof e.AudioStreamNodeAttachingEvent&&o.audioSourceId===this.privAudioSourceId&&o.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=o.eventTime),o instanceof e.AudioStreamNodeAttachedEvent&&o.audioSourceId===this.privAudioSourceId&&o.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=o.eventTime),o instanceof e.AudioSourceErrorEvent&&o.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:o.eventTime,Error:o.error,Name:"Microphone",Start:this.privMicStartTime})),o instanceof e.AudioStreamNodeErrorEvent&&o.audioSourceId===this.privAudioSourceId&&o.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:o.eventTime,Error:o.error,Name:"Microphone",Start:this.privMicStartTime})),o instanceof e.AudioStreamNodeDetachedEvent&&o.audioSourceId===this.privAudioSourceId&&o.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:o.eventTime,Name:"Microphone",Start:this.privMicStartTime})),o instanceof t.ConnectingToServiceEvent&&o.requestId===this.privRequestId&&(this.privConnectionId=o.sessionId),o instanceof e.ConnectionStartEvent&&o.connectionId===this.privConnectionId&&(this.privConnectionStartTime=o.eventTime),o instanceof e.ConnectionEstablishedEvent&&o.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:o.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),o instanceof e.ConnectionEstablishErrorEvent&&o.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:o.eventTime,Error:this.getConnectionError(o.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),o instanceof e.ConnectionMessageReceivedEvent&&o.connectionId===this.privConnectionId&&o.message&&o.message.headers&&o.message.headers.path&&(this.privReceivedMessages[o.message.headers.path]||(this.privReceivedMessages[o.message.headers.path]=new Array),this.privReceivedMessages[o.message.headers.path].length<50&&this.privReceivedMessages[o.message.headers.path].push(o.networkReceivedTime)))}getTelemetry(){const o=new Array;this.privListeningTriggerMetric&&o.push(this.privListeningTriggerMetric),this.privMicMetric&&o.push(this.privMicMetric),this.privConnectionEstablishMetric&&o.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&o.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&o.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const l={Metrics:o,ReceivedMessages:this.privReceivedMessages},c=JSON.stringify(l);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],c}get hasTelemetry(){return Object.keys(this.privReceivedMessages).length!==0||this.privListeningTriggerMetric!==null||this.privMicMetric!==null||this.privConnectionEstablishMetric!==null||this.privPhraseLatencies.length!==0||this.privHypothesisLatencies.length!==0}dispose(){this.privIsDisposed=!0}getConnectionError(o){switch(o){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+o.toString()}}}return ed.ServiceTelemetryListener=r,ed}var DP;function OU(){if(DP)return Zu;DP=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.RequestSession=void 0;const e=je(),t=DS(),r=jU();let i=class{constructor(l){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecognitionBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.privAudioSourceId=l,this.privRequestId=e.createNoDashGuid(),this.privAudioNodeId=e.createNoDashGuid(),this.privTurnDeferral=new e.Deferred,this.privTurnDeferral.resolve()}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get numConnectionAttempts(){return this.privConnectionAttempts}get bytesSent(){return this.privBytesSent}get recognitionBytesSent(){return this.privRecognitionBytesSent}listenForServiceTelemetry(l){this.privServiceTelemetryListener&&this.privDetachables.push(l.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privRecognitionBytesSent=0,this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new r.ServiceTelemetryListener(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new t.RecognitionTriggeredEvent(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}async onAudioSourceAttachCompleted(l,c){this.privAudioNode=l,this.privIsAudioNodeDetached=!1,c?await this.onComplete():this.onEvent(new t.ListeningStartedEvent(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onPreConnectionStart(l,c){this.privAuthFetchEventId=l,this.privSessionId=c,this.onEvent(new t.ConnectingToServiceEvent(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))}async onAuthCompleted(l){l&&await this.onComplete()}async onConnectionEstablishCompleted(l,c){if(l===200){this.onEvent(new t.RecognitionStartedEvent(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privBytesSent=0;return}else l===403&&await this.onComplete()}async onServiceTurnEndResponse(l){this.privTurnDeferral.resolve(),!l||this.isSpeechEnded?(await this.onComplete(),this.privInTurn=!1):(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay())}onSpeechContext(){this.privRequestId=e.createNoDashGuid()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new e.Deferred}onHypothesis(l){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(l)))}onPhraseRecognized(l){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(l)),this.onServiceRecognized(l)}onServiceRecognized(l){this.privLastRecoOffset=l,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(l),this.privConnectionAttempts=0}onAudioSent(l){this.privBytesSent+=l,this.privRecognitionBytesSent+=l}onRetryConnection(){this.privConnectionAttempts++}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const l of this.privDetachables)await l.detach();this.privServiceTelemetryListener&&this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1}}getTelemetry(){return this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null}async onStopRecognizing(){await this.onComplete()}onSpeechEnded(){this.privIsSpeechEnded=!0}onEvent(l){this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(l),e.Events.instance.onEvent(l)}async onComplete(){this.privIsRecognizing&&(this.privIsRecognizing=!1,await this.detachAudioNode())}async detachAudioNode(){this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&await this.privAudioNode.detach())}};return Zu.RequestSession=i,Zu}var td={},zP;function DU(){if(zP)return td;zP=1,Object.defineProperty(td,"__esModule",{value:!0}),td.SpeechContext=void 0;let e=class{constructor(r){this.privContext={},this.privDynamicGrammar=r}getSection(r){return this.privContext[r]||{}}setSection(r,i){this.privContext[r]=i}setPronunciationAssessmentParams(r,i,o=!1){this.privContext.phraseDetection===void 0&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),this.privContext.phraseDetection.enrichment===void 0&&(this.privContext.phraseDetection.enrichment={pronunciationAssessment:{}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(r),o&&(this.privContext.phraseDetection.mode="Conversation"),this.setWordLevelTimings(),this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),this.privContext.phraseOutput.detailed.options.indexOf("SNR")===-1&&this.privContext.phraseOutput.detailed.options.push("SNR"),i&&(this.privContext.phraseDetection.enrichment.contentAssessment={topic:i},this.privContext.phraseOutput.detailed.options.push("ContentAssessment"))}setDetailedOutputFormat(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed"}setWordLevelTimings(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed",this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")===-1&&this.privContext.phraseOutput.detailed.options.push("WordTimings")}setSpeakerDiarizationAudioOffsetMs(r){this.privContext.phraseDetection.speakerDiarization.audioOffsetMs=r}toJSON(){const r=this.privDynamicGrammar.generateGrammarObject();return this.setSection("dgi",r),JSON.stringify(this.privContext)}};return td.SpeechContext=e,td}var rd={},LP;function zU(){if(LP)return rd;LP=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.DynamicGrammarBuilder=void 0;let e=class{addPhrase(r){this.privPhrases||(this.privPhrases=[]),r instanceof Array?this.privPhrases=this.privPhrases.concat(r):this.privPhrases.push(r)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(r){this.privGrammars||(this.privGrammars=[]),r instanceof Array?this.privGrammars=this.privGrammars.concat(r):this.privGrammars.push(r)}clearGrammars(){this.privGrammars=void 0}generateGrammarObject(){if(this.privGrammars===void 0&&this.privPhrases===void 0)return;const r={};if(r.ReferenceGrammars=this.privGrammars,this.privPhrases!==void 0&&this.privPhrases.length!==0){const i=[];this.privPhrases.forEach(o=>{i.push({Text:o})}),r.Groups=[{Type:"Generic",Items:i}]}return r}};return rd.DynamicGrammarBuilder=e,rd}var Zg={},qP;function LU(){return qP||(qP=1,Object.defineProperty(Zg,"__esModule",{value:!0})),Zg}var nd={},id={},sd={},ey={},BP;function H6(){return BP||(BP=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MessageDataStreamType=e.ActivityPayloadResponse=void 0;class t{constructor(i){this.privActivityResponse=JSON.parse(i)}static fromJSON(i){return new t(i)}get conversationId(){return this.privActivityResponse.conversationId}get messageDataStreamType(){return this.privActivityResponse.messageDataStreamType}get messagePayload(){return this.privActivityResponse.messagePayload}get version(){return this.privActivityResponse.version}}e.ActivityPayloadResponse=t,function(r){r[r.None=0]="None",r[r.TextToSpeechAudio=1]="TextToSpeechAudio"}(e.MessageDataStreamType||(e.MessageDataStreamType={}))}(ey)),ey}var UP;function qU(){if(UP)return sd;UP=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.DialogServiceTurnState=void 0;const e=ih(),t=pa(),r=H6();let i=class{constructor(l,c){this.privRequestId=c,this.privIsCompleted=!1,this.privAudioStream=null,this.privTurnManager=l,this.resetTurnEndTimeout()}get audioStream(){return this.resetTurnEndTimeout(),this.privAudioStream}processActivityPayload(l,c){return l.messageDataStreamType===r.MessageDataStreamType.TextToSpeechAudio&&(this.privAudioStream=t.AudioOutputStream.createPullStream(),this.privAudioStream.format=c!==void 0?c:e.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privAudioStream}endAudioStream(){this.privAudioStream!==null&&!this.privAudioStream.isClosed&&this.privAudioStream.close()}complete(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.endAudioStream()}resetTurnEndTimeout(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.privTimeoutToken=setTimeout(()=>{this.privTurnManager.CompleteTurn(this.privRequestId)},2e3)}};return sd.DialogServiceTurnState=i,sd}var VP;function BU(){if(VP)return id;VP=1,Object.defineProperty(id,"__esModule",{value:!0}),id.DialogServiceTurnStateManager=void 0;const e=Un(),t=qU();let r=class{constructor(){this.privTurnMap=new Map}StartTurn(o){if(this.privTurnMap.has(o))throw new e.InvalidOperationError("Service error: There is already a turn with id:"+o);const l=new t.DialogServiceTurnState(this,o);return this.privTurnMap.set(o,l),this.privTurnMap.get(o)}GetTurn(o){return this.privTurnMap.get(o)}CompleteTurn(o){if(!this.privTurnMap.has(o))throw new e.InvalidOperationError("Service error: Received turn end for an unknown turn id:"+o);const l=this.privTurnMap.get(o);return l.complete(),this.privTurnMap.delete(o),l}};return id.DialogServiceTurnStateManager=r,id}var FP;function UU(){if(FP)return nd;FP=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.DialogServiceAdapter=void 0;const e=Zt(),t=Qk(),r=je(),i=ih(),o=se(),l=BU(),c=Ce(),a=H6(),d=fa();let h=class extends c.ServiceRecognizerBase{constructor(v,m,S,C,x){super(v,m,S,C,x),this.privEvents=new r.EventSource,this.privDialogServiceConnector=x,this.receiveMessageOverride=()=>this.receiveDialogMessageOverride(),this.privTurnStateManager=new l.DialogServiceTurnStateManager,this.recognizeOverride=(R,w,T)=>this.listenOnce(R,w,T),this.postConnectImplOverride=R=>this.dialogConnectImpl(R),this.configConnectionOverride=R=>this.configConnection(R),this.disconnectOverride=()=>this.privDisconnect(),this.privDialogAudioSource=S,this.agentConfigSent=!1,this.privLastResult=null,this.connectionEvents.attach(R=>{R.name==="ConnectionClosedEvent"&&(this.terminateMessageLoop=!0)})}async sendMessage(v){const m=r.createGuid(),S=r.createNoDashGuid(),C={context:{interactionId:m},messagePayload:JSON.parse(v),version:.5},x=JSON.stringify(C);await(await this.fetchConnection()).send(new d.SpeechConnectionMessage(r.MessageType.Text,"agent",S,"application/json",x))}async privDisconnect(){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,this.agentConfigSent=!1}processTypeSpecificMessages(v){const m=new o.PropertyCollection;v.messageType===r.MessageType.Text&&m.setProperty(o.PropertyId.SpeechServiceResponse_JsonResult,v.textBody);let S,C;switch(v.path.toLowerCase()){case"speech.phrase":const R=c.SimpleSpeechPhrase.fromJSON(v.textBody,this.privRequestSession.currentTurnAudioOffset);if(this.privRequestSession.onPhraseRecognized(R.Offset+R.Duration),R.RecognitionStatus!==c.RecognitionStatus.TooManyRequests&&R.RecognitionStatus!==c.RecognitionStatus.Error){const k=this.fireEventForResult(R,m);if(this.privLastResult=k.result,this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,k)}catch{}}C=!0;break;case"speech.hypothesis":const w=c.SpeechHypothesis.fromJSON(v.textBody,this.privRequestSession.currentTurnAudioOffset);S=new o.SpeechRecognitionResult(this.privRequestSession.requestId,o.ResultReason.RecognizingSpeech,w.Text,w.Duration,w.Offset,w.Language,w.LanguageDetectionConfidence,void 0,void 0,w.asJson(),m),this.privRequestSession.onHypothesis(w.Offset);const T=new o.SpeechRecognitionEventArgs(S,w.Offset,this.privRequestSession.sessionId);if(this.privDialogServiceConnector.recognizing)try{this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector,T)}catch{}C=!0;break;case"speech.keyword":const P=c.SpeechKeyword.fromJSON(v.textBody,this.privRequestSession.currentTurnAudioOffset);S=new o.SpeechRecognitionResult(this.privRequestSession.requestId,P.Status==="Accepted"?o.ResultReason.RecognizedKeyword:o.ResultReason.NoMatch,P.Text,P.Duration,P.Offset,void 0,void 0,void 0,void 0,P.asJson(),m),P.Status!=="Accepted"&&(this.privLastResult=S);const I=new o.SpeechRecognitionEventArgs(S,S.duration,S.resultId);if(this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,I)}catch{}C=!0;break;case"audio":{const k=v.requestId.toUpperCase(),U=this.privTurnStateManager.GetTurn(k);try{v.binaryBody?U.audioStream.write(v.binaryBody):U.endAudioStream()}catch{}}C=!0;break;case"response":this.handleResponseMessage(v),C=!0;break}const x=new r.Deferred;return x.resolve(C),x.promise}async cancelRecognition(v,m,S,C,x){if(this.terminateMessageLoop=!0,this.privRequestSession.isRecognizing&&await this.privRequestSession.onStopRecognizing(),this.privDialogServiceConnector.canceled){const R=new o.PropertyCollection;R.setProperty(c.CancellationErrorCodePropertyName,o.CancellationErrorCode[C]);const w=new o.SpeechRecognitionCanceledEventArgs(S,x,C,void 0,v);try{this.privDialogServiceConnector.canceled(this.privDialogServiceConnector,w)}catch{}if(this.privSuccessCallback){const T=new o.SpeechRecognitionResult(void 0,o.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,x,void 0,R);try{this.privSuccessCallback(T),this.privSuccessCallback=void 0}catch{}}}}async listenOnce(v,m,S){this.privRecognizerConfig.recognitionMode=v,this.privSuccessCallback=m,this.privErrorCallback=S,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privDialogAudioSource.events),this.privRecognizerConfig.parameters.setProperty(o.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const C=this.connectImpl(),x=this.sendPreAudioMessages(),R=await this.privDialogAudioSource.attach(this.privRequestSession.audioNodeId),w=await this.privDialogAudioSource.format,T=await this.privDialogAudioSource.deviceInfo,P=new e.ReplayableAudioNode(R,w.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(P,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:T};try{await C,await x}catch(U){return await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.ConnectionFailure,U),Promise.resolve()}const I=new o.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,I),this.sendAudio(P).then(()=>{},async U=>{await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,U)})}dialogConnectImpl(v){return this.privConnectionLoop=this.startMessageLoop(),v}receiveDialogMessageOverride(){const v=new r.Deferred,m=async()=>{try{const S=this.isDisposed(),C=!this.isDisposed()&&this.terminateMessageLoop;if(S||C){v.resolve(void 0);return}const R=await(await this.fetchConnection()).read();if(!R)return m();const w=d.SpeechConnectionMessage.fromConnectionMessage(R);switch(w.path.toLowerCase()){case"turn.start":{const q=w.requestId.toUpperCase(),F=this.privRequestSession.requestId.toUpperCase();q!==F?this.privTurnStateManager.StartTurn(q):this.privRequestSession.onServiceTurnStartResponse()}break;case"speech.startdetected":const P=c.SpeechDetected.fromJSON(w.textBody,this.privRequestSession.currentTurnAudioOffset),I=new o.RecognitionEventArgs(P.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,I);break;case"speech.enddetected":let k;w.textBody.length>0?k=w.textBody:k="{ Offset: 0 }";const U=c.SpeechDetected.fromJSON(k,this.privRequestSession.currentTurnAudioOffset);this.privRequestSession.onServiceRecognized(U.Offset);const H=new o.RecognitionEventArgs(U.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,H);break;case"turn.end":{const q=w.requestId.toUpperCase(),F=this.privRequestSession.requestId.toUpperCase();if(q!==F)this.privTurnStateManager.CompleteTurn(q);else{const $=new o.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(!1),(!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing)&&this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,$),this.privSuccessCallback&&this.privLastResult){try{this.privSuccessCallback(this.privLastResult),this.privLastResult=null}catch(ue){this.privErrorCallback&&this.privErrorCallback(ue)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}}break;default:try{await this.processTypeSpecificMessages(w)||this.serviceEvents&&this.serviceEvents.onEvent(new r.ServiceEvent(w.path.toLowerCase(),w.textBody))}catch{}}return m()}catch{this.terminateMessageLoop=!0,v.resolve()}};return m().catch(S=>{r.Events.instance.onEvent(new r.BackgroundEvent(S))}),v.promise}async startMessageLoop(){this.terminateMessageLoop=!1;try{await this.receiveDialogMessageOverride()}catch(v){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,v)}return Promise.resolve()}async configConnection(v){return this.terminateMessageLoop?(this.terminateMessageLoop=!1,Promise.reject("Connection to service terminated.")):(await this.sendSpeechServiceConfig(v,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendAgentConfig(v),v)}async sendPreAudioMessages(){const v=await this.fetchConnection();this.addKeywordContextData(),await this.sendSpeechContext(v,!0),await this.sendAgentContext(v),await this.sendWaveHeader(v)}sendAgentConfig(v){if(this.agentConfig&&!this.agentConfigSent){if(this.privRecognizerConfig.parameters.getProperty(o.PropertyId.Conversation_DialogType)===o.DialogServiceConfig.DialogTypes.CustomCommands){const S=this.agentConfig.get();S.botInfo.commandsCulture=this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,"en-us"),this.agentConfig.set(S)}this.onEvent(new t.SendingAgentContextMessageEvent(this.agentConfig));const m=this.agentConfig.toJsonString();return this.agentConfigSent=!0,v.send(new d.SpeechConnectionMessage(r.MessageType.Text,"agent.config",this.privRequestSession.requestId,"application/json",m))}}sendAgentContext(v){const m=r.createGuid(),S=this.privDialogServiceConnector.properties.getProperty(o.PropertyId.Conversation_Speech_Activity_Template),x=JSON.stringify({channelData:"",context:{interactionId:m},messagePayload:typeof S===void 0?void 0:S,version:.5});return v.send(new d.SpeechConnectionMessage(r.MessageType.Text,"speech.agent.context",this.privRequestSession.requestId,"application/json",x))}fireEventForResult(v,m){const S=c.EnumTranslation.implTranslateRecognitionResult(v.RecognitionStatus),C=new o.SpeechRecognitionResult(this.privRequestSession.requestId,S,v.DisplayText,v.Duration,v.Offset,v.Language,v.LanguageDetectionConfidence,void 0,void 0,v.asJson(),m);return new o.SpeechRecognitionEventArgs(C,v.Offset,this.privRequestSession.sessionId)}handleResponseMessage(v){const m=JSON.parse(v.textBody);switch(m.messageType.toLowerCase()){case"message":const S=v.requestId.toUpperCase(),C=a.ActivityPayloadResponse.fromJSON(v.textBody),x=this.privTurnStateManager.GetTurn(S);if(C.conversationId){const T=this.agentConfig.get();T.botInfo.conversationId=C.conversationId,this.agentConfig.set(T)}const R=x.processActivityPayload(C,i.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(this.privDialogServiceConnector.properties.getProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0))),w=new o.ActivityReceivedEventArgs(C.messagePayload,R);if(this.privDialogServiceConnector.activityReceived)try{this.privDialogServiceConnector.activityReceived(this.privDialogServiceConnector,w)}catch{}break;case"messagestatus":if(this.privDialogServiceConnector.turnStatusReceived)try{this.privDialogServiceConnector.turnStatusReceived(this.privDialogServiceConnector,new o.TurnStatusReceivedEventArgs(v.textBody))}catch{}break;default:r.Events.instance.onEvent(new r.BackgroundEvent(`Unexpected response of type ${m.messageType}. Ignoring.`));break}}onEvent(v){this.privEvents.onEvent(v),r.Events.instance.onEvent(v)}addKeywordContextData(){const v=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect");if(v===void 0)return;const m=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Offsets"),S=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Durations"),C=v.split(";"),x=m===void 0?[]:m.split(";"),R=S===void 0?[]:S.split(";"),w=[];for(let T=0;T<C.length;T++){const P={};P.text=C[T],T<x.length&&(P.offset=Number(x[T])),T<R.length&&(P.duration=Number(R[T])),w.push(P)}this.speechContext.setSection("invocationSource","VoiceActivationWithKeyword"),this.speechContext.setSection("keywordDetection",[{clientDetectedKeywords:w,onReject:{action:"EndOfTurn"},type:"startTrigger"}])}};return nd.DialogServiceAdapter=h,nd}var od={},HP;function VU(){if(HP)return od;HP=1,Object.defineProperty(od,"__esModule",{value:!0}),od.AgentConfig=void 0;let e=class{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(r){this.iPrivConfig=r}};return od.AgentConfig=e,od}var ty={},ad={},cd={},$P;function zS(){if($P)return cd;$P=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.ConversationConnectionConfig=void 0;const e=D6();let t=class Ji extends e.RestConfigBase{static get host(){return Ji.privHost}static get apiVersion(){return Ji.privApiVersion}static get clientAppId(){return Ji.privClientAppId}static get defaultLanguageCode(){return Ji.privDefaultLanguageCode}static get restPath(){return Ji.privRestPath}static get webSocketPath(){return Ji.privWebSocketPath}static get transcriptionEventKeys(){return Ji.privTranscriptionEventKeys}};return cd.ConversationConnectionConfig=t,t.privHost="dev.microsofttranslator.com",t.privRestPath="/capito/room",t.privApiVersion="2.0",t.privDefaultLanguageCode="en-US",t.privClientAppId="FC539C22-1767-4F1F-84BC-B4D811114F15",t.privWebSocketPath="/capito/translate",t.privTranscriptionEventKeys=["iCalUid","callId","organizer","FLAC","MTUri","DifferentiateGuestSpeakers","audiorecording","Threadid","OrganizerMri","OrganizerTenantId","UserToken"],cd}var KP;function FU(){if(KP)return ad;KP=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.ConversationManager=void 0;const e=Zt(),t=He(),r=se(),i=zS();let o=class{constructor(){this.privRequestParams=i.ConversationConnectionConfig.configParams,this.privErrors=i.ConversationConnectionConfig.restErrors,this.privHost=i.ConversationConnectionConfig.host,this.privApiVersion=i.ConversationConnectionConfig.apiVersion,this.privRestPath=i.ConversationConnectionConfig.restPath,this.privRestAdapter=new e.RestMessageAdapter({})}createOrJoin(c,a,d,h){try{t.Contracts.throwIfNullOrUndefined(c,"args");const p=c.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,i.ConversationConnectionConfig.defaultLanguageCode),v=c.getProperty(r.PropertyId.ConversationTranslator_Name,"conversation_host"),m=c.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),S=c.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),C=c.getProperty(r.PropertyId.SpeechServiceConnection_Key),x=c.getProperty(r.PropertyId.SpeechServiceConnection_Region),R=c.getProperty(r.PropertyId.SpeechServiceAuthorization_Token);t.Contracts.throwIfNullOrWhitespace(p,"languageCode"),t.Contracts.throwIfNullOrWhitespace(v,"nickname"),t.Contracts.throwIfNullOrWhitespace(m,"endpointHost");const w={};w[this.privRequestParams.apiVersion]=this.privApiVersion,w[this.privRequestParams.languageCode]=p,w[this.privRequestParams.nickname]=v;const T={};S&&(T[this.privRequestParams.correlationId]=S),T[this.privRequestParams.clientAppId]=i.ConversationConnectionConfig.clientAppId,a!==void 0?w[this.privRequestParams.roomId]=a:(t.Contracts.throwIfNullOrUndefined(x,this.privErrors.authInvalidSubscriptionRegion),T[this.privRequestParams.subscriptionRegion]=x,C?T[this.privRequestParams.subscriptionKey]=C:R?T[this.privRequestParams.authorization]=`Bearer ${R}`:t.Contracts.throwIfNullOrUndefined(C,this.privErrors.authInvalidSubscriptionKey));const P={};P.headers=T,this.privRestAdapter.options=P;const I=`https://${m}${this.privRestPath}`;this.privRestAdapter.request(e.RestRequestType.Post,I,w,null).then(k=>{const U=e.RestMessageAdapter.extractHeaderValue(this.privRequestParams.requestId,k.headers);if(!k.ok){if(h){let q=this.privErrors.invalidCreateJoinConversationResponse.replace("{status}",k.status.toString()),F;try{F=JSON.parse(k.data),q+=` [${F.error.code}: ${F.error.message}]`}catch{q+=` [${k.data}]`}U&&(q+=` ${U}`),h(q)}return}const H=JSON.parse(k.data);if(H&&(H.requestId=U),d){try{d(H)}catch(q){h&&h(q)}d=void 0}}).catch(()=>{})}catch(p){if(h)if(p instanceof Error){const v=p;h(v.name+": "+v.message)}else h(p)}}leave(c,a){return new Promise((d,h)=>{try{t.Contracts.throwIfNullOrUndefined(c,this.privErrors.invalidArgs.replace("{arg}","config")),t.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","token"));const p=c.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),v=c.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),m={};m[this.privRequestParams.apiVersion]=this.privApiVersion,m[this.privRequestParams.sessionToken]=a;const S={};v&&(S[this.privRequestParams.correlationId]=v);const C={};C.headers=S,this.privRestAdapter.options=C;const x=`https://${p}${this.privRestPath}`;this.privRestAdapter.request(e.RestRequestType.Delete,x,m,null).then(R=>{R.ok,d()}).catch(()=>{})}catch(p){if(p instanceof Error){const v=p;h(v.name+": "+v.message)}else h(p)}})}};return ad.ConversationManager=o,ad}var $s={},ld={},ud={},dd={},WP;function $6(){if(WP)return dd;WP=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.ConversationConnectionMessage=void 0;const e=je();let t=class extends e.ConnectionMessage{constructor(i,o,l,c){super(i,o,l,c);const a=JSON.parse(this.textBody);a.type!==void 0&&(this.privConversationMessageType=a.type)}get conversationMessageType(){return this.privConversationMessageType}};return dd.ConversationConnectionMessage=t,dd}var GP;function HU(){if(GP)return ud;GP=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.ConversationWebsocketMessageFormatter=void 0;const e=je(),t=$6();let r=class{toConnectionMessage(o){const l=new e.Deferred;try{if(o.messageType===e.MessageType.Text){const c=new t.ConversationConnectionMessage(o.messageType,o.textContent,{},o.id);l.resolve(c)}else o.messageType===e.MessageType.Binary&&l.resolve(new t.ConversationConnectionMessage(o.messageType,o.binaryContent,void 0,o.id))}catch(c){l.reject(`Error formatting the message. Error: ${c}`)}return l.promise}fromConnectionMessage(o){const l=new e.Deferred;try{if(o.messageType===e.MessageType.Text){const c=`${o.textBody?o.textBody:""}`;l.resolve(new e.RawWebsocketMessage(e.MessageType.Text,c,o.id))}}catch(c){l.reject(`Error formatting the message. ${c}`)}return l.promise}};return ud.ConversationWebsocketMessageFormatter=r,ud}var JP;function $U(){if(JP)return ld;JP=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.ConversationConnectionFactory=void 0;const e=Zt(),t=je(),r=He(),i=se(),o=An(),l=zS(),c=HU();let a=class extends o.ConnectionFactoryBase{create(h,p,v){const m=h.parameters.getProperty(i.PropertyId.ConversationTranslator_Host,l.ConversationConnectionConfig.host),S=h.parameters.getProperty(i.PropertyId.ConversationTranslator_CorrelationId,t.createGuid()),C=`wss://${m}${l.ConversationConnectionConfig.webSocketPath}`,x=h.parameters.getProperty(i.PropertyId.ConversationTranslator_Token,void 0);r.Contracts.throwIfNullOrUndefined(x,"token");const R={};R[l.ConversationConnectionConfig.configParams.apiVersion]=l.ConversationConnectionConfig.apiVersion,R[l.ConversationConnectionConfig.configParams.token]=x,R[l.ConversationConnectionConfig.configParams.correlationId]=S;const w=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(C,R,{},new c.ConversationWebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),w,v)}};return ld.ConversationConnectionFactory=a,ld}var hd={},pd={},YP;function KU(){if(YP)return pd;YP=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.ConversationRequestSession=void 0;const e=je();let t=class{constructor(i){this.privIsDisposed=!1,this.privDetachables=new Array,this.privSessionId=i,this.privRequestId=e.createNoDashGuid(),this.privRequestCompletionDeferral=new e.Deferred}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get completionPromise(){return this.privRequestCompletionDeferral.promise}onPreConnectionStart(i,o){this.privSessionId=o}onAuthCompleted(i){i&&this.onComplete()}onConnectionEstablishCompleted(i){i!==200&&i===403&&this.onComplete()}onServiceTurnEndResponse(i){i?this.privRequestId=e.createNoDashGuid():this.onComplete()}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const i of this.privDetachables)await i.detach()}}onComplete(){}};return pd.ConversationRequestSession=t,pd}var mr={},QP;function K6(){if(QP)return mr;QP=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.ConversationReceivedTranslationEventArgs=mr.ParticipantsListEventArgs=mr.ParticipantAttributeEventArgs=mr.ParticipantEventArgs=mr.LockRoomEventArgs=mr.MuteAllEventArgs=void 0;const e=se();class t extends e.SessionEventArgs{constructor(d,h){super(h),this.privIsMuted=d}get isMuted(){return this.privIsMuted}}mr.MuteAllEventArgs=t;class r extends e.SessionEventArgs{constructor(d,h){super(h),this.privIsLocked=d}get isMuted(){return this.privIsLocked}}mr.LockRoomEventArgs=r;class i extends e.SessionEventArgs{constructor(d,h){super(h),this.privParticipant=d}get participant(){return this.privParticipant}}mr.ParticipantEventArgs=i;class o extends e.SessionEventArgs{constructor(d,h,p,v){super(v),this.privKey=h,this.privValue=p,this.privParticipantId=d}get value(){return this.privValue}get key(){return this.privKey}get id(){return this.privParticipantId}}mr.ParticipantAttributeEventArgs=o;class l extends e.SessionEventArgs{constructor(d,h,p,v,m,S,C,x,R){super(R),this.privRoomId=d,this.privSessionToken=h,this.privTranslateTo=p,this.privProfanityFilter=v,this.privRoomProfanityFilter=m,this.privIsRoomLocked=S,this.privIsRoomLocked=C,this.privParticipants=x}get sessionToken(){return this.privSessionToken}get conversationId(){return this.privRoomId}get translateTo(){return this.privTranslateTo}get profanityFilter(){return this.privProfanityFilter}get roomProfanityFilter(){return this.privRoomProfanityFilter}get isRoomLocked(){return this.privIsRoomLocked}get isMuteAll(){return this.privIsMuteAll}get participants(){return this.privParticipants}}mr.ParticipantsListEventArgs=l;class c{constructor(d,h,p){this.privPayload=h,this.privCommand=d,this.privSessionId=p}get payload(){return this.privPayload}get command(){return this.privCommand}get sessionId(){return this.privSessionId}}return mr.ConversationReceivedTranslationEventArgs=c,mr}var pi={},XP;function W6(){if(XP)return pi;XP=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.ConversationTranslatorCommandTypes=pi.ConversationTranslatorMessageTypes=pi.InternalParticipants=void 0;class e{constructor(r=[],i){this.participants=r,this.meId=i}addOrUpdateParticipant(r){if(r===void 0)return;const i=this.getParticipantIndex(r.id);return i>-1?this.participants.splice(i,1,r):this.participants.push(r),this.getParticipant(r.id)}getParticipantIndex(r){return this.participants.findIndex(i=>i.id===r)}getParticipant(r){return this.participants.find(i=>i.id===r)}deleteParticipant(r){this.participants=this.participants.filter(i=>i.id!==r)}get host(){return this.participants.find(r=>r.isHost===!0)}get me(){return this.getParticipant(this.meId)}}return pi.InternalParticipants=e,pi.ConversationTranslatorMessageTypes={command:"command",final:"final",info:"info",instantMessage:"instant_message",keepAlive:"keep_alive",partial:"partial",participantCommand:"participant_command",translatedMessage:"translated_message"},pi.ConversationTranslatorCommandTypes={changeNickname:"ChangeNickname",disconnectSession:"DisconnectSession",ejectParticipant:"EjectParticipant",instant_message:"instant_message",joinSession:"JoinSession",leaveSession:"LeaveSession",participantList:"ParticipantList",roomExpirationWarning:"RoomExpirationWarning",setLockState:"SetLockState",setMute:"SetMute",setMuteAll:"SetMuteAll",setProfanityFiltering:"SetProfanityFiltering",setTranslateToLanguages:"SetTranslateToLanguages",setUseTTS:"SetUseTTS"},pi}var ry={},fd={},ZP;function WU(){if(ZP)return fd;ZP=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.CommandResponsePayload=void 0;const e=r=>JSON.parse(r);let t=class G6{constructor(i){this.privCommandResponse=e(i)}get type(){return this.privCommandResponse.type}get command(){return this.privCommandResponse.command}get id(){return this.privCommandResponse.id}get nickname(){return this.privCommandResponse.nickname}get participantId(){return this.privCommandResponse.participantId}get roomid(){return this.privCommandResponse.roomid}get value(){return this.privCommandResponse.value}get token(){return this.privCommandResponse.token}static fromJSON(i){return new G6(i)}};return fd.CommandResponsePayload=t,fd}var Ks={},eA;function GU(){if(eA)return Ks;eA=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.ParticipantPayloadResponse=Ks.ParticipantsListPayloadResponse=void 0;const e=o=>JSON.parse(o),t=o=>JSON.parse(o);class r{constructor(l){this.privParticipantsPayloadResponse=e(l)}get roomid(){return this.privParticipantsPayloadResponse.roomid}get id(){return this.privParticipantsPayloadResponse.id}get command(){return this.privParticipantsPayloadResponse.command}get participants(){return this.privParticipantsPayloadResponse.participants}get token(){return this.privParticipantsPayloadResponse.token}get translateTo(){return this.privParticipantsPayloadResponse.translateTo}get profanityFilter(){return this.privParticipantsPayloadResponse.profanityFilter}get roomProfanityFilter(){return this.privParticipantsPayloadResponse.roomProfanityFilter}get roomLocked(){return this.privParticipantsPayloadResponse.roomLocked}get muteAll(){return this.privParticipantsPayloadResponse.muteAll}get type(){return this.privParticipantsPayloadResponse.type}static fromJSON(l){return new r(l)}}Ks.ParticipantsListPayloadResponse=r;class i{constructor(l){this.privParticipantPayloadResponse=t(l)}get nickname(){return this.privParticipantPayloadResponse.nickname}get locale(){return this.privParticipantPayloadResponse.locale}get usetts(){return this.privParticipantPayloadResponse.usetts}get ismuted(){return this.privParticipantPayloadResponse.ismuted}get ishost(){return this.privParticipantPayloadResponse.ishost}get participantId(){return this.privParticipantPayloadResponse.participantId}get avatar(){return this.privParticipantPayloadResponse.avatar}static fromJSON(l){return new i(l)}}return Ks.ParticipantPayloadResponse=i,Ks}var Ws={},tA;function JU(){if(tA)return Ws;tA=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.TextResponsePayload=Ws.SpeechResponsePayload=void 0;const e=o=>JSON.parse(o),t=o=>JSON.parse(o);class r{constructor(l){this.privSpeechResponse=e(l)}get recognition(){return this.privSpeechResponse.recognition}get translations(){return this.privSpeechResponse.translations}get id(){return this.privSpeechResponse.id}get language(){return this.privSpeechResponse.language}get nickname(){return this.privSpeechResponse.nickname}get participantId(){return this.privSpeechResponse.participantId}get roomid(){return this.privSpeechResponse.roomid}get timestamp(){return this.privSpeechResponse.timestamp}get type(){return this.privSpeechResponse.type}get isFinal(){return this.privSpeechResponse.type==="final"}static fromJSON(l){return new r(l)}}Ws.SpeechResponsePayload=r;class i{constructor(l){this.privTextResponse=t(l)}get originalText(){return this.privTextResponse.originalText}get translations(){return this.privTextResponse.translations}get id(){return this.privTextResponse.id}get language(){return this.privTextResponse.language}get nickname(){return this.privTextResponse.nickname}get participantId(){return this.privTextResponse.participantId}get roomid(){return this.privTextResponse.roomid}get timestamp(){return this.privTextResponse.timestamp}get type(){return this.privTextResponse.type}static fromJSON(l){return new i(l)}}return Ws.TextResponsePayload=i,Ws}var rA;function YU(){return rA||(rA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=WU();Object.defineProperty(e,"CommandResponsePayload",{enumerable:!0,get:function(){return t.CommandResponsePayload}});var r=GU();Object.defineProperty(e,"ParticipantsListPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantsListPayloadResponse}}),Object.defineProperty(e,"ParticipantPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantPayloadResponse}});var i=JU();Object.defineProperty(e,"SpeechResponsePayload",{enumerable:!0,get:function(){return i.SpeechResponsePayload}}),Object.defineProperty(e,"TextResponsePayload",{enumerable:!0,get:function(){return i.TextResponsePayload}})}(ry)),ry}var nA;function QU(){if(nA)return hd;nA=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.ConversationServiceAdapter=void 0;const e=je(),t=se(),r=Ce(),i=$6(),o=KU(),l=K6(),c=W6(),a=YU();let d=class extends r.ServiceRecognizerBase{constructor(p,v,m,S,C){super(p,v,m,S,C),this.privConnectionConfigPromise=void 0,this.privLastPartialUtteranceId="",this.privConversationServiceConnector=C,this.privConversationAuthentication=p,this.receiveMessageOverride=()=>this.receiveConversationMessageOverride(),this.recognizeOverride=()=>this.noOp(),this.postConnectImplOverride=x=>this.conversationConnectImpl(x),this.configConnectionOverride=()=>this.configConnection(),this.disconnectOverride=()=>this.privDisconnect(),this.privConversationRequestSession=new o.ConversationRequestSession(e.createNoDashGuid()),this.privConversationConnectionFactory=v,this.privConversationIsDisposed=!1}isDisposed(){return super.isDisposed()||this.privConversationIsDisposed}async dispose(p){this.privConversationIsDisposed=!0,this.privConnectionConfigPromise!==void 0&&await(await this.privConnectionConfigPromise).dispose(p),await super.dispose(p)}async sendMessage(p){return(await this.fetchConnection()).send(new i.ConversationConnectionMessage(e.MessageType.Text,p))}async sendMessageAsync(p){await(await this.fetchConnection()).send(new i.ConversationConnectionMessage(e.MessageType.Text,p))}privDisconnect(){if(!this.terminateMessageLoop)return this.cancelRecognition(this.privConversationRequestSession.sessionId,this.privConversationRequestSession.requestId,t.CancellationReason.Error,t.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,Promise.resolve()}async processTypeSpecificMessages(){return!0}cancelRecognition(p,v,m,S,C){this.terminateMessageLoop=!0;const x=new t.ConversationTranslationCanceledEventArgs(m,C,S,void 0,p);try{this.privConversationServiceConnector.canceled&&this.privConversationServiceConnector.canceled(this.privConversationServiceConnector,x)}catch{}}async conversationConnectImpl(p){return this.privConnectionLoop=this.startMessageLoop(),p}async receiveConversationMessageOverride(){if(this.isDisposed()||this.terminateMessageLoop)return Promise.resolve();const p=new e.Deferred;try{const m=await(await this.fetchConnection()).read();if(this.isDisposed()||this.terminateMessageLoop)return p.resolve(),Promise.resolve();if(!m)return this.receiveConversationMessageOverride();const S=this.privConversationRequestSession.sessionId,C=m.conversationMessageType.toLowerCase();let x=!1;try{switch(C){case"info":case"participant_command":case"command":const R=a.CommandResponsePayload.fromJSON(m.textBody);switch(R.command.toLowerCase()){case"participantlist":const U=a.ParticipantsListPayloadResponse.fromJSON(m.textBody),H=U.participants.map(re=>({avatar:re.avatar,displayName:re.nickname,id:re.participantId,isHost:re.ishost,isMuted:re.ismuted,isUsingTts:re.usetts,preferredLanguage:re.locale}));this.privConversationServiceConnector.participantsListReceived&&this.privConversationServiceConnector.participantsListReceived(this.privConversationServiceConnector,new l.ParticipantsListEventArgs(U.roomid,U.token,U.translateTo,U.profanityFilter,U.roomProfanityFilter,U.roomLocked,U.muteAll,H,S));break;case"settranslatetolanguages":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new l.ParticipantAttributeEventArgs(R.participantId,c.ConversationTranslatorCommandTypes.setTranslateToLanguages,R.value,S));break;case"setprofanityfiltering":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new l.ParticipantAttributeEventArgs(R.participantId,c.ConversationTranslatorCommandTypes.setProfanityFiltering,R.value,S));break;case"setmute":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new l.ParticipantAttributeEventArgs(R.participantId,c.ConversationTranslatorCommandTypes.setMute,R.value,S));break;case"setmuteall":this.privConversationServiceConnector.muteAllCommandReceived&&this.privConversationServiceConnector.muteAllCommandReceived(this.privConversationServiceConnector,new l.MuteAllEventArgs(R.value,S));break;case"roomexpirationwarning":this.privConversationServiceConnector.conversationExpiration&&this.privConversationServiceConnector.conversationExpiration(this.privConversationServiceConnector,new t.ConversationExpirationEventArgs(R.value,this.privConversationRequestSession.sessionId));break;case"setusetts":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new l.ParticipantAttributeEventArgs(R.participantId,c.ConversationTranslatorCommandTypes.setUseTTS,R.value,S));break;case"setlockstate":this.privConversationServiceConnector.lockRoomCommandReceived&&this.privConversationServiceConnector.lockRoomCommandReceived(this.privConversationServiceConnector,new l.LockRoomEventArgs(R.value,S));break;case"changenickname":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new l.ParticipantAttributeEventArgs(R.participantId,c.ConversationTranslatorCommandTypes.changeNickname,R.value,S));break;case"joinsession":const q=a.ParticipantPayloadResponse.fromJSON(m.textBody),F={avatar:q.avatar,displayName:q.nickname,id:q.participantId,isHost:q.ishost,isMuted:q.ismuted,isUsingTts:q.usetts,preferredLanguage:q.locale};this.privConversationServiceConnector.participantJoinCommandReceived&&this.privConversationServiceConnector.participantJoinCommandReceived(this.privConversationServiceConnector,new l.ParticipantEventArgs(F,S));break;case"leavesession":const $={id:R.participantId};this.privConversationServiceConnector.participantLeaveCommandReceived&&this.privConversationServiceConnector.participantLeaveCommandReceived(this.privConversationServiceConnector,new l.ParticipantEventArgs($,S));break;case"disconnectsession":const ue={id:R.participantId};break;case"token":const oe=new r.CognitiveTokenAuthentication(()=>{const re=R.token;return Promise.resolve(re)},()=>{const re=R.token;return Promise.resolve(re)});this.authentication=oe,this.privConversationServiceConnector.onToken(oe);break;default:break}break;case"partial":case"final":const w=a.SpeechResponsePayload.fromJSON(m.textBody),T=C==="final"?t.ResultReason.TranslatedParticipantSpeech:t.ResultReason.TranslatingParticipantSpeech,P=new t.ConversationTranslationResult(w.participantId,this.getTranslations(w.translations),w.language,w.id,T,w.recognition,void 0,void 0,m.textBody,void 0);w.isFinal?((P.text!==void 0&&P.text.length>0||w.id===this.privLastPartialUtteranceId)&&(x=!0),x&&this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new l.ConversationReceivedTranslationEventArgs(c.ConversationTranslatorMessageTypes.final,P,S))):P.text!==void 0&&(this.privLastPartialUtteranceId=w.id,this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new l.ConversationReceivedTranslationEventArgs(c.ConversationTranslatorMessageTypes.partial,P,S)));break;case"translated_message":const I=a.TextResponsePayload.fromJSON(m.textBody),k=new t.ConversationTranslationResult(I.participantId,this.getTranslations(I.translations),I.language,void 0,void 0,I.originalText,void 0,void 0,void 0,m.textBody,void 0);this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new l.ConversationReceivedTranslationEventArgs(c.ConversationTranslatorMessageTypes.instantMessage,k,S));break;default:break}}catch{}return this.receiveConversationMessageOverride()}catch{this.terminateMessageLoop=!0}return p.promise}async startMessageLoop(){if(this.isDisposed())return Promise.resolve();this.terminateMessageLoop=!1;const p=this.receiveConversationMessageOverride();try{return await p}catch(v){return this.cancelRecognition(this.privRequestSession?this.privRequestSession.sessionId:"",this.privRequestSession?this.privRequestSession.requestId:"",t.CancellationReason.Error,t.CancellationErrorCode.RuntimeError,v),null}}configConnection(){return this.isDisposed()?Promise.resolve(void 0):this.privConnectionConfigPromise!==void 0?this.privConnectionConfigPromise.then(p=>p.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection()):this.privConnectionConfigPromise,()=>(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection())):this.terminateMessageLoop?Promise.resolve(void 0):(this.privConnectionConfigPromise=this.connectImpl().then(p=>p),this.privConnectionConfigPromise)}getTranslations(p){let v;if(p!==void 0){v=new t.Translations;for(const m of p)v.set(m.lang,m.translation)}return v}};return hd.ConversationServiceAdapter=d,hd}var iA;function XU(){if(iA)return $s;iA=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.ConversationTranslatorRecognizer=$s.ConversationRecognizerFactory=void 0;const e=Ce(),t=je(),r=He(),i=se(),o=$U(),l=QU();class c{static fromConfig(h,p,v){return new a(h,p,v)}}$s.ConversationRecognizerFactory=c;let a=class extends i.Recognizer{constructor(h,p,v){const m=p;r.Contracts.throwIfNull(m,"speechConfig");const S=h;r.Contracts.throwIfNull(S,"conversationImpl"),super(v,m.properties,new o.ConversationConnectionFactory),this.privConversation=S,this.privIsDisposed=!1,this.privProperties=m.properties.clone(),this.privConnection=i.Connection.fromRecognizer(this),this.privProperties.getProperty(i.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?(this.privSetTimeout=t.Timeout.setTimeout,this.privClearTimeout=t.Timeout.clearTimeout):typeof window<"u"?(this.privSetTimeout=window.setTimeout.bind(window),this.privClearTimeout=window.clearTimeout.bind(window)):(this.privSetTimeout=setTimeout,this.privClearTimeout=clearTimeout)}set connected(h){this.privConnection.connected=h}set disconnected(h){this.privConnection.disconnected=h}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get properties(){return this.privProperties}isDisposed(){return this.privIsDisposed}connect(h,p,v){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfNullOrWhitespace(h,"token"),this.privReco.conversationTranslatorToken=h,this.resetConversationTimeout(),this.privReco.connectAsync(p,v)}catch(m){if(v)if(m instanceof Error){const S=m;v(S.name+": "+S.message)}else v(m)}}disconnect(h,p){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privReco.disconnect().then(()=>{h&&h()},v=>{p&&p(v)})}catch(v){if(p)if(v instanceof Error){const m=v;p(m.name+": "+m.message)}else p(v);this.dispose(!0).catch(m=>{t.Events.instance.onEvent(new t.BackgroundEvent(m))})}}sendRequest(h,p,v){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.sendMessage(h,p,v)}catch(m){if(v)if(m instanceof Error){const S=m;v(S.name+": "+S.message)}else v(m);this.dispose(!0).catch(S=>{t.Events.instance.onEvent(new t.BackgroundEvent(S))})}}onToken(h){this.privConversation.onToken(h)}async close(){this.privIsDisposed||(this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close()),this.privConnection=void 0,await this.dispose(!0))}async dispose(h){this.privIsDisposed||h&&(this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privIsDisposed=!0,this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close(),this.privConnection=void 0),await super.dispose(h))}createRecognizerConfig(h){return new e.RecognizerConfig(h,this.privProperties)}createServiceRecognizer(h,p,v,m){const S=v;return new l.ConversationServiceAdapter(h,p,S,m,this)}sendMessage(h,p,v){const m=this.privReco;((C,x,R)=>{C!==void 0?C.then(()=>{try{x&&x()}catch(w){R&&R(`'Unhandled error on promise callback: ${w}'`)}},w=>{try{R&&R(w)}catch{}}):R&&R("Null promise")})(m.sendMessageAsync(h),p,v),this.resetConversationTimeout()}resetConversationTimeout(){this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privTimeoutToken=this.privSetTimeout(()=>{this.sendRequest(this.privConversation.getKeepAlive())},6e4)}};return $s.ConversationTranslatorRecognizer=a,$s}var vd={},sA;function ZU(){if(sA)return vd;sA=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.TranscriberRecognizer=void 0;const e=je(),t=He(),r=se(),i=Ce();let o=class extends r.Recognizer{constructor(c,a){const d=c;t.Contracts.throwIfNull(d,"speechTranslationConfig");const h=a;t.Contracts.throwIfNull(h,"audioConfigImpl"),t.Contracts.throwIfNullOrWhitespace(d.speechRecognitionLanguage,r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,d.properties,new i.TranscriberConnectionFactory),this.privDisposedRecognizer=!1,this.isMeetingRecognizer=!1}get speechRecognitionLanguage(){return t.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){t.Contracts.throwIfNullOrWhitespace(c,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,c)}set conversation(c){t.Contracts.throwIfNullOrUndefined(c,"Conversation"),this.isMeetingRecognizer=!1,this.privConversation=c}getConversationInfo(){return t.Contracts.throwIfNullOrUndefined(this.privConversation,"Conversation"),this.privConversation.conversationInfo}set meeting(c){t.Contracts.throwIfNullOrUndefined(c,"Meeting"),this.isMeetingRecognizer=!0,this.privMeeting=c}getMeetingInfo(){return t.Contracts.throwIfNullOrUndefined(this.privMeeting,"Meeting"),this.privMeeting.meetingInfo}IsMeetingRecognizer(){return this.isMeetingRecognizer}startContinuousRecognitionAsync(c,a){e.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(i.RecognitionMode.Conversation),c,a)}stopContinuousRecognitionAsync(c,a){e.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),c,a)}async close(){this.privDisposedRecognizer||await this.dispose(!0)}async pushConversationEvent(c,a){const d=this.privReco;t.Contracts.throwIfNullOrUndefined(d,"serviceRecognizer"),await d.sendSpeechEventAsync(c,a)}async pushMeetingEvent(c,a){const d=this.privReco;t.Contracts.throwIfNullOrUndefined(d,"serviceRecognizer"),await d.sendMeetingSpeechEventAsync(c,a)}async enforceAudioGating(){const d=(await this.audioConfig.format).channels;if(d===1){if(this.properties.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()!=="true")throw new Error("Single channel audio configuration for MeetingTranscriber is currently under private preview, please contact diarizationrequest@microsoft.com for more details")}else if(d!==8)throw new Error(`Unsupported audio configuration: Detected ${d}-channel audio`)}connectMeetingCallbacks(c){this.isMeetingRecognizer=!0,this.canceled=(a,d)=>{c.canceled&&c.canceled(c,d)},this.recognizing=(a,d)=>{c.transcribing&&c.transcribing(c,d)},this.recognized=(a,d)=>{c.transcribed&&c.transcribed(c,d)},this.sessionStarted=(a,d)=>{c.sessionStarted&&c.sessionStarted(c,d)},this.sessionStopped=(a,d)=>{c.sessionStopped&&c.sessionStopped(c,d)}}disconnectCallbacks(){this.canceled=void 0,this.recognizing=void 0,this.recognized=void 0,this.sessionStarted=void 0,this.sessionStopped=void 0}async dispose(c){this.privDisposedRecognizer||(c&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(c))}createRecognizerConfig(c){return new i.RecognizerConfig(c,this.properties)}createServiceRecognizer(c,a,d,h){const p=d;return new i.TranscriptionServiceRecognizer(c,a,p,h,this)}};return vd.TranscriberRecognizer=o,vd}var oA;function eV(){return oA||(oA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=FU();Object.defineProperty(e,"ConversationManager",{enumerable:!0,get:function(){return t.ConversationManager}});var r=zS();Object.defineProperty(e,"ConversationConnectionConfig",{enumerable:!0,get:function(){return r.ConversationConnectionConfig}});var i=XU();Object.defineProperty(e,"ConversationRecognizerFactory",{enumerable:!0,get:function(){return i.ConversationRecognizerFactory}});var o=ZU();Object.defineProperty(e,"TranscriberRecognizer",{enumerable:!0,get:function(){return o.TranscriberRecognizer}});var l=K6();Object.defineProperty(e,"ConversationReceivedTranslationEventArgs",{enumerable:!0,get:function(){return l.ConversationReceivedTranslationEventArgs}}),Object.defineProperty(e,"LockRoomEventArgs",{enumerable:!0,get:function(){return l.LockRoomEventArgs}}),Object.defineProperty(e,"MuteAllEventArgs",{enumerable:!0,get:function(){return l.MuteAllEventArgs}}),Object.defineProperty(e,"ParticipantAttributeEventArgs",{enumerable:!0,get:function(){return l.ParticipantAttributeEventArgs}}),Object.defineProperty(e,"ParticipantEventArgs",{enumerable:!0,get:function(){return l.ParticipantEventArgs}}),Object.defineProperty(e,"ParticipantsListEventArgs",{enumerable:!0,get:function(){return l.ParticipantsListEventArgs}});var c=W6();Object.defineProperty(e,"ConversationTranslatorCommandTypes",{enumerable:!0,get:function(){return c.ConversationTranslatorCommandTypes}}),Object.defineProperty(e,"ConversationTranslatorMessageTypes",{enumerable:!0,get:function(){return c.ConversationTranslatorMessageTypes}}),Object.defineProperty(e,"InternalParticipants",{enumerable:!0,get:function(){return c.InternalParticipants}})}(ty)),ty}var ny={},aA;function J6(){return aA||(aA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SynthesisAudioMetadata=e.MetadataType=void 0,function(r){r.WordBoundary="WordBoundary",r.Bookmark="Bookmark",r.Viseme="Viseme",r.SentenceBoundary="SentenceBoundary",r.SessionEnd="SessionEnd",r.AvatarSignal="TalkingAvatarSignal"}(e.MetadataType||(e.MetadataType={}));class t{constructor(i){this.privSynthesisAudioMetadata=JSON.parse(i)}static fromJSON(i){return new t(i)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}e.SynthesisAudioMetadata=t}(ny)),ny}var md={},bn={},cA;function tV(){if(cA)return bn;cA=1,Object.defineProperty(bn,"__esModule",{value:!0}),bn.SynthesisStartedEvent=bn.ConnectingToSynthesisServiceEvent=bn.SynthesisTriggeredEvent=bn.SpeechSynthesisEvent=void 0;const e=je();class t extends e.PlatformEvent{constructor(c,a,d=e.EventType.Info){super(c,d),this.privRequestId=a}get requestId(){return this.privRequestId}}bn.SpeechSynthesisEvent=t;class r extends t{constructor(c,a,d){super("SynthesisTriggeredEvent",c),this.privSessionAudioDestinationId=a,this.privTurnAudioDestinationId=d}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}}bn.SynthesisTriggeredEvent=r;class i extends t{constructor(c,a){super("ConnectingToSynthesisServiceEvent",c),this.privAuthFetchEventId=a}get authFetchEventId(){return this.privAuthFetchEventId}}bn.ConnectingToSynthesisServiceEvent=i;class o extends t{constructor(c,a){super("SynthesisStartedEvent",c),this.privAuthFetchEventId=a}get authFetchEventId(){return this.privAuthFetchEventId}}return bn.SynthesisStartedEvent=o,bn}var lA;function rV(){if(lA)return md;lA=1,Object.defineProperty(md,"__esModule",{value:!0}),md.SynthesisTurn=void 0;const e=je(),t=pa(),r=se(),i=J6(),o=tV();let l=class g0{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privRequestId=e.createNoDashGuid(),this.privTurnDeferral=new e.Deferred,this.privTurnDeferral.resolve()}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(a){this.privStreamId=a}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(a){this.privAudioOutputFormat=a}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get currentSentenceOffset(){return this.privSentenceOffset}get bytesReceived(){return this.privBytesReceived}get audioDuration(){return this.privAudioDuration}get extraProperties(){if(this.privWebRTCSDP){const a=new r.PropertyCollection;return a.setProperty(r.PropertyId.TalkingAvatarService_WebRTC_SDP,this.privWebRTCSDP),a}}async getAllReceivedAudio(){return this.privReceivedAudio?Promise.resolve(this.privReceivedAudio):this.privIsSynthesisEnded?(await this.readAllAudioFromStream(),Promise.resolve(this.privReceivedAudio)):null}async getAllReceivedAudioWithHeader(){if(this.privReceivedAudioWithHeader)return this.privReceivedAudioWithHeader;if(!this.privIsSynthesisEnded)return null;if(this.audioOutputFormat.hasHeader){const a=await this.getAllReceivedAudio();return this.privReceivedAudioWithHeader=this.audioOutputFormat.addHeader(a),this.privReceivedAudioWithHeader}else return this.getAllReceivedAudio()}startNewSynthesis(a,d,h,p){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=a,this.privRawText=d,this.privIsSSML=h,this.privAudioOutputStream=new t.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privPartialVisemeAnimation="",this.privWebRTCSDP="",p!==void 0&&(this.privTurnAudioDestination=p,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new o.SynthesisTriggeredEvent(this.requestId,void 0,p===void 0?void 0:p.id()))}onPreConnectionStart(a){this.privAuthFetchEventId=a,this.onEvent(new o.ConnectingToSynthesisServiceEvent(this.privRequestId,this.privAuthFetchEventId))}onAuthCompleted(a){a&&this.onComplete()}onConnectionEstablishCompleted(a){if(a===200){this.onEvent(new o.SynthesisStartedEvent(this.requestId,this.privAuthFetchEventId)),this.privBytesReceived=0;return}else a===403&&this.onComplete()}onServiceResponseMessage(a){const d=JSON.parse(a);this.streamId=d.audio.streamId}onServiceTurnEndResponse(){this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()}onServiceTurnStartResponse(a){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new e.Deferred;const d=JSON.parse(a);d.webrtc&&(this.privWebRTCSDP=d.webrtc.connectionString)}onAudioChunkReceived(a){this.isSynthesizing&&(this.privAudioOutputStream.write(a),this.privBytesReceived+=a.byteLength,this.privTurnAudioDestination!==void 0&&this.privTurnAudioDestination.write(a))}onTextBoundaryEvent(a){this.updateTextOffset(a.Data.text.Text,a.Type)}onVisemeMetadataReceived(a){a.Data.AnimationChunk!==void 0&&(this.privPartialVisemeAnimation+=a.Data.AnimationChunk)}onSessionEnd(a){this.privAudioDuration=a.Data.Offset}async constructSynthesisResult(){const a=await this.getAllReceivedAudioWithHeader();return new r.SpeechSynthesisResult(this.requestId,r.ResultReason.SynthesizingAudioCompleted,a,void 0,this.extraProperties,this.audioDuration)}dispose(){this.privIsDisposed||(this.privIsDisposed=!0)}onStopSynthesizing(){this.onComplete()}getAndClearVisemeAnimation(){const a=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",a}onEvent(a){e.Events.instance.onEvent(a)}static isXmlTag(a){return a.length>=2&&a[0]==="<"&&a[a.length-1]===">"}updateTextOffset(a,d){d===i.MetadataType.WordBoundary?(this.privTextOffset=this.privRawText.indexOf(a,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+a.length,this.privIsSSML&&this.withinXmlTag(this.privTextOffset)&&!g0.isXmlTag(a)&&this.updateTextOffset(a,d))):(this.privSentenceOffset=this.privRawText.indexOf(a,this.privNextSearchSentenceIndex),this.privSentenceOffset>=0&&(this.privNextSearchSentenceIndex=this.privSentenceOffset+a.length,this.privIsSSML&&this.withinXmlTag(this.privSentenceOffset)&&!g0.isXmlTag(a)&&this.updateTextOffset(a,d)))}onComplete(){this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,this.privTurnAudioDestination!==void 0&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))}async readAllAudioFromStream(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{await this.privAudioOutputStream.read(this.privReceivedAudio)}catch{this.privReceivedAudio=new ArrayBuffer(0)}}}withinXmlTag(a){return this.privRawText.indexOf("<",a+1)>this.privRawText.indexOf(">",a+1)}};return md.SynthesisTurn=l,md}var gd={},uA;function nV(){if(uA)return gd;uA=1,Object.defineProperty(gd,"__esModule",{value:!0}),gd.SynthesisAdapterBase=void 0;const e=je(),t=se(),r=Ce(),i=fa();let o=class{constructor(c,a,d,h){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.privConnectionConfigurationPromise=void 0,!c)throw new e.ArgumentNullError("authentication");if(!a)throw new e.ArgumentNullError("connectionFactory");if(!d)throw new e.ArgumentNullError("synthesizerConfig");this.privAuthentication=c,this.privConnectionFactory=a,this.privSynthesizerConfig=d,this.privIsDisposed=!1,this.privSessionAudioDestination=h,this.privSynthesisTurn=new r.SynthesisTurn,this.privConnectionEvents=new e.EventSource,this.privServiceEvents=new e.EventSource,this.privSynthesisContext=new r.SynthesisContext,this.privAgentConfig=new r.AgentConfig,this.connectionEvents.attach(p=>{if(p.name==="ConnectionClosedEvent"){const v=p;v.statusCode!==1e3&&this.cancelSynthesisLocal(t.CancellationReason.Error,v.statusCode===1007?t.CancellationErrorCode.BadRequestParameters:t.CancellationErrorCode.ConnectionFailure,`${v.reason} websocket error code: ${v.statusCode}`)}})}get synthesisContext(){return this.privSynthesisContext}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(c){this.privActivityTemplate=c}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(c){this.privAudioOutputFormat=c,this.privSynthesisTurn.audioOutputFormat=c,this.privSessionAudioDestination!==void 0&&(this.privSessionAudioDestination.format=c),this.synthesisContext!==void 0&&(this.synthesisContext.audioOutputFormat=c)}isDisposed(){return this.privIsDisposed}async dispose(c){this.privIsDisposed=!0,this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.close(),this.privConnectionConfigurationPromise!==void 0&&await(await this.privConnectionConfigurationPromise).dispose(c)}async connect(){await this.connectImpl()}async sendNetworkMessage(c,a){const d=typeof a=="string"?e.MessageType.Text:e.MessageType.Binary,h=typeof a=="string"?"application/json":"";return(await this.fetchConnection()).send(new i.SpeechConnectionMessage(d,c,this.privSynthesisTurn.requestId,h,a))}async Speak(c,a,d,h,p,v){let m;if(a?m=c:m=this.privSynthesizer.buildSsml(c),this.speakOverride!==void 0)return this.speakOverride(m,d,h,p);this.privSuccessCallback=h,this.privErrorCallback=p,this.privSynthesisTurn.startNewSynthesis(d,c,a,v);try{await this.connectImpl();const S=await this.fetchConnection();await this.sendSynthesisContext(S),await this.sendSsmlMessage(S,m,d),this.onSynthesisStarted(d),this.receiveMessage()}catch(S){return this.cancelSynthesisLocal(t.CancellationReason.Error,t.CancellationErrorCode.ConnectionFailure,S),Promise.reject(S)}}async stopSpeaking(){return await this.connectImpl(),(await this.fetchConnection()).send(new i.SpeechConnectionMessage(e.MessageType.Text,"synthesis.control",this.privSynthesisTurn.requestId,"application/json",JSON.stringify({action:"stop"})))}cancelSynthesis(c,a,d,h){const p=new t.PropertyCollection;p.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[d]);const v=new t.SpeechSynthesisResult(c,t.ResultReason.Canceled,void 0,h,p);if(this.onSynthesisCancelled(v),this.privSuccessCallback)try{this.privSuccessCallback(v)}catch{}}cancelSynthesisLocal(c,a,d){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,c,a,d))}processTypeSpecificMessages(c){return!0}async receiveMessage(){try{const a=await(await this.fetchConnection()).read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(this.privIsDisposed)return;if(!a)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():void 0;const d=i.SpeechConnectionMessage.fromConnectionMessage(a);if(d.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(d.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse(d.textBody);break;case"response":this.privSynthesisTurn.onServiceResponseMessage(d.textBody);break;case"audio":this.privSynthesisTurn.streamId.toLowerCase()===d.streamId.toLowerCase()&&d.binaryBody&&(this.privSynthesisTurn.onAudioChunkReceived(d.binaryBody),this.onSynthesizing(d.binaryBody),this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.write(d.binaryBody));break;case"audio.metadata":const h=r.SynthesisAudioMetadata.fromJSON(d.textBody).Metadata;for(const v of h)switch(v.Type){case r.MetadataType.WordBoundary:case r.MetadataType.SentenceBoundary:this.privSynthesisTurn.onTextBoundaryEvent(v);const m=new t.SpeechSynthesisWordBoundaryEventArgs(v.Data.Offset,v.Data.Duration,v.Data.text.Text,v.Data.text.Length,v.Type===r.MetadataType.WordBoundary?this.privSynthesisTurn.currentTextOffset:this.privSynthesisTurn.currentSentenceOffset,v.Data.text.BoundaryType);this.onWordBoundary(m);break;case r.MetadataType.Bookmark:const S=new t.SpeechSynthesisBookmarkEventArgs(v.Data.Offset,v.Data.Bookmark);this.onBookmarkReached(S);break;case r.MetadataType.Viseme:if(this.privSynthesisTurn.onVisemeMetadataReceived(v),v.Data.IsLastAnimation){const C=new t.SpeechSynthesisVisemeEventArgs(v.Data.Offset,v.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation());this.onVisemeReceived(C)}break;case r.MetadataType.AvatarSignal:this.onAvatarEvent(v);break;case r.MetadataType.SessionEnd:this.privSynthesisTurn.onSessionEnd(v);break}break;case"turn.end":this.privSynthesisTurn.onServiceTurnEndResponse();let p;try{p=await this.privSynthesisTurn.constructSynthesisResult(),this.privSuccessCallback&&this.privSuccessCallback(p)}catch(v){this.privErrorCallback&&this.privErrorCallback(v)}this.onSynthesisCompleted(p);break;default:this.processTypeSpecificMessages(d)||this.privServiceEvents&&this.serviceEvents.onEvent(new e.ServiceEvent(d.path.toLowerCase(),d.textBody))}return this.receiveMessage()}catch{}}sendSynthesisContext(c){this.setSynthesisContextSynthesisSection();const a=this.synthesisContext.toJSON();if(a)return c.send(new i.SpeechConnectionMessage(e.MessageType.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",a))}setSpeechConfigSynthesisSection(){}connectImpl(c=!1){if(this.privConnectionPromise!=null)return this.privConnectionPromise.then(d=>d.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()));this.privAuthFetchEventId=e.createNoDashGuid(),this.privConnectionId=e.createNoDashGuid(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);const a=c?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=a.then(async d=>{this.privSynthesisTurn.onAuthCompleted(!1);const h=this.privConnectionFactory.create(this.privSynthesizerConfig,d,this.privConnectionId);h.events.attach(v=>{this.connectionEvents.onEvent(v)});const p=await h.open();return p.statusCode===200?(this.privSynthesisTurn.onConnectionEstablishCompleted(p.statusCode),Promise.resolve(h)):p.statusCode===403&&!c?this.connectImpl(!0):(this.privSynthesisTurn.onConnectionEstablishCompleted(p.statusCode),Promise.reject(`Unable to contact server. StatusCode: ${p.statusCode},
                    ${this.privSynthesizerConfig.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Url)} Reason: ${p.reason}`))},d=>{throw this.privSynthesisTurn.onAuthCompleted(!0),new Error(d)}),this.privConnectionPromise.catch(()=>{}),this.privConnectionPromise}sendSpeechServiceConfig(c,a){if(a)return c.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",a))}sendSsmlMessage(c,a,d){return c.send(new i.SpeechConnectionMessage(e.MessageType.Text,"ssml",d,"application/ssml+xml",a))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(c=>c.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async configureConnection(){const c=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(c):(this.setSpeechConfigSynthesisSection(),await this.sendSpeechServiceConfig(c,this.privSynthesizerConfig.SpeechServiceConfig.serialize()),c)}onAvatarEvent(c){}onSynthesisStarted(c){}onSynthesizing(c){}onSynthesisCancelled(c){}onSynthesisCompleted(c){}onWordBoundary(c){}onVisemeReceived(c){}onBookmarkReached(c){}};return gd.SynthesisAdapterBase=o,o.telemetryDataEnabled=!0,gd}var yd={},dA;function iV(){if(dA)return yd;dA=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.AvatarSynthesisAdapter=void 0;const e=se(),t=Ce();let r=class extends t.SynthesisAdapterBase{constructor(o,l,c,a,d){super(o,l,c,void 0),this.privAvatarSynthesizer=a,this.privSynthesizer=a,this.privAvatarConfig=d}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(void 0)}setSpeechConfigSynthesisSection(){var o,l,c,a,d,h,p,v,m,S,C,x,R,w,T,P,I;this.privSynthesizerConfig.synthesisVideoSection={format:{bitrate:(o=this.privAvatarConfig.videoFormat)==null?void 0:o.bitrate,codec:(l=this.privAvatarConfig.videoFormat)==null?void 0:l.codec,crop:{bottomRight:{x:(d=(a=(c=this.privAvatarConfig.videoFormat)==null?void 0:c.cropRange)==null?void 0:a.bottomRight)==null?void 0:d.x,y:(v=(p=(h=this.privAvatarConfig.videoFormat)==null?void 0:h.cropRange)==null?void 0:p.bottomRight)==null?void 0:v.y},topLeft:{x:(C=(S=(m=this.privAvatarConfig.videoFormat)==null?void 0:m.cropRange)==null?void 0:S.topLeft)==null?void 0:C.x,y:(w=(R=(x=this.privAvatarConfig.videoFormat)==null?void 0:x.cropRange)==null?void 0:R.topLeft)==null?void 0:w.y}},resolution:{height:(T=this.privAvatarConfig.videoFormat)==null?void 0:T.height,width:(P=this.privAvatarConfig.videoFormat)==null?void 0:P.width}},protocol:{name:"WebRTC",webrtcConfig:{clientDescription:btoa(this.privSynthesizerConfig.parameters.getProperty(e.PropertyId.TalkingAvatarService_WebRTC_SDP)),iceServers:this.privAvatarConfig.remoteIceServers??this.privAvatarSynthesizer.iceServers}},talkingAvatar:{background:{color:this.privAvatarConfig.backgroundColor,image:{url:(I=this.privAvatarConfig.backgroundImage)==null?void 0:I.toString()}},character:this.privAvatarConfig.character,customized:this.privAvatarConfig.customized,style:this.privAvatarConfig.style}}}onAvatarEvent(o){if(this.privAvatarSynthesizer.avatarEventReceived){const l=new e.AvatarEventArgs(o.Data.Offset,o.Data.Name);try{this.privAvatarSynthesizer.avatarEventReceived(this.privAvatarSynthesizer,l)}catch{}}}};return yd.AvatarSynthesisAdapter=r,yd}var Sd={},hA;function sV(){if(hA)return Sd;hA=1,Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.SpeechSynthesisAdapter=void 0;const e=se(),t=Ce();let r=class extends t.SynthesisAdapterBase{constructor(o,l,c,a,d){super(o,l,c,d),this.privSpeechSynthesizer=a,this.privSynthesizer=a}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(this.privSpeechSynthesizer)}onSynthesisStarted(o){const l=new e.SpeechSynthesisEventArgs(new e.SpeechSynthesisResult(o,e.ResultReason.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,l)}onSynthesizing(o){if(this.privSpeechSynthesizer.synthesizing)try{const l=this.privSynthesisTurn.audioOutputFormat.addHeader(o),c=new e.SpeechSynthesisEventArgs(new e.SpeechSynthesisResult(this.privSynthesisTurn.requestId,e.ResultReason.SynthesizingAudio,l));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,c)}catch{}}onSynthesisCancelled(o){if(this.privSpeechSynthesizer.SynthesisCanceled){const l=new e.SpeechSynthesisEventArgs(o);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,l)}catch{}}}onSynthesisCompleted(o){if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new e.SpeechSynthesisEventArgs(o))}catch{}}onWordBoundary(o){if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,o)}catch{}}onVisemeReceived(o){if(this.privSpeechSynthesizer.visemeReceived)try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,o)}catch{}}onBookmarkReached(o){if(this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,o)}catch{}}};return Sd.SpeechSynthesisAdapter=r,Sd}var bd={},pA;function oV(){if(pA)return bd;pA=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.SynthesisRestAdapter=void 0;const e=Zt(),t=se(),r=An(),i=xr();let o=class{constructor(c,a){let d=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!d){const p=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,"westus"),v=r.ConnectionFactoryBase.getHostSuffix(p);d=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,`https://${p}.tts.speech${v}`)}this.privUri=`${d}/cognitiveservices/voices/list`;const h=e.RestConfigBase.requestOptions;this.privRestAdapter=new e.RestMessageAdapter(h),this.privAuthentication=a}getVoicesList(c){return this.privRestAdapter.setHeaders(i.HeaderNames.ConnectionId,c),this.privAuthentication.fetch(c).then(a=>(this.privRestAdapter.setHeaders(a.headerName,a.token),this.privRestAdapter.request(e.RestRequestType.Get,this.privUri)))}};return bd.SynthesisRestAdapter=o,bd}var iy={},fA;function aV(){return fA||(fA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SynthesizerConfig=e.SynthesisServiceType=void 0;const t=Ce();var r;(function(o){o[o.Standard=0]="Standard",o[o.Custom=1]="Custom"})(r=e.SynthesisServiceType||(e.SynthesisServiceType={}));class i{constructor(l,c){this.privSynthesisServiceType=r.Standard,this.avatarEnabled=!1,this.privSpeechServiceConfig=l||new t.SpeechServiceConfig(new t.Context(null)),this.privParameters=c}get parameters(){return this.privParameters}get synthesisServiceType(){return this.privSynthesisServiceType}set synthesisServiceType(l){this.privSynthesisServiceType=l}set synthesisVideoSection(l){this.privSpeechServiceConfig.Context.synthesis={video:l}}get SpeechServiceConfig(){return this.privSpeechServiceConfig}}e.SynthesizerConfig=i}(iy)),iy}var Cd={},vA;function cV(){if(vA)return Cd;vA=1,Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.SynthesisContext=void 0;const e=se();let t=class{constructor(){this.privContext={}}setSection(i,o){this.privContext[i]=o}set audioOutputFormat(i){this.privAudioOutputFormat=i}toJSON(){return JSON.stringify(this.privContext)}setSynthesisSection(i){const o=this.buildSynthesisContext(i);this.setSection("synthesis",o)}buildSynthesisContext(i){return{audio:{metadataOptions:{bookmarkEnabled:!!(i!=null&&i.bookmarkReached),punctuationBoundaryEnabled:i==null?void 0:i.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestPunctuationBoundary,!!(i!=null&&i.wordBoundary)),sentenceBoundaryEnabled:i==null?void 0:i.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestSentenceBoundary,!1),sessionEndEnabled:!0,visemeEnabled:!!(i!=null&&i.visemeReceived),wordBoundaryEnabled:i==null?void 0:i.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestWordBoundary,!!(i!=null&&i.wordBoundary))},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:i==null?void 0:i.autoDetectSourceLanguage}}}};return Cd.SynthesisContext=t,Cd}var xd={},mA;function lV(){if(mA)return xd;mA=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.SpeakerRecognitionConfig=void 0;const e=Ce();let t=class{constructor(i,o){this.privContext=i||new e.Context(null),this.privParameters=o}get parameters(){return this.privParameters}get Context(){return this.privContext}};return xd.SpeakerRecognitionConfig=t,xd}var Rd={},gA;function uV(){if(gA)return Rd;gA=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.SpeakerServiceRecognizer=void 0;const e=Zt(),t=je(),r=se(),i=Ce(),o=fa();let l=class extends i.ServiceRecognizerBase{constructor(a,d,h,p,v){super(a,d,h,p,v),this.privSpeakerRecognizer=v,this.privSpeakerAudioSource=h,this.recognizeSpeaker=m=>this.recognizeSpeakerOnce(m),this.sendPrePayloadJSONOverride=()=>this.noOp()}processTypeSpecificMessages(a){let d=!1;const h=new r.PropertyCollection;switch(a.messageType===t.MessageType.Text&&h.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,a.textBody),a.path.toLowerCase()){case"speaker.response":const v=JSON.parse(a.textBody);let m;v.status.statusCode.toLowerCase()!=="success"?m=new r.SpeakerRecognitionResult(v,r.ResultReason.Canceled,r.CancellationErrorCode.ServiceError,v.status.reason):m=new r.SpeakerRecognitionResult(v,r.ResultReason.RecognizedSpeaker),this.privResultDeferral&&this.privResultDeferral.resolve(m),d=!0;break}const p=new t.Deferred;return p.resolve(d),p.promise}cancelRecognition(a,d,h,p,v){if(new r.PropertyCollection().setProperty(i.CancellationErrorCodePropertyName,r.CancellationErrorCode[p]),this.privResultDeferral){const S=new r.SpeakerRecognitionResult({scenario:this.privSpeakerModel.scenario,status:{statusCode:v,reason:v}},r.ResultReason.Canceled,p,v);try{this.privResultDeferral.resolve(S)}catch(C){this.privResultDeferral.reject(C)}}}async recognizeSpeakerOnce(a){this.privSpeakerModel=a,this.voiceProfileType=a.scenario,this.privResultDeferral||(this.privResultDeferral=new t.Deferred),this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const d=this.connectImpl(),h=this.sendPreAudioMessages(this.extractSpeakerContext(a)),p=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),v=await this.privSpeakerAudioSource.format,m=await this.privSpeakerAudioSource.deviceInfo,S=new e.ReplayableAudioNode(p,v.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(S,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:m};try{await d,await h}catch(R){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,R)}const C=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,C),this.receiveMessage(),this.sendAudio(S).then(()=>{},R=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,R)}),this.privResultDeferral.promise}async sendPreAudioMessages(a){const d=await this.fetchConnection();await this.sendSpeakerRecognition(d,a)}async sendSpeakerRecognition(a,d){const h=JSON.stringify(d);return a.send(new o.SpeechConnectionMessage(t.MessageType.Text,"speaker.context",this.privRequestSession.requestId,"application/json; charset=utf-8",h))}extractSpeakerContext(a){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:a.profileIds,scenario:a.scenario}}};return Rd.SpeakerServiceRecognizer=l,Rd}var wd={},yA;function dV(){if(yA)return wd;yA=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.VoiceServiceRecognizer=void 0;const e=Zt(),t=je(),r=se(),i=Ce(),o=fa();let l=class extends i.ServiceRecognizerBase{constructor(a,d,h,p,v){super(a,d,h,p,v),this.privDeferralMap=new t.DeferralMap,this.privSpeakerAudioSource=h,this.sendPrePayloadJSONOverride=()=>this.noOp()}set SpeakerAudioSource(a){this.privSpeakerAudioSource=a}processTypeSpecificMessages(a){let d=!1;const h=new r.PropertyCollection;switch(a.messageType===t.MessageType.Text&&h.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,a.textBody),a.path.toLowerCase()){case"speaker.profiles":const v=JSON.parse(a.textBody);switch(v.operation.toLowerCase()){case"create":this.handleCreateResponse(v,a.requestId);break;case"delete":case"reset":this.handleResultResponse(v,a.requestId);break;case"fetch":const x=JSON.parse(a.textBody);this.handleFetchResponse(x,a.requestId);break}d=!0;break;case"speaker.phrases":const m=JSON.parse(a.textBody);this.handlePhrasesResponse(m,a.requestId),d=!0;break;case"speaker.profile.enrollment":const S=JSON.parse(a.textBody),C=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(S.enrollment?S.enrollment.enrollmentStatus:S.status.statusCode),S.enrollment?JSON.stringify(S.enrollment):void 0,S.status.reason);this.privDeferralMap.getId(a.requestId)&&this.privDeferralMap.complete(a.requestId,C),this.privRequestSession.onSpeechEnded(),d=!0;break}const p=new t.Deferred;return p.resolve(d),p.promise}cancelRecognition(a,d,h,p,v){new r.PropertyCollection().setProperty(i.CancellationErrorCodePropertyName,r.CancellationErrorCode[p]);const S=new r.VoiceProfileEnrollmentResult(r.ResultReason.Canceled,v,v);this.privDeferralMap.getId(d)&&this.privDeferralMap.complete(d,S)}async createProfile(a,d){this.voiceProfileType=a.toString();const h=this.connectImpl();try{const p=new t.Deferred;return await h,await this.sendCreateProfile(p,a,d),this.receiveMessage(),p.promise}catch(p){throw p}}async resetProfile(a){return this.voiceProfileType=a.profileType.toString(),this.sendCommonRequest("reset",a.profileType,a)}async deleteProfile(a){return this.voiceProfileType=a.profileType.toString(),this.sendCommonRequest("delete",a.profileType,a)}async retrieveEnrollmentResult(a){return this.voiceProfileType=a.profileType.toString(),this.privExpectedProfileId=a.profileId,this.sendCommonRequest("fetch",a.profileType,a)}async getAllProfiles(a){return this.voiceProfileType=a.toString(),this.sendCommonRequest("fetch",a)}async getActivationPhrases(a,d){this.voiceProfileType=a.toString();const h=this.connectImpl();try{const p=new t.Deferred;return await h,await this.sendPhrasesRequest(p,a,d),this.receiveMessage(),p.promise}catch(p){throw p}}async enrollProfile(a){this.voiceProfileType=a.profileType.toString();const d=new t.Deferred;this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const h=this.connectImpl(),p=this.sendPreAudioMessages(a,d),v=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),m=await this.privSpeakerAudioSource.format,S=await this.privSpeakerAudioSource.deviceInfo,C=new e.ReplayableAudioNode(v,m.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(C,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:S};try{await h,await p}catch(w){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,w)}const x=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,x),this.receiveMessage(),this.sendAudio(C).then(()=>{},w=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,w)}),d.promise}async sendPreAudioMessages(a,d){const h=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,d),await this.sendBaseRequest(h,"enroll",this.scenarioFrom(a.profileType),a)}async sendPhrasesRequest(a,d,h){const p=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,a);const v=this.scenarioFrom(d),m={locale:h,scenario:v};return p.send(new o.SpeechConnectionMessage(t.MessageType.Text,"speaker.profile.phrases",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(m)))}async sendCreateProfile(a,d,h){const p=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,a);const v=d===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":d===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification",m={locale:h,number:"1",scenario:v};return p.send(new o.SpeechConnectionMessage(t.MessageType.Text,"speaker.profile.create",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(m)))}async sendCommonRequest(a,d,h=void 0){const p=this.connectImpl();try{const v=new t.Deferred;this.privRequestSession.onSpeechContext(),await p;const m=await this.fetchConnection();return this.privDeferralMap.add(this.privRequestSession.requestId,v),await this.sendBaseRequest(m,a,this.scenarioFrom(d),h),this.receiveMessage(),v.promise}catch(v){throw v}}async sendBaseRequest(a,d,h,p){const v={scenario:h};return p?v.profileIds=[p.profileId]:v.maxPageSize=-1,a.send(new o.SpeechConnectionMessage(t.MessageType.Text,`speaker.profile.${d}`,this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(v)))}extractSpeakerContext(a){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:a.profileIds,scenario:a.scenario}}handlePhrasesResponse(a,d){if(this.privDeferralMap.getId(d))if(a.status.statusCode.toLowerCase()!=="success"){const h=r.ResultReason.Canceled,p=new r.VoiceProfilePhraseResult(h,a.status.statusCode,a.passPhraseType,[]);this.privDeferralMap.complete(d,p)}else if(a.phrases&&a.phrases.length>0){const h=r.ResultReason.EnrollingVoiceProfile,p=new r.VoiceProfilePhraseResult(h,a.status.statusCode,a.passPhraseType,a.phrases);this.privDeferralMap.complete(d,p)}else throw new Error("Voice Profile get activation phrases failed, no phrases received");else throw new Error(`Voice Profile get activation phrases request for requestID ${d} not found`)}handleCreateResponse(a,d){if(a.profiles&&a.profiles.length>0)if(this.privDeferralMap.getId(d)){const h=a.profiles.map(p=>p.profileId);this.privDeferralMap.complete(d,h)}else throw new Error(`Voice Profile create request for requestID ${d} not found`);else throw new Error("Voice Profile create failed, no profile id received")}handleResultResponse(a,d){if(this.privDeferralMap.getId(d)){const h=a.operation.toLowerCase()==="delete"?r.ResultReason.DeletedVoiceProfile:r.ResultReason.ResetVoiceProfile,p=a.status.statusCode.toLowerCase()==="success"?h:r.ResultReason.Canceled,v=new r.VoiceProfileResult(p,`statusCode: ${a.status.statusCode}, errorDetails: ${a.status.reason}`);this.privDeferralMap.complete(d,v)}else throw new Error(`Voice Profile create request for requestID ${d} not found`)}handleFetchResponse(a,d){if(this.privDeferralMap.getId(d)&&a.profiles[0]){if(this.privExpectedProfileId&&a.profiles.length===1&&a.profiles[0].profileId===this.privExpectedProfileId){this.privExpectedProfileId=void 0;const h=a.profiles[0],p=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(h.enrollmentStatus),JSON.stringify(h),a.status.reason);this.privDeferralMap.complete(d,p)}else if(a.profiles.length>0){const h=a.profiles,p=[];for(const v of h)p.push(new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(v.enrollmentStatus),JSON.stringify(v),a.status.reason));this.privDeferralMap.complete(d,p)}}else throw new Error(`Voice Profile fetch request for requestID ${d} not found`)}enrollmentReasonFrom(a){switch(a.toLowerCase()){case"enrolled":return r.ResultReason.EnrolledVoiceProfile;case"invalidlocale":case"invalidphrase":case"invalidaudioformat":case"invalidscenario":case"invalidprofilecount":case"invalidoperation":case"audiotooshort":case"audiotoolong":case"toomanyenrollments":case"storageconflict":case"profilenotfound":case"incompatibleprofiles":case"incompleteenrollment":return r.ResultReason.Canceled;default:return r.ResultReason.EnrollingVoiceProfile}}scenarioFrom(a){return a===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":a===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification"}};return wd.VoiceServiceRecognizer=l,wd}var sy={},SA;function hV(){return SA||(SA=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.type=e.connectivity=e.Device=e.OS=e.System=e.Context=e.SpeechServiceConfig=void 0;class t{constructor(a){this.context=a}serialize(){return JSON.stringify(this,(a,d)=>{if(d&&typeof d=="object"&&!Array.isArray(d)){const h={};for(const p in d)Object.hasOwnProperty.call(d,p)&&(h[p&&p.charAt(0).toLowerCase()+p.substring(1)]=d[p]);return h}return d})}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(a){this.recognition=a.toLowerCase()}}e.SpeechServiceConfig=t;class r{constructor(a){this.system=new i,this.os=a}}e.Context=r;class i{constructor(){const a="1.42.0";this.name="SpeechSDK",this.version=a,this.build="JavaScript",this.lang="JavaScript"}}e.System=i;class o{constructor(a,d,h){this.platform=a,this.name=d,this.version=h}}e.OS=o;class l{constructor(a,d,h){this.manufacturer=a,this.model=d,this.version=h}}e.Device=l,function(c){c.Bluetooth="Bluetooth",c.Wired="Wired",c.WiFi="WiFi",c.Cellular="Cellular",c.InBuilt="InBuilt",c.Unknown="Unknown"}(e.connectivity||(e.connectivity={})),function(c){c.Phone="Phone",c.Speaker="Speaker",c.Car="Car",c.Headset="Headset",c.Thermostat="Thermostat",c.Microphones="Microphones",c.Deskphone="Deskphone",c.RemoteControl="RemoteControl",c.Unknown="Unknown",c.File="File",c.Stream="Stream"}(e.type||(e.type={}))}(sy)),sy}var bA;function Ce(){return bA||(bA=1,function(e){var t=Ts&&Ts.__createBinding||(Object.create?function(l,c,a,d){d===void 0&&(d=a),Object.defineProperty(l,d,{enumerable:!0,get:function(){return c[a]}})}:function(l,c,a,d){d===void 0&&(d=a),l[d]=c[a]}),r=Ts&&Ts.__exportStar||function(l,c){for(var a in l)a!=="default"&&!c.hasOwnProperty(a)&&t(c,l,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoDetectSourceLanguagesOpenRangeOptionName=e.ForceDictationPropertyName=e.ServicePropertiesPropertyName=e.CancellationErrorCodePropertyName=e.OutputFormatPropertyName=void 0,r(eq(),e),r(tq(),e),r(MS(),e),r(rq(),e),r(nq(),e),r(sU(),e),r(oU(),e),r(DS(),e),r(aU(),e),r(cU(),e),r(lU(),e),r(uU(),e),r(dU(),e),r(hU(),e),r(pU(),e),r(fU(),e),r(vU(),e),r(j6(),e),r(mU(),e),r(gU(),e),r(yU(),e),r(SU(),e),r(bU(),e),r(CU(),e),r(xU(),e),r(RU(),e),r(wU(),e),r(EU(),e),r(TU(),e),r(PU(),e),r(AU(),e),r(_U(),e),r(kU(),e),r(MU(),e),r(NU(),e),r(IU(),e),r(OU(),e),r(DU(),e),r(zU(),e),r(LU(),e),r(UU(),e),r(VU(),e),r(eV(),e),r(J6(),e),r(rV(),e),r(nV(),e);var i=iV();Object.defineProperty(e,"AvatarSynthesisAdapter",{enumerable:!0,get:function(){return i.AvatarSynthesisAdapter}});var o=sV();Object.defineProperty(e,"SpeechSynthesisAdapter",{enumerable:!0,get:function(){return o.SpeechSynthesisAdapter}}),r(oV(),e),r(aV(),e),r(cV(),e),r(lV(),e),r(uV(),e),r(dV(),e),r(hV(),e),e.OutputFormatPropertyName="OutputFormat",e.CancellationErrorCodePropertyName="CancellationErrorCode",e.ServicePropertiesPropertyName="ServiceProperties",e.ForceDictationPropertyName="ForceDictation",e.AutoDetectSourceLanguagesOpenRangeOptionName="OpenRange"}(Ts)),Ts}var CA;function pV(){return CA||(CA=1,function(e){var t=Es&&Es.__createBinding||(Object.create?function(o,l,c,a){a===void 0&&(a=c),Object.defineProperty(o,a,{enumerable:!0,get:function(){return l[c]}})}:function(o,l,c,a){a===void 0&&(a=c),o[a]=l[c]}),r=Es&&Es.__exportStar||function(o,l){for(var c in o)c!=="default"&&!l.hasOwnProperty(c)&&t(l,o,c)};Object.defineProperty(e,"__esModule",{value:!0});const i=Ce();new i.AgentConfig,r(se(),e)}(Es)),Es}var oy=pV();const fV=["","","","","","","",""],vV=({message:e,currentUserId:t,onReact:r,onEdit:i,onDelete:o,onForward:l,onReply:c,showReadReceipts:a})=>{const[d,h]=A.useState(!1),[p,v]=A.useState(!1),m=(e==null?void 0:e.created_by)===t,S=C=>{r&&r(e.id,C),h(!1),v(!1)};return g.jsxs("div",{className:"relative",children:[g.jsx(rt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>v(!p),className:"p-1.5 rounded-full hover:bg-neutral-100 dark:hover:bg-brand-grey-light text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors opacity-0 group-hover:opacity-100",title:"Message actions",children:g.jsx($p,{size:14})}),g.jsxs(na,{children:[p&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>v(!1)}),g.jsxs(rt.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:"absolute bottom-full mb-2 right-0 bg-white dark:bg-brand-grey-medium rounded-xl shadow-xl border border-neutral-200 dark:border-brand-grey-light z-50 py-2 min-w-[180px]",children:[g.jsxs("button",{onClick:()=>{h(!0),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-neutral-50 dark:hover:bg-brand-grey-dark flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300 transition-colors",children:[g.jsx($p,{})," Add Reaction"]}),!m&&g.jsxs("button",{onClick:()=>{c&&c(e),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-neutral-50 dark:hover:bg-brand-grey-dark flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300 transition-colors",children:[g.jsx(b_,{})," Reply"]}),m&&g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>{i&&i(e),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-neutral-50 dark:hover:bg-brand-grey-dark flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300 transition-colors",children:[g.jsx(D0,{})," Edit"]}),g.jsxs("button",{onClick:()=>{o&&o(e.id),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 transition-colors",children:[g.jsx(Iy,{})," Delete"]})]}),g.jsxs("button",{onClick:()=>{l&&l(e),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-neutral-50 dark:hover:bg-brand-grey-dark flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300 transition-colors",children:[g.jsx(dO,{})," Forward"]}),m&&a&&g.jsx("div",{className:"px-4 py-2 border-t border-neutral-200 dark:border-brand-grey-light mt-1",children:g.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500 dark:text-neutral-400",children:[g.jsx(y_,{className:"text-brand-yellow"}),g.jsx("span",{children:"Read by all"})]})})]})]}),d&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)}),g.jsx(rt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute bottom-full mb-2 right-0 bg-white dark:bg-brand-grey-medium rounded-xl shadow-xl border border-neutral-200 dark:border-brand-grey-light z-50 p-2",children:g.jsx("div",{className:"flex gap-2",children:fV.map(C=>g.jsx(rt.button,{whileHover:{scale:1.3},whileTap:{scale:.9},onClick:()=>S(C),className:"text-2xl hover:scale-125 transition-transform cursor-pointer",children:C},C))})})]})]})]})},mV=({messages:e,onSelectMessage:t,isOpen:r,onClose:i})=>{const[o,l]=A.useState(""),c=A.useMemo(()=>{if(!o.trim())return[];const d=o.toLowerCase();return e.filter(h=>{var p,v,m;return((p=h.content)==null?void 0:p.toLowerCase().includes(d))||((m=(v=h.sender)==null?void 0:v.given_name)==null?void 0:m.toLowerCase().includes(d))})},[e,o]),a=d=>{t(d),l(""),i()};return r?g.jsx(na,{children:g.jsxs(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 left-0 right-0 z-50 bg-white dark:bg-brand-grey-medium border-b border-neutral-200 dark:border-brand-grey-light shadow-lg",children:[g.jsxs("div",{className:"p-4 flex items-center gap-3",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(L0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400"}),g.jsx("input",{type:"text",placeholder:"Search messages...",value:o,onChange:d=>l(d.target.value),className:"w-full pl-10 pr-10 py-2 border border-neutral-200 dark:border-brand-grey-light rounded-lg bg-neutral-50 dark:bg-brand-grey-dark text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow font-['Inter']",autoFocus:!0}),o&&g.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300",children:g.jsx(cn,{})})]}),g.jsx("button",{onClick:i,className:"px-4 py-2 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-brand-grey-light rounded-lg transition-colors font-['Inter']",children:"Cancel"})]}),o&&g.jsx("div",{className:"max-h-64 overflow-y-auto border-t border-neutral-200 dark:border-brand-grey-light",children:c.length>0?g.jsxs("div",{className:"p-2",children:[g.jsxs("p",{className:"px-3 py-2 text-xs text-neutral-500 dark:text-neutral-400 font-['Inter']",children:[c.length," result",c.length!==1?"s":""]}),c.map(d=>{var h;return g.jsxs(rt.div,{whileHover:{backgroundColor:"rgba(249, 237, 50, 0.1)"},onClick:()=>a(d),className:"px-3 py-2 cursor-pointer rounded-lg hover:bg-brand-yellow/10 dark:hover:bg-brand-yellow/20 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"text-sm font-semibold text-brand-grey-dark dark:text-brand-white font-['Inter']",children:(h=d.sender)==null?void 0:h.given_name}),g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-['Inter']",children:new Date(d.created_at).toLocaleString()})]}),g.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 font-['Inter'] line-clamp-2",children:d.content})]},d.id)})]}):g.jsx("div",{className:"p-8 text-center",children:g.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 font-['Inter']",children:"No messages found"})})})]})}):null},xA={"Smileys & People":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Animals & Nature":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Food & Drink":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Travel & Places":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Activities:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Objects:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Symbols:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Flags:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},RA=({onSelectEmoji:e,isOpen:t,onClose:r})=>{const[i,o]=A.useState("Smileys & People");return t?g.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full mb-2 right-0 bg-white dark:bg-brand-grey-medium rounded-xl shadow-xl border border-neutral-200 dark:border-brand-grey-light z-50 w-80 max-h-96 flex flex-col",children:[g.jsx("div",{className:"flex border-b border-neutral-200 dark:border-brand-grey-light overflow-x-auto p-2",children:Object.keys(xA).map(l=>g.jsx("button",{onClick:()=>o(l),className:`px-3 py-1 text-xs rounded-lg whitespace-nowrap transition-colors ${i===l?"bg-brand-yellow dark:bg-brand-yellow-light text-brand-grey-dark":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-brand-grey-dark"}`,children:l.split(" ")[0]},l))}),g.jsx("div",{className:"flex-1 overflow-y-auto p-3 grid grid-cols-8 gap-2 max-h-64",children:xA[i].map(l=>g.jsx(rt.button,{whileHover:{scale:1.3},whileTap:{scale:.9},onClick:()=>{e(l),r()},className:"text-2xl hover:bg-neutral-100 dark:hover:bg-brand-grey-dark rounded-lg p-1 transition-colors",children:l},l))})]}):null},gV=({message:e,currentUserId:t,currentChat:r,onUserClick:i,onReact:o,onEdit:l,onDelete:c,onForward:a,onReply:d,showReadReceipts:h,reactions:p=[]})=>{var C,x;const v=(e==null?void 0:e.created_by)===t,[m,S]=A.useState(!1);return g.jsxs("div",{className:`group flex mb-4 ${v?"justify-end":"justify-start"}`,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:[!v&&g.jsx("div",{className:"mr-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>i&&(e==null?void 0:e.created_by)&&i(e.created_by),children:g.jsx(J0,{person:e==null?void 0:e.sender,size:"sm"})}),g.jsxs("div",{className:"flex flex-col max-w-[85%] md:max-w-md",children:[!v&&g.jsx("div",{className:"font-['Inter'] text-xs text-neutral-600 dark:text-neutral-400 mb-1 cursor-pointer hover:text-brand-yellow dark:hover:text-brand-yellow-light transition-colors",onClick:()=>(e==null?void 0:e.created_by)&&i&&i(e.created_by),children:(C=e==null?void 0:e.sender)==null?void 0:C.given_name}),g.jsxs("div",{className:"relative flex items-end gap-2",children:[g.jsxs("div",{className:`font-['Inter'] rounded-2xl px-4 py-3 inline-block break-words whitespace-normal shadow-sm transition-all ${v?"bg-brand-yellow dark:bg-brand-yellow-light text-brand-grey-dark rounded-br-sm":"bg-white dark:bg-brand-grey-medium text-brand-grey-dark dark:text-brand-white border border-neutral-200 dark:border-brand-grey-light rounded-bl-sm"}`,children:[(e==null?void 0:e.replyTo)&&g.jsx("div",{className:"mb-2 pb-2 border-b border-neutral-200 dark:border-brand-grey-light",children:g.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-['Inter'] flex items-center gap-1",children:[g.jsx(b_,{size:10}),g.jsx("span",{className:"font-semibold text-brand-yellow dark:text-brand-yellow-light",children:((x=e.replyTo.sender)==null?void 0:x.given_name)||"User"}),g.jsx("span",{className:"truncate",children:e.replyTo.content})]})}),e==null?void 0:e.content,p&&p.length>0&&g.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:p.map((R,w)=>g.jsx("span",{className:"bg-neutral-100 dark:bg-brand-grey-light px-2 py-0.5 rounded-full text-sm",children:R},w))}),g.jsxs("div",{className:`font-['Inter'] text-xs mt-2 flex items-center justify-end gap-1 ${v?"text-brand-grey-dark/70":"text-neutral-500 dark:text-neutral-400"}`,children:[e!=null&&e.created_at?new Date(e==null?void 0:e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",v&&h&&g.jsx(y_,{className:"text-brand-yellow text-xs"})]})]}),m&&g.jsx(vV,{message:e,currentUserId:t,onReact:o,onEdit:l,onDelete:c,onForward:a,onReply:d,showReadReceipts:h})]})]})]})},yV=({messages:e,currentChat:t,newMessage:r,setNewMessage:i,onSendMessage:o,isSending:l=!1,messageContainerRef:c,toggleSidebar:a,toggleChatInfo:d,showChatInfo:h,onFileUpload:p,onImageUpload:v,onLoadMoreMessages:m,currentUserId:S,onUserClick:C,socket:x,onBack:R,replyingTo:w,setReplyingTo:T,onEditMessage:P,onDeleteMessage:I})=>{var Ae;const[k,U]=A.useState("en"),H=void 0,q="centralindia",F=A.useRef(null),$=A.useRef(null),ue=A.useRef(null),[oe,re]=A.useState(!1),[xe,ke]=A.useState([]),[ee,ae]=A.useState([]),[de,Me]=A.useState(!1),N=A.useRef(null),[Q,me]=A.useState(!1),[X,ne]=A.useState(!1),[fe,be]=A.useState(w||null),[ut,Ne]=A.useState({}),[ct,nt]=A.useState(null),[lt,or]=A.useState("");A.useEffect(()=>{w!==void 0&&be(w)},[w]);const It=ve=>{be(ve),T&&T(ve)};A.useEffect(()=>{const ve=c.current;if(!ve)return;const Ee=()=>{ve.scrollTop<100&&(t!=null&&t.id)&&m(t.id)};return ve.addEventListener("scroll",Ee),()=>ve.removeEventListener("scroll",Ee)},[t,m]);const Gt=ve=>{ve.key==="Enter"&&!ve.shiftKey&&!l&&(ve.preventDefault(),Rr())},Rr=()=>{l||!r.trim()||(fe&&o?(o(fe),It(null)):o(),ar())},wr=ve=>{const Ee=ve.target.value;i(Ee),!de&&Ee.trim()&&x&&(t!=null&&t.id)&&(Me(!0),x.emit("typing",{roomId:t.id,userName:t.name})),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{ar()},2e3)},ar=()=>{x&&(t!=null&&t.id)&&de&&(Me(!1),x.emit("stop-typing",{roomId:t.id})),N.current&&clearTimeout(N.current)};A.useEffect(()=>{if(!x||!(t!=null&&t.id))return;const ve=Le=>{Le.userId!==S&&Le.roomId===t.id&&(ae(yt=>yt.find(At=>At.userId===Le.userId)?yt:[...yt,{userId:Le.userId,userName:Le.userName}]),setTimeout(()=>{ae(yt=>yt.filter(At=>At.userId!==Le.userId))},3e3))},Ee=Le=>{Le.userId!==S&&Le.roomId===t.id&&ae(yt=>yt.filter(At=>At.userId!==Le.userId))};return x.on("user-typing",ve),x.on("user-stop-typing",Ee),()=>{x.off("user-typing",ve),x.off("user-stop-typing",Ee),ar()}},[x,t==null?void 0:t.id,S]);const j=()=>{F.current.click()},z=()=>{$.current.click()},G=ve=>{const Ee=ve.target.files[0];Ee&&(p(Ee),ve.target.value="")},he=ve=>{const Ee=ve.target.files[0];Ee&&Ee.type.startsWith("image/")&&(v(Ee),ve.target.value="")},ce=()=>{const ve=oy.SpeechConfig.fromSubscription(H,q),Ee=oy.AudioConfig.fromDefaultMicrophoneInput();ve.setProperty("speechServiceConnection_Language","auto");const Le=new oy.SpeechRecognizer(ve,Ee);ue.current=Le,re(!0),Le.startContinuousRecognitionAsync(()=>{},yt=>{re(!1)}),Le.recognizing=(yt,At)=>{i(At.result.text)}},ie=()=>{ue.current&&ue.current.stopContinuousRecognitionAsync(()=>{re(!1)},ve=>{re(!1)})},ye=async(ve,Ee)=>{try{return(await(await fetch(`https://api.cognitive.microsofttranslator.com//translate?api-version=3.0&to=${Ee}`,{method:"POST",headers:{"Ocp-Apim-Subscription-Key":"uhhjfxr3FiYaJiQVJLMyUWxzlNyf7C2ap4RlLmLUS2snl07YWyXpJQQJ99BJACGhslBXJ3w3AAAEACOG04n0","Ocp-Apim-Subscription-Region":"centralindia","Content-Type":"application/json"},body:JSON.stringify([{Text:ve}])})).json())[0].translations[0].text}catch{}};return A.useEffect(()=>{const ve=async()=>{const Ee=await Promise.all(e.map(async Le=>{if((Le==null?void 0:Le.language)!==k){const yt=await ye(Le==null?void 0:Le.content,k);return{...Le,content:yt}}return Le}));ke(Ee)};e.length>0?ve():ke([])},[k,e]),g.jsxs("div",{className:"flex-1 flex flex-col bg-neutral-50 dark:bg-brand-grey-dark transition-colors h-full",children:[g.jsx(mV,{messages:e,onSelectMessage:ve=>{c.current},isOpen:Q,onClose:()=>me(!1)}),g.jsxs("div",{className:"p-3 md:p-4 lg:p-5 border-b border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium flex items-center justify-between shadow-sm sticky top-0 z-10",children:[g.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[g.jsxs(rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{R?R():a&&a()},className:"mr-2 md:mr-3 p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-brand-grey-light text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-white transition-colors active:scale-95",title:"Back to chats",children:[g.jsx(j0,{size:18,className:"md:hidden"}),g.jsx(m_,{size:18,className:"hidden md:block"})]}),g.jsx(f4,{color:t==null?void 0:t.avatar_color,text:t==null?void 0:t.avatar_text}),g.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[g.jsx("h2",{className:"font-['Montserrat'] font-bold text-lg md:text-xl text-brand-grey-dark dark:text-brand-white truncate",children:(t==null?void 0:t.name)||"Chat"}),(t==null?void 0:t.description)&&g.jsx("p",{className:"font-['Inter'] text-xs text-neutral-500 dark:text-neutral-400 truncate",children:t.description})]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[g.jsx(gr,{icon:g.jsx(Gd,{})}),g.jsx("select",{value:k,onChange:ve=>U(ve.target.value),className:"font-['Inter'] text-sm px-3 py-1.5 border border-neutral-200 dark:border-brand-grey-light rounded-lg bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors cursor-pointer",children:EO.map((ve,Ee)=>g.jsx("option",{value:ve.code,children:ve.language},Ee))})]}),g.jsx(gr,{icon:g.jsx(L0,{}),onClick:()=>me(!Q),className:Q?"bg-neutral-100 dark:bg-brand-grey-light":""}),g.jsx(gr,{icon:g.jsx(sO,{}),onClick:d,className:h?"bg-neutral-100 dark:bg-brand-grey-light":""})]})]}),g.jsxs("div",{className:"flex-1 p-3 md:p-4 lg:p-6 overflow-y-auto bg-neutral-50 dark:bg-brand-grey-dark pb-safe",ref:c,children:[xe.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[g.jsx("div",{className:"w-20 h-20 mb-4 rounded-full bg-brand-yellow/10 dark:bg-brand-yellow-light/10 flex items-center justify-center",children:g.jsx("span",{className:"text-4xl",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-brand-grey-dark dark:text-brand-white mb-2 font-['Montserrat']",children:"No messages yet"}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 font-['Inter']",children:"Start the conversation by sending a message"})]}):xe.map((ve,Ee)=>{const Le=new Date(ve.created_at),yt=Ee>0?new Date(xe[Ee-1].created_at):null,At=Ee===0||!yt||Le.getFullYear()!==yt.getFullYear()||Le.getMonth()!==yt.getMonth()||Le.getDate()!==yt.getDate();return g.jsxs("div",{children:[At&&g.jsx("div",{className:"font-['Inter'] text-xs font-semibold flex justify-center items-center mb-4 text-neutral-500 dark:text-neutral-400",children:g.jsx("span",{className:"px-3 py-1 bg-white dark:bg-brand-grey-medium rounded-full border border-neutral-200 dark:border-brand-grey-light",children:Le.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})}),ct&&ct.id===ve.id?g.jsxs("div",{className:"mb-4 flex flex-col gap-2",children:[g.jsx("textarea",{className:"font-['Inter'] border border-neutral-200 dark:border-brand-grey-light rounded-xl p-3 w-full resize-none bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors",value:lt,onChange:vt=>or(vt.target.value),rows:3}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{onClick:()=>{nt(null),or("")},className:"px-4 py-2 rounded-lg bg-neutral-100 dark:bg-brand-grey-light text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-brand-grey-dark transition-colors font-['Inter']",children:"Cancel"}),g.jsx("button",{onClick:()=>{lt.trim()&&P&&(P(ve,lt.trim()),nt(null),or(""))},className:"px-4 py-2 rounded-lg bg-brand-yellow dark:bg-brand-yellow-light text-brand-grey-dark hover:bg-brand-yellow/90 dark:hover:bg-brand-yellow-light/90 transition-colors font-['Inter'] font-semibold",children:"Save"})]})]}):g.jsx(gV,{message:ve,currentUserId:S,currentChat:t,onUserClick:C,onReact:(vt,Ct)=>{Ne(er=>{const St=er[vt]||[];return St.indexOf(Ct)>-1?{...er,[vt]:St.filter(Er=>Er!==Ct)}:{...er,[vt]:[...St,Ct]}})},onEdit:vt=>{nt({id:vt.id,content:vt.content}),or(vt.content)},onDelete:vt=>{window.confirm("Are you sure you want to delete this message?")&&I&&I(vt)},onForward:vt=>{},onReply:vt=>{It(vt),ne(!1)},showReadReceipts:!0,reactions:ut[ve.id]||[]})]},ve.id||`message-${Ee}`)}),ee.length>0&&g.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 text-neutral-500 dark:text-neutral-400 italic font-['Inter'] text-sm",children:[g.jsxs("div",{className:"flex gap-1",children:[g.jsx("span",{className:"w-2 h-2 bg-brand-yellow rounded-full animate-bounce",style:{animationDelay:"0ms"}}),g.jsx("span",{className:"w-2 h-2 bg-brand-yellow rounded-full animate-bounce",style:{animationDelay:"150ms"}}),g.jsx("span",{className:"w-2 h-2 bg-brand-yellow rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),g.jsx("span",{children:ee.length===1?`${ee[0].userName} is typing...`:`${ee.length} people are typing...`})]})]}),g.jsx("input",{type:"file",ref:F,className:"hidden",onChange:G}),g.jsx("input",{type:"file",ref:$,className:"hidden",accept:"image/*",onChange:he}),fe&&g.jsxs("div",{className:"px-4 py-2 bg-neutral-50 dark:bg-brand-grey-dark border-t border-neutral-200 dark:border-brand-grey-light flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[g.jsx("div",{className:"w-0.5 h-8 bg-brand-yellow rounded-full"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:"text-xs font-semibold text-brand-grey-dark dark:text-brand-white font-['Inter']",children:["Replying to ",((Ae=fe.sender)==null?void 0:Ae.given_name)||"User"]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 truncate font-['Inter']",children:fe.content})]})]}),g.jsx("button",{onClick:()=>It(null),className:"p-1 rounded-full hover:bg-neutral-200 dark:hover:bg-brand-grey-light text-neutral-500 dark:text-neutral-400 transition-colors",children:g.jsx(cn,{size:14})})]}),g.jsxs("div",{className:"p-3 md:p-4 lg:p-6 bg-white dark:bg-brand-grey-medium border-t border-neutral-200 dark:border-brand-grey-light flex flex-col md:flex-row items-end gap-2 pb-safe",children:[g.jsxs("div",{className:"flex md:hidden items-center gap-2 w-full pb-2 border-b border-neutral-200 dark:border-brand-grey-light",children:[g.jsx(gr,{icon:g.jsx(Lx,{}),className:"flex-1 text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white p-2.5",onClick:j}),g.jsx(gr,{icon:g.jsx(Dx,{}),className:"flex-1 text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white p-2.5",onClick:z}),g.jsxs("div",{className:"relative flex-1",children:[g.jsx(gr,{icon:g.jsx($p,{}),className:"w-full text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white p-2.5",onClick:()=>ne(!X)}),X&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>ne(!1)}),g.jsx(RA,{isOpen:X,onClose:()=>ne(!1),onSelectEmoji:ve=>{i(Ee=>Ee+ve)}})]})]}),g.jsx(gr,{icon:oe?g.jsx(Vx,{className:"text-red-500"}):g.jsx(Ny,{}),className:`flex-1 ${oe?"text-red-500":"text-neutral-600 dark:text-neutral-400"} hover:text-brand-grey-dark dark:hover:text-brand-white p-2.5`,onClick:oe?ie:ce})]}),g.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[g.jsx(gr,{icon:g.jsx(Lx,{}),className:"text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white",onClick:j}),g.jsx(gr,{icon:g.jsx(Dx,{}),className:"text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white",onClick:z}),g.jsxs("div",{className:"relative",children:[g.jsx(gr,{icon:g.jsx($p,{}),className:"text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white",onClick:()=>ne(!X)}),X&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>ne(!1)}),g.jsx(RA,{isOpen:X,onClose:()=>ne(!1),onSelectEmoji:ve=>{i(Ee=>Ee+ve)}})]})]}),g.jsx(gr,{icon:oe?g.jsx(Vx,{className:"text-red-500"}):g.jsx(Ny,{}),className:`${oe?"text-red-500":"text-neutral-600 dark:text-neutral-400"} hover:text-brand-grey-dark dark:hover:text-brand-white`,onClick:oe?ie:ce})]}),g.jsx("div",{className:"flex-1 mx-1 md:mx-2 min-w-0 w-full md:w-auto",children:g.jsx("textarea",{className:"font-['Inter'] placeholder-neutral-400 dark:placeholder-neutral-500 border border-neutral-200 dark:border-brand-grey-light rounded-xl p-3 w-full resize-none bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors max-h-32 text-base md:text-sm",placeholder:"Type a message...",value:r,onChange:wr,onKeyPress:Gt,rows:1})}),g.jsx(gr,{icon:g.jsx(aO,{className:"text-brand-yellow dark:text-brand-yellow-light"}),className:`hover:bg-brand-yellow/10 dark:hover:bg-brand-yellow/20 p-2.5 md:p-2 flex-shrink-0 ${l||!r.trim()?"opacity-50 cursor-not-allowed":""}`,onClick:Rr,disabled:l||!r.trim()})]})]})},SV={paddingY:"py-12 md:py-16 lg:py-20"},wA=({isOpen:e,onClose:t,title:r,children:i})=>e?g.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white dark:bg-brand-grey-medium rounded-2xl w-full max-w-md mx-4 shadow-xl py-8 relative border border-neutral-200 dark:border-brand-grey-light",children:[g.jsx("button",{onClick:t,className:"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 absolute right-4 top-4 transition-colors",children:g.jsx(cn,{})}),g.jsx("h2",{className:"font-['Montserrat'] w-full text-center text-xl font-bold mb-5 text-brand-grey-dark dark:text-brand-white",children:r}),i]})}):null,bp=({onClick:e,primary:t,children:r,className:i})=>g.jsx("button",{onClick:e,className:`font-bold font-['Montserrat'] w-[50%] rounded-xl py-2 transition-colors ${t?"text-brand-grey-dark bg-brand-yellow dark:bg-brand-yellow-light hover:bg-brand-yellow-light dark:hover:bg-brand-yellow shadow-sm":"bg-neutral-100 dark:bg-brand-grey-light hover:bg-neutral-200 dark:hover:bg-brand-grey-medium text-neutral-700 dark:text-neutral-300 border border-neutral-200 dark:border-brand-grey-light"} ${i||""}`,children:r}),bV=({member:e,currentUserId:t,isAdmin:r,onUserInfoClick:i})=>{const{id:o,given_name:l,profile_picture:c}=e,a=o===t;return g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(J0,{person:e,size:"sm"}),g.jsxs("span",{className:"font-['Inter'] ml-2 text-brand-grey-dark dark:text-brand-white",children:[l,a?" (You)":""]})]}),a?g.jsx("span",{className:"font-['Inter'] text-xs text-neutral-500 dark:text-neutral-400",children:r?"Admin":""}):g.jsx(g.Fragment,{children:r?g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"font-['Inter'] text-xs text-neutral-500 dark:text-neutral-400 mr-2",children:"Admin"}),g.jsx("button",{className:"text-neutral-500 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white transition-colors",onClick:()=>i(e),children:g.jsx(Ox,{size:16})})]}):g.jsx("button",{className:"text-neutral-500 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white transition-colors",onClick:()=>i(e),children:g.jsx(Ox,{size:16})})})]})},CV=({chatId:e,setCurrentChatId:t,originalChats:r,setOriginalChats:i})=>{const{user:o}=uo(),l=(o==null?void 0:o.id)||localStorage.getItem("user_id"),[c,a]=A.useState("English"),[d,h]=A.useState(!1),[p,v]=A.useState(!1),[m,S]=A.useState(null),[C,x]=A.useState(null),[R,w]=A.useState(!0),[T,P]=A.useState(null),[I,k]=A.useState([]),[U,H]=A.useState(l),[q,F]=A.useState(!1),[$,ue]=A.useState(""),[oe,re]=A.useState(!1);A.useEffect(()=>{(async()=>{try{const fe=(await Be.get(`${ft}/chatroom/${e}`)).data.chatRoom,be=[],ut=[];for(const Ne of fe.members)Ne.status=="approved"?be.push(Ne):Ne.status=="pending"&&ut.push(Ne);w(!0),setTimeout(async()=>{const Ne={id:fe.id,name:fe.name,createdAt:fe.created_at,description:fe.description,adminId:fe.admin_id,inviteLink:`${window.location.origin}/Chat/${fe.id}`,members:be,joinRequests:ut};x(Ne),ue(Ne.name),k(Ne.joinRequests),w(!1)},300)}catch(ne){P("Failed to load group data: ",ne.message),w(!1)}})()},[e]),Be.get(`${ft}/chatroom/${e}/admin/${l}`).then(X=>{var fe;const ne=(fe=X.data)==null?void 0:fe.isAdmin;re(ne)});const xe=async()=>{try{await Be.delete(`${ft}/chatroom/${e}/leave/${l}`),yr("Left group successfully");const X=r.filter(ne=>ne.id!==e);i(X),t(X[0].id),h(!1)}catch(X){console.error("Failed to leave group",X);const ne=r.filter(fe=>fe.id!==e);i(ne),t(ne[0].id),h(!1)}},ke=async(X,ne)=>{try{v(!1),ne==="makeAdmin"?(await Be.put(`${ft}/chatroom/${e}/changeAdmin`,{newAdminId:X}),x(fe=>({...fe,members:fe.members.map(be=>be.id===X?{...be,isAdmin:!0}:be),adminId:X})),re(!1)):ne==="removeMember"&&(await Be.delete(`${ft}/chatroom/${e}/members/${X}`),x(fe=>({...fe,members:fe.members.filter(be=>be.id!==X)})))}catch(fe){console.error(`Failed to ${ne}`,fe)}},ee=async(X,ne)=>{try{if(k(fe=>fe.filter(be=>be.id!==X)),ne){const fe=I.find(be=>be.id===X);x(be=>({...be,members:[...be.members,{...fe,joined:new Date,isAdmin:!1}]})),await Be.put(`${ft}/chatroom/${e}/memberRequest`,{userId:X,status:"approved"})}else await Be.put(`${ft}/chatroom/${e}/memberRequest`,{userId:X,status:"rejected"})}catch(fe){console.error("Failed to handle join request",fe)}},ae=()=>{C!=null&&C.inviteLink&&navigator.clipboard.writeText(C.inviteLink).then(()=>{yr("Copied to clipboard")}).catch(X=>{console.error("Failed to copy",X)})},de=X=>{S(X),v(!0)},Me=()=>{F(!0)},N=async()=>{try{if(!$.trim()){Ue("Group name cannot be empty");return}if($.trim()===C.name){F(!1);return}await Be.put(`${ft}/chatroom/${e}`,{name:$}),x(X=>({...X,name:$.trim()})),F(!1),yr("Group name updated successfully")}catch(X){console.error("Failed to update group name",X),Ue("Failed to update group name")}},Q=()=>{ue(C.name),F(!1)};if(R)return g.jsx("div",{className:"xl:pt-18 lg:pt-16 md:pt-12 sm:pt-8 pt-6 mt-10 lg:mt-2 md:mt-5 flex flex-col w-80 border-l border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium items-center justify-center transition-colors",children:g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading..."})});if(T)return g.jsxs("div",{className:"xl:pt-18 lg:pt-16 md:pt-12 sm:pt-8 pt-6 mt-10 lg:mt-2 md:mt-5 flex flex-col w-80 border-l border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium items-center justify-center transition-colors",children:[g.jsx("p",{className:"text-red-500 dark:text-red-400",children:T}),g.jsx("button",{className:"mt-2 px-4 py-2 bg-brand-yellow dark:bg-brand-yellow-light text-brand-grey-dark rounded-lg hover:bg-brand-yellow-light dark:hover:bg-brand-yellow transition-colors",onClick:()=>window.location.reload(),children:"Retry"})]});const me=X=>new Date(X).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return g.jsxs("div",{className:"flex flex-col w-80 border-l border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium overflow-auto transition-colors h-full",children:[g.jsx("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:q?g.jsxs("div",{className:"flex items-center w-full",children:[g.jsx("input",{type:"text",value:$,onChange:X=>ue(X.target.value),className:"font-['Montserrat'] text-lg font-bold w-full p-2 border border-neutral-200 dark:border-brand-grey-light rounded-lg bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors",autoFocus:!0,maxLength:50}),g.jsxs("div",{className:"flex ml-2",children:[g.jsx("button",{className:"text-green-500 mr-1",onClick:N,title:"Save",children:g.jsx(jx,{size:16})}),g.jsx("button",{className:"text-red-500",onClick:Q,title:"Cancel",children:g.jsx(cn,{size:16})})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"font-['Montserrat'] text-2xl font-bold text-brand-grey-dark dark:text-brand-white",children:C==null?void 0:C.name}),oe&&g.jsx("button",{className:"text-neutral-500 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white transition-colors",onClick:Me,title:"Edit group name",children:g.jsx(D0,{size:16})})]})}),g.jsxs("div",{className:"flex md:hidden items-center p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:[g.jsx(gr,{icon:g.jsx(Gd,{})}),g.jsxs("select",{value:c,onChange:X=>a(X.target.value),className:"font-['Inter'] w-full p-2 border border-neutral-200 dark:border-brand-grey-light rounded-lg bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors",children:[g.jsx("option",{children:"English"}),g.jsx("option",{children:"Spanish"}),g.jsx("option",{children:"French"}),g.jsx("option",{children:"German"})]})]}),g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:[g.jsx("h3",{className:"font-['Montserrat'] font-bold mb-1 text-brand-grey-dark dark:text-brand-white",children:"Created"}),g.jsx("p",{className:"font-['Inter'] text-sm text-neutral-600 dark:text-neutral-400",children:me(C==null?void 0:C.createdAt)})]}),g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:[g.jsxs("h3",{className:"font-['Montserrat'] font-bold mb-2 text-brand-grey-dark dark:text-brand-white",children:["Members (",C==null?void 0:C.members.length,")"]}),C==null?void 0:C.members.map(X=>g.jsx(bV,{member:X,currentUserId:U,isAdmin:X.id==C.adminId,onUserInfoClick:de},X.id))]}),oe&&I.length>0&&g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:[g.jsxs("h3",{className:"font-['Montserrat'] font-bold mb-2 text-brand-grey-dark dark:text-brand-white",children:["Requests (",I.length,")"]}),I.map(X=>g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(J0,{person:X,size:"sm"}),g.jsx("span",{className:"font-['Inter'] ml-2 text-brand-grey-dark dark:text-brand-white",children:X.given_name})]}),g.jsxs("div",{className:"flex",children:[g.jsx("button",{className:"text-green-500 dark:text-green-400 hover:text-green-600 dark:hover:text-green-300 mr-2 transition-colors",onClick:()=>ee(X.id,!0),children:g.jsx(jx,{size:16})}),g.jsx("button",{className:"text-red-500 dark:text-red-400 hover:text-red-600 dark:hover:text-red-300 transition-colors",onClick:()=>ee(X.id,!1),children:g.jsx(cn,{size:16})})]})]},X.id))]}),g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:[g.jsx("h3",{className:"font-['Montserrat'] font-bold mb-2 text-brand-grey-dark dark:text-brand-white",children:"Invite Link"}),g.jsxs("div",{className:"flex items-center bg-neutral-100 dark:bg-brand-grey-light rounded-lg p-2 border border-neutral-200 dark:border-brand-grey-light",children:[g.jsx("p",{className:"text-xs truncate mr-2 text-neutral-600 dark:text-neutral-400 flex-1",children:C==null?void 0:C.inviteLink}),g.jsx("button",{className:"text-neutral-500 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white transition-colors",onClick:ae,children:g.jsx(eO,{size:16})})]})]}),g.jsx("div",{className:"p-4 mt-auto flex items-center justify-center",children:g.jsxs("button",{className:"font-['Montserrat'] font-semibold flex items-center text-red-500 dark:text-red-400 hover:text-red-600 dark:hover:text-red-300 font-medium transition-colors",onClick:()=>h(!0),children:[g.jsx(Ux,{size:16,className:"mr-1"}),"Leave Group"]})}),g.jsx(wA,{isOpen:d,onClose:()=>h(!1),title:"Leave Group?",children:g.jsxs("div",{className:"flex flex-col gap-5 items-center justify-center w-full",children:[g.jsx(bp,{onClick:xe,primary:!0,children:"Yes"}),g.jsx(bp,{onClick:()=>h(!1),children:"No"})]})}),g.jsxs(wA,{isOpen:p,onClose:()=>v(!1),title:"User Info",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("div",{className:"font-medium text-brand-grey-dark dark:text-brand-white",children:"Joined"}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:me(m==null?void 0:m.timestamp)}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:m==null?void 0:m.email})]}),oe&&g.jsxs("div",{className:"flex flex-col gap-5 items-center justify-center w-full",children:[g.jsx(bp,{onClick:()=>ke(m==null?void 0:m.id,"makeAdmin"),primary:!0,children:g.jsxs("div",{className:"flex items-center justify-center",children:[g.jsx(vO,{className:"mr-2"}),"Make Admin"]})}),g.jsx(bp,{onClick:()=>ke(m==null?void 0:m.id,"removeMember"),children:g.jsxs("div",{className:"flex items-center justify-center",children:[g.jsx(Ux,{className:"mr-2"}),"Remove Member"]})})]})]})]})},Bn=Object.create(null);Bn.open="0";Bn.close="1";Bn.ping="2";Bn.pong="3";Bn.message="4";Bn.upgrade="5";Bn.noop="6";const zp=Object.create(null);Object.keys(Bn).forEach(e=>{zp[Bn[e]]=e});const y0={type:"error",data:"parser error"},Y6=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Q6=typeof ArrayBuffer=="function",X6=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,LS=({type:e,data:t},r,i)=>Y6&&t instanceof Blob?r?i(t):EA(t,i):Q6&&(t instanceof ArrayBuffer||X6(t))?r?i(t):EA(new Blob([t]),i):i(Bn[e]+(t||"")),EA=(e,t)=>{const r=new FileReader;return r.onload=function(){const i=r.result.split(",")[1];t("b"+(i||""))},r.readAsDataURL(e)};function TA(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ay;function xV(e,t){if(Y6&&e.data instanceof Blob)return e.data.arrayBuffer().then(TA).then(t);if(Q6&&(e.data instanceof ArrayBuffer||X6(e.data)))return t(TA(e.data));LS(e,!1,r=>{ay||(ay=new TextEncoder),t(ay.encode(r))})}const PA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ad=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<PA.length;e++)Ad[PA.charCodeAt(e)]=e;const RV=e=>{let t=e.length*.75,r=e.length,i,o=0,l,c,a,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),p=new Uint8Array(h);for(i=0;i<r;i+=4)l=Ad[e.charCodeAt(i)],c=Ad[e.charCodeAt(i+1)],a=Ad[e.charCodeAt(i+2)],d=Ad[e.charCodeAt(i+3)],p[o++]=l<<2|c>>4,p[o++]=(c&15)<<4|a>>2,p[o++]=(a&3)<<6|d&63;return h},wV=typeof ArrayBuffer=="function",qS=(e,t)=>{if(typeof e!="string")return{type:"message",data:Z6(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:EV(e.substring(1),t)}:zp[r]?e.length>1?{type:zp[r],data:e.substring(1)}:{type:zp[r]}:y0},EV=(e,t)=>{if(wV){const r=RV(e);return Z6(r,t)}else return{base64:!0,data:e}},Z6=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},e3="",TV=(e,t)=>{const r=e.length,i=new Array(r);let o=0;e.forEach((l,c)=>{LS(l,!1,a=>{i[c]=a,++o===r&&t(i.join(e3))})})},PV=(e,t)=>{const r=e.split(e3),i=[];for(let o=0;o<r.length;o++){const l=qS(r[o],t);if(i.push(l),l.type==="error")break}return i};function AV(){return new TransformStream({transform(e,t){xV(e,r=>{const i=r.length;let o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);const l=new DataView(o.buffer);l.setUint8(0,126),l.setUint16(1,i)}else{o=new Uint8Array(9);const l=new DataView(o.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(r)})}})}let cy;function Cp(e){return e.reduce((t,r)=>t+r.length,0)}function xp(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let i=0;for(let o=0;o<t;o++)r[o]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),r}function _V(e,t){cy||(cy=new TextDecoder);const r=[];let i=0,o=-1,l=!1;return new TransformStream({transform(c,a){for(r.push(c);;){if(i===0){if(Cp(r)<1)break;const d=xp(r,1);l=(d[0]&128)===128,o=d[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(Cp(r)<2)break;const d=xp(r,2);o=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),i=3}else if(i===2){if(Cp(r)<8)break;const d=xp(r,8),h=new DataView(d.buffer,d.byteOffset,d.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){a.enqueue(y0);break}o=p*Math.pow(2,32)+h.getUint32(4),i=3}else{if(Cp(r)<o)break;const d=xp(r,o);a.enqueue(qS(l?d:cy.decode(d),t)),i=0}if(o===0||o>e){a.enqueue(y0);break}}}})}const t3=4;function Ht(e){if(e)return kV(e)}function kV(e){for(var t in Ht.prototype)e[t]=Ht.prototype[t];return e}Ht.prototype.on=Ht.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ht.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Ht.prototype.off=Ht.prototype.removeListener=Ht.prototype.removeAllListeners=Ht.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,o=0;o<r.length;o++)if(i=r[o],i===t||i.fn===t){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Ht.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(r){r=r.slice(0);for(var i=0,o=r.length;i<o;++i)r[i].apply(this,t)}return this};Ht.prototype.emitReserved=Ht.prototype.emit;Ht.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ht.prototype.hasListeners=function(e){return!!this.listeners(e).length};const xf=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),sn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),MV="arraybuffer";function r3(e,...t){return t.reduce((r,i)=>(e.hasOwnProperty(i)&&(r[i]=e[i]),r),{})}const NV=sn.setTimeout,IV=sn.clearTimeout;function Rf(e,t){t.useNativeTimers?(e.setTimeoutFn=NV.bind(sn),e.clearTimeoutFn=IV.bind(sn)):(e.setTimeoutFn=sn.setTimeout.bind(sn),e.clearTimeoutFn=sn.clearTimeout.bind(sn))}const jV=1.33;function OV(e){return typeof e=="string"?DV(e):Math.ceil((e.byteLength||e.size)*jV)}function DV(e){let t=0,r=0;for(let i=0,o=e.length;i<o;i++)t=e.charCodeAt(i),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(i++,r+=4);return r}function n3(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function zV(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function LV(e){let t={},r=e.split("&");for(let i=0,o=r.length;i<o;i++){let l=r[i].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class qV extends Error{constructor(t,r,i){super(t),this.description=r,this.context=i,this.type="TransportError"}}class BS extends Ht{constructor(t){super(),this.writable=!1,Rf(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,i){return super.emitReserved("error",new qV(t,r,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=qS(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=zV(t);return r.length?"?"+r:""}}class BV extends BS{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||r()})),this.writable||(i++,this.once("drain",function(){--i||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};PV(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,TV(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=n3()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let i3=!1;try{i3=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const UV=i3;function VV(){}class FV extends BV{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,r){const i=this.request({method:"POST",data:t});i.on("success",r),i.on("error",(o,l)=>{this.onError("xhr post error",o,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,i)=>{this.onError("xhr poll error",r,i)}),this.pollXhr=t}}let ta=class Lp extends Ht{constructor(t,r,i){super(),this.createRequest=t,Rf(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;const r=r3(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=Lp.requestsCount++,Lp.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=VV,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Lp.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};ta.requestsCount=0;ta.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",AA);else if(typeof addEventListener=="function"){const e="onpagehide"in sn?"pagehide":"unload";addEventListener(e,AA,!1)}}function AA(){for(let e in ta.requests)ta.requests.hasOwnProperty(e)&&ta.requests[e].abort()}const HV=function(){const e=s3({xdomain:!1});return e&&e.responseType!==null}();class $V extends FV{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=HV&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new ta(s3,this.uri(),t)}}function s3(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||UV))return new XMLHttpRequest}catch{}if(!t)try{return new sn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const o3=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class KV extends BS{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,i=o3?{}:r3(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const i=t[r],o=r===t.length-1;LS(i,this.supportsBinary,l=>{try{this.doWrite(i,l)}catch{}o&&xf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=n3()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const ly=sn.WebSocket||sn.MozWebSocket;class WV extends KV{createSocket(t,r,i){return o3?new ly(t,r,i):r?new ly(t,r):new ly(t)}doWrite(t,r){this.ws.send(r)}}class GV extends BS{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=_V(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(r).getReader(),o=AV();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const l=()=>{i.read().then(({done:a,value:d})=>{a||(this.onPacket(d),l())}).catch(a=>{})};l();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const i=t[r],o=r===t.length-1;this._writer.write(i).then(()=>{o&&xf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const JV={websocket:WV,webtransport:GV,polling:$V},YV=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,QV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function S0(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),i=e.indexOf("]");r!=-1&&i!=-1&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));let o=YV.exec(e||""),l={},c=14;for(;c--;)l[QV[c]]=o[c]||"";return r!=-1&&i!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=XV(l,l.path),l.queryKey=ZV(l,l.query),l}function XV(e,t){const r=/\/{2,9}/g,i=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function ZV(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,l){o&&(r[o]=l)}),r}const b0=typeof addEventListener=="function"&&typeof removeEventListener=="function",qp=[];b0&&addEventListener("offline",()=>{qp.forEach(e=>e())},!1);class Qi extends Ht{constructor(t,r){if(super(),this.binaryType=MV,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const i=S0(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=S0(r.host).host);Rf(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{const o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=LV(this.opts.query)),b0&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},qp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=t3,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Qi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Qi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=OV(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,xf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const l={type:t,data:r,options:i};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(Qi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),b0&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=qp.indexOf(this._offlineEventListener);i!==-1&&qp.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Qi.protocol=t3;class eF extends Qi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),i=!1;Qi.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",v=>{if(!i)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Qi.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(p(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function l(){i||(i=!0,p(),r.close(),r=null)}const c=v=>{const m=new Error("probe error: "+v);m.transport=r.name,l(),this.emitReserved("upgradeError",m)};function a(){c("transport closed")}function d(){c("socket closed")}function h(v){r&&v.name!==r.name&&l()}const p=()=>{r.removeListener("open",o),r.removeListener("error",c),r.removeListener("close",a),this.off("close",d),this.off("upgrading",h)};r.once("open",o),r.once("error",c),r.once("close",a),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}let tF=class extends eF{constructor(t,r={}){const i=typeof t=="object"?t:r;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(o=>JV[o]).filter(o=>!!o)),super(t,i)}};function rF(e,t="",r){let i=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),i=S0(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const l=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+l+":"+i.port+t,i.href=i.protocol+"://"+l+(r&&r.port===i.port?"":":"+i.port),i}const nF=typeof ArrayBuffer=="function",iF=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,a3=Object.prototype.toString,sF=typeof Blob=="function"||typeof Blob<"u"&&a3.call(Blob)==="[object BlobConstructor]",oF=typeof File=="function"||typeof File<"u"&&a3.call(File)==="[object FileConstructor]";function US(e){return nF&&(e instanceof ArrayBuffer||iF(e))||sF&&e instanceof Blob||oF&&e instanceof File}function Bp(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,i=e.length;r<i;r++)if(Bp(e[r]))return!0;return!1}if(US(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Bp(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Bp(e[r]))return!0;return!1}function aF(e){const t=[],r=e.data,i=e;return i.data=C0(r,t),i.attachments=t.length,{packet:i,buffers:t}}function C0(e,t){if(!e)return e;if(US(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let i=0;i<e.length;i++)r[i]=C0(e[i],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=C0(e[i],t));return r}return e}function cF(e,t){return e.data=x0(e.data,t),delete e.attachments,e}function x0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=x0(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=x0(e[r],t));return e}const lF=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],uF=5;var tt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(tt||(tt={}));class dF{constructor(t){this.replacer=t}encode(t){return(t.type===tt.EVENT||t.type===tt.ACK)&&Bp(t)?this.encodeAsBinary({type:t.type===tt.EVENT?tt.BINARY_EVENT:tt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===tt.BINARY_EVENT||t.type===tt.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=aF(t),i=this.encodeAsString(r.packet),o=r.buffers;return o.unshift(i),o}}function _A(e){return Object.prototype.toString.call(e)==="[object Object]"}class VS extends Ht{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const i=r.type===tt.BINARY_EVENT;i||r.type===tt.BINARY_ACK?(r.type=i?tt.EVENT:tt.ACK,this.reconstructor=new hF(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(US(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const i={type:Number(t.charAt(0))};if(tt[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===tt.BINARY_EVENT||i.type===tt.BINARY_ACK){const l=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(l,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");i.attachments=Number(c)}if(t.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););i.nsp=t.substring(l,r)}else i.nsp="/";const o=t.charAt(r+1);if(o!==""&&Number(o)==o){const l=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}i.id=Number(t.substring(l,r+1))}if(t.charAt(++r)){const l=this.tryParse(t.substr(r));if(VS.isPayloadValid(i.type,l))i.data=l;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case tt.CONNECT:return _A(r);case tt.DISCONNECT:return r===void 0;case tt.CONNECT_ERROR:return typeof r=="string"||_A(r);case tt.EVENT:case tt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&lF.indexOf(r[0])===-1);case tt.ACK:case tt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class hF{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=cF(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const pF=Object.freeze(Object.defineProperty({__proto__:null,Decoder:VS,Encoder:dF,get PacketType(){return tt},protocol:uF},Symbol.toStringTag,{value:"Module"}));function Rn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const fF=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class c3 extends Ht{constructor(t,r,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Rn(t,"open",this.onopen.bind(this)),Rn(t,"packet",this.onpacket.bind(this)),Rn(t,"error",this.onerror.bind(this)),Rn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var i,o,l;if(fF.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:tt.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const p=this.ids++,v=r.pop();this._registerAckCallback(p,v),c.id=p}const a=(o=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||o===void 0?void 0:o.writable,d=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!a||(d?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var i;const o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[t]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},o),c=(...a)=>{this.io.clearTimeoutFn(l),r.apply(this,a)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((i,o)=>{const l=(c,a)=>c?o(c):i(a);l.withError=!0,r.push(l),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...l)=>i!==this._queue[0]?void 0:(o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(o)):(this._queue.shift(),r&&r(null,...l)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:tt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case tt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case tt.EVENT:case tt.BINARY_EVENT:this.onevent(t);break;case tt.ACK:case tt.BINARY_ACK:this.onack(t);break;case tt.DISCONNECT:this.ondisconnect();break;case tt.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const i of r)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let i=!1;return function(...o){i||(i=!0,r.packet({type:tt.ACK,id:t,data:o}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:tt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let i=0;i<r.length;i++)if(t===r[i])return r.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let i=0;i<r.length;i++)if(t===r[i])return r.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const i of r)i.apply(this,t.data)}}}function va(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}va.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};va.prototype.reset=function(){this.attempts=0};va.prototype.setMin=function(e){this.ms=e};va.prototype.setMax=function(e){this.max=e};va.prototype.setJitter=function(e){this.jitter=e};class R0 extends Ht{constructor(t,r){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Rf(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((i=r.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new va({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const o=r.parser||pF;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new tF(this.uri,this.opts);const r=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=Rn(r,"open",function(){i.onopen(),t&&t()}),l=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},c=Rn(r,"error",l);if(this._timeout!==!1){const a=this._timeout,d=this.setTimeoutFn(()=>{o(),l(new Error("timeout")),r.close()},a);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(o),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Rn(t,"ping",this.onping.bind(this)),Rn(t,"data",this.ondata.bind(this)),Rn(t,"error",this.onerror.bind(this)),Rn(t,"close",this.onclose.bind(this)),Rn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){xf(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new c3(this,t,r),this.nsps[t]=i),i}_destroy(t){const r=Object.keys(this.nsps);for(const i of r)if(this.nsps[i].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let i=0;i<r.length;i++)this.engine.write(r[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},r);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ed={};function Up(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=rF(e,t.path||"/socket.io"),i=r.source,o=r.id,l=r.path,c=Ed[o]&&l in Ed[o].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let d;return a?d=new R0(i,t):(Ed[o]||(Ed[o]=new R0(i,t)),d=Ed[o]),r.query&&!t.query&&(t.query=r.queryKey),d.socket(r.path,t)}Object.assign(Up,{Manager:R0,Socket:c3,io:Up,connect:Up});const vF=({chatName:e,onJoinRequest:t,onCancel:r})=>{const[i,o]=A.useState(!1),l=async c=>{c.preventDefault(),o(!0);try{await new Promise(a=>setTimeout(a,1e3)),t()}catch(a){console.error("Error sending join request:",a)}finally{o(!1)}};return g.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white dark:bg-brand-grey-medium rounded-2xl shadow-xl max-w-md w-full overflow-hidden border border-neutral-200 dark:border-brand-grey-light",children:[g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium flex items-center justify-between",children:[g.jsxs("h2",{className:"font-['Montserrat'] font-bold text-[1.35rem] flex items-center text-brand-grey-dark dark:text-brand-white",children:[g.jsx(fO,{className:"mr-2 text-brand-yellow dark:text-brand-yellow-light"}),"Join Chat Room"]}),g.jsx("button",{onClick:r,className:"text-neutral-600 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors","aria-label":"Close",children:g.jsx(cn,{})})]}),g.jsxs("div",{className:"p-6 bg-neutral-50 dark:bg-brand-grey-dark",children:[g.jsx("div",{className:"mb-6",children:g.jsxs("p",{className:"font-['Inter'] text-brand-grey-dark dark:text-brand-white",children:["You've been invited to join ",g.jsxs("strong",{className:"text-brand-grey-dark dark:text-brand-white",children:['"',e,'"']}),". Your request will be reviewed by the group admin."]})}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{type:"button",onClick:r,className:"font-['Montserrat'] font-semibold px-4 py-2 border border-neutral-200 dark:border-brand-grey-light rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light text-brand-grey-dark dark:text-brand-white bg-white dark:bg-brand-grey-medium hover:bg-neutral-50 dark:hover:bg-brand-grey-light disabled:opacity-50 transition-colors",disabled:i,children:"Cancel"}),g.jsx("button",{type:"button",onClick:l,className:"font-['Montserrat'] font-semibold px-4 py-2 bg-brand-yellow dark:bg-brand-yellow-light hover:bg-brand-yellow-light dark:hover:bg-brand-yellow text-brand-grey-dark rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light disabled:opacity-50 transition-colors shadow-sm",disabled:i,children:i?"Requesting...":"Request to Join"})]})]})]})})},kA=({chatName:e})=>g.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-neutral-50 dark:bg-brand-grey-dark mt-20 transition-colors",children:g.jsxs("div",{className:"text-center p-8 max-w-md",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx("div",{className:"w-16 h-16 border-4 border-brand-yellow/30 dark:border-brand-yellow-light/30 rounded-full flex items-center justify-center bg-brand-yellow/10 dark:bg-brand-yellow-light/10",children:g.jsx(iO,{size:32,className:"text-brand-yellow dark:text-brand-yellow-light animate-pulse"})})}),g.jsx("h2",{className:"text-2xl font-bold mb-2 font-['Montserrat'] text-brand-grey-dark dark:text-brand-white",children:"Waiting for Approval"}),g.jsxs("p",{className:"text-neutral-700 dark:text-neutral-300 mb-6 font-['Inter']",children:["Your request to join ",g.jsxs("strong",{className:"text-brand-grey-dark dark:text-brand-white",children:['"',e,'"']})," has been submitted. You'll be able to view messages once an admin approves your request."]}),g.jsx("div",{className:"flex justify-center",children:g.jsxs("div",{className:"flex space-x-2 mt-4",children:[g.jsx("div",{className:"h-3 w-3 bg-brand-yellow dark:bg-brand-yellow-light rounded-full animate-bounce",style:{animationDelay:"0ms"}}),g.jsx("div",{className:"h-3 w-3 bg-brand-yellow dark:bg-brand-yellow-light rounded-full animate-bounce",style:{animationDelay:"300ms"}}),g.jsx("div",{className:"h-3 w-3 bg-brand-yellow dark:bg-brand-yellow-light rounded-full animate-bounce",style:{animationDelay:"600ms"}})]})})]})}),mF=({isOpen:e,onClose:t,userId:r,currentUserId:i})=>{var p;const[o,l]=A.useState(null),[c,a]=A.useState(!1);A.useEffect(()=>{e&&r&&d()},[e,r]);const d=async()=>{var v;a(!0),l(null);try{const m=await Be.get(`${ft}/user/${r}`);m.data&&l(m.data)}catch(m){(v=m.response)==null||v.status}finally{a(!1)}};if(!e)return null;const h=r===i;return g.jsx(na,{children:g.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:g.jsxs(rt.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.3},className:"bg-white dark:bg-brand-grey-medium rounded-2xl w-full max-w-md shadow-2xl border border-neutral-200 dark:border-brand-grey-light relative overflow-hidden",onClick:v=>v.stopPropagation(),children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-br from-brand-yellow/20 via-brand-yellow/10 to-transparent dark:from-brand-yellow-light/20 dark:via-brand-yellow-light/10"}),g.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-white/80 dark:bg-brand-grey-dark/80 backdrop-blur-sm hover:bg-white dark:hover:bg-brand-grey-dark text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white transition-all duration-200 shadow-sm",children:g.jsx(cn,{})}),g.jsx("div",{className:"relative pt-8 pb-6 px-6",children:c?g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx("div",{className:"w-16 h-16 border-4 border-brand-yellow border-t-transparent rounded-full animate-spin mb-4"}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 font-['Inter']",children:"Loading profile..."})]}):o?g.jsxs(g.Fragment,{children:[g.jsx(rt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring"},className:"flex justify-center mb-6",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white dark:border-brand-grey-medium shadow-xl",children:o.profile_picture?g.jsx("img",{src:o.profile_picture,alt:o.given_name,className:"w-full h-full rounded-full object-cover"}):g.jsx("div",{className:"w-full h-full rounded-full bg-brand-yellow flex items-center justify-center text-3xl font-bold text-brand-grey-dark",children:((p=o.given_name)==null?void 0:p.charAt(0).toUpperCase())||"U"})}),h&&g.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 bg-brand-yellow rounded-full border-2 border-white dark:border-brand-grey-medium flex items-center justify-center",children:g.jsx("span",{className:"text-xs text-brand-grey-dark font-bold",children:"You"})})]})}),g.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-brand-grey-dark dark:text-brand-white font-['Montserrat'] mb-2",children:o.given_name}),o.preferred_lang&&g.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 font-['Inter'] mb-4",children:["Preferred Language: ",o.preferred_lang.toUpperCase()]})]}),g.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[o.email&&g.jsxs("div",{className:"flex items-center gap-3 p-3 bg-neutral-50 dark:bg-brand-grey-dark rounded-xl",children:[g.jsx(z0,{className:"text-brand-yellow text-lg flex-shrink-0"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-['Inter'] mb-1",children:"Email"}),g.jsx("p",{className:"text-sm text-brand-grey-dark dark:text-brand-white font-['Inter'] truncate",children:o.email})]})]}),o.created_at&&g.jsxs("div",{className:"flex items-center gap-3 p-3 bg-neutral-50 dark:bg-brand-grey-dark rounded-xl",children:[g.jsx(Yj,{className:"text-brand-yellow text-lg flex-shrink-0"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-['Inter'] mb-1",children:"Member since"}),g.jsx("p",{className:"text-sm text-brand-grey-dark dark:text-brand-white font-['Inter']",children:new Date(o.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]}):g.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 font-['Inter']",children:"User not found"})})})]})})})},gF=({isOpen:e,onClose:t,onJoin:r})=>{const[i,o]=A.useState(""),[l,c]=A.useState(!1),[a,d]=A.useState(""),h=v=>{if(!v||!v.trim())return null;const m=v.trim(),S=/([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})/i,C=m.match(S);if(C)return C[1];try{const R=new URL(m.startsWith("http")?m:`http://${m}`).pathname.split("/").filter(w=>w);if(R.length>0){const w=R[R.length-1];return S.test(w),w}}catch{return m}return m},p=async v=>{if(v.preventDefault(),d(""),!i.trim()){d("Please enter an invite link");return}c(!0);try{const m=h(i);if(!m){d("Invalid invite link format. Please check the link and try again."),c(!1);return}await r(m),o(""),d("")}catch(m){d(m.message||"Failed to join chatroom. Please check the link and try again.")}finally{c(!1)}};return e?g.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:v=>v.target===v.currentTarget&&!l&&t(),children:g.jsxs(rt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-brand-grey-medium rounded-2xl shadow-xl max-w-md w-full overflow-hidden border border-neutral-200 dark:border-brand-grey-light",children:[g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium flex items-center justify-between",children:[g.jsxs("h2",{className:"font-['Montserrat'] font-bold text-[1.35rem] flex items-center text-brand-grey-dark dark:text-brand-white",children:[g.jsx(S_,{className:"mr-2 text-brand-yellow dark:text-brand-yellow-light"}),"Join via Invite Link"]}),g.jsx("button",{onClick:t,disabled:l,className:"text-neutral-600 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors disabled:opacity-50","aria-label":"Close",children:g.jsx(cn,{})})]}),g.jsxs("form",{onSubmit:p,className:"p-6 bg-neutral-50 dark:bg-brand-grey-dark",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"font-['Inter'] text-brand-grey-dark dark:text-brand-white block text-sm font-semibold mb-2",children:"Paste Invite Link"}),g.jsx("input",{type:"text",value:i,onChange:v=>{o(v.target.value),d("")},placeholder:"https://example.com/Chat/chatroom-id or chatroom-id",className:"font-['Inter'] placeholder-neutral-400 dark:placeholder-neutral-500 border border-neutral-200 dark:border-brand-grey-light rounded-xl w-full py-3 px-4 bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white leading-tight focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors disabled:opacity-50",disabled:l,required:!0}),a&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-['Inter']",children:a}),g.jsx("p",{className:"mt-2 text-xs text-neutral-500 dark:text-neutral-400 font-['Inter']",children:"You can paste the full invite link or just the chatroom ID"})]}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{type:"button",onClick:t,disabled:l,className:"font-['Montserrat'] font-semibold px-4 py-2 border border-neutral-200 dark:border-brand-grey-light rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light text-brand-grey-dark dark:text-brand-white bg-white dark:bg-brand-grey-medium hover:bg-neutral-50 dark:hover:bg-brand-grey-light disabled:opacity-50 transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:l||!i.trim(),className:"font-['Montserrat'] font-semibold px-4 py-2 bg-brand-yellow dark:bg-brand-yellow-light hover:bg-brand-yellow-light dark:hover:bg-brand-yellow text-brand-grey-dark rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light disabled:opacity-50 transition-colors shadow-sm flex items-center gap-2",children:l?g.jsxs(g.Fragment,{children:[g.jsx(pO,{className:"animate-spin"}),"Joining..."]}):"Join Room"})]})]})]})}):null};class yF{constructor(){this.storageKey="unifyChat_messageQueue",this.listeners=new Set}getQueue(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to read message queue:",t),[]}}saveQueue(t){try{localStorage.setItem(this.storageKey,JSON.stringify(t)),this.notifyListeners()}catch(r){console.error("Failed to save message queue:",r)}}addMessage(t){const r=this.getQueue(),i={...t,queuedAt:Date.now(),tempId:`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,status:"pending",retryCount:0};return r.push(i),this.saveQueue(r),i}removeMessage(t){const i=this.getQueue().filter(o=>o.tempId!==t);this.saveQueue(i)}updateMessageStatus(t,r,i=null,o=null){const c=this.getQueue().map(a=>a.tempId===t?{...a,status:r,serverId:i,error:o,lastRetry:Date.now()}:a);this.saveQueue(c)}incrementRetryCount(t){const i=this.getQueue().map(o=>o.tempId===t?{...o,retryCount:(o.retryCount||0)+1}:o);this.saveQueue(i)}getPendingMessages(){return this.getQueue().filter(r=>r.status==="pending"||r.status==="failed")}clearQueue(){this.saveQueue([])}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notifyListeners(){this.listeners.forEach(t=>t(this.getQueue()))}}const fi=new yF;class SF{constructor(){this.storageKey="unifyChat_messages",this.metaKey="unifyChat_messageMeta"}getMessages(t){try{return this.getAllMessages()[t]||[]}catch(r){return console.error("Failed to read messages:",r),[]}}getAllMessages(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to read all messages:",t),{}}}saveMessages(t,r){try{const i=this.getAllMessages();return i[t]=r,localStorage.setItem(this.storageKey,JSON.stringify(i)),this.updateMeta(t,r),!0}catch(i){if(console.error("Failed to save messages:",i),i.name==="QuotaExceededError"){this.cleanup();try{const o=this.getAllMessages();return o[t]=r,localStorage.setItem(this.storageKey,JSON.stringify(o)),!0}catch(o){return console.error("Failed to save messages after cleanup:",o),!1}}return!1}}addMessage(t,r){const i=this.getMessages(t);return i.some(l=>l.id===r.id||l.tempId===r.tempId)?!0:(i.push(r),i.sort((l,c)=>new Date(l.created_at)-new Date(c.created_at)),this.saveMessages(t,i))}updateMessage(t,r,i){const o=this.getMessages(t),l=o.findIndex(c=>c.tempId===r);return l!==-1?(o[l]={...o[l],...i,tempId:r},this.saveMessages(t,o)):!1}deleteMessage(t,r){const o=this.getMessages(t).filter(l=>l.id!==r&&l.tempId!==r);return this.saveMessages(t,o)}clearChat(t){const r=this.getAllMessages();delete r[t];try{return localStorage.setItem(this.storageKey,JSON.stringify(r)),!0}catch(i){return console.error("Failed to clear chat:",i),!1}}updateMeta(t,r){try{const i=this.getMeta();i[t]={lastMessage:r.length>0?r[r.length-1]:null,messageCount:r.length,lastUpdated:Date.now()},localStorage.setItem(this.metaKey,JSON.stringify(i))}catch(i){console.error("Failed to update meta:",i)}}getMeta(){try{const t=localStorage.getItem(this.metaKey);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to read meta:",t),{}}}cleanup(){console.log("Running message store cleanup...");const t=this.getAllMessages(),r=this.getMeta(),i=Date.now(),o=30*24*60*60*1e3;Object.keys(t).forEach(l=>{const c=r[l];c&&i-c.lastUpdated>o?(delete t[l],delete r[l]):t[l].length>1e3&&(t[l]=t[l].slice(-1e3))});try{localStorage.setItem(this.storageKey,JSON.stringify(t)),localStorage.setItem(this.metaKey,JSON.stringify(r)),console.log("Cleanup completed successfully")}catch(l){console.error("Cleanup failed:",l)}}getStorageSize(){let t=0;for(let r in localStorage)localStorage.hasOwnProperty(r)&&(t+=localStorage[r].length+r.length);return t}}const Rp=new SF,bF=(e,t)=>{const[r,i]=A.useState(navigator.onLine),[o,l]=A.useState([]),c=A.useRef(!1);A.useEffect(()=>{const m=()=>{console.log("App is online"),i(!0)},S=()=>{console.log("App is offline"),i(!1)};return window.addEventListener("online",m),window.addEventListener("offline",S),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",S)}},[]),A.useEffect(()=>{const m=fi.subscribe(S=>{l(S)});return l(fi.getQueue()),m},[]);const a=A.useCallback(m=>Rp.getMessages(m),[]),d=A.useCallback((m,S)=>Rp.addMessage(m,S),[]),h=A.useCallback((m,S)=>Rp.saveMessages(m,S),[]),p=A.useCallback((m,S)=>{const C=fi.addMessage({chatId:m,...S});return d(m,{...S,tempId:C.tempId,status:"pending"}),C},[d]),v=A.useCallback(async()=>{if(c.current||!r)return;c.current=!0;const m=fi.getPendingMessages();for(const S of m){if(S.retryCount>=5){fi.updateMessageStatus(S.tempId,"failed",null,"Max retries exceeded");continue}try{const x=(await Be.post(`${ft}/chatroom/${S.chatId}/messages`,{content:S.content,tempId:S.tempId})).data.message;fi.updateMessageStatus(S.tempId,"sent",x.id),Rp.updateMessage(S.chatId,S.tempId,x),setTimeout(()=>{fi.removeMessage(S.tempId)},1e3),t&&t.connected&&t.emit("send-message",{chatId:S.chatId,message:x})}catch(C){console.error("Failed to send queued message:",C),fi.incrementRetryCount(S.tempId),fi.updateMessageStatus(S.tempId,"failed",null,C.message)}}c.current=!1},[r,t]);return A.useEffect(()=>{r&&v()},[r,v]),A.useEffect(()=>{const m=setInterval(()=>{r&&o.length>0&&v()},5e3);return()=>clearInterval(m)},[r,o,v]),{isOnline:r,queuedMessages:o,queueMessage:p,loadPersistedMessages:a,persistMessage:d,persistMessages:h,processQueue:v}};var uy,MA;function l3(){if(MA)return uy;MA=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return uy=e,uy}var dy,NA;function CF(){if(NA)return dy;NA=1;var e=typeof pp=="object"&&pp&&pp.Object===Object&&pp;return dy=e,dy}var hy,IA;function u3(){if(IA)return hy;IA=1;var e=CF(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return hy=r,hy}var py,jA;function xF(){if(jA)return py;jA=1;var e=u3(),t=function(){return e.Date.now()};return py=t,py}var fy,OA;function RF(){if(OA)return fy;OA=1;var e=/\s/;function t(r){for(var i=r.length;i--&&e.test(r.charAt(i)););return i}return fy=t,fy}var vy,DA;function wF(){if(DA)return vy;DA=1;var e=RF(),t=/^\s+/;function r(i){return i&&i.slice(0,e(i)+1).replace(t,"")}return vy=r,vy}var my,zA;function d3(){if(zA)return my;zA=1;var e=u3(),t=e.Symbol;return my=t,my}var gy,LA;function EF(){if(LA)return gy;LA=1;var e=d3(),t=Object.prototype,r=t.hasOwnProperty,i=t.toString,o=e?e.toStringTag:void 0;function l(c){var a=r.call(c,o),d=c[o];try{c[o]=void 0;var h=!0}catch{}var p=i.call(c);return h&&(a?c[o]=d:delete c[o]),p}return gy=l,gy}var yy,qA;function TF(){if(qA)return yy;qA=1;var e=Object.prototype,t=e.toString;function r(i){return t.call(i)}return yy=r,yy}var Sy,BA;function PF(){if(BA)return Sy;BA=1;var e=d3(),t=EF(),r=TF(),i="[object Null]",o="[object Undefined]",l=e?e.toStringTag:void 0;function c(a){return a==null?a===void 0?o:i:l&&l in Object(a)?t(a):r(a)}return Sy=c,Sy}var by,UA;function AF(){if(UA)return by;UA=1;function e(t){return t!=null&&typeof t=="object"}return by=e,by}var Cy,VA;function _F(){if(VA)return Cy;VA=1;var e=PF(),t=AF(),r="[object Symbol]";function i(o){return typeof o=="symbol"||t(o)&&e(o)==r}return Cy=i,Cy}var xy,FA;function kF(){if(FA)return xy;FA=1;var e=wF(),t=l3(),r=_F(),i=NaN,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,a=parseInt;function d(h){if(typeof h=="number")return h;if(r(h))return i;if(t(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=t(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=e(h);var v=l.test(h);return v||c.test(h)?a(h.slice(2),v?2:8):o.test(h)?i:+h}return xy=d,xy}var Ry,HA;function MF(){if(HA)return Ry;HA=1;var e=l3(),t=xF(),r=kF(),i="Expected a function",o=Math.max,l=Math.min;function c(a,d,h){var p,v,m,S,C,x,R=0,w=!1,T=!1,P=!0;if(typeof a!="function")throw new TypeError(i);d=r(d)||0,e(h)&&(w=!!h.leading,T="maxWait"in h,m=T?o(r(h.maxWait)||0,d):m,P="trailing"in h?!!h.trailing:P);function I(re){var xe=p,ke=v;return p=v=void 0,R=re,S=a.apply(ke,xe),S}function k(re){return R=re,C=setTimeout(q,d),w?I(re):S}function U(re){var xe=re-x,ke=re-R,ee=d-xe;return T?l(ee,m-ke):ee}function H(re){var xe=re-x,ke=re-R;return x===void 0||xe>=d||xe<0||T&&ke>=m}function q(){var re=t();if(H(re))return F(re);C=setTimeout(q,U(re))}function F(re){return C=void 0,P&&p?I(re):(p=v=void 0,S)}function $(){C!==void 0&&clearTimeout(C),R=0,p=x=v=C=void 0}function ue(){return C===void 0?S:F(t())}function oe(){var re=t(),xe=H(re);if(p=arguments,v=this,x=re,xe){if(C===void 0)return k(x);if(T)return clearTimeout(C),C=setTimeout(q,d),I(x)}return C===void 0&&(C=setTimeout(q,d)),S}return oe.cancel=$,oe.flush=ue,oe}return Ry=c,Ry}var NF=MF();const IF=KA(NF),$A=()=>{const e=()=>g.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-neutral-50 dark:bg-brand-grey-dark transition-colors",children:g.jsxs("div",{className:"text-center p-8 max-w-md",children:[g.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-brand-yellow/10 dark:bg-brand-yellow-light/10 flex items-center justify-center",children:g.jsx("span",{className:"text-5xl",children:""})}),g.jsx("h2",{className:"text-3xl font-bold text-brand-grey-dark dark:text-brand-white mb-3 font-['Montserrat']",children:"Welcome to Chat!"}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8 font-['Inter'] text-lg",children:"Select a conversation from the sidebar or start a new one to begin chatting"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[g.jsx("button",{className:"bg-brand-yellow dark:bg-brand-yellow-light hover:bg-brand-yellow-light dark:hover:bg-brand-yellow text-brand-grey-dark px-6 py-3 rounded-xl font-semibold font-['Montserrat'] transition-all shadow-md hover:shadow-lg hover:scale-105",onClick:()=>H(!0),children:"Start New Chat"}),g.jsx("button",{className:"bg-white dark:bg-brand-grey-medium border-2 border-brand-yellow dark:border-brand-yellow-light hover:bg-brand-yellow/10 dark:hover:bg-brand-yellow/10 text-brand-grey-dark dark:text-brand-white px-6 py-3 rounded-xl font-semibold font-['Montserrat'] transition-all shadow-md hover:shadow-lg hover:scale-105",onClick:()=>lt(!0),children:"Join via Link"})]})]})}),t=({isOpen:K,onClose:le,onCreateChat:De})=>{const[Oe,Te]=A.useState(""),[ge,Se]=A.useState("");if(!K)return null;const pe=Ge=>{Ge.preventDefault(),Oe.trim()&&(De({name:Oe,description:ge}),Te(""),Se(""),le())};return g.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white dark:bg-brand-grey-medium rounded-2xl w-full max-w-md mx-4 shadow-xl border border-neutral-200 dark:border-brand-grey-light",children:[g.jsxs("div",{className:"font-['Inter'] p-6 border-b border-neutral-200 dark:border-brand-grey-light flex justify-between items-center relative",children:[g.jsx("h2",{className:"text-xl font-bold text-brand-grey-dark dark:text-brand-white font-['Montserrat']",children:"New Chat"}),g.jsx("button",{onClick:le,className:"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 transition-colors",children:g.jsx(cn,{size:16})})]}),g.jsxs("form",{onSubmit:pe,className:"p-6",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"font-['Inter'] text-brand-grey-dark dark:text-brand-white block text-sm font-semibold mb-2",children:"Chat Name"}),g.jsx("input",{type:"text",value:Oe,onChange:Ge=>Te(Ge.target.value),className:"placeholder-neutral-400 dark:placeholder-neutral-500 border border-neutral-200 dark:border-brand-grey-light rounded-xl w-full py-3 px-4 bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white leading-tight focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors",placeholder:"Enter chat name",required:!0})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"font-['Inter'] text-brand-grey-dark dark:text-brand-white block text-sm font-semibold mb-2",children:"Description"}),g.jsx("textarea",{value:ge,onChange:Ge=>Se(Ge.target.value),rows:3,className:"placeholder-neutral-400 dark:placeholder-neutral-500 border border-neutral-200 dark:border-brand-grey-light rounded-xl w-full py-3 px-4 bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white leading-tight focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors resize-none",placeholder:"Enter a description (optional)"})]}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{type:"button",onClick:le,className:"font-['Inter'] font-semibold bg-neutral-100 dark:bg-brand-grey-light hover:bg-neutral-200 dark:hover:bg-brand-grey-medium text-neutral-700 dark:text-neutral-300 px-4 py-2 rounded-xl transition-colors border border-neutral-200 dark:border-brand-grey-light",children:"Cancel"}),g.jsx("button",{type:"submit",className:"font-['Inter'] font-semibold bg-brand-yellow dark:bg-brand-yellow-light hover:bg-brand-yellow-light dark:hover:bg-brand-yellow text-brand-grey-dark px-4 py-2 rounded-xl shadow-md transition-all",children:"Create Chat"})]})]})]})})},{chatId:r}=$I(),i=lo(),{user:o}=uo(),l=(o==null?void 0:o.id)||localStorage.getItem("user_id"),[c,a]=A.useState({}),[d,h]=A.useState([]),[p,v]=A.useState(r),[m,S]=A.useState(null),[C,x]=A.useState(""),[R,w]=A.useState(!1),[T,P]=A.useState("all"),[I,k]=A.useState(""),[U,H]=A.useState(!1),[q,F]=A.useState(!0),[$,ue]=A.useState(!1),[oe,re]=A.useState(window.innerWidth<768),[xe,ke]=A.useState(!1),[ee,ae]=A.useState({}),[de,Me]=A.useState(!1),[N,Q]=A.useState(!1),[me,X]=A.useState({}),[ne,fe]=A.useState(null),[be,ut]=A.useState(!1),[Ne,ct]=A.useState({}),[nt,lt]=A.useState(!1),[or,It]=A.useState(null),Gt=A.useRef(null),[Rr,wr]=A.useState(!1),ar=A.useRef(null),j=A.useCallback(async K=>{var De,Oe,Te,ge,Se;if(!K||!l){console.warn("checkMembership: Missing chatId or userId",{chatId:K,userId:l});return}ar.current&&ar.current.abort(),ar.current=new AbortController;const{signal:le}=ar.current;try{const pe=localStorage.getItem("authToken");if(!pe){console.error("No auth token found"),Ue("Please log in to access chats"),i("/Signin");return}const Ge=await fetch(`${ft}/chatroom/${K}/isMember/${l}`,{method:"GET",headers:{Authorization:`Bearer ${pe}`,"Content-Type":"application/json"},signal:le});let Ze;try{const $e=await Ge.text();if(!$e)throw new Error("Empty response from server");Ze=JSON.parse($e)}catch($e){console.error("Failed to parse response:",$e,"Response status:",Ge.status);const hr=new Error("Failed to parse response from server");throw hr.response={status:Ge.status,data:{message:"Invalid server response"}},hr}if(!Ge.ok){console.error("Membership check failed:",Ge.status,Ze);const $e=new Error(Ze.message||Ze.error||"Failed to fetch membership status");throw $e.response={status:Ge.status,data:Ze},$e}if(Ze.isMember)v(K);else if(Ze.status==="pending"){const $e=Ze.chatroom;if($e){const hr={id:K,name:$e.name||"Unknown Chat",avatarColor:$e.avatar_color,avatarText:$e.avatar_text,lastMessage:$e.last_message||"",time:new Date,unread:!0,messages:[],status:"pending"};X(hr),Q(!0)}else Ue("Chat room information not available"),i("/Chat")}else{const $e=Ze.chatroom;if($e){const hr={id:K,name:$e.name||"Unknown Chat",avatarColor:$e.avatar_color,avatarText:$e.avatar_text,lastMessage:$e.last_message||"",time:new Date,unread:!0,messages:[],status:"invited"};X(hr),Me(!0)}else Ue("Chat room information not available"),i("/Chat")}}catch(pe){if(pe.name==="CanceledError"||pe.code==="ERR_CANCELED"||pe.name==="AbortError")return;console.error("Membership check error:",pe),((De=pe.response)==null?void 0:De.status)===401?(Ue("Session expired. Please log in again"),i("/Signin")):((Oe=pe.response)==null?void 0:Oe.status)===404?(Ue("Chat room not found"),i("/Chat")):((Te=pe.response)==null?void 0:Te.status)===403?(Ue("You are not a member of this chat room"),i("/Chat")):(ge=pe.message)!=null&&ge.includes("Failed to fetch")||(Se=pe.message)!=null&&Se.includes("NetworkError")?Ue("Network error. Please check your connection"):Ue(pe.message||"Failed to check membership")}finally{ar.current=null}},[l,i]);A.useEffect(()=>{p&&l&&j(p)},[p,l,j]);const[z,G]=A.useState(null),{isOnline:he,persistMessages:ce,loadPersistedMessages:ie}=bF(p,z);A.useEffect(()=>{if(p){const K=ie(p);K&&K.length>0&&!c[p]&&a(le=>({...le,[p]:K}))}},[p,ie]),A.useEffect(()=>{p&&c[p]&&ce(p,c[p])},[c,p,ce]),A.useEffect(()=>{(async()=>{var De,Oe;if(p&&!c[p]&&Ae&&Ae.status!=="pending")try{const Te=await Be.get(`${ft}/chatroom/${p}/messages`,{params:{cursor:null}});a(ge=>({...ge,[p]:Te.data.messages.filter(Se=>Se.chat_id===p).sort((Se,pe)=>new Date(Se.created_at)-new Date(pe.created_at))})),ae(ge=>({...ge,[p]:{cursor:Te.data.cursor,hasMore:Te.data.hasMore}}))}catch(Te){((De=Te.response)==null?void 0:De.status)===404?Ue("Chat room not found"):((Oe=Te.response)==null?void 0:Oe.status)===403?Ue("You are not a member of this chat room"):Ue("Failed to load messages")}})();const le=Gt.current;le&&(le.scrollTop=le.scrollHeight-le.clientHeight)},[p]),A.useEffect(()=>{if(!l){console.warn("Socket.IO: userId not available, skipping connection");return}console.log("Attempting Socket.IO connection with userId:",l);const K=Up(`${ft}`,{transports:["websocket","polling"],auth:{userId:l},withCredentials:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3,timeout:2e4});return K.on("connect",()=>{console.log("Socket.IO connected successfully"),r&&K.emit("joinRoom",r)}),K.on("connect_error",le=>{console.error("Socket.IO connection error:",le)}),K.on("disconnect",le=>{console.log("Socket.IO disconnected:",le)}),K.on("join-request-handled",le=>{le.userId===l&&(le.action==="approved"?(yr("Your join request has been approved!"),ve(),i(`/Chat/${le.chatId}`)):Ue("Your join request has been rejected."))}),G(K),()=>{console.log("Cleaning up Socket.IO connection"),K.disconnect()}},[l,r,i]),A.useEffect(()=>{if(!z||!p)return;const K=le=>{(le.chat_id===p||le.chatId===p)&&a(De=>{const Oe=De[p]||[];return Oe.some(ge=>ge.id===le.id)?De:{...De,[p]:[...Oe,{...le,fromUser:!1}].sort((ge,Se)=>new Date(ge.created_at)-new Date(Se.created_at))}})};return z.on("receive-message",K),()=>{z.off("receive-message",K)}},[z,p]);const ye=c[p]||[],Ae=d.find(K=>K.id===p)||null,ve=async()=>{var K,le,De;try{const Te=((K=(await Be.get(`${ft}/chatroom/user/${l}`)).data)==null?void 0:K.chatRooms.map(pe=>pe.chatRoom))||[],ge={};Te.forEach(pe=>{ge[pe.id]=pe.admin_id}),ct(ge);const Se=await Promise.all(Te.map(pe=>Be.get(`${ft}/chatroom/${pe.id}/readStatus/${l}`)));Te.forEach((pe,Ge)=>{pe.unread=Se[Ge].data.unread}),h(Te),r&&Te.some(pe=>pe.id===r)||r?v(r):window.innerWidth>=768&&Te.length>0?v(Te[0].id):v(null)}catch(Oe){Ue(((De=(le=Oe.response)==null?void 0:le.data)==null?void 0:De.message)||"Failed to load chats"),v(null)}};A.useEffect(()=>{l?ve():(console.warn("No userId available, cannot fetch chats"),Ue("Please log in to view your chats"))},[l,r,i]);const[Ee,Le]=A.useState(d);A.useEffect(()=>{let K=[...d];I&&(K=K.filter(le=>le.name.toLowerCase().includes(I.toLowerCase())||le.lastMessage.toLowerCase().includes(I.toLowerCase()))),T==="unread"&&(K=K.filter(le=>le.unread)),Le(K)},[d,T,I]);const yt=async(K=null)=>{var De,Oe,Te,ge;if(!C.trim()||!p||R)return;const le=C.trim();x(""),K&&It(null),w(!0);try{const pe=(await Be.post(`${ft}/rooms/${p}/messages`,{text:le,userId:l,replyToId:K==null?void 0:K.id})).data;pe.fromUser=!0,pe.created_at||(pe.created_at=new Date),K&&(pe.replyTo=K),a($e=>{const hr=$e[p]||[];return hr.some(pr=>pr.id===pe.id)?$e:{...$e,[p]:[...hr,pe].sort((pr,hn)=>new Date(pr.created_at)-new Date(hn.created_at))}});const Ge={id:pe.id,content:pe.content,created_by:pe.created_by||l,chat_id:p,chatId:p,created_at:pe.created_at||new Date,sender:pe.sender||{id:l,given_name:"User",profile_picture:null},replyTo:K||null};z&&z.emit("send-message",Ge,p);const Ze=d.map($e=>$e.id===p?{...$e,lastMessage:`You: ${le}`,time:"now"}:$e);h(Ze)}catch(Se){x(le),K&&It(K),((De=Se.response)==null?void 0:De.status)===404?Ue("Chat room not found"):((Oe=Se.response)==null?void 0:Oe.status)===403?Ue("You are not a member of this chat room"):Ue(((ge=(Te=Se.response)==null?void 0:Te.data)==null?void 0:ge.error)||"Error sending message")}finally{w(!1)}},At=async K=>{var De,Oe;if(!p)return;const le=new FormData;le.append("file",K);try{const Te=await Be.post(`${ft}/chatroom/upload`,le,{headers:{"Content-Type":"multipart/form-data"}}),{fileUrl:ge,fileType:Se,originalName:pe}=Te.data,Ze=(await Be.post(`${ft}/rooms/${p}/messages`,{text:Se==="image"?`Image: ${pe}`:`File: ${pe}`,userId:l,file_url:ge,file_type:Se})).data;Ze.fromUser=!0,Ze.created_at=new Date,a(Vr=>{const pr=Vr[p]||[];return{...Vr,[p]:[...pr,Ze].sort((hn,pn)=>new Date(hn.created_at)-new Date(pn.created_at))}});const $e={content:Ze.content,sender:l||"Unknown",senderColor:Ze.senderColor||"#ccc",created_at:new Date,file_url:ge,file_type:Se};z&&z.emit("send-message",$e,p);const hr=d.map(Vr=>Vr.id===p?{...Vr,lastMessage:`You: ${Se==="image"?"Image":"File"}`,time:"now"}:Vr);h(hr)}catch(Te){Ue(((Oe=(De=Te.response)==null?void 0:De.data)==null?void 0:Oe.error)||"Error uploading file")}},vt=async K=>{await At(K)},Ct=async K=>{var De,Oe,Te;const le={name:K.name,description:K.description||"",adminId:l,avatarColor:`bg-${["green","purple","cyan","yellow","blue"][Math.floor(Math.random()*5)]}-400`,avatarText:K.name.charAt(0).toUpperCase(),lastMessage:"Start a conversation..."};try{const ge=await Be.post(`${ft}/chatroom`,le);if(ge.status===201){const Se=(De=ge.data)==null?void 0:De.chatroom;Se.unread=!0,h(pe=>[Se,...pe]),v(Se.id),i(`/Chat/${Se.id}`),z&&z.emit("joinRoom",Se.id),a(pe=>({...pe,[Se.id]:[]}))}}catch(ge){Ue((Te=(Oe=ge.response)==null?void 0:Oe.data)==null?void 0:Te.message)}window.innerWidth<768&&F(!1)};A.useEffect(()=>{const K=Gt.current;if(!K)return;const le=ye.length>0&&(!m||m!==p);(K.scrollHeight-K.scrollTop-K.clientHeight<100||le)&&!xe&&(K.scrollTop=K.scrollHeight)},[ye,xe,p,m]),A.useEffect(()=>{const K=Gt.current;K&&(K.scrollTop=K.scrollHeight)},[p]);const er=A.useCallback(IF(async K=>{var le,De;wr(!0);try{if(h(Te=>Te.map(ge=>ge.id===K&&ge.unread?{...ge,unread:!1}:ge)),await vi.put(`/chatroom/${K}/readStatus/${l}`),!c[K]){const Te=await vi.get(`/chatroom/${K}/messages`,{params:{cursor:null}});a(ge=>({...ge,[K]:Te.data.messages.filter(Se=>Se.chat_id===K).sort((Se,pe)=>new Date(Se.created_at)-new Date(pe.created_at))})),ae(ge=>({...ge,[K]:{cursor:Te.data.cursor,hasMore:Te.data.hasMore}}))}const Oe=Gt.current;Oe&&(Oe.scrollTop=Oe.scrollHeight-Oe.clientHeight)}catch(Oe){((le=Oe.response)==null?void 0:le.status)===404?Ue("Chat room not found"):((De=Oe.response)==null?void 0:De.status)===403?Ue("You are not a member of this chat room"):Ue("Failed to load messages")}finally{wr(!1)}},200),[l,c]),St=A.useCallback(async K=>{if(Rr)return;Me(!1),Q(!1);const le=d.find(De=>De.id===K);if(le&&le.status==="pending"){X({id:K,name:le.name||"Chat Room",avatarColor:le.avatar_color,avatarText:le.avatar_text,lastMessage:le.last_message||"",status:"pending"}),Q(!0),v(K),i(`/Chat/${K}`);return}S(p),v(K),i(`/Chat/${K}`),z&&z.emit("joinRoom",K),window.innerWidth<768&&F(!1),er(K)},[p,i,z,Rr,er,d]);A.useEffect(()=>{const K=()=>{const le=window.innerWidth<768;re(le),le?(ue(!1),F(!p)):window.innerWidth<1024?(ue(!1),F(!0)):(F(!0),ue(!0))};return K(),window.addEventListener("resize",K),()=>window.removeEventListener("resize",K)},[p]);const Vn=()=>{oe?q?p&&F(!1):(F(!0),p&&(i("/Chat"),v(null))):F(!q)},Er=()=>ue(!$),Lt=()=>{var K;oe?(F(!0),v(null),i("/Chat")):(v(((K=d[0])==null?void 0:K.id)||null),i("/Chat"))},ma=async K=>{var Se,pe;const le=Gt.current,De=le.scrollHeight,Oe=le.scrollTop;if(K!==m){S(p);return}const{cursor:Te,hasMore:ge}=ee[K]||{};if(ge!==!1){ke(!0);try{const Ge=await Be.get(`${ft}/chatroom/${K}/messages`,{params:{cursor:Te}}),Ze=Ge.data.messages.filter($e=>$e.chat_id===K);a($e=>{const hr=$e[K]||[],Vr=[...Ze,...hr].filter((pr,hn,pn)=>hn===pn.findIndex(wi=>wi.id===pr.id)).sort((pr,hn)=>new Date(pr.created_at)-new Date(hn.created_at));return{...$e,[K]:Vr}}),ae($e=>({...$e,[K]:{cursor:Ge.data.cursor,hasMore:Ge.data.hasMore}})),requestAnimationFrame(()=>{if(le){const $e=le.scrollHeight;le.scrollTop=$e-De+Oe}})}catch(Ge){((Se=Ge.response)==null?void 0:Se.status)===404?Ue("Chat room not found"):((pe=Ge.response)==null?void 0:pe.status)===403?Ue("You are not a member of this chat room"):Ue("Failed to load older messages")}finally{ke(!1)}}},ga=async()=>{var le,De,Oe,Te;if(!me||!me.id){Ue("Invalid chat room information");return}const K=me.id;try{const ge=await vi.post(`/chatroom/${K}/request`,{userId:l});ge.data&&ge.data.message?yr(ge.data.message.includes("already")?"You already have a pending request":"Join request sent successfully"):yr("Join request sent successfully"),Me(!1),Q(!0)}catch(ge){console.error("Error sending join request:",ge),((le=ge.response)==null?void 0:le.status)===404?Ue("Chat room not found"):((De=ge.response)==null?void 0:De.status)===403?Ue("Access denied to this chat room"):Ue(((Te=(Oe=ge.response)==null?void 0:Oe.data)==null?void 0:Te.error)||"Failed to send join request")}},ya=()=>{if(Me(!1),Q(!1),X({}),d.length>0){const K=d[0];v(K.id),i(`/Chat/${K.id}`)}else v(null),i("/Chat")},Ci=async K=>{var le,De,Oe,Te;try{const Se=(await vi.get(`/chatroom/${K}/isMember/${l}`)).data;if(Se.isMember){yr("You're already a member of this chat"),v(K),i(`/Chat/${K}`),lt(!1);return}if(Se.status==="pending"){Ue("You already have a pending request for this chat");const Ze=Se.chatroom;if(Ze){const $e={id:K,name:Ze.name||"Unknown Chat",avatarColor:Ze.avatar_color,avatarText:Ze.avatar_text,lastMessage:Ze.last_message||"",time:new Date,unread:!0,messages:[],status:"pending"};X($e),Q(!0),lt(!1),i("/Chat")}return}const pe=await vi.post(`/chatroom/${K}/request`,{userId:l}),Ge=Se.chatroom;if(Ge){const Ze={id:K,name:Ge.name||"Unknown Chat",avatarColor:Ge.avatar_color,avatarText:Ge.avatar_text,lastMessage:Ge.last_message||"",time:new Date,unread:!0,messages:[],status:"pending"};X(Ze),pe.data&&pe.data.message&&pe.data.message.includes("already")?(yr("You already have a pending request"),Q(!0)):(yr("Join request sent successfully"),Me(!0)),lt(!1),i("/Chat")}else Ue("Chat room not found"),lt(!1)}catch(ge){throw((le=ge.response)==null?void 0:le.status)===404?Ue("Chat room not found. Please check the invite link."):((De=ge.response)==null?void 0:De.status)===403?Ue("Access denied to this chat room"):Ue(((Te=(Oe=ge.response)==null?void 0:Oe.data)==null?void 0:Te.error)||"Failed to join chatroom"),ge}},xi=async(K,le)=>{var De,Oe,Te;if(!K||!K.id){Ue("Invalid message");return}try{const Se=(await vi.put(`/messages/${K.id}`,{content:le,userId:l})).data;Se.fromUser=K.created_by===l,a(pe=>{const Ge=pe[p]||[];return{...pe,[p]:Ge.map(Ze=>Ze.id===K.id?{...Ze,...Se}:Ze)}}),z&&z.emit("send-message",{...Se,chat_id:p,chatId:p,isEdit:!0},p),yr("Message edited successfully")}catch(ge){((De=ge.response)==null?void 0:De.status)===403?Ue("You can only edit your own messages"):Ue(((Te=(Oe=ge.response)==null?void 0:Oe.data)==null?void 0:Te.error)||"Failed to edit message")}},un=async K=>{var le,De,Oe;if(!K){Ue("Invalid message");return}try{await vi.delete(`/messages/${K}`,{data:{userId:l}}),a(Te=>{const ge=Te[p]||[];return{...Te,[p]:ge.filter(Se=>Se.id!==K)}}),z&&z.emit("delete-message",{messageId:K,chatId:p}),yr("Message deleted successfully")}catch(Te){((le=Te.response)==null?void 0:le.status)===403?Ue("You can only delete your own messages"):Ue(((Oe=(De=Te.response)==null?void 0:De.data)==null?void 0:Oe.error)||"Failed to delete message")}},[Ri,Ur]=A.useState(!1),[dn,Fn]=A.useState(null),ns=()=>i("/"),Hn=K=>{const le=d.find(De=>De.id===K);Fn(le),Ur(!0)},$n=async()=>{if(dn)try{if(await Be.delete(`${ft}/chatroom/${dn.id}`,{data:{userId:l}}),h(K=>K.filter(le=>le.id!==dn.id)),p===dn.id){const K=d.filter(le=>le.id!==dn.id);K.length>0?(v(K[0].id),i(`/Chat/${K[0].id}`)):(v(null),i("/Chat"))}Ur(!1),Fn(null),yr("Chat deleted successfully")}catch{Ue("Failed to delete chat"),Ur(!1),Fn(null)}},Sa=()=>(!p||!r)&&!oe?g.jsx(e,{}):(!p||!r)&&oe?null:(Ae==null?void 0:Ae.status)==="pending"?g.jsx(kA,{chatName:Ae.name}):Rr?g.jsx("div",{className:"flex-1 flex items-center justify-center bg-neutral-50 dark:bg-brand-grey-dark",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-yellow mx-auto mb-4"}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading room..."})]})}):g.jsx(yV,{messages:c[p]||[],currentChat:Ae,newMessage:C,setNewMessage:x,onSendMessage:yt,isSending:R,messageContainerRef:Gt,toggleSidebar:Vn,toggleChatInfo:Er,showSidebar:q,showChatInfo:$,onLoadMoreMessages:ma,currentUserId:l,onFileUpload:At,onImageUpload:vt,isOnline:he,onBack:Lt,onUserClick:K=>{fe(K),ut(!0)},socket:z,replyingTo:or,setReplyingTo:It,onEditMessage:xi,onDeleteMessage:un});return N&&me&&me.name?g.jsx("div",{className:"flex flex-col h-screen bg-neutral-50 dark:bg-brand-grey-dark transition-colors overflow-hidden",children:g.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[q&&g.jsx("div",{className:"absolute md:relative inset-0 md:inset-auto z-50 md:z-auto",children:g.jsx(rg,{chats:Ee,originalChats:d,setOriginalChats:h,currentChatId:p,onChatClick:St,searchTerm:I,setSearchTerm:k,activeFilter:T,setActiveFilter:P,onNewChat:()=>H(!0),onBackToChats:Lt,onBackToHome:ns,onJoinViaLink:()=>lt(!0),onDeleteChat:Hn,isAdmin:Ne[p]===l,currentUserId:l,chatAdmins:Ne})}),g.jsx(kA,{chatName:me.name||"Chat Room"})]})}):de&&me&&me.id?g.jsx("div",{className:"flex flex-col h-screen bg-neutral-50 dark:bg-brand-grey-dark transition-colors overflow-hidden",children:g.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[q&&g.jsx("div",{className:"absolute md:relative inset-0 md:inset-auto z-50 md:z-auto",children:g.jsx(rg,{chats:Ee,originalChats:d,setOriginalChats:h,currentChatId:p,onChatClick:St,searchTerm:I,setSearchTerm:k,activeFilter:T,setActiveFilter:P,onNewChat:()=>H(!0),onBackToChats:Lt,onBackToHome:()=>i("/"),onJoinViaLink:()=>lt(!0),onDeleteChat:Hn,isAdmin:Ne[p]===l,currentUserId:l,chatAdmins:Ne})}),g.jsx(vF,{chatName:me.name||"Chat Room",onJoinRequest:ga,onCancel:ya})]})}):g.jsxs("div",{className:"flex flex-col h-screen bg-neutral-50 dark:bg-brand-grey-dark transition-colors overflow-hidden",children:[g.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[g.jsx(na,{children:q&&oe&&g.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>{p&&F(!1)}})}),g.jsx(na,{children:q&&g.jsx(rt.div,{initial:oe?{x:"-100%"}:!1,animate:oe?{x:0}:!1,exit:oe?{x:"-100%"}:!1,transition:{duration:.3,ease:"easeInOut"},className:"absolute md:relative inset-0 md:inset-auto z-50 md:z-auto",children:g.jsx(rg,{chats:Ee,originalChats:d,setOriginalChats:h,currentChatId:p,onChatClick:St,searchTerm:I,setSearchTerm:k,activeFilter:T,setActiveFilter:P,onNewChat:()=>H(!0),onBackToChats:Lt,onBackToHome:ns,onJoinViaLink:()=>lt(!0),onDeleteChat:Hn,isAdmin:Ne[p]===l,currentUserId:l,chatAdmins:Ne})})}),(!q||!oe)&&Sa(),r&&$&&p&&(Ae==null?void 0:Ae.status)!=="pending"&&g.jsx(CV,{chatId:p,setCurrentChatId:v,onBackToChat:()=>ue(!1)})]}),g.jsx(t,{isOpen:U,onClose:()=>H(!1),onCreateChat:Ct}),Ri&&dn&&g.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:g.jsx("div",{className:"bg-white dark:bg-brand-grey-medium rounded-2xl w-full max-w-md mx-4 shadow-xl border border-neutral-200 dark:border-brand-grey-light",children:g.jsxs("div",{className:"font-['Inter'] p-6",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mr-4",children:g.jsx(cn,{className:"text-red-600 dark:text-red-400 text-xl"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-brand-grey-dark dark:text-brand-white font-['Montserrat']",children:"Delete Chat"}),g.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"This action cannot be undone"})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("p",{className:"text-neutral-700 dark:text-neutral-300 mb-2",children:["Are you sure you want to delete ",g.jsxs("span",{className:"font-semibold text-brand-grey-dark dark:text-brand-white",children:['"',dn.name,'"']}),"?"]}),g.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"All messages and data will be permanently removed."})]}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{onClick:()=>{Ur(!1),Fn(null)},className:"px-4 py-2 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-brand-grey-light rounded-xl transition-colors border border-neutral-200 dark:border-brand-grey-light",children:"Cancel"}),g.jsx("button",{onClick:$n,className:"px-4 py-2 bg-red-600 dark:bg-red-500 hover:bg-red-700 dark:hover:bg-red-600 text-white rounded-xl transition-colors font-medium shadow-sm",children:"Delete Chat"})]})]})})}),g.jsx(mF,{isOpen:be,onClose:()=>{ut(!1),fe(null)},userId:ne,currentUserId:l}),g.jsx(gF,{isOpen:nt,onClose:()=>lt(!1),onJoin:Ci})]})},jF=()=>{var F;const{user:e,updateUser:t}=uo(),r=lo(),i=A.useRef(null),[o,l]=A.useState(!1),[c,a]=A.useState({displayName:(e==null?void 0:e.given_name)||"",username:((F=e==null?void 0:e.email)==null?void 0:F.split("@")[0])||"",bio:(e==null?void 0:e.bio)||"",status:(e==null?void 0:e.status)||"Available",linkedin:(e==null?void 0:e.linkedin)||"",github:(e==null?void 0:e.github)||"",twitter:(e==null?void 0:e.twitter)||"",website:(e==null?void 0:e.website)||""}),[d,h]=A.useState((e==null?void 0:e.profile_picture)||null),[p,v]=A.useState(null),[m,S]=A.useState(!1),[C,x]=A.useState(c.bio.length),R=200;A.useEffect(()=>{var $;e&&(a({displayName:e.given_name||"",username:(($=e.email)==null?void 0:$.split("@")[0])||"",bio:e.bio||"",status:e.status||"Available",linkedin:e.linkedin||"",github:e.github||"",twitter:e.twitter||"",website:e.website||""}),h(e.profile_picture))},[e]);const w=$=>{if($&&$.type.startsWith("image/")){const ue=new FileReader;ue.onloadend=()=>{v(ue.result),h(ue.result)},ue.readAsDataURL($)}},T=$=>{const ue=$.target.files[0];w(ue)},P=$=>{$.preventDefault(),S(!0)},I=()=>{S(!1)},k=$=>{$.preventDefault(),S(!1);const ue=$.dataTransfer.files[0];w(ue)},U=($,ue)=>{$==="bio"?ue.length<=R&&(a({...c,[$]:ue}),x(ue.length)):a({...c,[$]:ue})},H=async()=>{const $={given_name:c.displayName,bio:c.bio,status:c.status,linkedin:c.linkedin,github:c.github,twitter:c.twitter,website:c.website,profile_picture:d};t?(await t($)).success?(l(!1),v(null),at.success("Profile updated successfully!")):at.error("Failed to save profile changes. Please try again."):l(!1)},q=()=>{var $;l(!1),a({displayName:(e==null?void 0:e.given_name)||"",username:(($=e==null?void 0:e.email)==null?void 0:$.split("@")[0])||"",bio:(e==null?void 0:e.bio)||"",status:(e==null?void 0:e.status)||"Available",linkedin:(e==null?void 0:e.linkedin)||"",github:(e==null?void 0:e.github)||"",twitter:(e==null?void 0:e.twitter)||"",website:(e==null?void 0:e.website)||""}),h(e==null?void 0:e.profile_picture),v(null)};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-primary-50/30 to-neutral-100 dark:from-neutral-950 dark:via-primary-950/20 dark:to-neutral-900 transition-all duration-500",children:g.jsxs("div",{className:"section-container py-8",children:[g.jsxs(rt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>r(-1),className:"flex items-center gap-2 mb-6 px-4 py-2 bg-white/80 dark:bg-neutral-800/80 backdrop-blur-md text-primary-600 dark:text-primary-400 rounded-xl hover:bg-primary-50 dark:hover:bg-primary-900/30 transition-all duration-300 shadow-sm hover:shadow-md group",children:[g.jsx(j0,{className:"group-hover:-translate-x-1 transition-transform duration-300"}),g.jsx("span",{className:"font-semibold",children:"Back"})]}),g.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-4xl mx-auto",children:g.jsxs(rt.div,{whileHover:{scale:1.01,y:-5},transition:{type:"spring",stiffness:300},className:"bg-white/80 dark:bg-neutral-800/80 backdrop-blur-xl rounded-3xl shadow-large p-8 border border-neutral-200/50 dark:border-neutral-700/50 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-primary-500/10 to-secondary-500/10 rounded-full blur-3xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-accent-500/10 to-primary-500/10 rounded-full blur-3xl -z-10"}),g.jsxs("div",{className:"flex justify-between items-start mb-8",children:[g.jsx("h1",{className:"text-4xl font-bold text-neutral-900 dark:text-neutral-50",children:"My Profile"}),g.jsx(rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!o),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-sm hover:shadow-md flex items-center gap-2 ${o?"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300":"bg-primary-600 text-white hover:bg-primary-700"}`,children:o?g.jsxs(g.Fragment,{children:[g.jsx(cn,{})," Cancel"]}):g.jsxs(g.Fragment,{children:[g.jsx(D0,{})," Edit Profile"]})})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsx("div",{className:"md:col-span-1",children:g.jsxs("div",{className:"sticky top-8",children:[g.jsxs("div",{onDragOver:P,onDragLeave:I,onDrop:k,className:`relative group ${o?"cursor-pointer":""}`,children:[g.jsxs(rt.div,{whileHover:o?{scale:1.05}:{},className:"relative w-48 h-48 mx-auto",children:[g.jsx("img",{src:p||d||"https://via.placeholder.com/200x200.png",alt:"Profile",className:"w-full h-full rounded-full object-cover border-4 border-primary-500/50 shadow-large"}),o&&g.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},className:`absolute inset-0 rounded-full flex items-center justify-center bg-black/50 transition-all duration-300 ${m?"bg-primary-600/70":"group-hover:bg-black/60"}`,onClick:()=>{var $;return($=i.current)==null?void 0:$.click()},children:g.jsx(Qj,{className:"text-white text-3xl"})})]}),g.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:T,className:"hidden"})]}),o&&g.jsx(rt.p,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-sm text-neutral-500 dark:text-neutral-400 mt-4",children:"Click or drag & drop to upload"}),g.jsx("div",{className:"mt-6 space-y-3",children:g.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 bg-primary-50 dark:bg-primary-900/30 rounded-xl",children:[g.jsx("div",{className:"w-2 h-2 bg-success-500 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-semibold text-primary-700 dark:text-primary-300",children:o?g.jsx("input",{type:"text",value:c.status,onChange:$=>U("status",$.target.value),className:"bg-transparent border-b border-primary-400 outline-none w-full text-center"}):c.status})]})})]})}),g.jsxs("div",{className:"md:col-span-2 space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Display Name"}),o?g.jsx("input",{type:"text",value:c.displayName,onChange:$=>U("displayName",$.target.value),className:"w-full px-4 py-3 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-xl focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 text-neutral-900 dark:text-neutral-100"}):g.jsx("p",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:c.displayName})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Username"}),o?g.jsx("input",{type:"text",value:c.username,onChange:$=>U("username",$.target.value),className:"w-full px-4 py-3 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-xl focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 text-neutral-900 dark:text-neutral-100"}):g.jsxs("p",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:["@",c.username]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300",children:"Bio"}),o&&g.jsxs("span",{className:`text-sm ${C>R*.9?"text-error-500":"text-neutral-500 dark:text-neutral-400"}`,children:[C,"/",R]})]}),o?g.jsx("textarea",{value:c.bio,onChange:$=>U("bio",$.target.value),rows:"4",className:"w-full px-4 py-3 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-xl focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 resize-none text-neutral-900 dark:text-neutral-100",placeholder:"Tell us about yourself..."}):g.jsx("p",{className:"text-neutral-700 dark:text-neutral-300 leading-relaxed",children:c.bio||"No bio added yet."})]}),g.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 pt-6",children:[g.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100 mb-4",children:"Social Links"}),g.jsx("div",{className:"space-y-4",children:[{icon:I0,field:"linkedin",label:"LinkedIn",color:"text-blue-600"},{icon:N0,field:"github",label:"GitHub",color:"text-neutral-800 dark:text-neutral-200"},{icon:v_,field:"twitter",label:"Twitter",color:"text-sky-500"},{icon:Gd,field:"website",label:"Website",color:"text-primary-600"}].map(({icon:$,field:ue,label:oe,color:re})=>g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx($,{className:`text-xl ${re}`}),o?g.jsx("input",{type:"text",value:c[ue],onChange:xe=>U(ue,xe.target.value),placeholder:`Your ${oe} URL`,className:"flex-1 px-4 py-2 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 text-neutral-900 dark:text-neutral-100"}):g.jsx("span",{className:"text-neutral-700 dark:text-neutral-300",children:c[ue]||`No ${oe} added`})]},ue))})]}),o&&g.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-4 pt-4",children:[g.jsxs(rt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:H,className:"flex-1 px-6 py-3 bg-primary-600 text-white rounded-xl font-semibold hover:bg-primary-700 transition-all duration-300 shadow-sm hover:shadow-md flex items-center justify-center gap-2",children:[g.jsx(uO,{})," Save Changes"]}),g.jsx(rt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:q,className:"px-6 py-3 bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 rounded-xl font-semibold hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-all duration-300 shadow-sm",children:"Cancel"})]})]})]})]})})]})})},OF=()=>g.jsxs("div",{className:"flex flex-col h-[100vh] justify-center",children:[g.jsx(F0,{}),g.jsx("div",{className:"w-full flex justify-center items-center",children:g.jsx("div",{className:"flex items-center w-[200px]",children:g.jsx("img",{src:ao,alt:"Logo",className:"cursor-pointer",onClick:()=>navigate("/")})})}),g.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[g.jsxs("p",{className:" lg:text-[4rem] text-[3rem] font-['Montserrat'] font-bold text-[#A30609]",children:["404"," ",g.jsx("span",{className:"md:hidden",children:g.jsx("br",{})})," ","NOT FOUND"]}),g.jsxs("p",{className:"lg:text-[1.5rem] text-[1rem] text-[#A30609]",children:["The page you requested does not exist"," ",g.jsx("span",{className:"md:hidden",children:g.jsx("br",{})})," ","or has been removed! ",g.jsx("br",{}),g.jsx("div",{className:"md:hidden mt-3"}),"Please try another link."]})]})]}),DF=()=>g.jsxs("div",{children:[g.jsx(F0,{}),g.jsx("div",{className:`${SV.paddingY}`,children:g.jsx(i4,{})}),g.jsx(x_,{})]}),zF=()=>{const e=localStorage.getItem("authToken"),t=bi();return e?g.jsx(oj,{}):g.jsx(sj,{to:`/Signin?redirect=${encodeURIComponent(t.pathname)}`,replace:!0})},LF=()=>g.jsx(Nj,{children:g.jsxs(cj,{children:[g.jsx(Cn,{path:"/",element:g.jsx(nR,{})}),g.jsx(Cn,{path:"/Home",element:g.jsx(nR,{})}),g.jsx(Cn,{path:"/Signin",element:g.jsx(z5,{})}),g.jsx(Cn,{path:"/Signup",element:g.jsx(L5,{})}),g.jsxs(Cn,{element:g.jsx(zF,{}),children:[g.jsx(Cn,{path:"/Chat",element:g.jsx($A,{})}),g.jsx(Cn,{path:"/Chat/:chatId",element:g.jsx($A,{})}),g.jsx(Cn,{path:"/Profile",element:g.jsx(jF,{})})]}),g.jsx(Cn,{path:"/Help",element:g.jsx(DF,{})}),g.jsx(Cn,{path:"*",element:g.jsx(OF,{})})]})}),qF=()=>{const[e,t]=A.useState({x:0,y:0}),[r,i]=A.useState(!1);return A.useEffect(()=>{const o=c=>{t({x:c.clientX,y:c.clientY})},l=c=>{c.target.tagName==="BUTTON"||c.target.tagName==="A"||c.target.closest("button")||c.target.closest("a")||c.target.classList.contains("cursor-pointer")?i(!0):i(!1)};return window.addEventListener("mousemove",o),window.addEventListener("mouseover",l),()=>{window.removeEventListener("mousemove",o),window.removeEventListener("mouseover",l)}},[]),g.jsxs(g.Fragment,{children:[g.jsx(rt.div,{className:"fixed top-0 left-0 w-8 h-8 pointer-events-none z-[9999] mix-blend-difference hidden md:block",animate:{x:e.x-16,y:e.y-16,scale:r?1.5:1},transition:{type:"spring",stiffness:500,damping:28,mass:.5},children:g.jsx("div",{className:"w-full h-full rounded-full border-2 border-white bg-primary-500/30 backdrop-blur-sm"})}),g.jsx(rt.div,{className:"fixed top-0 left-0 w-2 h-2 pointer-events-none z-[9999] mix-blend-difference hidden md:block",animate:{x:e.x-4,y:e.y-4,scale:r?.5:1},transition:{type:"spring",stiffness:800,damping:35},children:g.jsx("div",{className:"w-full h-full rounded-full bg-white"})})]})},BF="339367030371-gk3isctlpt7cb810qf51e1siugd3g7le.apps.googleusercontent.com",UF=()=>{const{login:e}=uo();return A.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("token");r&&(console.log("Token found in URL, logging in:",r),e(r),window.history.replaceState({},document.title,window.location.pathname))},[e]),g.jsxs(g.Fragment,{children:[g.jsx(qF,{}),g.jsx(LF,{}),g.jsx(pI,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,drggable:!0,pauseOnHover:!0,theme:"colored"})]})},VF=()=>g.jsx(NN,{clientId:BF,children:g.jsx(r5,{children:g.jsx(UF,{})})});_N.createRoot(document.getElementById("root")).render(g.jsx(A.StrictMode,{children:g.jsx(gO,{children:g.jsx(VF,{})})}));
