(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function OM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}),r}var Cm={exports:{}},ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function zM(){if(GC)return ic;GC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var a in o)a!=="key"&&(l[a]=o[a])}else l=o;return o=l.ref,{$$typeof:e,type:i,key:c,ref:o!==void 0?o:null,props:l}}return ic.Fragment=t,ic.jsx=r,ic.jsxs=r,ic}var JC;function LM(){return JC||(JC=1,Cm.exports=zM()),Cm.exports}var g=LM(),xm={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function BM(){if(YC)return $e;YC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),v=Symbol.iterator;function m(N){return N===null||typeof N!="object"?null:(N=v&&N[v]||N["@@iterator"],typeof N=="function"?N:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function R(N,X,ee){this.props=N,this.context=X,this.refs=x,this.updater=ee||S}R.prototype.isReactComponent={},R.prototype.setState=function(N,X){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,X,"setState")},R.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function w(){}w.prototype=R.prototype;function T(N,X,ee){this.props=N,this.context=X,this.refs=x,this.updater=ee||S}var P=T.prototype=new w;P.constructor=T,C(P,R.prototype),P.isPureReactComponent=!0;var j=Array.isArray,k={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function F(N,X,ee,le,Z,xe){return ee=xe.ref,{$$typeof:e,type:N,key:X,ref:ee!==void 0?ee:null,props:xe}}function q(N,X){return F(N.type,X,void 0,void 0,void 0,N.props)}function H(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function $(N){var X={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ee){return X[ee]})}var pe=/\/+/g;function de(N,X){return typeof N=="object"&&N!==null&&N.key!=null?$(""+N.key):X.toString(36)}function fe(){}function Ee(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(fe,fe):(N.status="pending",N.then(function(X){N.status==="pending"&&(N.status="fulfilled",N.value=X)},function(X){N.status==="pending"&&(N.status="rejected",N.reason=X)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Oe(N,X,ee,le,Z){var xe=typeof N;(xe==="undefined"||xe==="boolean")&&(N=null);var Ce=!1;if(N===null)Ce=!0;else switch(xe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(N.$$typeof){case e:case t:Ce=!0;break;case f:return Ce=N._init,Oe(Ce(N._payload),X,ee,le,Z)}}if(Ce)return Z=Z(N),Ce=le===""?"."+de(N,0):le,j(Z)?(ee="",Ce!=null&&(ee=Ce.replace(pe,"$&/")+"/"),Oe(Z,X,ee,"",function(Qe){return Qe})):Z!=null&&(H(Z)&&(Z=q(Z,ee+(Z.key==null||N&&N.key===Z.key?"":(""+Z.key).replace(pe,"$&/")+"/")+Ce)),X.push(Z)),1;Ce=0;var rt=le===""?".":le+":";if(j(N))for(var Fe=0;Fe<N.length;Fe++)le=N[Fe],xe=rt+de(le,Fe),Ce+=Oe(le,X,ee,xe,Z);else if(Fe=m(N),typeof Fe=="function")for(N=Fe.call(N),Fe=0;!(le=N.next()).done;)le=le.value,xe=rt+de(le,Fe++),Ce+=Oe(le,X,ee,xe,Z);else if(xe==="object"){if(typeof N.then=="function")return Oe(Ee(N),X,ee,le,Z);throw X=String(N),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function te(N,X,ee){if(N==null)return N;var le=[],Z=0;return Oe(N,le,"","",function(xe){return X.call(ee,xe,Z++)}),le}function se(N){if(N._status===-1){var X=N._result;X=X(),X.then(function(ee){(N._status===0||N._status===-1)&&(N._status=1,N._result=ee)},function(ee){(N._status===0||N._status===-1)&&(N._status=2,N._result=ee)}),N._status===-1&&(N._status=0,N._result=X)}if(N._status===1)return N._result.default;throw N._result}var ce=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ke(){}return $e.Children={map:te,forEach:function(N,X,ee){te(N,function(){X.apply(this,arguments)},ee)},count:function(N){var X=0;return te(N,function(){X++}),X},toArray:function(N){return te(N,function(X){return X})||[]},only:function(N){if(!H(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},$e.Component=R,$e.Fragment=r,$e.Profiler=o,$e.PureComponent=T,$e.StrictMode=i,$e.Suspense=d,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,$e.act=function(){throw Error("act(...) is not supported in production builds of React.")},$e.cache=function(N){return function(){return N.apply(null,arguments)}},$e.cloneElement=function(N,X,ee){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var le=C({},N.props),Z=N.key,xe=void 0;if(X!=null)for(Ce in X.ref!==void 0&&(xe=void 0),X.key!==void 0&&(Z=""+X.key),X)!B.call(X,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&X.ref===void 0||(le[Ce]=X[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=ee;else if(1<Ce){for(var rt=Array(Ce),Fe=0;Fe<Ce;Fe++)rt[Fe]=arguments[Fe+2];le.children=rt}return F(N.type,Z,void 0,void 0,xe,le)},$e.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},$e.createElement=function(N,X,ee){var le,Z={},xe=null;if(X!=null)for(le in X.key!==void 0&&(xe=""+X.key),X)B.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Z[le]=X[le]);var Ce=arguments.length-2;if(Ce===1)Z.children=ee;else if(1<Ce){for(var rt=Array(Ce),Fe=0;Fe<Ce;Fe++)rt[Fe]=arguments[Fe+2];Z.children=rt}if(N&&N.defaultProps)for(le in Ce=N.defaultProps,Ce)Z[le]===void 0&&(Z[le]=Ce[le]);return F(N,xe,void 0,void 0,null,Z)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(N){return{$$typeof:a,render:N}},$e.isValidElement=H,$e.lazy=function(N){return{$$typeof:f,_payload:{_status:-1,_result:N},_init:se}},$e.memo=function(N,X){return{$$typeof:h,type:N,compare:X===void 0?null:X}},$e.startTransition=function(N){var X=k.T,ee={};k.T=ee;try{var le=N(),Z=k.S;Z!==null&&Z(ee,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ke,ce)}catch(xe){ce(xe)}finally{k.T=X}},$e.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},$e.use=function(N){return k.H.use(N)},$e.useActionState=function(N,X,ee){return k.H.useActionState(N,X,ee)},$e.useCallback=function(N,X){return k.H.useCallback(N,X)},$e.useContext=function(N){return k.H.useContext(N)},$e.useDebugValue=function(){},$e.useDeferredValue=function(N,X){return k.H.useDeferredValue(N,X)},$e.useEffect=function(N,X){return k.H.useEffect(N,X)},$e.useId=function(){return k.H.useId()},$e.useImperativeHandle=function(N,X,ee){return k.H.useImperativeHandle(N,X,ee)},$e.useInsertionEffect=function(N,X){return k.H.useInsertionEffect(N,X)},$e.useLayoutEffect=function(N,X){return k.H.useLayoutEffect(N,X)},$e.useMemo=function(N,X){return k.H.useMemo(N,X)},$e.useOptimistic=function(N,X){return k.H.useOptimistic(N,X)},$e.useReducer=function(N,X,ee){return k.H.useReducer(N,X,ee)},$e.useRef=function(N){return k.H.useRef(N)},$e.useState=function(N){return k.H.useState(N)},$e.useSyncExternalStore=function(N,X,ee){return k.H.useSyncExternalStore(N,X,ee)},$e.useTransition=function(){return k.H.useTransition()},$e.version="19.0.0",$e}var QC;function s0(){return QC||(QC=1,xm.exports=BM()),xm.exports}var A=s0();const qe=OM(A);var Rm={exports:{}},sc={},wm={exports:{}},Em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC;function qM(){return XC||(XC=1,function(e){function t(te,se){var ce=te.length;te.push(se);e:for(;0<ce;){var ke=ce-1>>>1,N=te[ke];if(0<o(N,se))te[ke]=se,te[ce]=N,ce=ke;else break e}}function r(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var se=te[0],ce=te.pop();if(ce!==se){te[0]=ce;e:for(var ke=0,N=te.length,X=N>>>1;ke<X;){var ee=2*(ke+1)-1,le=te[ee],Z=ee+1,xe=te[Z];if(0>o(le,ce))Z<N&&0>o(xe,le)?(te[ke]=xe,te[Z]=ce,ke=Z):(te[ke]=le,te[ee]=ce,ke=ee);else if(Z<N&&0>o(xe,ce))te[ke]=xe,te[Z]=ce,ke=Z;else break e}}return se}function o(te,se){var ce=te.sortIndex-se.sortIndex;return ce!==0?ce:te.id-se.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,a=c.now();e.unstable_now=function(){return c.now()-a}}var d=[],h=[],f=1,v=null,m=3,S=!1,C=!1,x=!1,R=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function P(te){for(var se=r(h);se!==null;){if(se.callback===null)i(h);else if(se.startTime<=te)i(h),se.sortIndex=se.expirationTime,t(d,se);else break;se=r(h)}}function j(te){if(x=!1,P(te),!C)if(r(d)!==null)C=!0,Ee();else{var se=r(h);se!==null&&Oe(j,se.startTime-te)}}var k=!1,B=-1,F=5,q=-1;function H(){return!(e.unstable_now()-q<F)}function $(){if(k){var te=e.unstable_now();q=te;var se=!0;try{e:{C=!1,x&&(x=!1,w(B),B=-1),S=!0;var ce=m;try{t:{for(P(te),v=r(d);v!==null&&!(v.expirationTime>te&&H());){var ke=v.callback;if(typeof ke=="function"){v.callback=null,m=v.priorityLevel;var N=ke(v.expirationTime<=te);if(te=e.unstable_now(),typeof N=="function"){v.callback=N,P(te),se=!0;break t}v===r(d)&&i(d),P(te)}else i(d);v=r(d)}if(v!==null)se=!0;else{var X=r(h);X!==null&&Oe(j,X.startTime-te),se=!1}}break e}finally{v=null,m=ce,S=!1}se=void 0}}finally{se?pe():k=!1}}}var pe;if(typeof T=="function")pe=function(){T($)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=$,pe=function(){fe.postMessage(null)}}else pe=function(){R($,0)};function Ee(){k||(k=!0,pe())}function Oe(te,se){B=R(function(){te(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(te){te.callback=null},e.unstable_continueExecution=function(){C||S||(C=!0,Ee())},e.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<te?Math.floor(1e3/te):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(te){switch(m){case 1:case 2:case 3:var se=3;break;default:se=m}var ce=m;m=se;try{return te()}finally{m=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(te,se){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ce=m;m=te;try{return se()}finally{m=ce}},e.unstable_scheduleCallback=function(te,se,ce){var ke=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ke+ce:ke):ce=ke,te){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ce+N,te={id:f++,callback:se,priorityLevel:te,startTime:ce,expirationTime:N,sortIndex:-1},ce>ke?(te.sortIndex=ce,t(h,te),r(d)===null&&te===r(h)&&(x?(w(B),B=-1):x=!0,Oe(j,ce-ke))):(te.sortIndex=N,t(d,te),C||S||(C=!0,Ee())),te},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(te){var se=m;return function(){var ce=m;m=se;try{return te.apply(this,arguments)}finally{m=ce}}}}(Em)),Em}var ZC;function UM(){return ZC||(ZC=1,wm.exports=qM()),wm.exports}var Tm={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex;function VM(){if(ex)return ur;ex=1;var e=s0();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(d,h,f){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:d,containerInfo:h,implementation:f}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ur.createPortal=function(d,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return l(d,h,null,f)},ur.flushSync=function(d){var h=c.T,f=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=h,i.p=f,i.d.f()}},ur.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},ur.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},ur.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var f=h.as,v=a(f,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:m,fetchPriority:S}):f==="script"&&i.d.X(d,{crossOrigin:v,integrity:m,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ur.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=a(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},ur.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,v=a(f,h.crossOrigin);i.d.L(d,f,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ur.preloadModule=function(d,h){if(typeof d=="string")if(h){var f=a(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},ur.requestFormReset=function(d){i.d.r(d)},ur.unstable_batchedUpdates=function(d,h){return d(h)},ur.useFormState=function(d,h,f){return c.H.useFormState(d,h,f)},ur.useFormStatus=function(){return c.H.useHostTransitionStatus()},ur.version="19.0.0",ur}var tx;function FM(){if(tx)return Tm.exports;tx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tm.exports=VM(),Tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx;function HM(){if(rx)return sc;rx=1;var e=UM(),t=s0(),r=FM();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),P=Symbol.for("react.offscreen"),j=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var F=Symbol.for("react.client.reference");function q(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===F?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case d:return"Fragment";case a:return"Portal";case f:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case R:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case S:return(n.displayName||"Context")+".Provider";case m:return(n._context.displayName||"Context")+".Consumer";case C:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case w:return s=n.displayName||null,s!==null?s:q(n.type)||"Memo";case T:s=n._payload,n=n._init;try{return q(n(s))}catch{}}return null}var H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=Object.assign,pe,de;function fe(n){if(pe===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);pe=s&&s[1]||"",de=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+n+de}var Ee=!1;function Oe(n,s){if(!n||Ee)return"";Ee=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(G){var V=G}Reflect.construct(n,[],re)}else{try{re.call()}catch(G){V=G}n.call(re.prototype)}}else{try{throw Error()}catch(G){V=G}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(G){if(G&&V&&typeof G.stack=="string")return[G.stack,V.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=p.DetermineComponentFrameRoot(),E=b[0],_=b[1];if(E&&_){var M=E.split(`
`),D=_.split(`
`);for(y=p=0;p<M.length&&!M[p].includes("DetermineComponentFrameRoot");)p++;for(;y<D.length&&!D[y].includes("DetermineComponentFrameRoot");)y++;if(p===M.length||y===D.length)for(p=M.length-1,y=D.length-1;1<=p&&0<=y&&M[p]!==D[y];)y--;for(;1<=p&&0<=y;p--,y--)if(M[p]!==D[y]){if(p!==1||y!==1)do if(p--,y--,0>y||M[p]!==D[y]){var J=`
`+M[p].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=p&&0<=y);break}}}finally{Ee=!1,Error.prepareStackTrace=u}return(u=n?n.displayName||n.name:"")?fe(u):""}function te(n){switch(n.tag){case 26:case 27:case 5:return fe(n.type);case 16:return fe("Lazy");case 13:return fe("Suspense");case 19:return fe("SuspenseList");case 0:case 15:return n=Oe(n.type,!1),n;case 11:return n=Oe(n.type.render,!1),n;case 1:return n=Oe(n.type,!0),n;default:return""}}function se(n){try{var s="";do s+=te(n),n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function ce(n){var s=n,u=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(u=s.return),n=s.return;while(n)}return s.tag===3?u:null}function ke(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function N(n){if(ce(n)!==n)throw Error(i(188))}function X(n){var s=n.alternate;if(!s){if(s=ce(n),s===null)throw Error(i(188));return s!==n?null:n}for(var u=n,p=s;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(p=y.return,p!==null){u=p;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return N(y),n;if(b===p)return N(y),s;b=b.sibling}throw Error(i(188))}if(u.return!==p.return)u=y,p=b;else{for(var E=!1,_=y.child;_;){if(_===u){E=!0,u=y,p=b;break}if(_===p){E=!0,p=y,u=b;break}_=_.sibling}if(!E){for(_=b.child;_;){if(_===u){E=!0,u=b,p=y;break}if(_===p){E=!0,p=b,u=y;break}_=_.sibling}if(!E)throw Error(i(189))}}if(u.alternate!==p)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?n:s}function ee(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=ee(n),s!==null)return s;n=n.sibling}return null}var le=Array.isArray,Z=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ce=[],rt=-1;function Fe(n){return{current:n}}function Qe(n){0>rt||(n.current=Ce[rt],Ce[rt]=null,rt--)}function Ie(n,s){rt++,Ce[rt]=n.current,n.current=s}var Et=Fe(null),pr=Fe(null),Kt=Fe(null),fr=Fe(null);function Br(n,s){switch(Ie(Kt,s),Ie(pr,n),Ie(Et,null),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?RC(s):0;break;default:if(n=n===8?s.parentNode:s,s=n.tagName,n=n.namespaceURI)n=RC(n),s=wC(n,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}Qe(Et),Ie(Et,s)}function mt(){Qe(Et),Qe(pr),Qe(Kt)}function ln(n){n.memoizedState!==null&&Ie(fr,n);var s=Et.current,u=wC(s,n.type);s!==u&&(Ie(pr,n),Ie(Et,u))}function I(n){pr.current===n&&(Qe(Et),Qe(pr)),fr.current===n&&(Qe(fr),Za._currentValue=xe)}var U=Object.prototype.hasOwnProperty,W=e.unstable_scheduleCallback,ue=e.unstable_cancelCallback,ae=e.unstable_shouldYield,ie=e.unstable_requestPaint,ve=e.unstable_now,oe=e.unstable_getCurrentPriorityLevel,Te=e.unstable_ImmediatePriority,Pe=e.unstable_UserBlockingPriority,Xe=e.unstable_NormalPriority,Wt=e.unstable_LowPriority,ut=e.unstable_IdlePriority,vr=e.log,gt=e.unstable_setDisableYieldValue,ar=null,jt=null;function _r(n){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(ar,n,void 0,(n.current.flags&128)===128)}catch{}}function Gt(n){if(typeof vr=="function"&&gt(n),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(ar,n)}catch{}}var Ot=Math.clz32?Math.clz32:ua,so=Math.log,Ji=Math.LN2;function ua(n){return n>>>=0,n===0?32:31-(so(n)/Ji|0)|0}var mi=128,Y=4194304;function he(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ze(n,s){var u=n.pendingLanes;if(u===0)return 0;var p=0,y=n.suspendedLanes,b=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var _=u&134217727;return _!==0?(u=_&~y,u!==0?p=he(u):(b&=_,b!==0?p=he(b):n||(E=_&~E,E!==0&&(p=he(E))))):(_=u&~y,_!==0?p=he(_):b!==0?p=he(b):n||(E=u&~E,E!==0&&(p=he(E)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,E=s&-s,y>=E||y===32&&(E&4194176)!==0)?s:p}function je(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function me(n,s){switch(n){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function be(){var n=mi;return mi<<=1,(mi&4194176)===0&&(mi=128),n}function we(){var n=Y;return Y<<=1,(Y&62914560)===0&&(Y=4194304),n}function Be(n){for(var s=[],u=0;31>u;u++)s.push(n);return s}function at(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function bt(n,s,u,p,y,b){var E=n.pendingLanes;n.pendingLanes=u,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=u,n.entangledLanes&=u,n.errorRecoveryDisabledLanes&=u,n.shellSuspendCounter=0;var _=n.entanglements,M=n.expirationTimes,D=n.hiddenUpdates;for(u=E&~u;0<u;){var J=31-Ot(u),re=1<<J;_[J]=0,M[J]=-1;var V=D[J];if(V!==null)for(D[J]=null,J=0;J<V.length;J++){var G=V[J];G!==null&&(G.lane&=-536870913)}u&=~re}p!==0&&Jt(n,p,0),b!==0&&y===0&&n.tag!==0&&(n.suspendedLanes|=b&~(E&~s))}function Jt(n,s,u){n.pendingLanes|=s,n.suspendedLanes&=~s;var p=31-Ot(s);n.entangledLanes|=s,n.entanglements[p]=n.entanglements[p]|1073741824|u&4194218}function Un(n,s){var u=n.entangledLanes|=s;for(n=n.entanglements;u;){var p=31-Ot(u),y=1<<p;y&s|n[p]&s&&(n[p]|=s),u&=~y}}function tr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function qr(){var n=Z.p;return n!==0?n:(n=window.event,n===void 0?32:VC(n.type))}function Tn(n,s){var u=Z.p;try{return Z.p=n,s()}finally{Z.p=u}}var Rr=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Rr,cr="__reactProps$"+Rr,oo="__reactContainer$"+Rr,gf="__reactEvents$"+Rr,Tk="__reactListeners$"+Rr,Pk="__reactHandles$"+Rr,CS="__reactResources$"+Rr,da="__reactMarker$"+Rr;function yf(n){delete n[Dt],delete n[cr],delete n[gf],delete n[Tk],delete n[Pk]}function Yi(n){var s=n[Dt];if(s)return s;for(var u=n.parentNode;u;){if(s=u[oo]||u[Dt]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(n=PC(n);n!==null;){if(u=n[Dt])return u;n=PC(n)}return s}n=u,u=n.parentNode}return null}function ao(n){if(n=n[Dt]||n[oo]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function ha(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function co(n){var s=n[CS];return s||(s=n[CS]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Yt(n){n[da]=!0}var xS=new Set,RS={};function Qi(n,s){lo(n,s),lo(n+"Capture",s)}function lo(n,s){for(RS[n]=s,n=0;n<s.length;n++)xS.add(s[n])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ak=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wS={},ES={};function _k(n){return U.call(ES,n)?!0:U.call(wS,n)?!1:Ak.test(n)?ES[n]=!0:(wS[n]=!0,!1)}function Zd(n,s,u){if(_k(s))if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+u)}}function eh(n,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+u)}}function Fn(n,s,u,p){if(p===null)n.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(u);return}n.setAttributeNS(s,u,""+p)}}function Ur(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function TS(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function kk(n){var s=TS(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),p=""+n[s];if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return y.call(this)},set:function(E){p=""+E,b.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(E){p=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function th(n){n._valueTracker||(n._valueTracker=kk(n))}function PS(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var u=s.getValue(),p="";return n&&(p=TS(n)?n.checked?"true":"false":n.value),n=p,n!==u?(s.setValue(n),!0):!1}function rh(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Mk=/[\n"\\]/g;function Vr(n){return n.replace(Mk,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sf(n,s,u,p,y,b,E,_){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Ur(s)):n.value!==""+Ur(s)&&(n.value=""+Ur(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?bf(n,E,Ur(s)):u!=null?bf(n,E,Ur(u)):p!=null&&n.removeAttribute("value"),y==null&&b!=null&&(n.defaultChecked=!!b),y!=null&&(n.checked=y&&typeof y!="function"&&typeof y!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.name=""+Ur(_):n.removeAttribute("name")}function AS(n,s,u,p,y,b,E,_){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),s!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;u=u!=null?""+Ur(u):"",s=s!=null?""+Ur(s):u,_||s===n.value||(n.value=s),n.defaultValue=s}p=p??y,p=typeof p!="function"&&typeof p!="symbol"&&!!p,n.checked=_?n.checked:!!p,n.defaultChecked=!!p,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function bf(n,s,u){s==="number"&&rh(n.ownerDocument)===n||n.defaultValue===""+u||(n.defaultValue=""+u)}function uo(n,s,u,p){if(n=n.options,s){s={};for(var y=0;y<u.length;y++)s["$"+u[y]]=!0;for(u=0;u<n.length;u++)y=s.hasOwnProperty("$"+n[u].value),n[u].selected!==y&&(n[u].selected=y),y&&p&&(n[u].defaultSelected=!0)}else{for(u=""+Ur(u),s=null,y=0;y<n.length;y++){if(n[y].value===u){n[y].selected=!0,p&&(n[y].defaultSelected=!0);return}s!==null||n[y].disabled||(s=n[y])}s!==null&&(s.selected=!0)}}function _S(n,s,u){if(s!=null&&(s=""+Ur(s),s!==n.value&&(n.value=s),u==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=u!=null?""+Ur(u):""}function kS(n,s,u,p){if(s==null){if(p!=null){if(u!=null)throw Error(i(92));if(le(p)){if(1<p.length)throw Error(i(93));p=p[0]}u=p}u==null&&(u=""),s=u}u=Ur(s),n.defaultValue=u,p=n.textContent,p===u&&p!==""&&p!==null&&(n.value=p)}function ho(n,s){if(s){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=s;return}}n.textContent=s}var Nk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function MS(n,s,u){var p=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":p?n.setProperty(s,u):typeof u!="number"||u===0||Nk.has(s)?s==="float"?n.cssFloat=u:n[s]=(""+u).trim():n[s]=u+"px"}function NS(n,s,u){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?n.setProperty(p,""):p==="float"?n.cssFloat="":n[p]="");for(var y in s)p=s[y],s.hasOwnProperty(y)&&u[y]!==p&&MS(n,y,p)}else for(var b in s)s.hasOwnProperty(b)&&MS(n,b,s[b])}function Cf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ik=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nh(n){return jk.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var xf=null;function Rf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var po=null,fo=null;function IS(n){var s=ao(n);if(s&&(n=s.stateNode)){var u=n[cr]||null;e:switch(n=s.stateNode,s.type){case"input":if(Sf(n,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Vr(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var p=u[s];if(p!==n&&p.form===n.form){var y=p[cr]||null;if(!y)throw Error(i(90));Sf(p,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<u.length;s++)p=u[s],p.form===n.form&&PS(p)}break e;case"textarea":_S(n,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&uo(n,!!u.multiple,s,!1)}}}var wf=!1;function jS(n,s,u){if(wf)return n(s,u);wf=!0;try{var p=n(s);return p}finally{if(wf=!1,(po!==null||fo!==null)&&(qh(),po&&(s=po,n=fo,fo=po=null,IS(s),n)))for(s=0;s<n.length;s++)IS(n[s])}}function pa(n,s){var u=n.stateNode;if(u===null)return null;var p=u[cr]||null;if(p===null)return null;u=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(n=n.type,p=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!p;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(i(231,s,typeof u));return u}var Ef=!1;if(Vn)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Ef=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Ef=!1}var gi=null,Tf=null,ih=null;function OS(){if(ih)return ih;var n,s=Tf,u=s.length,p,y="value"in gi?gi.value:gi.textContent,b=y.length;for(n=0;n<u&&s[n]===y[n];n++);var E=u-n;for(p=1;p<=E&&s[u-p]===y[b-p];p++);return ih=y.slice(n,1<p?1-p:void 0)}function sh(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function oh(){return!0}function DS(){return!1}function wr(n){function s(u,p,y,b,E){this._reactName=u,this._targetInst=y,this.type=p,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(u=n[_],this[_]=u?u(b):b[_]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?oh:DS,this.isPropagationStopped=DS,this}return $(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=oh)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=oh)},persist:function(){},isPersistent:oh}),s}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ah=wr(Xi),va=$({},Xi,{view:0,detail:0}),Ok=wr(va),Pf,Af,ma,ch=$({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ma&&(ma&&n.type==="mousemove"?(Pf=n.screenX-ma.screenX,Af=n.screenY-ma.screenY):Af=Pf=0,ma=n),Pf)},movementY:function(n){return"movementY"in n?n.movementY:Af}}),zS=wr(ch),Dk=$({},ch,{dataTransfer:0}),zk=wr(Dk),Lk=$({},va,{relatedTarget:0}),_f=wr(Lk),Bk=$({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),qk=wr(Bk),Uk=$({},Xi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Vk=wr(Uk),Fk=$({},Xi,{data:0}),LS=wr(Fk),Hk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$k={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wk(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Kk[n])?!!s[n]:!1}function kf(){return Wk}var Gk=$({},va,{key:function(n){if(n.key){var s=Hk[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=sh(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$k[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(n){return n.type==="keypress"?sh(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?sh(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Jk=wr(Gk),Yk=$({},ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),BS=wr(Yk),Qk=$({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),Xk=wr(Qk),Zk=$({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),e3=wr(Zk),t3=$({},ch,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),r3=wr(t3),n3=$({},Xi,{newState:0,oldState:0}),i3=wr(n3),s3=[9,13,27,32],Mf=Vn&&"CompositionEvent"in window,ga=null;Vn&&"documentMode"in document&&(ga=document.documentMode);var o3=Vn&&"TextEvent"in window&&!ga,qS=Vn&&(!Mf||ga&&8<ga&&11>=ga),US=" ",VS=!1;function FS(n,s){switch(n){case"keyup":return s3.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HS(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vo=!1;function a3(n,s){switch(n){case"compositionend":return HS(s);case"keypress":return s.which!==32?null:(VS=!0,US);case"textInput":return n=s.data,n===US&&VS?null:n;default:return null}}function c3(n,s){if(vo)return n==="compositionend"||!Mf&&FS(n,s)?(n=OS(),ih=Tf=gi=null,vo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return qS&&s.locale!=="ko"?null:s.data;default:return null}}var l3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $S(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!l3[n.type]:s==="textarea"}function KS(n,s,u,p){po?fo?fo.push(p):fo=[p]:po=p,s=$h(s,"onChange"),0<s.length&&(u=new ah("onChange","change",null,u,p),n.push({event:u,listeners:s}))}var ya=null,Sa=null;function u3(n){yC(n,0)}function lh(n){var s=ha(n);if(PS(s))return n}function WS(n,s){if(n==="change")return s}var GS=!1;if(Vn){var Nf;if(Vn){var If="oninput"in document;if(!If){var JS=document.createElement("div");JS.setAttribute("oninput","return;"),If=typeof JS.oninput=="function"}Nf=If}else Nf=!1;GS=Nf&&(!document.documentMode||9<document.documentMode)}function YS(){ya&&(ya.detachEvent("onpropertychange",QS),Sa=ya=null)}function QS(n){if(n.propertyName==="value"&&lh(Sa)){var s=[];KS(s,Sa,n,Rf(n)),jS(u3,s)}}function d3(n,s,u){n==="focusin"?(YS(),ya=s,Sa=u,ya.attachEvent("onpropertychange",QS)):n==="focusout"&&YS()}function h3(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return lh(Sa)}function p3(n,s){if(n==="click")return lh(s)}function f3(n,s){if(n==="input"||n==="change")return lh(s)}function v3(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var kr=typeof Object.is=="function"?Object.is:v3;function ba(n,s){if(kr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var u=Object.keys(n),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var y=u[p];if(!U.call(s,y)||!kr(n[y],s[y]))return!1}return!0}function XS(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ZS(n,s){var u=XS(n);n=0;for(var p;u;){if(u.nodeType===3){if(p=n+u.textContent.length,n<=s&&p>=s)return{node:u,offset:s-n};n=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=XS(u)}}function e1(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?e1(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function t1(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=rh(n.document);s instanceof n.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)n=s.contentWindow;else break;s=rh(n.document)}return s}function jf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function m3(n,s){var u=t1(s);s=n.focusedElem;var p=n.selectionRange;if(u!==s&&s&&s.ownerDocument&&e1(s.ownerDocument.documentElement,s)){if(p!==null&&jf(s)){if(n=p.start,u=p.end,u===void 0&&(u=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(u,s.value.length);else if(u=(n=s.ownerDocument||document)&&n.defaultView||window,u.getSelection){u=u.getSelection();var y=s.textContent.length,b=Math.min(p.start,y);p=p.end===void 0?b:Math.min(p.end,y),!u.extend&&b>p&&(y=p,p=b,b=y),y=ZS(s,b);var E=ZS(s,p);y&&E&&(u.rangeCount!==1||u.anchorNode!==y.node||u.anchorOffset!==y.offset||u.focusNode!==E.node||u.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(y.node,y.offset),u.removeAllRanges(),b>p?(u.addRange(n),u.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),u.addRange(n)))}}for(n=[],u=s;u=u.parentNode;)u.nodeType===1&&n.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)u=n[s],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var g3=Vn&&"documentMode"in document&&11>=document.documentMode,mo=null,Of=null,Ca=null,Df=!1;function r1(n,s,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Df||mo==null||mo!==rh(p)||(p=mo,"selectionStart"in p&&jf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ca&&ba(Ca,p)||(Ca=p,p=$h(Of,"onSelect"),0<p.length&&(s=new ah("onSelect","select",null,s,u),n.push({event:s,listeners:p}),s.target=mo)))}function Zi(n,s){var u={};return u[n.toLowerCase()]=s.toLowerCase(),u["Webkit"+n]="webkit"+s,u["Moz"+n]="moz"+s,u}var go={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},zf={},n1={};Vn&&(n1=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function es(n){if(zf[n])return zf[n];if(!go[n])return n;var s=go[n],u;for(u in s)if(s.hasOwnProperty(u)&&u in n1)return zf[n]=s[u];return n}var i1=es("animationend"),s1=es("animationiteration"),o1=es("animationstart"),y3=es("transitionrun"),S3=es("transitionstart"),b3=es("transitioncancel"),a1=es("transitionend"),c1=new Map,l1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function un(n,s){c1.set(n,s),Qi(s,[n])}var Fr=[],yo=0,Lf=0;function uh(){for(var n=yo,s=Lf=yo=0;s<n;){var u=Fr[s];Fr[s++]=null;var p=Fr[s];Fr[s++]=null;var y=Fr[s];Fr[s++]=null;var b=Fr[s];if(Fr[s++]=null,p!==null&&y!==null){var E=p.pending;E===null?y.next=y:(y.next=E.next,E.next=y),p.pending=y}b!==0&&u1(u,y,b)}}function dh(n,s,u,p){Fr[yo++]=n,Fr[yo++]=s,Fr[yo++]=u,Fr[yo++]=p,Lf|=p,n.lanes|=p,n=n.alternate,n!==null&&(n.lanes|=p)}function Bf(n,s,u,p){return dh(n,s,u,p),hh(n)}function yi(n,s){return dh(n,null,null,s),hh(n)}function u1(n,s,u){n.lanes|=u;var p=n.alternate;p!==null&&(p.lanes|=u);for(var y=!1,b=n.return;b!==null;)b.childLanes|=u,p=b.alternate,p!==null&&(p.childLanes|=u),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(y=!0)),n=b,b=b.return;y&&s!==null&&n.tag===3&&(b=n.stateNode,y=31-Ot(u),b=b.hiddenUpdates,n=b[y],n===null?b[y]=[s]:n.push(s),s.lane=u|536870912)}function hh(n){if(50<Ka)throw Ka=0,$v=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var So={},d1=new WeakMap;function Hr(n,s){if(typeof n=="object"&&n!==null){var u=d1.get(n);return u!==void 0?u:(s={value:n,source:s,stack:se(s)},d1.set(n,s),s)}return{value:n,source:s,stack:se(s)}}var bo=[],Co=0,ph=null,fh=0,$r=[],Kr=0,ts=null,Hn=1,$n="";function rs(n,s){bo[Co++]=fh,bo[Co++]=ph,ph=n,fh=s}function h1(n,s,u){$r[Kr++]=Hn,$r[Kr++]=$n,$r[Kr++]=ts,ts=n;var p=Hn;n=$n;var y=32-Ot(p)-1;p&=~(1<<y),u+=1;var b=32-Ot(s)+y;if(30<b){var E=y-y%5;b=(p&(1<<E)-1).toString(32),p>>=E,y-=E,Hn=1<<32-Ot(s)+y|u<<y|p,$n=b+n}else Hn=1<<b|u<<y|p,$n=n}function qf(n){n.return!==null&&(rs(n,1),h1(n,1,0))}function Uf(n){for(;n===ph;)ph=bo[--Co],bo[Co]=null,fh=bo[--Co],bo[Co]=null;for(;n===ts;)ts=$r[--Kr],$r[Kr]=null,$n=$r[--Kr],$r[Kr]=null,Hn=$r[--Kr],$r[Kr]=null}var mr=null,rr=null,it=!1,dn=null,Pn=!1,Vf=Error(i(519));function ns(n){var s=Error(i(418,""));throw wa(Hr(s,n)),Vf}function p1(n){var s=n.stateNode,u=n.type,p=n.memoizedProps;switch(s[Dt]=n,s[cr]=p,u){case"dialog":Ze("cancel",s),Ze("close",s);break;case"iframe":case"object":case"embed":Ze("load",s);break;case"video":case"audio":for(u=0;u<Ga.length;u++)Ze(Ga[u],s);break;case"source":Ze("error",s);break;case"img":case"image":case"link":Ze("error",s),Ze("load",s);break;case"details":Ze("toggle",s);break;case"input":Ze("invalid",s),AS(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),th(s);break;case"select":Ze("invalid",s);break;case"textarea":Ze("invalid",s),kS(s,p.value,p.defaultValue,p.children),th(s)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||p.suppressHydrationWarning===!0||xC(s.textContent,u)?(p.popover!=null&&(Ze("beforetoggle",s),Ze("toggle",s)),p.onScroll!=null&&Ze("scroll",s),p.onScrollEnd!=null&&Ze("scrollend",s),p.onClick!=null&&(s.onclick=Kh),s=!0):s=!1,s||ns(n)}function f1(n){for(mr=n.return;mr;)switch(mr.tag){case 3:case 27:Pn=!0;return;case 5:case 13:Pn=!1;return;default:mr=mr.return}}function xa(n){if(n!==mr)return!1;if(!it)return f1(n),it=!0,!1;var s=!1,u;if((u=n.tag!==3&&n.tag!==27)&&((u=n.tag===5)&&(u=n.type,u=!(u!=="form"&&u!=="button")||cm(n.type,n.memoizedProps)),u=!u),u&&(s=!0),s&&rr&&ns(n),f1(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(u=n.data,u==="/$"){if(s===0){rr=pn(n.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;n=n.nextSibling}rr=null}}else rr=mr?pn(n.stateNode.nextSibling):null;return!0}function Ra(){rr=mr=null,it=!1}function wa(n){dn===null?dn=[n]:dn.push(n)}var Ea=Error(i(460)),v1=Error(i(474)),Ff={then:function(){}};function m1(n){return n=n.status,n==="fulfilled"||n==="rejected"}function vh(){}function g1(n,s,u){switch(u=n[u],u===void 0?n.push(s):u!==s&&(s.then(vh,vh),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===Ea?Error(i(483)):n;default:if(typeof s.status=="string")s.then(vh,vh);else{if(n=ht,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(p){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=p}},function(p){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,n===Ea?Error(i(483)):n}throw Ta=s,Ea}}var Ta=null;function y1(){if(Ta===null)throw Error(i(459));var n=Ta;return Ta=null,n}var xo=null,Pa=0;function mh(n){var s=Pa;return Pa+=1,xo===null&&(xo=[]),g1(xo,n,s)}function Aa(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function gh(n,s){throw s.$$typeof===l?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function S1(n){var s=n._init;return s(n._payload)}function b1(n){function s(z,O){if(n){var L=z.deletions;L===null?(z.deletions=[O],z.flags|=16):L.push(O)}}function u(z,O){if(!n)return null;for(;O!==null;)s(z,O),O=O.sibling;return null}function p(z){for(var O=new Map;z!==null;)z.key!==null?O.set(z.key,z):O.set(z.index,z),z=z.sibling;return O}function y(z,O){return z=ki(z,O),z.index=0,z.sibling=null,z}function b(z,O,L){return z.index=L,n?(L=z.alternate,L!==null?(L=L.index,L<O?(z.flags|=33554434,O):L):(z.flags|=33554434,O)):(z.flags|=1048576,O)}function E(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function _(z,O,L,Q){return O===null||O.tag!==6?(O=zv(L,z.mode,Q),O.return=z,O):(O=y(O,L),O.return=z,O)}function M(z,O,L,Q){var ye=L.type;return ye===d?J(z,O,L.props.children,Q,L.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===T&&S1(ye)===O.type)?(O=y(O,L.props),Aa(O,L),O.return=z,O):(O=Oh(L.type,L.key,L.props,null,z.mode,Q),Aa(O,L),O.return=z,O)}function D(z,O,L,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Lv(L,z.mode,Q),O.return=z,O):(O=y(O,L.children||[]),O.return=z,O)}function J(z,O,L,Q,ye){return O===null||O.tag!==7?(O=ps(L,z.mode,Q,ye),O.return=z,O):(O=y(O,L),O.return=z,O)}function re(z,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=zv(""+O,z.mode,L),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case c:return L=Oh(O.type,O.key,O.props,null,z.mode,L),Aa(L,O),L.return=z,L;case a:return O=Lv(O,z.mode,L),O.return=z,O;case T:var Q=O._init;return O=Q(O._payload),re(z,O,L)}if(le(O)||B(O))return O=ps(O,z.mode,L,null),O.return=z,O;if(typeof O.then=="function")return re(z,mh(O),L);if(O.$$typeof===S)return re(z,Nh(z,O),L);gh(z,O)}return null}function V(z,O,L,Q){var ye=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ye!==null?null:_(z,O,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case c:return L.key===ye?M(z,O,L,Q):null;case a:return L.key===ye?D(z,O,L,Q):null;case T:return ye=L._init,L=ye(L._payload),V(z,O,L,Q)}if(le(L)||B(L))return ye!==null?null:J(z,O,L,Q,null);if(typeof L.then=="function")return V(z,O,mh(L),Q);if(L.$$typeof===S)return V(z,O,Nh(z,L),Q);gh(z,L)}return null}function G(z,O,L,Q,ye){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return z=z.get(L)||null,_(O,z,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case c:return z=z.get(Q.key===null?L:Q.key)||null,M(O,z,Q,ye);case a:return z=z.get(Q.key===null?L:Q.key)||null,D(O,z,Q,ye);case T:var Ge=Q._init;return Q=Ge(Q._payload),G(z,O,L,Q,ye)}if(le(Q)||B(Q))return z=z.get(L)||null,J(O,z,Q,ye,null);if(typeof Q.then=="function")return G(z,O,L,mh(Q),ye);if(Q.$$typeof===S)return G(z,O,L,Nh(O,Q),ye);gh(O,Q)}return null}function Re(z,O,L,Q){for(var ye=null,Ge=null,Ae=O,De=O=0,Zt=null;Ae!==null&&De<L.length;De++){Ae.index>De?(Zt=Ae,Ae=null):Zt=Ae.sibling;var st=V(z,Ae,L[De],Q);if(st===null){Ae===null&&(Ae=Zt);break}n&&Ae&&st.alternate===null&&s(z,Ae),O=b(st,O,De),Ge===null?ye=st:Ge.sibling=st,Ge=st,Ae=Zt}if(De===L.length)return u(z,Ae),it&&rs(z,De),ye;if(Ae===null){for(;De<L.length;De++)Ae=re(z,L[De],Q),Ae!==null&&(O=b(Ae,O,De),Ge===null?ye=Ae:Ge.sibling=Ae,Ge=Ae);return it&&rs(z,De),ye}for(Ae=p(Ae);De<L.length;De++)Zt=G(Ae,z,De,L[De],Q),Zt!==null&&(n&&Zt.alternate!==null&&Ae.delete(Zt.key===null?De:Zt.key),O=b(Zt,O,De),Ge===null?ye=Zt:Ge.sibling=Zt,Ge=Zt);return n&&Ae.forEach(function(zi){return s(z,zi)}),it&&rs(z,De),ye}function Ue(z,O,L,Q){if(L==null)throw Error(i(151));for(var ye=null,Ge=null,Ae=O,De=O=0,Zt=null,st=L.next();Ae!==null&&!st.done;De++,st=L.next()){Ae.index>De?(Zt=Ae,Ae=null):Zt=Ae.sibling;var zi=V(z,Ae,st.value,Q);if(zi===null){Ae===null&&(Ae=Zt);break}n&&Ae&&zi.alternate===null&&s(z,Ae),O=b(zi,O,De),Ge===null?ye=zi:Ge.sibling=zi,Ge=zi,Ae=Zt}if(st.done)return u(z,Ae),it&&rs(z,De),ye;if(Ae===null){for(;!st.done;De++,st=L.next())st=re(z,st.value,Q),st!==null&&(O=b(st,O,De),Ge===null?ye=st:Ge.sibling=st,Ge=st);return it&&rs(z,De),ye}for(Ae=p(Ae);!st.done;De++,st=L.next())st=G(Ae,z,De,st.value,Q),st!==null&&(n&&st.alternate!==null&&Ae.delete(st.key===null?De:st.key),O=b(st,O,De),Ge===null?ye=st:Ge.sibling=st,Ge=st);return n&&Ae.forEach(function(jM){return s(z,jM)}),it&&rs(z,De),ye}function At(z,O,L,Q){if(typeof L=="object"&&L!==null&&L.type===d&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case c:e:{for(var ye=L.key;O!==null;){if(O.key===ye){if(ye=L.type,ye===d){if(O.tag===7){u(z,O.sibling),Q=y(O,L.props.children),Q.return=z,z=Q;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===T&&S1(ye)===O.type){u(z,O.sibling),Q=y(O,L.props),Aa(Q,L),Q.return=z,z=Q;break e}u(z,O);break}else s(z,O);O=O.sibling}L.type===d?(Q=ps(L.props.children,z.mode,Q,L.key),Q.return=z,z=Q):(Q=Oh(L.type,L.key,L.props,null,z.mode,Q),Aa(Q,L),Q.return=z,z=Q)}return E(z);case a:e:{for(ye=L.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){u(z,O.sibling),Q=y(O,L.children||[]),Q.return=z,z=Q;break e}else{u(z,O);break}else s(z,O);O=O.sibling}Q=Lv(L,z.mode,Q),Q.return=z,z=Q}return E(z);case T:return ye=L._init,L=ye(L._payload),At(z,O,L,Q)}if(le(L))return Re(z,O,L,Q);if(B(L)){if(ye=B(L),typeof ye!="function")throw Error(i(150));return L=ye.call(L),Ue(z,O,L,Q)}if(typeof L.then=="function")return At(z,O,mh(L),Q);if(L.$$typeof===S)return At(z,O,Nh(z,L),Q);gh(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(u(z,O.sibling),Q=y(O,L),Q.return=z,z=Q):(u(z,O),Q=zv(L,z.mode,Q),Q.return=z,z=Q),E(z)):u(z,O)}return function(z,O,L,Q){try{Pa=0;var ye=At(z,O,L,Q);return xo=null,ye}catch(Ae){if(Ae===Ea)throw Ae;var Ge=Yr(29,Ae,null,z.mode);return Ge.lanes=Q,Ge.return=z,Ge}finally{}}}var is=b1(!0),C1=b1(!1),Ro=Fe(null),yh=Fe(0);function x1(n,s){n=ri,Ie(yh,n),Ie(Ro,s),ri=n|s.baseLanes}function Hf(){Ie(yh,ri),Ie(Ro,Ro.current)}function $f(){ri=yh.current,Qe(Ro),Qe(yh)}var Wr=Fe(null),An=null;function Si(n){var s=n.alternate;Ie(Ft,Ft.current&1),Ie(Wr,n),An===null&&(s===null||Ro.current!==null||s.memoizedState!==null)&&(An=n)}function R1(n){if(n.tag===22){if(Ie(Ft,Ft.current),Ie(Wr,n),An===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(An=n)}}else bi()}function bi(){Ie(Ft,Ft.current),Ie(Wr,Wr.current)}function Kn(n){Qe(Wr),An===n&&(An=null),Qe(Ft)}var Ft=Fe(0);function Sh(n){for(var s=n;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var C3=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(u,p){n.push(p)}};this.abort=function(){s.aborted=!0,n.forEach(function(u){return u()})}},x3=e.unstable_scheduleCallback,R3=e.unstable_NormalPriority,Ht={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new C3,data:new Map,refCount:0}}function _a(n){n.refCount--,n.refCount===0&&x3(R3,function(){n.controller.abort()})}var ka=null,Wf=0,wo=0,Eo=null;function w3(n,s){if(ka===null){var u=ka=[];Wf=0,wo=Zv(),Eo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return Wf++,s.then(w1,w1),s}function w1(){if(--Wf===0&&ka!==null){Eo!==null&&(Eo.status="fulfilled");var n=ka;ka=null,wo=0,Eo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function E3(n,s){var u=[],p={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return n.then(function(){p.status="fulfilled",p.value=s;for(var y=0;y<u.length;y++)(0,u[y])(s)},function(y){for(p.status="rejected",p.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),p}var E1=H.S;H.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&w3(n,s),E1!==null&&E1(n,s)};var ss=Fe(null);function Gf(){var n=ss.current;return n!==null?n:ht.pooledCache}function bh(n,s){s===null?Ie(ss,ss.current):Ie(ss,s.pool)}function T1(){var n=Gf();return n===null?null:{parent:Ht._currentValue,pool:n}}var Ci=0,Ke=null,ct=null,zt=null,Ch=!1,To=!1,os=!1,xh=0,Ma=0,Po=null,T3=0;function kt(){throw Error(i(321))}function Jf(n,s){if(s===null)return!1;for(var u=0;u<s.length&&u<n.length;u++)if(!kr(n[u],s[u]))return!1;return!0}function Yf(n,s,u,p,y,b){return Ci=b,Ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=n===null||n.memoizedState===null?as:xi,os=!1,b=u(p,y),os=!1,To&&(b=A1(s,u,p,y)),P1(n),b}function P1(n){H.H=_n;var s=ct!==null&&ct.next!==null;if(Ci=0,zt=ct=Ke=null,Ch=!1,Ma=0,Po=null,s)throw Error(i(300));n===null||Qt||(n=n.dependencies,n!==null&&Mh(n)&&(Qt=!0))}function A1(n,s,u,p){Ke=n;var y=0;do{if(To&&(Po=null),Ma=0,To=!1,25<=y)throw Error(i(301));if(y+=1,zt=ct=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}H.H=cs,b=s(u,p)}while(To);return b}function P3(){var n=H.H,s=n.useState()[0];return s=typeof s.then=="function"?Na(s):s,n=n.useState()[0],(ct!==null?ct.memoizedState:null)!==n&&(Ke.flags|=1024),s}function Qf(){var n=xh!==0;return xh=0,n}function Xf(n,s,u){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~u}function Zf(n){if(Ch){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ch=!1}Ci=0,zt=ct=Ke=null,To=!1,Ma=xh=0,Po=null}function Er(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ke.memoizedState=zt=n:zt=zt.next=n,zt}function Lt(){if(ct===null){var n=Ke.alternate;n=n!==null?n.memoizedState:null}else n=ct.next;var s=zt===null?Ke.memoizedState:zt.next;if(s!==null)zt=s,ct=n;else{if(n===null)throw Ke.alternate===null?Error(i(467)):Error(i(310));ct=n,n={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},zt===null?Ke.memoizedState=zt=n:zt=zt.next=n}return zt}var Rh;Rh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Na(n){var s=Ma;return Ma+=1,Po===null&&(Po=[]),n=g1(Po,n,s),s=Ke,(zt===null?s.memoizedState:zt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?as:xi),n}function wh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Na(n);if(n.$$typeof===S)return lr(n)}throw Error(i(438,String(n)))}function ev(n){var s=null,u=Ke.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var p=Ke.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=Rh(),Ke.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(n),p=0;p<n;p++)u[p]=j;return s.index++,u}function Wn(n,s){return typeof s=="function"?s(n):s}function Eh(n){var s=Lt();return tv(s,ct,n)}function tv(n,s,u){var p=n.queue;if(p===null)throw Error(i(311));p.lastRenderedReducer=u;var y=n.baseQueue,b=p.pending;if(b!==null){if(y!==null){var E=y.next;y.next=b.next,b.next=E}s.baseQueue=y=b,p.pending=null}if(b=n.baseState,y===null)n.memoizedState=b;else{s=y.next;var _=E=null,M=null,D=s,J=!1;do{var re=D.lane&-536870913;if(re!==D.lane?(tt&re)===re:(Ci&re)===re){var V=D.revertLane;if(V===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),re===wo&&(J=!0);else if((Ci&V)===V){D=D.next,V===wo&&(J=!0);continue}else re={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},M===null?(_=M=re,E=b):M=M.next=re,Ke.lanes|=V,Mi|=V;re=D.action,os&&u(b,re),b=D.hasEagerState?D.eagerState:u(b,re)}else V={lane:re,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},M===null?(_=M=V,E=b):M=M.next=V,Ke.lanes|=re,Mi|=re;D=D.next}while(D!==null&&D!==s);if(M===null?E=b:M.next=_,!kr(b,n.memoizedState)&&(Qt=!0,J&&(u=Eo,u!==null)))throw u;n.memoizedState=b,n.baseState=E,n.baseQueue=M,p.lastRenderedState=b}return y===null&&(p.lanes=0),[n.memoizedState,p.dispatch]}function rv(n){var s=Lt(),u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=n;var p=u.dispatch,y=u.pending,b=s.memoizedState;if(y!==null){u.pending=null;var E=y=y.next;do b=n(b,E.action),E=E.next;while(E!==y);kr(b,s.memoizedState)||(Qt=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,p]}function _1(n,s,u){var p=Ke,y=Lt(),b=it;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=s();var E=!kr((ct||y).memoizedState,u);if(E&&(y.memoizedState=u,Qt=!0),y=y.queue,sv(N1.bind(null,p,y,n),[n]),y.getSnapshot!==s||E||zt!==null&&zt.memoizedState.tag&1){if(p.flags|=2048,Ao(9,M1.bind(null,p,y,u,s),{destroy:void 0},null),ht===null)throw Error(i(349));b||(Ci&60)!==0||k1(p,s,u)}return u}function k1(n,s,u){n.flags|=16384,n={getSnapshot:s,value:u},s=Ke.updateQueue,s===null?(s=Rh(),Ke.updateQueue=s,s.stores=[n]):(u=s.stores,u===null?s.stores=[n]:u.push(n))}function M1(n,s,u,p){s.value=u,s.getSnapshot=p,I1(s)&&j1(n)}function N1(n,s,u){return u(function(){I1(s)&&j1(n)})}function I1(n){var s=n.getSnapshot;n=n.value;try{var u=s();return!kr(n,u)}catch{return!0}}function j1(n){var s=yi(n,2);s!==null&&gr(s,n,2)}function nv(n){var s=Er();if(typeof n=="function"){var u=n;if(n=u(),os){Gt(!0);try{u()}finally{Gt(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:n},s}function O1(n,s,u,p){return n.baseState=u,tv(n,ct,typeof p=="function"?p:Wn)}function A3(n,s,u,p,y){if(Ah(n))throw Error(i(485));if(n=s.action,n!==null){var b={payload:y,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){b.listeners.push(E)}};H.T!==null?u(!0):b.isTransition=!1,p(b),u=s.pending,u===null?(b.next=s.pending=b,D1(s,b)):(b.next=u.next,s.pending=u.next=b)}}function D1(n,s){var u=s.action,p=s.payload,y=n.state;if(s.isTransition){var b=H.T,E={};H.T=E;try{var _=u(y,p),M=H.S;M!==null&&M(E,_),z1(n,s,_)}catch(D){iv(n,s,D)}finally{H.T=b}}else try{b=u(y,p),z1(n,s,b)}catch(D){iv(n,s,D)}}function z1(n,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){L1(n,s,p)},function(p){return iv(n,s,p)}):L1(n,s,u)}function L1(n,s,u){s.status="fulfilled",s.value=u,B1(s),n.state=u,s=n.pending,s!==null&&(u=s.next,u===s?n.pending=null:(u=u.next,s.next=u,D1(n,u)))}function iv(n,s,u){var p=n.pending;if(n.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=u,B1(s),s=s.next;while(s!==p)}n.action=null}function B1(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function q1(n,s){return s}function U1(n,s){if(it){var u=ht.formState;if(u!==null){e:{var p=Ke;if(it){if(rr){t:{for(var y=rr,b=Pn;y.nodeType!==8;){if(!b){y=null;break t}if(y=pn(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){rr=pn(y.nextSibling),p=y.data==="F!";break e}}ns(p)}p=!1}p&&(s=u[0])}}return u=Er(),u.memoizedState=u.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:q1,lastRenderedState:s},u.queue=p,u=sb.bind(null,Ke,p),p.dispatch=u,p=nv(!1),b=uv.bind(null,Ke,!1,p.queue),p=Er(),y={state:s,dispatch:null,action:n,pending:null},p.queue=y,u=A3.bind(null,Ke,y,b,u),y.dispatch=u,p.memoizedState=n,[s,u,!1]}function V1(n){var s=Lt();return F1(s,ct,n)}function F1(n,s,u){s=tv(n,s,q1)[0],n=Eh(Wn)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Na(s):s;var p=Lt(),y=p.queue,b=y.dispatch;return u!==p.memoizedState&&(Ke.flags|=2048,Ao(9,_3.bind(null,y,u),{destroy:void 0},null)),[s,b,n]}function _3(n,s){n.action=s}function H1(n){var s=Lt(),u=ct;if(u!==null)return F1(s,u,n);Lt(),s=s.memoizedState,u=Lt();var p=u.queue.dispatch;return u.memoizedState=n,[s,p,!1]}function Ao(n,s,u,p){return n={tag:n,create:s,inst:u,deps:p,next:null},s=Ke.updateQueue,s===null&&(s=Rh(),Ke.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=n.next=n:(p=u.next,u.next=n,n.next=p,s.lastEffect=n),n}function $1(){return Lt().memoizedState}function Th(n,s,u,p){var y=Er();Ke.flags|=n,y.memoizedState=Ao(1|s,u,{destroy:void 0},p===void 0?null:p)}function Ph(n,s,u,p){var y=Lt();p=p===void 0?null:p;var b=y.memoizedState.inst;ct!==null&&p!==null&&Jf(p,ct.memoizedState.deps)?y.memoizedState=Ao(s,u,b,p):(Ke.flags|=n,y.memoizedState=Ao(1|s,u,b,p))}function K1(n,s){Th(8390656,8,n,s)}function sv(n,s){Ph(2048,8,n,s)}function W1(n,s){return Ph(4,2,n,s)}function G1(n,s){return Ph(4,4,n,s)}function J1(n,s){if(typeof s=="function"){n=n();var u=s(n);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Y1(n,s,u){u=u!=null?u.concat([n]):null,Ph(4,4,J1.bind(null,s,n),u)}function ov(){}function Q1(n,s){var u=Lt();s=s===void 0?null:s;var p=u.memoizedState;return s!==null&&Jf(s,p[1])?p[0]:(u.memoizedState=[n,s],n)}function X1(n,s){var u=Lt();s=s===void 0?null:s;var p=u.memoizedState;if(s!==null&&Jf(s,p[1]))return p[0];if(p=n(),os){Gt(!0);try{n()}finally{Gt(!1)}}return u.memoizedState=[p,s],p}function av(n,s,u){return u===void 0||(Ci&1073741824)!==0?n.memoizedState=s:(n.memoizedState=u,n=eC(),Ke.lanes|=n,Mi|=n,u)}function Z1(n,s,u,p){return kr(u,s)?u:Ro.current!==null?(n=av(n,u,p),kr(n,s)||(Qt=!0),n):(Ci&42)===0?(Qt=!0,n.memoizedState=u):(n=eC(),Ke.lanes|=n,Mi|=n,s)}function eb(n,s,u,p,y){var b=Z.p;Z.p=b!==0&&8>b?b:8;var E=H.T,_={};H.T=_,uv(n,!1,s,u);try{var M=y(),D=H.S;if(D!==null&&D(_,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var J=E3(M,p);Ia(n,s,J,jr(n))}else Ia(n,s,p,jr(n))}catch(re){Ia(n,s,{then:function(){},status:"rejected",reason:re},jr())}finally{Z.p=b,H.T=E}}function k3(){}function cv(n,s,u,p){if(n.tag!==5)throw Error(i(476));var y=tb(n).queue;eb(n,y,s,xe,u===null?k3:function(){return rb(n),u(p)})}function tb(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:xe},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:u},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function rb(n){var s=tb(n).next.queue;Ia(n,s,{},jr())}function lv(){return lr(Za)}function nb(){return Lt().memoizedState}function ib(){return Lt().memoizedState}function M3(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var u=jr();n=Ei(u);var p=Ti(s,n,u);p!==null&&(gr(p,s,u),Da(p,s,u)),s={cache:Kf()},n.payload=s;return}s=s.return}}function N3(n,s,u){var p=jr();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Ah(n)?ob(s,u):(u=Bf(n,s,u,p),u!==null&&(gr(u,n,p),ab(u,s,p)))}function sb(n,s,u){var p=jr();Ia(n,s,u,p)}function Ia(n,s,u,p){var y={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ah(n))ob(s,y);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var E=s.lastRenderedState,_=b(E,u);if(y.hasEagerState=!0,y.eagerState=_,kr(_,E))return dh(n,s,y,0),ht===null&&uh(),!1}catch{}finally{}if(u=Bf(n,s,y,p),u!==null)return gr(u,n,p),ab(u,s,p),!0}return!1}function uv(n,s,u,p){if(p={lane:2,revertLane:Zv(),action:p,hasEagerState:!1,eagerState:null,next:null},Ah(n)){if(s)throw Error(i(479))}else s=Bf(n,u,p,2),s!==null&&gr(s,n,2)}function Ah(n){var s=n.alternate;return n===Ke||s!==null&&s===Ke}function ob(n,s){To=Ch=!0;var u=n.pending;u===null?s.next=s:(s.next=u.next,u.next=s),n.pending=s}function ab(n,s,u){if((u&4194176)!==0){var p=s.lanes;p&=n.pendingLanes,u|=p,s.lanes=u,Un(n,u)}}var _n={readContext:lr,use:wh,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt};_n.useCacheRefresh=kt,_n.useMemoCache=kt,_n.useHostTransitionStatus=kt,_n.useFormState=kt,_n.useActionState=kt,_n.useOptimistic=kt;var as={readContext:lr,use:wh,useCallback:function(n,s){return Er().memoizedState=[n,s===void 0?null:s],n},useContext:lr,useEffect:K1,useImperativeHandle:function(n,s,u){u=u!=null?u.concat([n]):null,Th(4194308,4,J1.bind(null,s,n),u)},useLayoutEffect:function(n,s){return Th(4194308,4,n,s)},useInsertionEffect:function(n,s){Th(4,2,n,s)},useMemo:function(n,s){var u=Er();s=s===void 0?null:s;var p=n();if(os){Gt(!0);try{n()}finally{Gt(!1)}}return u.memoizedState=[p,s],p},useReducer:function(n,s,u){var p=Er();if(u!==void 0){var y=u(s);if(os){Gt(!0);try{u(s)}finally{Gt(!1)}}}else y=s;return p.memoizedState=p.baseState=y,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:y},p.queue=n,n=n.dispatch=N3.bind(null,Ke,n),[p.memoizedState,n]},useRef:function(n){var s=Er();return n={current:n},s.memoizedState=n},useState:function(n){n=nv(n);var s=n.queue,u=sb.bind(null,Ke,s);return s.dispatch=u,[n.memoizedState,u]},useDebugValue:ov,useDeferredValue:function(n,s){var u=Er();return av(u,n,s)},useTransition:function(){var n=nv(!1);return n=eb.bind(null,Ke,n.queue,!0,!1),Er().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,u){var p=Ke,y=Er();if(it){if(u===void 0)throw Error(i(407));u=u()}else{if(u=s(),ht===null)throw Error(i(349));(tt&60)!==0||k1(p,s,u)}y.memoizedState=u;var b={value:u,getSnapshot:s};return y.queue=b,K1(N1.bind(null,p,b,n),[n]),p.flags|=2048,Ao(9,M1.bind(null,p,b,u,s),{destroy:void 0},null),u},useId:function(){var n=Er(),s=ht.identifierPrefix;if(it){var u=$n,p=Hn;u=(p&~(1<<32-Ot(p)-1)).toString(32)+u,s=":"+s+"R"+u,u=xh++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=T3++,s=":"+s+"r"+u.toString(32)+":";return n.memoizedState=s},useCacheRefresh:function(){return Er().memoizedState=M3.bind(null,Ke)}};as.useMemoCache=ev,as.useHostTransitionStatus=lv,as.useFormState=U1,as.useActionState=U1,as.useOptimistic=function(n){var s=Er();s.memoizedState=s.baseState=n;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=uv.bind(null,Ke,!0,u),u.dispatch=s,[n,s]};var xi={readContext:lr,use:wh,useCallback:Q1,useContext:lr,useEffect:sv,useImperativeHandle:Y1,useInsertionEffect:W1,useLayoutEffect:G1,useMemo:X1,useReducer:Eh,useRef:$1,useState:function(){return Eh(Wn)},useDebugValue:ov,useDeferredValue:function(n,s){var u=Lt();return Z1(u,ct.memoizedState,n,s)},useTransition:function(){var n=Eh(Wn)[0],s=Lt().memoizedState;return[typeof n=="boolean"?n:Na(n),s]},useSyncExternalStore:_1,useId:nb};xi.useCacheRefresh=ib,xi.useMemoCache=ev,xi.useHostTransitionStatus=lv,xi.useFormState=V1,xi.useActionState=V1,xi.useOptimistic=function(n,s){var u=Lt();return O1(u,ct,n,s)};var cs={readContext:lr,use:wh,useCallback:Q1,useContext:lr,useEffect:sv,useImperativeHandle:Y1,useInsertionEffect:W1,useLayoutEffect:G1,useMemo:X1,useReducer:rv,useRef:$1,useState:function(){return rv(Wn)},useDebugValue:ov,useDeferredValue:function(n,s){var u=Lt();return ct===null?av(u,n,s):Z1(u,ct.memoizedState,n,s)},useTransition:function(){var n=rv(Wn)[0],s=Lt().memoizedState;return[typeof n=="boolean"?n:Na(n),s]},useSyncExternalStore:_1,useId:nb};cs.useCacheRefresh=ib,cs.useMemoCache=ev,cs.useHostTransitionStatus=lv,cs.useFormState=H1,cs.useActionState=H1,cs.useOptimistic=function(n,s){var u=Lt();return ct!==null?O1(u,ct,n,s):(u.baseState=n,[n,u.queue.dispatch])};function dv(n,s,u,p){s=n.memoizedState,u=u(p,s),u=u==null?s:$({},s,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var hv={isMounted:function(n){return(n=n._reactInternals)?ce(n)===n:!1},enqueueSetState:function(n,s,u){n=n._reactInternals;var p=jr(),y=Ei(p);y.payload=s,u!=null&&(y.callback=u),s=Ti(n,y,p),s!==null&&(gr(s,n,p),Da(s,n,p))},enqueueReplaceState:function(n,s,u){n=n._reactInternals;var p=jr(),y=Ei(p);y.tag=1,y.payload=s,u!=null&&(y.callback=u),s=Ti(n,y,p),s!==null&&(gr(s,n,p),Da(s,n,p))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var u=jr(),p=Ei(u);p.tag=2,s!=null&&(p.callback=s),s=Ti(n,p,u),s!==null&&(gr(s,n,u),Da(s,n,u))}};function cb(n,s,u,p,y,b,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(p,b,E):s.prototype&&s.prototype.isPureReactComponent?!ba(u,p)||!ba(y,b):!0}function lb(n,s,u,p){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==n&&hv.enqueueReplaceState(s,s.state,null)}function ls(n,s){var u=s;if("ref"in s){u={};for(var p in s)p!=="ref"&&(u[p]=s[p])}if(n=n.defaultProps){u===s&&(u=$({},u));for(var y in n)u[y]===void 0&&(u[y]=n[y])}return u}var _h=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ub(n){_h(n)}function db(n){console.error(n)}function hb(n){_h(n)}function kh(n,s){try{var u=n.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function pb(n,s,u){try{var p=n.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function pv(n,s,u){return u=Ei(u),u.tag=3,u.payload={element:null},u.callback=function(){kh(n,s)},u}function fb(n){return n=Ei(n),n.tag=3,n}function vb(n,s,u,p){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=p.value;n.payload=function(){return y(b)},n.callback=function(){pb(s,u,p)}}var E=u.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){pb(s,u,p),typeof y!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var _=p.stack;this.componentDidCatch(p.value,{componentStack:_!==null?_:""})})}function I3(n,s,u,p,y){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=u.alternate,s!==null&&Oa(s,u,y,!0),u=Wr.current,u!==null){switch(u.tag){case 13:return An===null?Gv():u.alternate===null&&Pt===0&&(Pt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,p===Ff?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([p]):s.add(p),Yv(n,p,y)),!1;case 22:return u.flags|=65536,p===Ff?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([p]):u.add(p)),Yv(n,p,y)),!1}throw Error(i(435,u.tag))}return Yv(n,p,y),Gv(),!1}if(it)return s=Wr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,p!==Vf&&(n=Error(i(422),{cause:p}),wa(Hr(n,u)))):(p!==Vf&&(s=Error(i(423),{cause:p}),wa(Hr(s,u))),n=n.current.alternate,n.flags|=65536,y&=-y,n.lanes|=y,p=Hr(p,u),y=pv(n.stateNode,p,y),Av(n,y),Pt!==4&&(Pt=2)),!1;var b=Error(i(520),{cause:p});if(b=Hr(b,u),Ha===null?Ha=[b]:Ha.push(b),Pt!==4&&(Pt=2),s===null)return!0;p=Hr(p,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,n=y&-y,u.lanes|=n,n=pv(u.stateNode,p,n),Av(u,n),!1;case 1:if(s=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ni===null||!Ni.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=fb(y),vb(y,n,u,p),Av(u,y),!1}u=u.return}while(u!==null);return!1}var mb=Error(i(461)),Qt=!1;function nr(n,s,u,p){s.child=n===null?C1(s,null,u,p):is(s,n.child,u,p)}function gb(n,s,u,p,y){u=u.render;var b=s.ref;if("ref"in p){var E={};for(var _ in p)_!=="ref"&&(E[_]=p[_])}else E=p;return ds(s),p=Yf(n,s,u,E,b,y),_=Qf(),n!==null&&!Qt?(Xf(n,s,y),Gn(n,s,y)):(it&&_&&qf(s),s.flags|=1,nr(n,s,p,y),s.child)}function yb(n,s,u,p,y){if(n===null){var b=u.type;return typeof b=="function"&&!Dv(b)&&b.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=b,Sb(n,s,b,p,y)):(n=Oh(u.type,null,p,s,s.mode,y),n.ref=s.ref,n.return=s,s.child=n)}if(b=n.child,!xv(n,y)){var E=b.memoizedProps;if(u=u.compare,u=u!==null?u:ba,u(E,p)&&n.ref===s.ref)return Gn(n,s,y)}return s.flags|=1,n=ki(b,p),n.ref=s.ref,n.return=s,s.child=n}function Sb(n,s,u,p,y){if(n!==null){var b=n.memoizedProps;if(ba(b,p)&&n.ref===s.ref)if(Qt=!1,s.pendingProps=p=b,xv(n,y))(n.flags&131072)!==0&&(Qt=!0);else return s.lanes=n.lanes,Gn(n,s,y)}return fv(n,s,u,p,y)}function bb(n,s,u){var p=s.pendingProps,y=p.children,b=(s.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(ja(n,s),p.mode==="hidden"||b){if((s.flags&128)!==0){if(p=E!==null?E.baseLanes|u:u,n!==null){for(y=s.child=n.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;s.childLanes=b&~p}else s.childLanes=0,s.child=null;return Cb(n,s,p,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&bh(s,E!==null?E.cachePool:null),E!==null?x1(s,E):Hf(),R1(s);else return s.lanes=s.childLanes=536870912,Cb(n,s,E!==null?E.baseLanes|u:u,u)}else E!==null?(bh(s,E.cachePool),x1(s,E),bi(),s.memoizedState=null):(n!==null&&bh(s,null),Hf(),bi());return nr(n,s,y,u),s.child}function Cb(n,s,u,p){var y=Gf();return y=y===null?null:{parent:Ht._currentValue,pool:y},s.memoizedState={baseLanes:u,cachePool:y},n!==null&&bh(s,null),Hf(),R1(s),n!==null&&Oa(n,s,p,!0),null}function ja(n,s){var u=s.ref;if(u===null)n!==null&&n.ref!==null&&(s.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(n===null||n.ref!==u)&&(s.flags|=2097664)}}function fv(n,s,u,p,y){return ds(s),u=Yf(n,s,u,p,void 0,y),p=Qf(),n!==null&&!Qt?(Xf(n,s,y),Gn(n,s,y)):(it&&p&&qf(s),s.flags|=1,nr(n,s,u,y),s.child)}function xb(n,s,u,p,y,b){return ds(s),s.updateQueue=null,u=A1(s,p,u,y),P1(n),p=Qf(),n!==null&&!Qt?(Xf(n,s,b),Gn(n,s,b)):(it&&p&&qf(s),s.flags|=1,nr(n,s,u,b),s.child)}function Rb(n,s,u,p,y){if(ds(s),s.stateNode===null){var b=So,E=u.contextType;typeof E=="object"&&E!==null&&(b=lr(E)),b=new u(p,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=hv,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=p,b.state=s.memoizedState,b.refs={},Tv(s),E=u.contextType,b.context=typeof E=="object"&&E!==null?lr(E):So,b.state=s.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(dv(s,u,E,p),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(E=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),E!==b.state&&hv.enqueueReplaceState(b,b.state,null),La(s,p,b,y),za(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(n===null){b=s.stateNode;var _=s.memoizedProps,M=ls(u,_);b.props=M;var D=b.context,J=u.contextType;E=So,typeof J=="object"&&J!==null&&(E=lr(J));var re=u.getDerivedStateFromProps;J=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,J||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_||D!==E)&&lb(s,b,p,E),wi=!1;var V=s.memoizedState;b.state=V,La(s,p,b,y),za(),D=s.memoizedState,_||V!==D||wi?(typeof re=="function"&&(dv(s,u,re,p),D=s.memoizedState),(M=wi||cb(s,u,M,p,V,D,E))?(J||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=D),b.props=p,b.state=D,b.context=E,p=M):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{b=s.stateNode,Pv(n,s),E=s.memoizedProps,J=ls(u,E),b.props=J,re=s.pendingProps,V=b.context,D=u.contextType,M=So,typeof D=="object"&&D!==null&&(M=lr(D)),_=u.getDerivedStateFromProps,(D=typeof _=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==re||V!==M)&&lb(s,b,p,M),wi=!1,V=s.memoizedState,b.state=V,La(s,p,b,y),za();var G=s.memoizedState;E!==re||V!==G||wi||n!==null&&n.dependencies!==null&&Mh(n.dependencies)?(typeof _=="function"&&(dv(s,u,_,p),G=s.memoizedState),(J=wi||cb(s,u,J,p,V,G,M)||n!==null&&n.dependencies!==null&&Mh(n.dependencies))?(D||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,G,M),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,G,M)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=G),b.props=p,b.state=G,b.context=M,p=J):(typeof b.componentDidUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&V===n.memoizedState||(s.flags|=1024),p=!1)}return b=p,ja(n,s),p=(s.flags&128)!==0,b||p?(b=s.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,n!==null&&p?(s.child=is(s,n.child,null,y),s.child=is(s,null,u,y)):nr(n,s,u,y),s.memoizedState=b.state,n=s.child):n=Gn(n,s,y),n}function wb(n,s,u,p){return Ra(),s.flags|=256,nr(n,s,u,p),s.child}var vv={dehydrated:null,treeContext:null,retryLane:0};function mv(n){return{baseLanes:n,cachePool:T1()}}function gv(n,s,u){return n=n!==null?n.childLanes&~u:0,s&&(n|=Qr),n}function Eb(n,s,u){var p=s.pendingProps,y=!1,b=(s.flags&128)!==0,E;if((E=b)||(E=n!==null&&n.memoizedState===null?!1:(Ft.current&2)!==0),E&&(y=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(it){if(y?Si(s):bi(),it){var _=rr,M;if(M=_){e:{for(M=_,_=Pn;M.nodeType!==8;){if(!_){_=null;break e}if(M=pn(M.nextSibling),M===null){_=null;break e}}_=M}_!==null?(s.memoizedState={dehydrated:_,treeContext:ts!==null?{id:Hn,overflow:$n}:null,retryLane:536870912},M=Yr(18,null,null,0),M.stateNode=_,M.return=s,s.child=M,mr=s,rr=null,M=!0):M=!1}M||ns(s)}if(_=s.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return _.data==="$!"?s.lanes=16:s.lanes=536870912,null;Kn(s)}return _=p.children,p=p.fallback,y?(bi(),y=s.mode,_=Sv({mode:"hidden",children:_},y),p=ps(p,y,u,null),_.return=s,p.return=s,_.sibling=p,s.child=_,y=s.child,y.memoizedState=mv(u),y.childLanes=gv(n,E,u),s.memoizedState=vv,p):(Si(s),yv(s,_))}if(M=n.memoizedState,M!==null&&(_=M.dehydrated,_!==null)){if(b)s.flags&256?(Si(s),s.flags&=-257,s=bv(n,s,u)):s.memoizedState!==null?(bi(),s.child=n.child,s.flags|=128,s=null):(bi(),y=p.fallback,_=s.mode,p=Sv({mode:"visible",children:p.children},_),y=ps(y,_,u,null),y.flags|=2,p.return=s,y.return=s,p.sibling=y,s.child=p,is(s,n.child,null,u),p=s.child,p.memoizedState=mv(u),p.childLanes=gv(n,E,u),s.memoizedState=vv,s=y);else if(Si(s),_.data==="$!"){if(E=_.nextSibling&&_.nextSibling.dataset,E)var D=E.dgst;E=D,p=Error(i(419)),p.stack="",p.digest=E,wa({value:p,source:null,stack:null}),s=bv(n,s,u)}else if(Qt||Oa(n,s,u,!1),E=(u&n.childLanes)!==0,Qt||E){if(E=ht,E!==null){if(p=u&-u,(p&42)!==0)p=1;else switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=64;break;case 268435456:p=134217728;break;default:p=0}if(p=(p&(E.suspendedLanes|u))!==0?0:p,p!==0&&p!==M.retryLane)throw M.retryLane=p,yi(n,p),gr(E,n,p),mb}_.data==="$?"||Gv(),s=bv(n,s,u)}else _.data==="$?"?(s.flags|=128,s.child=n.child,s=G3.bind(null,n),_._reactRetry=s,s=null):(n=M.treeContext,rr=pn(_.nextSibling),mr=s,it=!0,dn=null,Pn=!1,n!==null&&($r[Kr++]=Hn,$r[Kr++]=$n,$r[Kr++]=ts,Hn=n.id,$n=n.overflow,ts=s),s=yv(s,p.children),s.flags|=4096);return s}return y?(bi(),y=p.fallback,_=s.mode,M=n.child,D=M.sibling,p=ki(M,{mode:"hidden",children:p.children}),p.subtreeFlags=M.subtreeFlags&31457280,D!==null?y=ki(D,y):(y=ps(y,_,u,null),y.flags|=2),y.return=s,p.return=s,p.sibling=y,s.child=p,p=y,y=s.child,_=n.child.memoizedState,_===null?_=mv(u):(M=_.cachePool,M!==null?(D=Ht._currentValue,M=M.parent!==D?{parent:D,pool:D}:M):M=T1(),_={baseLanes:_.baseLanes|u,cachePool:M}),y.memoizedState=_,y.childLanes=gv(n,E,u),s.memoizedState=vv,p):(Si(s),u=n.child,n=u.sibling,u=ki(u,{mode:"visible",children:p.children}),u.return=s,u.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=u,s.memoizedState=null,u)}function yv(n,s){return s=Sv({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Sv(n,s){return Qb(n,s,0,null)}function bv(n,s,u){return is(s,n.child,null,u),n=yv(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Tb(n,s,u){n.lanes|=s;var p=n.alternate;p!==null&&(p.lanes|=s),wv(n.return,s,u)}function Cv(n,s,u,p,y){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:y}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=u,b.tailMode=y)}function Pb(n,s,u){var p=s.pendingProps,y=p.revealOrder,b=p.tail;if(nr(n,s,p.children,u),p=Ft.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Tb(n,u,s);else if(n.tag===19)Tb(n,u,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}p&=1}switch(Ie(Ft,p),y){case"forwards":for(u=s.child,y=null;u!==null;)n=u.alternate,n!==null&&Sh(n)===null&&(y=u),u=u.sibling;u=y,u===null?(y=s.child,s.child=null):(y=u.sibling,u.sibling=null),Cv(s,!1,y,u,b);break;case"backwards":for(u=null,y=s.child,s.child=null;y!==null;){if(n=y.alternate,n!==null&&Sh(n)===null){s.child=y;break}n=y.sibling,y.sibling=u,u=y,y=n}Cv(s,!0,u,null,b);break;case"together":Cv(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Gn(n,s,u){if(n!==null&&(s.dependencies=n.dependencies),Mi|=s.lanes,(u&s.childLanes)===0)if(n!==null){if(Oa(n,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,u=ki(n,n.pendingProps),s.child=u,u.return=s;n.sibling!==null;)n=n.sibling,u=u.sibling=ki(n,n.pendingProps),u.return=s;u.sibling=null}return s.child}function xv(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Mh(n)))}function j3(n,s,u){switch(s.tag){case 3:Br(s,s.stateNode.containerInfo),Ri(s,Ht,n.memoizedState.cache),Ra();break;case 27:case 5:ln(s);break;case 4:Br(s,s.stateNode.containerInfo);break;case 10:Ri(s,s.type,s.memoizedProps.value);break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(Si(s),s.flags|=128,null):(u&s.child.childLanes)!==0?Eb(n,s,u):(Si(s),n=Gn(n,s,u),n!==null?n.sibling:null);Si(s);break;case 19:var y=(n.flags&128)!==0;if(p=(u&s.childLanes)!==0,p||(Oa(n,s,u,!1),p=(u&s.childLanes)!==0),y){if(p)return Pb(n,s,u);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ie(Ft,Ft.current),p)break;return null;case 22:case 23:return s.lanes=0,bb(n,s,u);case 24:Ri(s,Ht,n.memoizedState.cache)}return Gn(n,s,u)}function Ab(n,s,u){if(n!==null)if(n.memoizedProps!==s.pendingProps)Qt=!0;else{if(!xv(n,u)&&(s.flags&128)===0)return Qt=!1,j3(n,s,u);Qt=(n.flags&131072)!==0}else Qt=!1,it&&(s.flags&1048576)!==0&&h1(s,fh,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var p=s.elementType,y=p._init;if(p=y(p._payload),s.type=p,typeof p=="function")Dv(p)?(n=ls(p,n),s.tag=1,s=Rb(null,s,p,n,u)):(s.tag=0,s=fv(null,s,p,n,u));else{if(p!=null){if(y=p.$$typeof,y===C){s.tag=11,s=gb(null,s,p,n,u);break e}else if(y===w){s.tag=14,s=yb(null,s,p,n,u);break e}}throw s=q(p)||p,Error(i(306,s,""))}}return s;case 0:return fv(n,s,s.type,s.pendingProps,u);case 1:return p=s.type,y=ls(p,s.pendingProps),Rb(n,s,p,y,u);case 3:e:{if(Br(s,s.stateNode.containerInfo),n===null)throw Error(i(387));var b=s.pendingProps;y=s.memoizedState,p=y.element,Pv(n,s),La(s,b,null,u);var E=s.memoizedState;if(b=E.cache,Ri(s,Ht,b),b!==y.cache&&Ev(s,[Ht],u,!0),za(),b=E.element,y.isDehydrated)if(y={element:b,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=wb(n,s,b,u);break e}else if(b!==p){p=Hr(Error(i(424)),s),wa(p),s=wb(n,s,b,u);break e}else for(rr=pn(s.stateNode.containerInfo.firstChild),mr=s,it=!0,dn=null,Pn=!0,u=C1(s,null,b,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ra(),b===p){s=Gn(n,s,u);break e}nr(n,s,b,u)}s=s.child}return s;case 26:return ja(n,s),n===null?(u=MC(s.type,null,s.pendingProps,null))?s.memoizedState=u:it||(u=s.type,n=s.pendingProps,p=Wh(Kt.current).createElement(u),p[Dt]=s,p[cr]=n,ir(p,u,n),Yt(p),s.stateNode=p):s.memoizedState=MC(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return ln(s),n===null&&it&&(p=s.stateNode=AC(s.type,s.pendingProps,Kt.current),mr=s,Pn=!0,rr=pn(p.firstChild)),p=s.pendingProps.children,n!==null||it?nr(n,s,p,u):s.child=is(s,null,p,u),ja(n,s),s.child;case 5:return n===null&&it&&((y=p=rr)&&(p=uM(p,s.type,s.pendingProps,Pn),p!==null?(s.stateNode=p,mr=s,rr=pn(p.firstChild),Pn=!1,y=!0):y=!1),y||ns(s)),ln(s),y=s.type,b=s.pendingProps,E=n!==null?n.memoizedProps:null,p=b.children,cm(y,b)?p=null:E!==null&&cm(y,E)&&(s.flags|=32),s.memoizedState!==null&&(y=Yf(n,s,P3,null,null,u),Za._currentValue=y),ja(n,s),nr(n,s,p,u),s.child;case 6:return n===null&&it&&((n=u=rr)&&(u=dM(u,s.pendingProps,Pn),u!==null?(s.stateNode=u,mr=s,rr=null,n=!0):n=!1),n||ns(s)),null;case 13:return Eb(n,s,u);case 4:return Br(s,s.stateNode.containerInfo),p=s.pendingProps,n===null?s.child=is(s,null,p,u):nr(n,s,p,u),s.child;case 11:return gb(n,s,s.type,s.pendingProps,u);case 7:return nr(n,s,s.pendingProps,u),s.child;case 8:return nr(n,s,s.pendingProps.children,u),s.child;case 12:return nr(n,s,s.pendingProps.children,u),s.child;case 10:return p=s.pendingProps,Ri(s,s.type,p.value),nr(n,s,p.children,u),s.child;case 9:return y=s.type._context,p=s.pendingProps.children,ds(s),y=lr(y),p=p(y),s.flags|=1,nr(n,s,p,u),s.child;case 14:return yb(n,s,s.type,s.pendingProps,u);case 15:return Sb(n,s,s.type,s.pendingProps,u);case 19:return Pb(n,s,u);case 22:return bb(n,s,u);case 24:return ds(s),p=lr(Ht),n===null?(y=Gf(),y===null&&(y=ht,b=Kf(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),s.memoizedState={parent:p,cache:y},Tv(s),Ri(s,Ht,y)):((n.lanes&u)!==0&&(Pv(n,s),La(s,null,null,u),za()),y=n.memoizedState,b=s.memoizedState,y.parent!==p?(y={parent:p,cache:p},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ri(s,Ht,p)):(p=b.cache,Ri(s,Ht,p),p!==y.cache&&Ev(s,[Ht],u,!0))),nr(n,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var Rv=Fe(null),us=null,Jn=null;function Ri(n,s,u){Ie(Rv,s._currentValue),s._currentValue=u}function Yn(n){n._currentValue=Rv.current,Qe(Rv)}function wv(n,s,u){for(;n!==null;){var p=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),n===u)break;n=n.return}}function Ev(n,s,u,p){var y=n.child;for(y!==null&&(y.return=n);y!==null;){var b=y.dependencies;if(b!==null){var E=y.child;b=b.firstContext;e:for(;b!==null;){var _=b;b=y;for(var M=0;M<s.length;M++)if(_.context===s[M]){b.lanes|=u,_=b.alternate,_!==null&&(_.lanes|=u),wv(b.return,u,n),p||(E=null);break e}b=_.next}}else if(y.tag===18){if(E=y.return,E===null)throw Error(i(341));E.lanes|=u,b=E.alternate,b!==null&&(b.lanes|=u),wv(E,u,n),E=null}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===n){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}}function Oa(n,s,u,p){n=null;for(var y=s,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var E=y.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var _=y.type;kr(y.pendingProps.value,E.value)||(n!==null?n.push(_):n=[_])}}else if(y===fr.current){if(E=y.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(n!==null?n.push(Za):n=[Za])}y=y.return}n!==null&&Ev(s,n,u,p),s.flags|=262144}function Mh(n){for(n=n.firstContext;n!==null;){if(!kr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ds(n){us=n,Jn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function lr(n){return _b(us,n)}function Nh(n,s){return us===null&&ds(n),_b(n,s)}function _b(n,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Jn===null){if(n===null)throw Error(i(308));Jn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Jn=Jn.next=s;return u}var wi=!1;function Tv(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pv(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ei(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ti(n,s,u){var p=n.updateQueue;if(p===null)return null;if(p=p.shared,(xt&2)!==0){var y=p.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),p.pending=s,s=hh(n),u1(n,null,u),s}return dh(n,p,s,u),hh(n)}function Da(n,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194176)!==0)){var p=s.lanes;p&=n.pendingLanes,u|=p,s.lanes=u,Un(n,u)}}function Av(n,s){var u=n.updateQueue,p=n.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var E={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=E:b=b.next=E,u=u.next}while(u!==null);b===null?y=b=s:b=b.next=s}else y=b=s;u={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:p.shared,callbacks:p.callbacks},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=s:n.next=s,u.lastBaseUpdate=s}var _v=!1;function za(){if(_v){var n=Eo;if(n!==null)throw n}}function La(n,s,u,p){_v=!1;var y=n.updateQueue;wi=!1;var b=y.firstBaseUpdate,E=y.lastBaseUpdate,_=y.shared.pending;if(_!==null){y.shared.pending=null;var M=_,D=M.next;M.next=null,E===null?b=D:E.next=D,E=M;var J=n.alternate;J!==null&&(J=J.updateQueue,_=J.lastBaseUpdate,_!==E&&(_===null?J.firstBaseUpdate=D:_.next=D,J.lastBaseUpdate=M))}if(b!==null){var re=y.baseState;E=0,J=D=M=null,_=b;do{var V=_.lane&-536870913,G=V!==_.lane;if(G?(tt&V)===V:(p&V)===V){V!==0&&V===wo&&(_v=!0),J!==null&&(J=J.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Re=n,Ue=_;V=s;var At=u;switch(Ue.tag){case 1:if(Re=Ue.payload,typeof Re=="function"){re=Re.call(At,re,V);break e}re=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ue.payload,V=typeof Re=="function"?Re.call(At,re,V):Re,V==null)break e;re=$({},re,V);break e;case 2:wi=!0}}V=_.callback,V!==null&&(n.flags|=64,G&&(n.flags|=8192),G=y.callbacks,G===null?y.callbacks=[V]:G.push(V))}else G={lane:V,tag:_.tag,payload:_.payload,callback:_.callback,next:null},J===null?(D=J=G,M=re):J=J.next=G,E|=V;if(_=_.next,_===null){if(_=y.shared.pending,_===null)break;G=_,_=G.next,G.next=null,y.lastBaseUpdate=G,y.shared.pending=null}}while(!0);J===null&&(M=re),y.baseState=M,y.firstBaseUpdate=D,y.lastBaseUpdate=J,b===null&&(y.shared.lanes=0),Mi|=E,n.lanes=E,n.memoizedState=re}}function kb(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Mb(n,s){var u=n.callbacks;if(u!==null)for(n.callbacks=null,n=0;n<u.length;n++)kb(u[n],s)}function Ba(n,s){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var y=p.next;u=y;do{if((u.tag&n)===n){p=void 0;var b=u.create,E=u.inst;p=b(),E.destroy=p}u=u.next}while(u!==y)}}catch(_){dt(s,s.return,_)}}function Pi(n,s,u){try{var p=s.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var b=y.next;p=b;do{if((p.tag&n)===n){var E=p.inst,_=E.destroy;if(_!==void 0){E.destroy=void 0,y=s;var M=u;try{_()}catch(D){dt(y,M,D)}}}p=p.next}while(p!==b)}}catch(D){dt(s,s.return,D)}}function Nb(n){var s=n.updateQueue;if(s!==null){var u=n.stateNode;try{Mb(s,u)}catch(p){dt(n,n.return,p)}}}function Ib(n,s,u){u.props=ls(n.type,n.memoizedProps),u.state=n.memoizedState;try{u.componentWillUnmount()}catch(p){dt(n,s,p)}}function hs(n,s){try{var u=n.ref;if(u!==null){var p=n.stateNode;switch(n.tag){case 26:case 27:case 5:var y=p;break;default:y=p}typeof u=="function"?n.refCleanup=u(y):u.current=y}}catch(b){dt(n,s,b)}}function Mr(n,s){var u=n.ref,p=n.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(y){dt(n,s,y)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){dt(n,s,y)}else u.current=null}function jb(n){var s=n.type,u=n.memoizedProps,p=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(y){dt(n,n.return,y)}}function Ob(n,s,u){try{var p=n.stateNode;sM(p,n.type,u,s),p[cr]=s}catch(y){dt(n,n.return,y)}}function Db(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function kv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Db(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Mv(n,s,u){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(n,s):u.insertBefore(n,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(n,u)):(s=u,s.appendChild(n)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Kh));else if(p!==4&&p!==27&&(n=n.child,n!==null))for(Mv(n,s,u),n=n.sibling;n!==null;)Mv(n,s,u),n=n.sibling}function Ih(n,s,u){var p=n.tag;if(p===5||p===6)n=n.stateNode,s?u.insertBefore(n,s):u.appendChild(n);else if(p!==4&&p!==27&&(n=n.child,n!==null))for(Ih(n,s,u),n=n.sibling;n!==null;)Ih(n,s,u),n=n.sibling}var Qn=!1,Tt=!1,Nv=!1,zb=typeof WeakSet=="function"?WeakSet:Set,Xt=null,Lb=!1;function O3(n,s){if(n=n.containerInfo,om=Zh,n=t1(n),jf(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var y=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var E=0,_=-1,M=-1,D=0,J=0,re=n,V=null;t:for(;;){for(var G;re!==u||y!==0&&re.nodeType!==3||(_=E+y),re!==b||p!==0&&re.nodeType!==3||(M=E+p),re.nodeType===3&&(E+=re.nodeValue.length),(G=re.firstChild)!==null;)V=re,re=G;for(;;){if(re===n)break t;if(V===u&&++D===y&&(_=E),V===b&&++J===p&&(M=E),(G=re.nextSibling)!==null)break;re=V,V=re.parentNode}re=G}u=_===-1||M===-1?null:{start:_,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(am={focusedElem:n,selectionRange:u},Zh=!1,Xt=s;Xt!==null;)if(s=Xt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Xt=n;else for(;Xt!==null;){switch(s=Xt,b=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,u=s,y=b.memoizedProps,b=b.memoizedState,p=u.stateNode;try{var Re=ls(u.type,y,u.elementType===u.type);n=p.getSnapshotBeforeUpdate(Re,b),p.__reactInternalSnapshotBeforeUpdate=n}catch(Ue){dt(u,u.return,Ue)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,u=n.nodeType,u===9)dm(n);else if(u===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":dm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Xt=n;break}Xt=s.return}return Re=Lb,Lb=!1,Re}function Bb(n,s,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:Zn(n,u),p&4&&Ba(5,u);break;case 1:if(Zn(n,u),p&4)if(n=u.stateNode,s===null)try{n.componentDidMount()}catch(_){dt(u,u.return,_)}else{var y=ls(u.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(y,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){dt(u,u.return,_)}}p&64&&Nb(u),p&512&&hs(u,u.return);break;case 3:if(Zn(n,u),p&64&&(p=u.updateQueue,p!==null)){if(n=null,u.child!==null)switch(u.child.tag){case 27:case 5:n=u.child.stateNode;break;case 1:n=u.child.stateNode}try{Mb(p,n)}catch(_){dt(u,u.return,_)}}break;case 26:Zn(n,u),p&512&&hs(u,u.return);break;case 27:case 5:Zn(n,u),s===null&&p&4&&jb(u),p&512&&hs(u,u.return);break;case 12:Zn(n,u);break;case 13:Zn(n,u),p&4&&Vb(n,u);break;case 22:if(y=u.memoizedState!==null||Qn,!y){s=s!==null&&s.memoizedState!==null||Tt;var b=Qn,E=Tt;Qn=y,(Tt=s)&&!E?Ai(n,u,(u.subtreeFlags&8772)!==0):Zn(n,u),Qn=b,Tt=E}p&512&&(u.memoizedProps.mode==="manual"?hs(u,u.return):Mr(u,u.return));break;default:Zn(n,u)}}function qb(n){var s=n.alternate;s!==null&&(n.alternate=null,qb(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&yf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Bt=null,Nr=!1;function Xn(n,s,u){for(u=u.child;u!==null;)Ub(n,s,u),u=u.sibling}function Ub(n,s,u){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(ar,u)}catch{}switch(u.tag){case 26:Tt||Mr(u,s),Xn(n,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Tt||Mr(u,s);var p=Bt,y=Nr;for(Bt=u.stateNode,Xn(n,s,u),u=u.stateNode,s=u.attributes;s.length;)u.removeAttributeNode(s[0]);yf(u),Bt=p,Nr=y;break;case 5:Tt||Mr(u,s);case 6:y=Bt;var b=Nr;if(Bt=null,Xn(n,s,u),Bt=y,Nr=b,Bt!==null)if(Nr)try{n=Bt,p=u.stateNode,n.nodeType===8?n.parentNode.removeChild(p):n.removeChild(p)}catch(E){dt(u,s,E)}else try{Bt.removeChild(u.stateNode)}catch(E){dt(u,s,E)}break;case 18:Bt!==null&&(Nr?(s=Bt,u=u.stateNode,s.nodeType===8?um(s.parentNode,u):s.nodeType===1&&um(s,u),nc(s)):um(Bt,u.stateNode));break;case 4:p=Bt,y=Nr,Bt=u.stateNode.containerInfo,Nr=!0,Xn(n,s,u),Bt=p,Nr=y;break;case 0:case 11:case 14:case 15:Tt||Pi(2,u,s),Tt||Pi(4,u,s),Xn(n,s,u);break;case 1:Tt||(Mr(u,s),p=u.stateNode,typeof p.componentWillUnmount=="function"&&Ib(u,s,p)),Xn(n,s,u);break;case 21:Xn(n,s,u);break;case 22:Tt||Mr(u,s),Tt=(p=Tt)||u.memoizedState!==null,Xn(n,s,u),Tt=p;break;default:Xn(n,s,u)}}function Vb(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{nc(n)}catch(u){dt(s,s.return,u)}}function D3(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new zb),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new zb),s;default:throw Error(i(435,n.tag))}}function Iv(n,s){var u=D3(n);s.forEach(function(p){var y=J3.bind(null,n,p);u.has(p)||(u.add(p),p.then(y,y))})}function Gr(n,s){var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var y=u[p],b=n,E=s,_=E;e:for(;_!==null;){switch(_.tag){case 27:case 5:Bt=_.stateNode,Nr=!1;break e;case 3:Bt=_.stateNode.containerInfo,Nr=!0;break e;case 4:Bt=_.stateNode.containerInfo,Nr=!0;break e}_=_.return}if(Bt===null)throw Error(i(160));Ub(b,E,y),Bt=null,Nr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Fb(s,n),s=s.sibling}var hn=null;function Fb(n,s){var u=n.alternate,p=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Gr(s,n),Jr(n),p&4&&(Pi(3,n,n.return),Ba(3,n),Pi(5,n,n.return));break;case 1:Gr(s,n),Jr(n),p&512&&(Tt||u===null||Mr(u,u.return)),p&64&&Qn&&(n=n.updateQueue,n!==null&&(p=n.callbacks,p!==null&&(u=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var y=hn;if(Gr(s,n),Jr(n),p&512&&(Tt||u===null||Mr(u,u.return)),p&4){var b=u!==null?u.memoizedState:null;if(p=n.memoizedState,u===null)if(p===null)if(n.stateNode===null){e:{p=n.type,u=n.memoizedProps,y=y.ownerDocument||y;t:switch(p){case"title":b=y.getElementsByTagName("title")[0],(!b||b[da]||b[Dt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(p),y.head.insertBefore(b,y.querySelector("head > title"))),ir(b,p,u),b[Dt]=n,Yt(b),p=b;break e;case"link":var E=jC("link","href",y).get(p+(u.href||""));if(E){for(var _=0;_<E.length;_++)if(b=E[_],b.getAttribute("href")===(u.href==null?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){E.splice(_,1);break t}}b=y.createElement(p),ir(b,p,u),y.head.appendChild(b);break;case"meta":if(E=jC("meta","content",y).get(p+(u.content||""))){for(_=0;_<E.length;_++)if(b=E[_],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){E.splice(_,1);break t}}b=y.createElement(p),ir(b,p,u),y.head.appendChild(b);break;default:throw Error(i(468,p))}b[Dt]=n,Yt(b),p=b}n.stateNode=p}else OC(y,n.type,n.stateNode);else n.stateNode=IC(y,p,n.memoizedProps);else b!==p?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,p===null?OC(y,n.type,n.stateNode):IC(y,p,n.memoizedProps)):p===null&&n.stateNode!==null&&Ob(n,n.memoizedProps,u.memoizedProps)}break;case 27:if(p&4&&n.alternate===null){y=n.stateNode,b=n.memoizedProps;try{for(var M=y.firstChild;M;){var D=M.nextSibling,J=M.nodeName;M[da]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&M.rel.toLowerCase()==="stylesheet"||y.removeChild(M),M=D}for(var re=n.type,V=y.attributes;V.length;)y.removeAttributeNode(V[0]);ir(y,re,b),y[Dt]=n,y[cr]=b}catch(Re){dt(n,n.return,Re)}}case 5:if(Gr(s,n),Jr(n),p&512&&(Tt||u===null||Mr(u,u.return)),n.flags&32){y=n.stateNode;try{ho(y,"")}catch(Re){dt(n,n.return,Re)}}p&4&&n.stateNode!=null&&(y=n.memoizedProps,Ob(n,y,u!==null?u.memoizedProps:y)),p&1024&&(Nv=!0);break;case 6:if(Gr(s,n),Jr(n),p&4){if(n.stateNode===null)throw Error(i(162));p=n.memoizedProps,u=n.stateNode;try{u.nodeValue=p}catch(Re){dt(n,n.return,Re)}}break;case 3:if(Yh=null,y=hn,hn=Gh(s.containerInfo),Gr(s,n),hn=y,Jr(n),p&4&&u!==null&&u.memoizedState.isDehydrated)try{nc(s.containerInfo)}catch(Re){dt(n,n.return,Re)}Nv&&(Nv=!1,Hb(n));break;case 4:p=hn,hn=Gh(n.stateNode.containerInfo),Gr(s,n),Jr(n),hn=p;break;case 12:Gr(s,n),Jr(n);break;case 13:Gr(s,n),Jr(n),n.child.flags&8192&&n.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Vv=ve()),p&4&&(p=n.updateQueue,p!==null&&(n.updateQueue=null,Iv(n,p)));break;case 22:if(p&512&&(Tt||u===null||Mr(u,u.return)),M=n.memoizedState!==null,D=u!==null&&u.memoizedState!==null,J=Qn,re=Tt,Qn=J||M,Tt=re||D,Gr(s,n),Tt=re,Qn=J,Jr(n),s=n.stateNode,s._current=n,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,p&8192&&(s._visibility=M?s._visibility&-2:s._visibility|1,M&&(s=Qn||Tt,u===null||D||s||_o(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(u=null,s=n;;){if(s.tag===5||s.tag===26||s.tag===27){if(u===null){D=u=s;try{if(y=D.stateNode,M)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{E=D.stateNode,_=D.memoizedProps.style;var G=_!=null&&_.hasOwnProperty("display")?_.display:null;E.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Re){dt(D,D.return,Re)}}}else if(s.tag===6){if(u===null){D=s;try{D.stateNode.nodeValue=M?"":D.memoizedProps}catch(Re){dt(D,D.return,Re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=n.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Iv(n,u))));break;case 19:Gr(s,n),Jr(n),p&4&&(p=n.updateQueue,p!==null&&(n.updateQueue=null,Iv(n,p)));break;case 21:break;default:Gr(s,n),Jr(n)}}function Jr(n){var s=n.flags;if(s&2){try{if(n.tag!==27){e:{for(var u=n.return;u!==null;){if(Db(u)){var p=u;break e}u=u.return}throw Error(i(160))}switch(p.tag){case 27:var y=p.stateNode,b=kv(n);Ih(n,b,y);break;case 5:var E=p.stateNode;p.flags&32&&(ho(E,""),p.flags&=-33);var _=kv(n);Ih(n,_,E);break;case 3:case 4:var M=p.stateNode.containerInfo,D=kv(n);Mv(n,D,M);break;default:throw Error(i(161))}}}catch(J){dt(n,n.return,J)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Hb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Hb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Zn(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Bb(n,s.alternate,s),s=s.sibling}function _o(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Pi(4,s,s.return),_o(s);break;case 1:Mr(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&Ib(s,s.return,u),_o(s);break;case 26:case 27:case 5:Mr(s,s.return),_o(s);break;case 22:Mr(s,s.return),s.memoizedState===null&&_o(s);break;default:_o(s)}n=n.sibling}}function Ai(n,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,y=n,b=s,E=b.flags;switch(b.tag){case 0:case 11:case 15:Ai(y,b,u),Ba(4,b);break;case 1:if(Ai(y,b,u),p=b,y=p.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(D){dt(p,p.return,D)}if(p=b,y=p.updateQueue,y!==null){var _=p.stateNode;try{var M=y.shared.hiddenCallbacks;if(M!==null)for(y.shared.hiddenCallbacks=null,y=0;y<M.length;y++)kb(M[y],_)}catch(D){dt(p,p.return,D)}}u&&E&64&&Nb(b),hs(b,b.return);break;case 26:case 27:case 5:Ai(y,b,u),u&&p===null&&E&4&&jb(b),hs(b,b.return);break;case 12:Ai(y,b,u);break;case 13:Ai(y,b,u),u&&E&4&&Vb(y,b);break;case 22:b.memoizedState===null&&Ai(y,b,u),hs(b,b.return);break;default:Ai(y,b,u)}s=s.sibling}}function jv(n,s){var u=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==u&&(n!=null&&n.refCount++,u!=null&&_a(u))}function Ov(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&_a(n))}function _i(n,s,u,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$b(n,s,u,p),s=s.sibling}function $b(n,s,u,p){var y=s.flags;switch(s.tag){case 0:case 11:case 15:_i(n,s,u,p),y&2048&&Ba(9,s);break;case 3:_i(n,s,u,p),y&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&_a(n)));break;case 12:if(y&2048){_i(n,s,u,p),n=s.stateNode;try{var b=s.memoizedProps,E=b.id,_=b.onPostCommit;typeof _=="function"&&_(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){dt(s,s.return,M)}}else _i(n,s,u,p);break;case 23:break;case 22:b=s.stateNode,s.memoizedState!==null?b._visibility&4?_i(n,s,u,p):qa(n,s):b._visibility&4?_i(n,s,u,p):(b._visibility|=4,ko(n,s,u,p,(s.subtreeFlags&10256)!==0)),y&2048&&jv(s.alternate,s);break;case 24:_i(n,s,u,p),y&2048&&Ov(s.alternate,s);break;default:_i(n,s,u,p)}}function ko(n,s,u,p,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=n,E=s,_=u,M=p,D=E.flags;switch(E.tag){case 0:case 11:case 15:ko(b,E,_,M,y),Ba(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&4?ko(b,E,_,M,y):qa(b,E):(J._visibility|=4,ko(b,E,_,M,y)),y&&D&2048&&jv(E.alternate,E);break;case 24:ko(b,E,_,M,y),y&&D&2048&&Ov(E.alternate,E);break;default:ko(b,E,_,M,y)}s=s.sibling}}function qa(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=n,p=s,y=p.flags;switch(p.tag){case 22:qa(u,p),y&2048&&jv(p.alternate,p);break;case 24:qa(u,p),y&2048&&Ov(p.alternate,p);break;default:qa(u,p)}s=s.sibling}}var Ua=8192;function Mo(n){if(n.subtreeFlags&Ua)for(n=n.child;n!==null;)Kb(n),n=n.sibling}function Kb(n){switch(n.tag){case 26:Mo(n),n.flags&Ua&&n.memoizedState!==null&&wM(hn,n.memoizedState,n.memoizedProps);break;case 5:Mo(n);break;case 3:case 4:var s=hn;hn=Gh(n.stateNode.containerInfo),Mo(n),hn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Ua,Ua=16777216,Mo(n),Ua=s):Mo(n));break;default:Mo(n)}}function Wb(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Va(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var p=s[u];Xt=p,Jb(p,n)}Wb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gb(n),n=n.sibling}function Gb(n){switch(n.tag){case 0:case 11:case 15:Va(n),n.flags&2048&&Pi(9,n,n.return);break;case 3:Va(n);break;case 12:Va(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&4&&(n.return===null||n.return.tag!==13)?(s._visibility&=-5,jh(n)):Va(n);break;default:Va(n)}}function jh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var p=s[u];Xt=p,Jb(p,n)}Wb(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Pi(8,s,s.return),jh(s);break;case 22:u=s.stateNode,u._visibility&4&&(u._visibility&=-5,jh(s));break;default:jh(s)}n=n.sibling}}function Jb(n,s){for(;Xt!==null;){var u=Xt;switch(u.tag){case 0:case 11:case 15:Pi(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:_a(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Xt=p;else e:for(u=n;Xt!==null;){p=Xt;var y=p.sibling,b=p.return;if(qb(p),p===u){Xt=null;break e}if(y!==null){y.return=b,Xt=y;break e}Xt=b}}}function z3(n,s,u,p){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(n,s,u,p){return new z3(n,s,u,p)}function Dv(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ki(n,s){var u=n.alternate;return u===null?(u=Yr(n.tag,s,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=s,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&31457280,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,s=n.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u.refCleanup=n.refCleanup,u}function Yb(n,s){n.flags&=31457282;var u=n.alternate;return u===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=u.childLanes,n.lanes=u.lanes,n.child=u.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=u.memoizedProps,n.memoizedState=u.memoizedState,n.updateQueue=u.updateQueue,n.type=u.type,s=u.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Oh(n,s,u,p,y,b){var E=0;if(p=n,typeof n=="function")Dv(n)&&(E=1);else if(typeof n=="string")E=xM(n,u,Et.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case d:return ps(u.children,y,b,s);case h:E=8,y|=24;break;case f:return n=Yr(12,u,s,y|2),n.elementType=f,n.lanes=b,n;case x:return n=Yr(13,u,s,y),n.elementType=x,n.lanes=b,n;case R:return n=Yr(19,u,s,y),n.elementType=R,n.lanes=b,n;case P:return Qb(u,y,b,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case v:case S:E=10;break e;case m:E=9;break e;case C:E=11;break e;case w:E=14;break e;case T:E=16,p=null;break e}E=29,u=Error(i(130,n===null?"null":typeof n,"")),p=null}return s=Yr(E,u,s,y),s.elementType=n,s.type=p,s.lanes=b,s}function ps(n,s,u,p){return n=Yr(7,n,p,s),n.lanes=u,n}function Qb(n,s,u,p){n=Yr(22,n,p,s),n.elementType=P,n.lanes=u;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=y._current;if(b===null)throw Error(i(456));if((y._pendingVisibility&2)===0){var E=yi(b,2);E!==null&&(y._pendingVisibility|=2,gr(E,b,2))}},attach:function(){var b=y._current;if(b===null)throw Error(i(456));if((y._pendingVisibility&2)!==0){var E=yi(b,2);E!==null&&(y._pendingVisibility&=-3,gr(E,b,2))}}};return n.stateNode=y,n}function zv(n,s,u){return n=Yr(6,n,null,s),n.lanes=u,n}function Lv(n,s,u){return s=Yr(4,n.children!==null?n.children:[],n.key,s),s.lanes=u,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function ei(n){n.flags|=4}function Xb(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!DC(s)){if(s=Wr.current,s!==null&&((tt&4194176)===tt?An!==null:(tt&62914560)!==tt&&(tt&536870912)===0||s!==An))throw Ta=Ff,v1;n.flags|=8192}}function Dh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?we():536870912,n.lanes|=s,Io|=s)}function Fa(n,s){if(!it)switch(n.tailMode){case"hidden":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:p.sibling=null}}function Ct(n){var s=n.alternate!==null&&n.alternate.child===n.child,u=0,p=0;if(s)for(var y=n.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags&31457280,p|=y.flags&31457280,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)u|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=p,n.childLanes=u,s}function L3(n,s,u){var p=s.pendingProps;switch(Uf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(s),null;case 1:return Ct(s),null;case 3:return u=s.stateNode,p=null,n!==null&&(p=n.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Yn(Ht),mt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(n===null||n.child===null)&&(xa(s)?ei(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,dn!==null&&(Kv(dn),dn=null))),Ct(s),null;case 26:return u=s.memoizedState,n===null?(ei(s),u!==null?(Ct(s),Xb(s,u)):(Ct(s),s.flags&=-16777217)):u?u!==n.memoizedState?(ei(s),Ct(s),Xb(s,u)):(Ct(s),s.flags&=-16777217):(n.memoizedProps!==p&&ei(s),Ct(s),s.flags&=-16777217),null;case 27:I(s),u=Kt.current;var y=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==p&&ei(s);else{if(!p){if(s.stateNode===null)throw Error(i(166));return Ct(s),null}n=Et.current,xa(s)?p1(s):(n=AC(y,p,u),s.stateNode=n,ei(s))}return Ct(s),null;case 5:if(I(s),u=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==p&&ei(s);else{if(!p){if(s.stateNode===null)throw Error(i(166));return Ct(s),null}if(n=Et.current,xa(s))p1(s);else{switch(y=Wh(Kt.current),n){case 1:n=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:n=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":n=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":n=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":n=y.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof p.is=="string"?y.createElement("select",{is:p.is}):y.createElement("select"),p.multiple?n.multiple=!0:p.size&&(n.size=p.size);break;default:n=typeof p.is=="string"?y.createElement(u,{is:p.is}):y.createElement(u)}}n[Dt]=s,n[cr]=p;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)n.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=n;e:switch(ir(n,u,p),u){case"button":case"input":case"select":case"textarea":n=!!p.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ei(s)}}return Ct(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==p&&ei(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(i(166));if(n=Kt.current,xa(s)){if(n=s.stateNode,u=s.memoizedProps,p=null,y=mr,y!==null)switch(y.tag){case 27:case 5:p=y.memoizedProps}n[Dt]=s,n=!!(n.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||xC(n.nodeValue,u)),n||ns(s)}else n=Wh(n).createTextNode(p),n[Dt]=s,s.stateNode=n}return Ct(s),null;case 13:if(p=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(y=xa(s),p!==null&&p.dehydrated!==null){if(n===null){if(!y)throw Error(i(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[Dt]=s}else Ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ct(s),y=!1}else dn!==null&&(Kv(dn),dn=null),y=!0;if(!y)return s.flags&256?(Kn(s),s):(Kn(s),null)}if(Kn(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=p!==null,n=n!==null&&n.memoizedState!==null,u){p=s.child,y=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(y=p.alternate.memoizedState.cachePool.pool);var b=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(b=p.memoizedState.cachePool.pool),b!==y&&(p.flags|=2048)}return u!==n&&u&&(s.child.flags|=8192),Dh(s,s.updateQueue),Ct(s),null;case 4:return mt(),n===null&&nm(s.stateNode.containerInfo),Ct(s),null;case 10:return Yn(s.type),Ct(s),null;case 19:if(Qe(Ft),y=s.memoizedState,y===null)return Ct(s),null;if(p=(s.flags&128)!==0,b=y.rendering,b===null)if(p)Fa(y,!1);else{if(Pt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(b=Sh(n),b!==null){for(s.flags|=128,Fa(y,!1),n=b.updateQueue,s.updateQueue=n,Dh(s,n),s.subtreeFlags=0,n=u,u=s.child;u!==null;)Yb(u,n),u=u.sibling;return Ie(Ft,Ft.current&1|2),s.child}n=n.sibling}y.tail!==null&&ve()>zh&&(s.flags|=128,p=!0,Fa(y,!1),s.lanes=4194304)}else{if(!p)if(n=Sh(b),n!==null){if(s.flags|=128,p=!0,n=n.updateQueue,s.updateQueue=n,Dh(s,n),Fa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!it)return Ct(s),null}else 2*ve()-y.renderingStartTime>zh&&u!==536870912&&(s.flags|=128,p=!0,Fa(y,!1),s.lanes=4194304);y.isBackwards?(b.sibling=s.child,s.child=b):(n=y.last,n!==null?n.sibling=b:s.child=b,y.last=b)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=ve(),s.sibling=null,n=Ft.current,Ie(Ft,p?n&1|2:n&1),s):(Ct(s),null);case 22:case 23:return Kn(s),$f(),p=s.memoizedState!==null,n!==null?n.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(u&536870912)!==0&&(s.flags&128)===0&&(Ct(s),s.subtreeFlags&6&&(s.flags|=8192)):Ct(s),u=s.updateQueue,u!==null&&Dh(s,u.retryQueue),u=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==u&&(s.flags|=2048),n!==null&&Qe(ss),null;case 24:return u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Yn(Ht),Ct(s),null;case 25:return null}throw Error(i(156,s.tag))}function B3(n,s){switch(Uf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Yn(Ht),mt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return I(s),null;case 13:if(Kn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ra()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Qe(Ft),null;case 4:return mt(),null;case 10:return Yn(s.type),null;case 22:case 23:return Kn(s),$f(),n!==null&&Qe(ss),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Yn(Ht),null;case 25:return null;default:return null}}function Zb(n,s){switch(Uf(s),s.tag){case 3:Yn(Ht),mt();break;case 26:case 27:case 5:I(s);break;case 4:mt();break;case 13:Kn(s);break;case 19:Qe(Ft);break;case 10:Yn(s.type);break;case 22:case 23:Kn(s),$f(),n!==null&&Qe(ss);break;case 24:Yn(Ht)}}var q3={getCacheForType:function(n){var s=lr(Ht),u=s.data.get(n);return u===void 0&&(u=n(),s.data.set(n,u)),u}},U3=typeof WeakMap=="function"?WeakMap:Map,xt=0,ht=null,Je=null,tt=0,pt=0,Ir=null,ti=!1,No=!1,Bv=!1,ri=0,Pt=0,Mi=0,fs=0,qv=0,Qr=0,Io=0,Ha=null,kn=null,Uv=!1,Vv=0,zh=1/0,Lh=null,Ni=null,Bh=!1,vs=null,$a=0,Fv=0,Hv=null,Ka=0,$v=null;function jr(){if((xt&2)!==0&&tt!==0)return tt&-tt;if(H.T!==null){var n=wo;return n!==0?n:Zv()}return qr()}function eC(){Qr===0&&(Qr=(tt&536870912)===0||it?be():536870912);var n=Wr.current;return n!==null&&(n.flags|=32),Qr}function gr(n,s,u){(n===ht&&pt===2||n.cancelPendingCommit!==null)&&(jo(n,0),ni(n,tt,Qr,!1)),at(n,u),((xt&2)===0||n!==ht)&&(n===ht&&((xt&2)===0&&(fs|=u),Pt===4&&ni(n,tt,Qr,!1)),Mn(n))}function tC(n,s,u){if((xt&6)!==0)throw Error(i(327));var p=!u&&(s&60)===0&&(s&n.expiredLanes)===0||je(n,s),y=p?H3(n,s):Jv(n,s,!0),b=p;do{if(y===0){No&&!p&&ni(n,s,0,!1);break}else if(y===6)ni(n,s,0,!ti);else{if(u=n.current.alternate,b&&!V3(u)){y=Jv(n,s,!1),b=!1;continue}if(y===2){if(b=s,n.errorRecoveryDisabledLanes&b)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var _=n;y=Ha;var M=_.current.memoizedState.isDehydrated;if(M&&(jo(_,E).flags|=256),E=Jv(_,E,!1),E!==2){if(Bv&&!M){_.errorRecoveryDisabledLanes|=b,fs|=b,y=4;break e}b=kn,kn=y,b!==null&&Kv(b)}y=E}if(b=!1,y!==2)continue}}if(y===1){jo(n,0),ni(n,s,0,!0);break}e:{switch(p=n,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){ni(p,s,Qr,!ti);break e}break;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if(p.finishedWork=u,p.finishedLanes=s,(s&62914560)===s&&(b=Vv+300-ve(),10<b)){if(ni(p,s,Qr,!ti),ze(p,0)!==0)break e;p.timeoutHandle=EC(rC.bind(null,p,u,kn,Lh,Uv,s,Qr,fs,Io,ti,2,-0,0),b);break e}rC(p,u,kn,Lh,Uv,s,Qr,fs,Io,ti,0,-0,0)}}break}while(!0);Mn(n)}function Kv(n){kn===null?kn=n:kn.push.apply(kn,n)}function rC(n,s,u,p,y,b,E,_,M,D,J,re,V){var G=s.subtreeFlags;if((G&8192||(G&16785408)===16785408)&&(Xa={stylesheets:null,count:0,unsuspend:RM},Kb(s),s=EM(),s!==null)){n.cancelPendingCommit=s(lC.bind(null,n,u,p,y,E,_,M,1,re,V)),ni(n,b,E,!D);return}lC(n,u,p,y,E,_,M,J,re,V)}function V3(n){for(var s=n;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var y=u[p],b=y.getSnapshot;y=y.value;try{if(!kr(b(),y))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ni(n,s,u,p){s&=~qv,s&=~fs,n.suspendedLanes|=s,n.pingedLanes&=~s,p&&(n.warmLanes|=s),p=n.expirationTimes;for(var y=s;0<y;){var b=31-Ot(y),E=1<<b;p[b]=-1,y&=~E}u!==0&&Jt(n,u,s)}function qh(){return(xt&6)===0?(Wa(0),!1):!0}function Wv(){if(Je!==null){if(pt===0)var n=Je.return;else n=Je,Jn=us=null,Zf(n),xo=null,Pa=0,n=Je;for(;n!==null;)Zb(n.alternate,n),n=n.return;Je=null}}function jo(n,s){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;u!==-1&&(n.timeoutHandle=-1,aM(u)),u=n.cancelPendingCommit,u!==null&&(n.cancelPendingCommit=null,u()),Wv(),ht=n,Je=u=ki(n.current,null),tt=s,pt=0,Ir=null,ti=!1,No=je(n,s),Bv=!1,Io=Qr=qv=fs=Mi=Pt=0,kn=Ha=null,Uv=!1,(s&8)!==0&&(s|=s&32);var p=n.entangledLanes;if(p!==0)for(n=n.entanglements,p&=s;0<p;){var y=31-Ot(p),b=1<<y;s|=n[y],p&=~b}return ri=s,uh(),u}function nC(n,s){Ke=null,H.H=_n,s===Ea?(s=y1(),pt=3):s===v1?(s=y1(),pt=4):pt=s===mb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ir=s,Je===null&&(Pt=1,kh(n,Hr(s,n.current)))}function iC(){var n=H.H;return H.H=_n,n===null?_n:n}function sC(){var n=H.A;return H.A=q3,n}function Gv(){Pt=4,ti||(tt&4194176)!==tt&&Wr.current!==null||(No=!0),(Mi&134217727)===0&&(fs&134217727)===0||ht===null||ni(ht,tt,Qr,!1)}function Jv(n,s,u){var p=xt;xt|=2;var y=iC(),b=sC();(ht!==n||tt!==s)&&(Lh=null,jo(n,s)),s=!1;var E=Pt;e:do try{if(pt!==0&&Je!==null){var _=Je,M=Ir;switch(pt){case 8:Wv(),E=6;break e;case 3:case 2:case 6:Wr.current===null&&(s=!0);var D=pt;if(pt=0,Ir=null,Oo(n,_,M,D),u&&No){E=0;break e}break;default:D=pt,pt=0,Ir=null,Oo(n,_,M,D)}}F3(),E=Pt;break}catch(J){nC(n,J)}while(!0);return s&&n.shellSuspendCounter++,Jn=us=null,xt=p,H.H=y,H.A=b,Je===null&&(ht=null,tt=0,uh()),E}function F3(){for(;Je!==null;)oC(Je)}function H3(n,s){var u=xt;xt|=2;var p=iC(),y=sC();ht!==n||tt!==s?(Lh=null,zh=ve()+500,jo(n,s)):No=je(n,s);e:do try{if(pt!==0&&Je!==null){s=Je;var b=Ir;t:switch(pt){case 1:pt=0,Ir=null,Oo(n,s,b,1);break;case 2:if(m1(b)){pt=0,Ir=null,aC(s);break}s=function(){pt===2&&ht===n&&(pt=7),Mn(n)},b.then(s,s);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:m1(b)?(pt=0,Ir=null,aC(s)):(pt=0,Ir=null,Oo(n,s,b,7));break;case 5:var E=null;switch(Je.tag){case 26:E=Je.memoizedState;case 5:case 27:var _=Je;if(!E||DC(E)){pt=0,Ir=null;var M=_.sibling;if(M!==null)Je=M;else{var D=_.return;D!==null?(Je=D,Uh(D)):Je=null}break t}}pt=0,Ir=null,Oo(n,s,b,5);break;case 6:pt=0,Ir=null,Oo(n,s,b,6);break;case 8:Wv(),Pt=6;break e;default:throw Error(i(462))}}$3();break}catch(J){nC(n,J)}while(!0);return Jn=us=null,H.H=p,H.A=y,xt=u,Je!==null?0:(ht=null,tt=0,uh(),Pt)}function $3(){for(;Je!==null&&!ae();)oC(Je)}function oC(n){var s=Ab(n.alternate,n,ri);n.memoizedProps=n.pendingProps,s===null?Uh(n):Je=s}function aC(n){var s=n,u=s.alternate;switch(s.tag){case 15:case 0:s=xb(u,s,s.pendingProps,s.type,void 0,tt);break;case 11:s=xb(u,s,s.pendingProps,s.type.render,s.ref,tt);break;case 5:Zf(s);default:Zb(u,s),s=Je=Yb(s,ri),s=Ab(u,s,ri)}n.memoizedProps=n.pendingProps,s===null?Uh(n):Je=s}function Oo(n,s,u,p){Jn=us=null,Zf(s),xo=null,Pa=0;var y=s.return;try{if(I3(n,y,s,u,tt)){Pt=1,kh(n,Hr(u,n.current)),Je=null;return}}catch(b){if(y!==null)throw Je=y,b;Pt=1,kh(n,Hr(u,n.current)),Je=null;return}s.flags&32768?(it||p===1?n=!0:No||(tt&536870912)!==0?n=!1:(ti=n=!0,(p===2||p===3||p===6)&&(p=Wr.current,p!==null&&p.tag===13&&(p.flags|=16384))),cC(s,n)):Uh(s)}function Uh(n){var s=n;do{if((s.flags&32768)!==0){cC(s,ti);return}n=s.return;var u=L3(s.alternate,s,ri);if(u!==null){Je=u;return}if(s=s.sibling,s!==null){Je=s;return}Je=s=n}while(s!==null);Pt===0&&(Pt=5)}function cC(n,s){do{var u=B3(n.alternate,n);if(u!==null){u.flags&=32767,Je=u;return}if(u=n.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(n=n.sibling,n!==null)){Je=n;return}Je=n=u}while(n!==null);Pt=6,Je=null}function lC(n,s,u,p,y,b,E,_,M,D){var J=H.T,re=Z.p;try{Z.p=2,H.T=null,K3(n,s,u,p,re,y,b,E,_,M,D)}finally{H.T=J,Z.p=re}}function K3(n,s,u,p,y,b,E,_){do Do();while(vs!==null);if((xt&6)!==0)throw Error(i(327));var M=n.finishedWork;if(p=n.finishedLanes,M===null)return null;if(n.finishedWork=null,n.finishedLanes=0,M===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var D=M.lanes|M.childLanes;if(D|=Lf,bt(n,p,D,b,E,_),n===ht&&(Je=ht=null,tt=0),(M.subtreeFlags&10256)===0&&(M.flags&10256)===0||Bh||(Bh=!0,Fv=D,Hv=u,Y3(Xe,function(){return Do(),null})),u=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||u?(u=H.T,H.T=null,b=Z.p,Z.p=2,E=xt,xt|=4,O3(n,M),Fb(M,n),m3(am,n.containerInfo),Zh=!!om,am=om=null,n.current=M,Bb(n,M.alternate,M),ie(),xt=E,Z.p=b,H.T=u):n.current=M,Bh?(Bh=!1,vs=n,$a=p):uC(n,D),D=n.pendingLanes,D===0&&(Ni=null),_r(M.stateNode),Mn(n),s!==null)for(y=n.onRecoverableError,M=0;M<s.length;M++)D=s[M],y(D.value,{componentStack:D.stack});return($a&3)!==0&&Do(),D=n.pendingLanes,(p&4194218)!==0&&(D&42)!==0?n===$v?Ka++:(Ka=0,$v=n):Ka=0,Wa(0),null}function uC(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,_a(s)))}function Do(){if(vs!==null){var n=vs,s=Fv;Fv=0;var u=tr($a),p=H.T,y=Z.p;try{if(Z.p=32>u?32:u,H.T=null,vs===null)var b=!1;else{u=Hv,Hv=null;var E=vs,_=$a;if(vs=null,$a=0,(xt&6)!==0)throw Error(i(331));var M=xt;if(xt|=4,Gb(E.current),$b(E,E.current,_,u),xt=M,Wa(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(ar,E)}catch{}b=!0}return b}finally{Z.p=y,H.T=p,uC(n,s)}}return!1}function dC(n,s,u){s=Hr(u,s),s=pv(n.stateNode,s,2),n=Ti(n,s,2),n!==null&&(at(n,2),Mn(n))}function dt(n,s,u){if(n.tag===3)dC(n,n,u);else for(;s!==null;){if(s.tag===3){dC(s,n,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ni===null||!Ni.has(p))){n=Hr(u,n),u=fb(2),p=Ti(s,u,2),p!==null&&(vb(u,p,s,n),at(p,2),Mn(p));break}}s=s.return}}function Yv(n,s,u){var p=n.pingCache;if(p===null){p=n.pingCache=new U3;var y=new Set;p.set(s,y)}else y=p.get(s),y===void 0&&(y=new Set,p.set(s,y));y.has(u)||(Bv=!0,y.add(u),n=W3.bind(null,n,s,u),s.then(n,n))}function W3(n,s,u){var p=n.pingCache;p!==null&&p.delete(s),n.pingedLanes|=n.suspendedLanes&u,n.warmLanes&=~u,ht===n&&(tt&u)===u&&(Pt===4||Pt===3&&(tt&62914560)===tt&&300>ve()-Vv?(xt&2)===0&&jo(n,0):qv|=u,Io===tt&&(Io=0)),Mn(n)}function hC(n,s){s===0&&(s=we()),n=yi(n,s),n!==null&&(at(n,s),Mn(n))}function G3(n){var s=n.memoizedState,u=0;s!==null&&(u=s.retryLane),hC(n,u)}function J3(n,s){var u=0;switch(n.tag){case 13:var p=n.stateNode,y=n.memoizedState;y!==null&&(u=y.retryLane);break;case 19:p=n.stateNode;break;case 22:p=n.stateNode._retryCache;break;default:throw Error(i(314))}p!==null&&p.delete(s),hC(n,u)}function Y3(n,s){return W(n,s)}var Vh=null,zo=null,Qv=!1,Fh=!1,Xv=!1,ms=0;function Mn(n){n!==zo&&n.next===null&&(zo===null?Vh=zo=n:zo=zo.next=n),Fh=!0,Qv||(Qv=!0,X3(Q3))}function Wa(n,s){if(!Xv&&Fh){Xv=!0;do for(var u=!1,p=Vh;p!==null;){if(n!==0){var y=p.pendingLanes;if(y===0)var b=0;else{var E=p.suspendedLanes,_=p.pingedLanes;b=(1<<31-Ot(42|n)+1)-1,b&=y&~(E&~_),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(u=!0,vC(p,b))}else b=tt,b=ze(p,p===ht?b:0),(b&3)===0||je(p,b)||(u=!0,vC(p,b));p=p.next}while(u);Xv=!1}}function Q3(){Fh=Qv=!1;var n=0;ms!==0&&(oM()&&(n=ms),ms=0);for(var s=ve(),u=null,p=Vh;p!==null;){var y=p.next,b=pC(p,s);b===0?(p.next=null,u===null?Vh=y:u.next=y,y===null&&(zo=u)):(u=p,(n!==0||(b&3)!==0)&&(Fh=!0)),p=y}Wa(n)}function pC(n,s){for(var u=n.suspendedLanes,p=n.pingedLanes,y=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var E=31-Ot(b),_=1<<E,M=y[E];M===-1?((_&u)===0||(_&p)!==0)&&(y[E]=me(_,s)):M<=s&&(n.expiredLanes|=_),b&=~_}if(s=ht,u=tt,u=ze(n,n===s?u:0),p=n.callbackNode,u===0||n===s&&pt===2||n.cancelPendingCommit!==null)return p!==null&&p!==null&&ue(p),n.callbackNode=null,n.callbackPriority=0;if((u&3)===0||je(n,u)){if(s=u&-u,s===n.callbackPriority)return s;switch(p!==null&&ue(p),tr(u)){case 2:case 8:u=Pe;break;case 32:u=Xe;break;case 268435456:u=ut;break;default:u=Xe}return p=fC.bind(null,n),u=W(u,p),n.callbackPriority=s,n.callbackNode=u,s}return p!==null&&p!==null&&ue(p),n.callbackPriority=2,n.callbackNode=null,2}function fC(n,s){var u=n.callbackNode;if(Do()&&n.callbackNode!==u)return null;var p=tt;return p=ze(n,n===ht?p:0),p===0?null:(tC(n,p,s),pC(n,ve()),n.callbackNode!=null&&n.callbackNode===u?fC.bind(null,n):null)}function vC(n,s){if(Do())return null;tC(n,s,!0)}function X3(n){cM(function(){(xt&6)!==0?W(Te,n):n()})}function Zv(){return ms===0&&(ms=be()),ms}function mC(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:nh(""+n)}function gC(n,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,n.id&&u.setAttribute("form",n.id),s.parentNode.insertBefore(u,s),n=new FormData(n),u.parentNode.removeChild(u),n}function Z3(n,s,u,p,y){if(s==="submit"&&u&&u.stateNode===y){var b=mC((y[cr]||null).action),E=p.submitter;E&&(s=(s=E[cr]||null)?mC(s.formAction):E.getAttribute("formAction"),s!==null&&(b=s,E=null));var _=new ah("action","action",null,p,y);n.push({event:_,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ms!==0){var M=E?gC(y,E):new FormData(y);cv(u,{pending:!0,data:M,method:y.method,action:b},null,M)}}else typeof b=="function"&&(_.preventDefault(),M=E?gC(y,E):new FormData(y),cv(u,{pending:!0,data:M,method:y.method,action:b},b,M))},currentTarget:y}]})}}for(var em=0;em<l1.length;em++){var tm=l1[em],eM=tm.toLowerCase(),tM=tm[0].toUpperCase()+tm.slice(1);un(eM,"on"+tM)}un(i1,"onAnimationEnd"),un(s1,"onAnimationIteration"),un(o1,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(y3,"onTransitionRun"),un(S3,"onTransitionStart"),un(b3,"onTransitionCancel"),un(a1,"onTransitionEnd"),lo("onMouseEnter",["mouseout","mouseover"]),lo("onMouseLeave",["mouseout","mouseover"]),lo("onPointerEnter",["pointerout","pointerover"]),lo("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ga));function yC(n,s){s=(s&4)!==0;for(var u=0;u<n.length;u++){var p=n[u],y=p.event;p=p.listeners;e:{var b=void 0;if(s)for(var E=p.length-1;0<=E;E--){var _=p[E],M=_.instance,D=_.currentTarget;if(_=_.listener,M!==b&&y.isPropagationStopped())break e;b=_,y.currentTarget=D;try{b(y)}catch(J){_h(J)}y.currentTarget=null,b=M}else for(E=0;E<p.length;E++){if(_=p[E],M=_.instance,D=_.currentTarget,_=_.listener,M!==b&&y.isPropagationStopped())break e;b=_,y.currentTarget=D;try{b(y)}catch(J){_h(J)}y.currentTarget=null,b=M}}}}function Ze(n,s){var u=s[gf];u===void 0&&(u=s[gf]=new Set);var p=n+"__bubble";u.has(p)||(SC(s,n,2,!1),u.add(p))}function rm(n,s,u){var p=0;s&&(p|=4),SC(u,n,p,s)}var Hh="_reactListening"+Math.random().toString(36).slice(2);function nm(n){if(!n[Hh]){n[Hh]=!0,xS.forEach(function(u){u!=="selectionchange"&&(rM.has(u)||rm(u,!1,n),rm(u,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Hh]||(s[Hh]=!0,rm("selectionchange",!1,s))}}function SC(n,s,u,p){switch(VC(s)){case 2:var y=AM;break;case 8:y=_M;break;default:y=mm}u=y.bind(null,s,u,n),y=void 0,!Ef||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),p?y!==void 0?n.addEventListener(s,u,{capture:!0,passive:y}):n.addEventListener(s,u,!0):y!==void 0?n.addEventListener(s,u,{passive:y}):n.addEventListener(s,u,!1)}function im(n,s,u,p,y){var b=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var _=p.stateNode.containerInfo;if(_===y||_.nodeType===8&&_.parentNode===y)break;if(E===4)for(E=p.return;E!==null;){var M=E.tag;if((M===3||M===4)&&(M=E.stateNode.containerInfo,M===y||M.nodeType===8&&M.parentNode===y))return;E=E.return}for(;_!==null;){if(E=Yi(_),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){p=b=E;continue e}_=_.parentNode}}p=p.return}jS(function(){var D=b,J=Rf(u),re=[];e:{var V=c1.get(n);if(V!==void 0){var G=ah,Re=n;switch(n){case"keypress":if(sh(u)===0)break e;case"keydown":case"keyup":G=Jk;break;case"focusin":Re="focus",G=_f;break;case"focusout":Re="blur",G=_f;break;case"beforeblur":case"afterblur":G=_f;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=zS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=zk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Xk;break;case i1:case s1:case o1:G=qk;break;case a1:G=e3;break;case"scroll":case"scrollend":G=Ok;break;case"wheel":G=r3;break;case"copy":case"cut":case"paste":G=Vk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=BS;break;case"toggle":case"beforetoggle":G=i3}var Ue=(s&4)!==0,At=!Ue&&(n==="scroll"||n==="scrollend"),z=Ue?V!==null?V+"Capture":null:V;Ue=[];for(var O=D,L;O!==null;){var Q=O;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||z===null||(Q=pa(O,z),Q!=null&&Ue.push(Ja(O,Q,L))),At)break;O=O.return}0<Ue.length&&(V=new G(V,Re,null,u,J),re.push({event:V,listeners:Ue}))}}if((s&7)===0){e:{if(V=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",V&&u!==xf&&(Re=u.relatedTarget||u.fromElement)&&(Yi(Re)||Re[oo]))break e;if((G||V)&&(V=J.window===J?J:(V=J.ownerDocument)?V.defaultView||V.parentWindow:window,G?(Re=u.relatedTarget||u.toElement,G=D,Re=Re?Yi(Re):null,Re!==null&&(At=ce(Re),Ue=Re.tag,Re!==At||Ue!==5&&Ue!==27&&Ue!==6)&&(Re=null)):(G=null,Re=D),G!==Re)){if(Ue=zS,Q="onMouseLeave",z="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(Ue=BS,Q="onPointerLeave",z="onPointerEnter",O="pointer"),At=G==null?V:ha(G),L=Re==null?V:ha(Re),V=new Ue(Q,O+"leave",G,u,J),V.target=At,V.relatedTarget=L,Q=null,Yi(J)===D&&(Ue=new Ue(z,O+"enter",Re,u,J),Ue.target=L,Ue.relatedTarget=At,Q=Ue),At=Q,G&&Re)t:{for(Ue=G,z=Re,O=0,L=Ue;L;L=Lo(L))O++;for(L=0,Q=z;Q;Q=Lo(Q))L++;for(;0<O-L;)Ue=Lo(Ue),O--;for(;0<L-O;)z=Lo(z),L--;for(;O--;){if(Ue===z||z!==null&&Ue===z.alternate)break t;Ue=Lo(Ue),z=Lo(z)}Ue=null}else Ue=null;G!==null&&bC(re,V,G,Ue,!1),Re!==null&&At!==null&&bC(re,At,Re,Ue,!0)}}e:{if(V=D?ha(D):window,G=V.nodeName&&V.nodeName.toLowerCase(),G==="select"||G==="input"&&V.type==="file")var ye=WS;else if($S(V))if(GS)ye=f3;else{ye=h3;var Ge=d3}else G=V.nodeName,!G||G.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?D&&Cf(D.elementType)&&(ye=WS):ye=p3;if(ye&&(ye=ye(n,D))){KS(re,ye,u,J);break e}Ge&&Ge(n,V,D),n==="focusout"&&D&&V.type==="number"&&D.memoizedProps.value!=null&&bf(V,"number",V.value)}switch(Ge=D?ha(D):window,n){case"focusin":($S(Ge)||Ge.contentEditable==="true")&&(mo=Ge,Of=D,Ca=null);break;case"focusout":Ca=Of=mo=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,r1(re,u,J);break;case"selectionchange":if(g3)break;case"keydown":case"keyup":r1(re,u,J)}var Ae;if(Mf)e:{switch(n){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else vo?FS(n,u)&&(De="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(De="onCompositionStart");De&&(qS&&u.locale!=="ko"&&(vo||De!=="onCompositionStart"?De==="onCompositionEnd"&&vo&&(Ae=OS()):(gi=J,Tf="value"in gi?gi.value:gi.textContent,vo=!0)),Ge=$h(D,De),0<Ge.length&&(De=new LS(De,n,null,u,J),re.push({event:De,listeners:Ge}),Ae?De.data=Ae:(Ae=HS(u),Ae!==null&&(De.data=Ae)))),(Ae=o3?a3(n,u):c3(n,u))&&(De=$h(D,"onBeforeInput"),0<De.length&&(Ge=new LS("onBeforeInput","beforeinput",null,u,J),re.push({event:Ge,listeners:De}),Ge.data=Ae)),Z3(re,n,D,u,J)}yC(re,s)})}function Ja(n,s,u){return{instance:n,listener:s,currentTarget:u}}function $h(n,s){for(var u=s+"Capture",p=[];n!==null;){var y=n,b=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=pa(n,u),y!=null&&p.unshift(Ja(n,y,b)),y=pa(n,s),y!=null&&p.push(Ja(n,y,b))),n=n.return}return p}function Lo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function bC(n,s,u,p,y){for(var b=s._reactName,E=[];u!==null&&u!==p;){var _=u,M=_.alternate,D=_.stateNode;if(_=_.tag,M!==null&&M===p)break;_!==5&&_!==26&&_!==27||D===null||(M=D,y?(D=pa(u,b),D!=null&&E.unshift(Ja(u,D,M))):y||(D=pa(u,b),D!=null&&E.push(Ja(u,D,M)))),u=u.return}E.length!==0&&n.push({event:s,listeners:E})}var nM=/\r\n?/g,iM=/\u0000|\uFFFD/g;function CC(n){return(typeof n=="string"?n:""+n).replace(nM,`
`).replace(iM,"")}function xC(n,s){return s=CC(s),CC(n)===s}function Kh(){}function lt(n,s,u,p,y,b){switch(u){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||ho(n,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&ho(n,""+p);break;case"className":eh(n,"class",p);break;case"tabIndex":eh(n,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":eh(n,u,p);break;case"style":NS(n,p,b);break;case"data":if(s!=="object"){eh(n,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||u!=="href")){n.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){n.removeAttribute(u);break}p=nh(""+p),n.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){n.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(s!=="input"&&lt(n,s,"name",y.name,y,null),lt(n,s,"formEncType",y.formEncType,y,null),lt(n,s,"formMethod",y.formMethod,y,null),lt(n,s,"formTarget",y.formTarget,y,null)):(lt(n,s,"encType",y.encType,y,null),lt(n,s,"method",y.method,y,null),lt(n,s,"target",y.target,y,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){n.removeAttribute(u);break}p=nh(""+p),n.setAttribute(u,p);break;case"onClick":p!=null&&(n.onclick=Kh);break;case"onScroll":p!=null&&Ze("scroll",n);break;case"onScrollEnd":p!=null&&Ze("scrollend",n);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(i(60));n.innerHTML=u}}break;case"multiple":n.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":n.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){n.removeAttribute("xlink:href");break}u=nh(""+p),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?n.setAttribute(u,""+p):n.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?n.setAttribute(u,""):n.removeAttribute(u);break;case"capture":case"download":p===!0?n.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?n.setAttribute(u,p):n.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?n.setAttribute(u,p):n.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?n.removeAttribute(u):n.setAttribute(u,p);break;case"popover":Ze("beforetoggle",n),Ze("toggle",n),Zd(n,"popover",p);break;case"xlinkActuate":Fn(n,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Fn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Fn(n,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Fn(n,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Fn(n,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Fn(n,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Fn(n,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Fn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Fn(n,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Zd(n,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Ik.get(u)||u,Zd(n,u,p))}}function sm(n,s,u,p,y,b){switch(u){case"style":NS(n,p,b);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(i(61));if(u=p.__html,u!=null){if(y.children!=null)throw Error(i(60));n.innerHTML=u}}break;case"children":typeof p=="string"?ho(n,p):(typeof p=="number"||typeof p=="bigint")&&ho(n,""+p);break;case"onScroll":p!=null&&Ze("scroll",n);break;case"onScrollEnd":p!=null&&Ze("scrollend",n);break;case"onClick":p!=null&&(n.onclick=Kh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!RS.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),s=u.slice(2,y?u.length-7:void 0),b=n[cr]||null,b=b!=null?b[u]:null,typeof b=="function"&&n.removeEventListener(s,b,y),typeof p=="function")){typeof b!="function"&&b!==null&&(u in n?n[u]=null:n.hasAttribute(u)&&n.removeAttribute(u)),n.addEventListener(s,p,y);break e}u in n?n[u]=p:p===!0?n.setAttribute(u,""):Zd(n,u,p)}}}function ir(n,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",n),Ze("load",n);var p=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var E=u[b];if(E!=null)switch(b){case"src":p=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(n,s,b,E,u,null)}}y&&lt(n,s,"srcSet",u.srcSet,u,null),p&&lt(n,s,"src",u.src,u,null);return;case"input":Ze("invalid",n);var _=b=E=y=null,M=null,D=null;for(p in u)if(u.hasOwnProperty(p)){var J=u[p];if(J!=null)switch(p){case"name":y=J;break;case"type":E=J;break;case"checked":M=J;break;case"defaultChecked":D=J;break;case"value":b=J;break;case"defaultValue":_=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:lt(n,s,p,J,u,null)}}AS(n,b,_,M,D,E,y,!1),th(n);return;case"select":Ze("invalid",n),p=E=b=null;for(y in u)if(u.hasOwnProperty(y)&&(_=u[y],_!=null))switch(y){case"value":b=_;break;case"defaultValue":E=_;break;case"multiple":p=_;default:lt(n,s,y,_,u,null)}s=b,u=E,n.multiple=!!p,s!=null?uo(n,!!p,s,!1):u!=null&&uo(n,!!p,u,!0);return;case"textarea":Ze("invalid",n),b=y=p=null;for(E in u)if(u.hasOwnProperty(E)&&(_=u[E],_!=null))switch(E){case"value":p=_;break;case"defaultValue":y=_;break;case"children":b=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:lt(n,s,E,_,u,null)}kS(n,p,y,b),th(n);return;case"option":for(M in u)if(u.hasOwnProperty(M)&&(p=u[M],p!=null))switch(M){case"selected":n.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:lt(n,s,M,p,u,null)}return;case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":Ze("load",n);break;case"video":case"audio":for(p=0;p<Ga.length;p++)Ze(Ga[p],n);break;case"image":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"embed":case"source":case"link":Ze("error",n),Ze("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in u)if(u.hasOwnProperty(D)&&(p=u[D],p!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(n,s,D,p,u,null)}return;default:if(Cf(s)){for(J in u)u.hasOwnProperty(J)&&(p=u[J],p!==void 0&&sm(n,s,J,p,u,void 0));return}}for(_ in u)u.hasOwnProperty(_)&&(p=u[_],p!=null&&lt(n,s,_,p,u,null))}function sM(n,s,u,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,E=null,_=null,M=null,D=null,J=null;for(G in u){var re=u[G];if(u.hasOwnProperty(G)&&re!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":M=re;default:p.hasOwnProperty(G)||lt(n,s,G,null,p,re)}}for(var V in p){var G=p[V];if(re=u[V],p.hasOwnProperty(V)&&(G!=null||re!=null))switch(V){case"type":b=G;break;case"name":y=G;break;case"checked":D=G;break;case"defaultChecked":J=G;break;case"value":E=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:G!==re&&lt(n,s,V,G,p,re)}}Sf(n,E,_,M,D,J,b,y);return;case"select":G=E=_=V=null;for(b in u)if(M=u[b],u.hasOwnProperty(b)&&M!=null)switch(b){case"value":break;case"multiple":G=M;default:p.hasOwnProperty(b)||lt(n,s,b,null,p,M)}for(y in p)if(b=p[y],M=u[y],p.hasOwnProperty(y)&&(b!=null||M!=null))switch(y){case"value":V=b;break;case"defaultValue":_=b;break;case"multiple":E=b;default:b!==M&&lt(n,s,y,b,p,M)}s=_,u=E,p=G,V!=null?uo(n,!!u,V,!1):!!p!=!!u&&(s!=null?uo(n,!!u,s,!0):uo(n,!!u,u?[]:"",!1));return;case"textarea":G=V=null;for(_ in u)if(y=u[_],u.hasOwnProperty(_)&&y!=null&&!p.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:lt(n,s,_,null,p,y)}for(E in p)if(y=p[E],b=u[E],p.hasOwnProperty(E)&&(y!=null||b!=null))switch(E){case"value":V=y;break;case"defaultValue":G=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&lt(n,s,E,y,p,b)}_S(n,V,G);return;case"option":for(var Re in u)if(V=u[Re],u.hasOwnProperty(Re)&&V!=null&&!p.hasOwnProperty(Re))switch(Re){case"selected":n.selected=!1;break;default:lt(n,s,Re,null,p,V)}for(M in p)if(V=p[M],G=u[M],p.hasOwnProperty(M)&&V!==G&&(V!=null||G!=null))switch(M){case"selected":n.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:lt(n,s,M,V,p,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in u)V=u[Ue],u.hasOwnProperty(Ue)&&V!=null&&!p.hasOwnProperty(Ue)&&lt(n,s,Ue,null,p,V);for(D in p)if(V=p[D],G=u[D],p.hasOwnProperty(D)&&V!==G&&(V!=null||G!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,s));break;default:lt(n,s,D,V,p,G)}return;default:if(Cf(s)){for(var At in u)V=u[At],u.hasOwnProperty(At)&&V!==void 0&&!p.hasOwnProperty(At)&&sm(n,s,At,void 0,p,V);for(J in p)V=p[J],G=u[J],!p.hasOwnProperty(J)||V===G||V===void 0&&G===void 0||sm(n,s,J,V,p,G);return}}for(var z in u)V=u[z],u.hasOwnProperty(z)&&V!=null&&!p.hasOwnProperty(z)&&lt(n,s,z,null,p,V);for(re in p)V=p[re],G=u[re],!p.hasOwnProperty(re)||V===G||V==null&&G==null||lt(n,s,re,V,p,G)}var om=null,am=null;function Wh(n){return n.nodeType===9?n:n.ownerDocument}function RC(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wC(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function cm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lm=null;function oM(){var n=window.event;return n&&n.type==="popstate"?n===lm?!1:(lm=n,!0):(lm=null,!1)}var EC=typeof setTimeout=="function"?setTimeout:void 0,aM=typeof clearTimeout=="function"?clearTimeout:void 0,TC=typeof Promise=="function"?Promise:void 0,cM=typeof queueMicrotask=="function"?queueMicrotask:typeof TC<"u"?function(n){return TC.resolve(null).then(n).catch(lM)}:EC;function lM(n){setTimeout(function(){throw n})}function um(n,s){var u=s,p=0;do{var y=u.nextSibling;if(n.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(p===0){n.removeChild(y),nc(s);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=y}while(u);nc(s)}function dm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":dm(u),yf(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}n.removeChild(u)}}function uM(n,s,u,p){for(;n.nodeType===1;){var y=u;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(p){if(!n[da])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==y.rel||n.getAttribute("href")!==(y.href==null?null:y.href)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||n.getAttribute("title")!==(y.title==null?null:y.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(y.src==null?null:y.src)||n.getAttribute("type")!==(y.type==null?null:y.type)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=pn(n.nextSibling),n===null)break}return null}function dM(n,s,u){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!u||(n=pn(n.nextSibling),n===null))return null;return n}function pn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}function PC(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return n;s--}else u==="/$"&&s++}n=n.previousSibling}return null}function AC(n,s,u){switch(s=Wh(u),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}var Xr=new Map,_C=new Set;function Gh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ii=Z.d;Z.d={f:hM,r:pM,D:fM,C:vM,L:mM,m:gM,X:SM,S:yM,M:bM};function hM(){var n=ii.f(),s=qh();return n||s}function pM(n){var s=ao(n);s!==null&&s.tag===5&&s.type==="form"?rb(s):ii.r(n)}var Bo=typeof document>"u"?null:document;function kC(n,s,u){var p=Bo;if(p&&typeof s=="string"&&s){var y=Vr(s);y='link[rel="'+n+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),_C.has(y)||(_C.add(y),n={rel:n,crossOrigin:u,href:s},p.querySelector(y)===null&&(s=p.createElement("link"),ir(s,"link",n),Yt(s),p.head.appendChild(s)))}}function fM(n){ii.D(n),kC("dns-prefetch",n,null)}function vM(n,s){ii.C(n,s),kC("preconnect",n,s)}function mM(n,s,u){ii.L(n,s,u);var p=Bo;if(p&&n&&s){var y='link[rel="preload"][as="'+Vr(s)+'"]';s==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Vr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Vr(u.imageSizes)+'"]')):y+='[href="'+Vr(n)+'"]';var b=y;switch(s){case"style":b=qo(n);break;case"script":b=Uo(n)}Xr.has(b)||(n=$({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:n,as:s},u),Xr.set(b,n),p.querySelector(y)!==null||s==="style"&&p.querySelector(Ya(b))||s==="script"&&p.querySelector(Qa(b))||(s=p.createElement("link"),ir(s,"link",n),Yt(s),p.head.appendChild(s)))}}function gM(n,s){ii.m(n,s);var u=Bo;if(u&&n){var p=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Vr(p)+'"][href="'+Vr(n)+'"]',b=y;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Uo(n)}if(!Xr.has(b)&&(n=$({rel:"modulepreload",href:n},s),Xr.set(b,n),u.querySelector(y)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Qa(b)))return}p=u.createElement("link"),ir(p,"link",n),Yt(p),u.head.appendChild(p)}}}function yM(n,s,u){ii.S(n,s,u);var p=Bo;if(p&&n){var y=co(p).hoistableStyles,b=qo(n);s=s||"default";var E=y.get(b);if(!E){var _={loading:0,preload:null};if(E=p.querySelector(Ya(b)))_.loading=5;else{n=$({rel:"stylesheet",href:n,"data-precedence":s},u),(u=Xr.get(b))&&hm(n,u);var M=E=p.createElement("link");Yt(M),ir(M,"link",n),M._p=new Promise(function(D,J){M.onload=D,M.onerror=J}),M.addEventListener("load",function(){_.loading|=1}),M.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Jh(E,s,p)}E={type:"stylesheet",instance:E,count:1,state:_},y.set(b,E)}}}function SM(n,s){ii.X(n,s);var u=Bo;if(u&&n){var p=co(u).hoistableScripts,y=Uo(n),b=p.get(y);b||(b=u.querySelector(Qa(y)),b||(n=$({src:n,async:!0},s),(s=Xr.get(y))&&pm(n,s),b=u.createElement("script"),Yt(b),ir(b,"link",n),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(y,b))}}function bM(n,s){ii.M(n,s);var u=Bo;if(u&&n){var p=co(u).hoistableScripts,y=Uo(n),b=p.get(y);b||(b=u.querySelector(Qa(y)),b||(n=$({src:n,async:!0,type:"module"},s),(s=Xr.get(y))&&pm(n,s),b=u.createElement("script"),Yt(b),ir(b,"link",n),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},p.set(y,b))}}function MC(n,s,u,p){var y=(y=Kt.current)?Gh(y):null;if(!y)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=qo(u.href),u=co(y).hoistableStyles,p=u.get(s),p||(p={type:"style",instance:null,count:0,state:null},u.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){n=qo(u.href);var b=co(y).hoistableStyles,E=b.get(n);if(E||(y=y.ownerDocument||y,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,E),(b=y.querySelector(Ya(n)))&&!b._p&&(E.instance=b,E.state.loading=5),Xr.has(n)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Xr.set(n,u),b||CM(y,n,u,E.state))),s&&p===null)throw Error(i(528,""));return E}if(s&&p!==null)throw Error(i(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Uo(u),u=co(y).hoistableScripts,p=u.get(s),p||(p={type:"script",instance:null,count:0,state:null},u.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function qo(n){return'href="'+Vr(n)+'"'}function Ya(n){return'link[rel="stylesheet"]['+n+"]"}function NC(n){return $({},n,{"data-precedence":n.precedence,precedence:null})}function CM(n,s,u,p){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=n.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),ir(s,"link",u),Yt(s),n.head.appendChild(s))}function Uo(n){return'[src="'+Vr(n)+'"]'}function Qa(n){return"script[async]"+n}function IC(n,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var p=n.querySelector('style[data-href~="'+Vr(u.href)+'"]');if(p)return s.instance=p,Yt(p),p;var y=$({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(n.ownerDocument||n).createElement("style"),Yt(p),ir(p,"style",y),Jh(p,u.precedence,n),s.instance=p;case"stylesheet":y=qo(u.href);var b=n.querySelector(Ya(y));if(b)return s.state.loading|=4,s.instance=b,Yt(b),b;p=NC(u),(y=Xr.get(y))&&hm(p,y),b=(n.ownerDocument||n).createElement("link"),Yt(b);var E=b;return E._p=new Promise(function(_,M){E.onload=_,E.onerror=M}),ir(b,"link",p),s.state.loading|=4,Jh(b,u.precedence,n),s.instance=b;case"script":return b=Uo(u.src),(y=n.querySelector(Qa(b)))?(s.instance=y,Yt(y),y):(p=u,(y=Xr.get(b))&&(p=$({},u),pm(p,y)),n=n.ownerDocument||n,y=n.createElement("script"),Yt(y),ir(y,"link",p),n.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Jh(p,u.precedence,n));return s.instance}function Jh(n,s,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=p.length?p[p.length-1]:null,b=y,E=0;E<p.length;E++){var _=p[E];if(_.dataset.precedence===s)b=_;else if(b!==y)break}b?b.parentNode.insertBefore(n,b.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(n,s.firstChild))}function hm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function pm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Yh=null;function jC(n,s,u){if(Yh===null){var p=new Map,y=Yh=new Map;y.set(u,p)}else y=Yh,p=y.get(u),p||(p=new Map,y.set(u,p));if(p.has(n))return p;for(p.set(n,null),u=u.getElementsByTagName(n),y=0;y<u.length;y++){var b=u[y];if(!(b[da]||b[Dt]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var E=b.getAttribute(s)||"";E=n+E;var _=p.get(E);_?_.push(b):p.set(E,[b])}}return p}function OC(n,s,u){n=n.ownerDocument||n,n.head.insertBefore(u,s==="title"?n.querySelector("head > title"):null)}function xM(n,s,u){if(u===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function DC(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Xa=null;function RM(){}function wM(n,s,u){if(Xa===null)throw Error(i(475));var p=Xa;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=qo(u.href),b=n.querySelector(Ya(y));if(b){n=b._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(p.count++,p=Qh.bind(p),n.then(p,p)),s.state.loading|=4,s.instance=b,Yt(b);return}b=n.ownerDocument||n,u=NC(u),(y=Xr.get(y))&&hm(u,y),b=b.createElement("link"),Yt(b);var E=b;E._p=new Promise(function(_,M){E.onload=_,E.onerror=M}),ir(b,"link",u),s.instance=b}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(p.count++,s=Qh.bind(p),n.addEventListener("load",s),n.addEventListener("error",s))}}function EM(){if(Xa===null)throw Error(i(475));var n=Xa;return n.stylesheets&&n.count===0&&fm(n,n.stylesheets),0<n.count?function(s){var u=setTimeout(function(){if(n.stylesheets&&fm(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(u)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)fm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xh=null;function fm(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xh=new Map,s.forEach(TM,n),Xh=null,Qh.call(n))}function TM(n,s){if(!(s.state.loading&4)){var u=Xh.get(n);if(u)var p=u.get(null);else{u=new Map,Xh.set(n,u);for(var y=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var E=y[b];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(u.set(E.dataset.precedence,E),p=E)}p&&u.set(null,p)}y=s.instance,E=y.getAttribute("data-precedence"),b=u.get(E)||p,b===p&&u.set(null,y),u.set(E,y),this.count++,p=Qh.bind(this),y.addEventListener("load",p),y.addEventListener("error",p),b?b.parentNode.insertBefore(y,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(y,n.firstChild)),s.state.loading|=4}}var Za={$$typeof:S,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function PM(n,s,u,p,y,b,E,_){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Be(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Be(0),this.hiddenUpdates=Be(null),this.identifierPrefix=p,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function zC(n,s,u,p,y,b,E,_,M,D,J,re){return n=new PM(n,s,u,E,_,M,D,re),s=1,b===!0&&(s|=24),b=Yr(3,null,null,s),n.current=b,b.stateNode=n,s=Kf(),s.refCount++,n.pooledCache=s,s.refCount++,b.memoizedState={element:p,isDehydrated:u,cache:s},Tv(b),n}function LC(n){return n?(n=So,n):So}function BC(n,s,u,p,y,b){y=LC(y),p.context===null?p.context=y:p.pendingContext=y,p=Ei(s),p.payload={element:u},b=b===void 0?null:b,b!==null&&(p.callback=b),u=Ti(n,p,s),u!==null&&(gr(u,n,s),Da(u,n,s))}function qC(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<s?u:s}}function vm(n,s){qC(n,s),(n=n.alternate)&&qC(n,s)}function UC(n){if(n.tag===13){var s=yi(n,67108864);s!==null&&gr(s,n,67108864),vm(n,67108864)}}var Zh=!0;function AM(n,s,u,p){var y=H.T;H.T=null;var b=Z.p;try{Z.p=2,mm(n,s,u,p)}finally{Z.p=b,H.T=y}}function _M(n,s,u,p){var y=H.T;H.T=null;var b=Z.p;try{Z.p=8,mm(n,s,u,p)}finally{Z.p=b,H.T=y}}function mm(n,s,u,p){if(Zh){var y=gm(p);if(y===null)im(n,s,p,ep,u),FC(n,p);else if(MM(y,n,s,u,p))p.stopPropagation();else if(FC(n,p),s&4&&-1<kM.indexOf(n)){for(;y!==null;){var b=ao(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var E=he(b.pendingLanes);if(E!==0){var _=b;for(_.pendingLanes|=2,_.entangledLanes|=2;E;){var M=1<<31-Ot(E);_.entanglements[1]|=M,E&=~M}Mn(b),(xt&6)===0&&(zh=ve()+500,Wa(0))}}break;case 13:_=yi(b,2),_!==null&&gr(_,b,2),qh(),vm(b,2)}if(b=gm(p),b===null&&im(n,s,p,ep,u),b===y)break;y=b}y!==null&&p.stopPropagation()}else im(n,s,p,null,u)}}function gm(n){return n=Rf(n),ym(n)}var ep=null;function ym(n){if(ep=null,n=Yi(n),n!==null){var s=ce(n);if(s===null)n=null;else{var u=s.tag;if(u===13){if(n=ke(s),n!==null)return n;n=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return ep=n,null}function VC(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case Te:return 2;case Pe:return 8;case Xe:case Wt:return 32;case ut:return 268435456;default:return 32}default:return 32}}var Sm=!1,Ii=null,ji=null,Oi=null,ec=new Map,tc=new Map,Di=[],kM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FC(n,s){switch(n){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":ec.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(s.pointerId)}}function rc(n,s,u,p,y,b){return n===null||n.nativeEvent!==b?(n={blockedOn:s,domEventName:u,eventSystemFlags:p,nativeEvent:b,targetContainers:[y]},s!==null&&(s=ao(s),s!==null&&UC(s)),n):(n.eventSystemFlags|=p,s=n.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),n)}function MM(n,s,u,p,y){switch(s){case"focusin":return Ii=rc(Ii,n,s,u,p,y),!0;case"dragenter":return ji=rc(ji,n,s,u,p,y),!0;case"mouseover":return Oi=rc(Oi,n,s,u,p,y),!0;case"pointerover":var b=y.pointerId;return ec.set(b,rc(ec.get(b)||null,n,s,u,p,y)),!0;case"gotpointercapture":return b=y.pointerId,tc.set(b,rc(tc.get(b)||null,n,s,u,p,y)),!0}return!1}function HC(n){var s=Yi(n.target);if(s!==null){var u=ce(s);if(u!==null){if(s=u.tag,s===13){if(s=ke(u),s!==null){n.blockedOn=s,Tn(n.priority,function(){if(u.tag===13){var p=jr(),y=yi(u,p);y!==null&&gr(y,u,p),vm(u,p)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function tp(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var u=gm(n.nativeEvent);if(u===null){u=n.nativeEvent;var p=new u.constructor(u.type,u);xf=p,u.target.dispatchEvent(p),xf=null}else return s=ao(u),s!==null&&UC(s),n.blockedOn=u,!1;s.shift()}return!0}function $C(n,s,u){tp(n)&&u.delete(s)}function NM(){Sm=!1,Ii!==null&&tp(Ii)&&(Ii=null),ji!==null&&tp(ji)&&(ji=null),Oi!==null&&tp(Oi)&&(Oi=null),ec.forEach($C),tc.forEach($C)}function rp(n,s){n.blockedOn===s&&(n.blockedOn=null,Sm||(Sm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,NM)))}var np=null;function KC(n){np!==n&&(np=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){np===n&&(np=null);for(var s=0;s<n.length;s+=3){var u=n[s],p=n[s+1],y=n[s+2];if(typeof p!="function"){if(ym(p||u)===null)continue;break}var b=ao(u);b!==null&&(n.splice(s,3),s-=3,cv(b,{pending:!0,data:y,method:u.method,action:p},p,y))}}))}function nc(n){function s(M){return rp(M,n)}Ii!==null&&rp(Ii,n),ji!==null&&rp(ji,n),Oi!==null&&rp(Oi,n),ec.forEach(s),tc.forEach(s);for(var u=0;u<Di.length;u++){var p=Di[u];p.blockedOn===n&&(p.blockedOn=null)}for(;0<Di.length&&(u=Di[0],u.blockedOn===null);)HC(u),u.blockedOn===null&&Di.shift();if(u=(n.ownerDocument||n).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var y=u[p],b=u[p+1],E=y[cr]||null;if(typeof b=="function")E||KC(u);else if(E){var _=null;if(b&&b.hasAttribute("formAction")){if(y=b,E=b[cr]||null)_=E.formAction;else if(ym(y)!==null)continue}else _=E.action;typeof _=="function"?u[p+1]=_:(u.splice(p,3),p-=3),KC(u)}}}function bm(n){this._internalRoot=n}ip.prototype.render=bm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var u=s.current,p=jr();BC(u,p,n,s,null,null)},ip.prototype.unmount=bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;n.tag===0&&Do(),BC(n.current,2,null,n,null,null),qh(),s[oo]=null}};function ip(n){this._internalRoot=n}ip.prototype.unstable_scheduleHydration=function(n){if(n){var s=qr();n={blockedOn:null,target:n,priority:s};for(var u=0;u<Di.length&&s!==0&&s<Di[u].priority;u++);Di.splice(u,0,n),u===0&&HC(n)}};var WC=t.version;if(WC!=="19.0.0")throw Error(i(527,WC,"19.0.0"));Z.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=X(s),n=n!==null?ee(n):null,n=n===null?null:n.stateNode,n};var IM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:H,findFiberByHostInstance:Yi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sp.isDisabled&&sp.supportsFiber)try{ar=sp.inject(IM),jt=sp}catch{}}return sc.createRoot=function(n,s){if(!o(n))throw Error(i(299));var u=!1,p="",y=ub,b=db,E=hb,_=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(_=s.unstable_transitionCallbacks)),s=zC(n,1,!1,null,null,u,p,y,b,E,_,null),n[oo]=s.current,nm(n.nodeType===8?n.parentNode:n),new bm(s)},sc.hydrateRoot=function(n,s,u){if(!o(n))throw Error(i(299));var p=!1,y="",b=ub,E=db,_=hb,M=null,D=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(E=u.onCaughtError),u.onRecoverableError!==void 0&&(_=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(M=u.unstable_transitionCallbacks),u.formState!==void 0&&(D=u.formState)),s=zC(n,1,!0,s,u??null,p,y,b,E,_,M,D),s.context=LC(null),u=s.current,p=jr(),y=Ei(p),y.callback=null,Ti(u,y,p),s.current.lanes=p,at(s,p),Mn(s),n[oo]=s.current,nm(n),new ip(s)},sc.version="19.0.0",sc}var nx;function $M(){if(nx)return Rm.exports;nx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rm.exports=HM(),Rm.exports}var KM=$M();function WM(e={}){const{nonce:t,onScriptLoadSuccess:r,onScriptLoadError:i}=e,[o,l]=A.useState(!1),c=A.useRef(r);c.current=r;const a=A.useRef(i);return a.current=i,A.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,d.nonce=t,d.onload=()=>{var h;l(!0),(h=c.current)===null||h===void 0||h.call(c)},d.onerror=()=>{var h;l(!1),(h=a.current)===null||h===void 0||h.call(a)},document.body.appendChild(d),()=>{document.body.removeChild(d)}},[t]),o}const GM=A.createContext(null);function JM({clientId:e,nonce:t,onScriptLoadSuccess:r,onScriptLoadError:i,children:o}){const l=WM({nonce:t,onScriptLoadSuccess:r,onScriptLoadError:i}),c=A.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:l}),[e,l]);return qe.createElement(GM.Provider,{value:c},o)}function aA(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=aA(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function Js(){for(var e,t,r=0,i="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=aA(e))&&(i&&(i+=" "),i+=t);return i}function YM(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}YM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Dd=e=>typeof e=="number"&&!isNaN(e),Zs=e=>typeof e=="string",hi=e=>typeof e=="function",QM=e=>Zs(e)||Dd(e),sy=e=>Zs(e)||hi(e)?e:null,XM=(e,t)=>e===!1||Dd(e)&&e>0?e:t,oy=e=>A.isValidElement(e)||Zs(e)||hi(e)||Dd(e);function ZM(e,t,r=300){let{scrollHeight:i,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${r}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,r)})})}function eN({enter:e,exit:t,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}){return function({children:l,position:c,preventExitTransition:a,done:d,nodeRef:h,isIn:f,playToast:v}){let m=r?`${e}--${c}`:e,S=r?`${t}--${c}`:t,C=A.useRef(0);return A.useLayoutEffect(()=>{let x=h.current,R=m.split(" "),w=T=>{T.target===h.current&&(v(),x.removeEventListener("animationend",w),x.removeEventListener("animationcancel",w),C.current===0&&T.type!=="animationcancel"&&x.classList.remove(...R))};x.classList.add(...R),x.addEventListener("animationend",w),x.addEventListener("animationcancel",w)},[]),A.useEffect(()=>{let x=h.current,R=()=>{x.removeEventListener("animationend",R),i?ZM(x,d,o):d()};f||(a?R():(C.current=1,x.className+=` ${S}`,x.addEventListener("animationend",R)))},[f]),qe.createElement(qe.Fragment,null,l)}}function ix(e,t){return{content:cA(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function cA(e,t,r=!1){return A.isValidElement(e)&&!Zs(e.type)?A.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):hi(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function tN({closeToast:e,theme:t,ariaLabel:r="close"}){return qe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:i=>{i.stopPropagation(),e(!0)},"aria-label":r},qe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},qe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rN({delay:e,isRunning:t,closeToast:r,type:i="default",hide:o,className:l,controlledProgress:c,progress:a,rtl:d,isIn:h,theme:f}){let v=o||c&&a===0,m={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(m.transform=`scaleX(${a})`);let S=Js("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),C=hi(l)?l({rtl:d,type:i,defaultClassName:S}):Js(S,l),x={[c&&a>=1?"onTransitionEnd":"onAnimationEnd"]:c&&a<1?null:()=>{h&&r()}};return qe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},qe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),qe.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:C,style:m,...x}))}var nN=1,lA=()=>`${nN++}`;function iN(e,t,r){let i=1,o=0,l=[],c=[],a=t,d=new Map,h=new Set,f=T=>(h.add(T),()=>h.delete(T)),v=()=>{c=Array.from(d.values()),h.forEach(T=>T())},m=({containerId:T,toastId:P,updateId:j})=>{let k=T?T!==e:e!==1,B=d.has(P)&&j==null;return k||B},S=(T,P)=>{d.forEach(j=>{var k;(P==null||P===j.props.toastId)&&((k=j.toggle)==null||k.call(j,T))})},C=T=>{var P,j;(j=(P=T.props)==null?void 0:P.onClose)==null||j.call(P,T.removalReason),T.isActive=!1},x=T=>{if(T==null)d.forEach(C);else{let P=d.get(T);P&&C(P)}v()},R=()=>{o-=l.length,l=[]},w=T=>{var P,j;let{toastId:k,updateId:B}=T.props,F=B==null;T.staleId&&d.delete(T.staleId),T.isActive=!0,d.set(k,T),v(),r(ix(T,F?"added":"updated")),F&&((j=(P=T.props).onOpen)==null||j.call(P))};return{id:e,props:a,observe:f,toggle:S,removeToast:x,toasts:d,clearQueue:R,buildToast:(T,P)=>{if(m(P))return;let{toastId:j,updateId:k,data:B,staleId:F,delay:q}=P,H=k==null;H&&o++;let $={...a,style:a.toastStyle,key:i++,...Object.fromEntries(Object.entries(P).filter(([de,fe])=>fe!=null)),toastId:j,updateId:k,data:B,isIn:!1,className:sy(P.className||a.toastClassName),progressClassName:sy(P.progressClassName||a.progressClassName),autoClose:P.isLoading?!1:XM(P.autoClose,a.autoClose),closeToast(de){d.get(j).removalReason=de,x(j)},deleteToast(){let de=d.get(j);if(de!=null){if(r(ix(de,"removed")),d.delete(j),o--,o<0&&(o=0),l.length>0){w(l.shift());return}v()}}};$.closeButton=a.closeButton,P.closeButton===!1||oy(P.closeButton)?$.closeButton=P.closeButton:P.closeButton===!0&&($.closeButton=oy(a.closeButton)?a.closeButton:!0);let pe={content:T,props:$,staleId:F};a.limit&&a.limit>0&&o>a.limit&&H?l.push(pe):Dd(q)?setTimeout(()=>{w(pe)},q):w(pe)},setProps(T){a=T},setToggle:(T,P)=>{let j=d.get(T);j&&(j.toggle=P)},isToastActive:T=>{var P;return(P=d.get(T))==null?void 0:P.isActive},getSnapshot:()=>c}}var br=new Map,Pd=[],ay=new Set,sN=e=>ay.forEach(t=>t(e)),uA=()=>br.size>0;function oN(){Pd.forEach(e=>hA(e.content,e.options)),Pd=[]}var aN=(e,{containerId:t})=>{var r;return(r=br.get(t||1))==null?void 0:r.toasts.get(e)};function dA(e,t){var r;if(t)return!!((r=br.get(t))!=null&&r.isToastActive(e));let i=!1;return br.forEach(o=>{o.isToastActive(e)&&(i=!0)}),i}function cN(e){if(!uA()){Pd=Pd.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||QM(e))br.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=br.get(e.containerId);t?t.removeToast(e.id):br.forEach(r=>{r.removeToast(e.id)})}}var lN=(e={})=>{br.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function hA(e,t){oy(e)&&(uA()||Pd.push({content:e,options:t}),br.forEach(r=>{r.buildToast(e,t)}))}function uN(e){var t;(t=br.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function pA(e,t){br.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function dN(e){let t=e.containerId||1;return{subscribe(r){let i=iN(t,e,sN);br.set(t,i);let o=i.observe(r);return oN(),()=>{o(),br.delete(t)}},setProps(r){var i;(i=br.get(t))==null||i.setProps(r)},getSnapshot(){var r;return(r=br.get(t))==null?void 0:r.getSnapshot()}}}function hN(e){return ay.add(e),()=>{ay.delete(e)}}function pN(e){return e&&(Zs(e.toastId)||Dd(e.toastId))?e.toastId:lA()}function zd(e,t){return hA(e,t),t.toastId}function Wp(e,t){return{...t,type:t&&t.type||e,toastId:pN(t)}}function Gp(e){return(t,r)=>zd(t,Wp(e,r))}function ot(e,t){return zd(e,Wp("default",t))}ot.loading=(e,t)=>zd(e,Wp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function fN(e,{pending:t,error:r,success:i},o){let l;t&&(l=Zs(t)?ot.loading(t,o):ot.loading(t.render,{...o,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(h,f,v)=>{if(f==null){ot.dismiss(l);return}let m={type:h,...c,...o,data:v},S=Zs(f)?{render:f}:f;return l?ot.update(l,{...m,...S}):ot(S.render,{...m,...S}),v},d=hi(e)?e():e;return d.then(h=>a("success",i,h)).catch(h=>a("error",r,h)),d}ot.promise=fN;ot.success=Gp("success");ot.info=Gp("info");ot.error=Gp("error");ot.warning=Gp("warning");ot.warn=ot.warning;ot.dark=(e,t)=>zd(e,Wp("default",{theme:"dark",...t}));function vN(e){cN(e)}ot.dismiss=vN;ot.clearWaitingQueue=lN;ot.isActive=dA;ot.update=(e,t={})=>{let r=aN(e,t);if(r){let{props:i,content:o}=r,l={delay:100,...i,...t,toastId:t.toastId||e,updateId:lA()};l.toastId!==e&&(l.staleId=e);let c=l.render||o;delete l.render,zd(c,l)}};ot.done=e=>{ot.update(e,{progress:1})};ot.onChange=hN;ot.play=e=>pA(!0,e);ot.pause=e=>pA(!1,e);function mN(e){var t;let{subscribe:r,getSnapshot:i,setProps:o}=A.useRef(dN(e)).current;o(e);let l=(t=A.useSyncExternalStore(r,i,i))==null?void 0:t.slice();function c(a){if(!l)return[];let d=new Map;return e.newestOnTop&&l.reverse(),l.forEach(h=>{let{position:f}=h.props;d.has(f)||d.set(f,[]),d.get(f).push(h)}),Array.from(d,h=>a(h[0],h[1]))}return{getToastToRender:c,isToastActive:dA,count:l==null?void 0:l.length}}function gN(e){let[t,r]=A.useState(!1),[i,o]=A.useState(!1),l=A.useRef(null),c=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:d,closeToast:h,onClick:f,closeOnClick:v}=e;uN({id:e.toastId,containerId:e.containerId,fn:r}),A.useEffect(()=>{if(e.pauseOnFocusLoss)return m(),()=>{S()}},[e.pauseOnFocusLoss]);function m(){document.hasFocus()||w(),window.addEventListener("focus",R),window.addEventListener("blur",w)}function S(){window.removeEventListener("focus",R),window.removeEventListener("blur",w)}function C(F){if(e.draggable===!0||e.draggable===F.pointerType){T();let q=l.current;c.canCloseOnClick=!0,c.canDrag=!0,q.style.transition="none",e.draggableDirection==="x"?(c.start=F.clientX,c.removalDistance=q.offsetWidth*(e.draggablePercent/100)):(c.start=F.clientY,c.removalDistance=q.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function x(F){let{top:q,bottom:H,left:$,right:pe}=l.current.getBoundingClientRect();F.nativeEvent.type!=="touchend"&&e.pauseOnHover&&F.clientX>=$&&F.clientX<=pe&&F.clientY>=q&&F.clientY<=H?w():R()}function R(){r(!0)}function w(){r(!1)}function T(){c.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",k)}function P(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",k)}function j(F){let q=l.current;if(c.canDrag&&q){c.didMove=!0,t&&w(),e.draggableDirection==="x"?c.delta=F.clientX-c.start:c.delta=F.clientY-c.start,c.start!==F.clientX&&(c.canCloseOnClick=!1);let H=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;q.style.transform=`translate3d(${H},0)`,q.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function k(){P();let F=l.current;if(c.canDrag&&c.didMove&&F){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){o(!0),e.closeToast(!0),e.collapseAll();return}F.style.transition="transform 0.2s, opacity 0.2s",F.style.removeProperty("transform"),F.style.removeProperty("opacity")}}let B={onPointerDown:C,onPointerUp:x};return a&&d&&(B.onMouseEnter=w,e.stacked||(B.onMouseLeave=R)),v&&(B.onClick=F=>{f&&f(F),c.canCloseOnClick&&h(!0)}),{playToast:R,pauseToast:w,isRunning:t,preventExitTransition:i,toastRef:l,eventHandlers:B}}var yN=typeof window<"u"?A.useLayoutEffect:A.useEffect,Jp=({theme:e,type:t,isLoading:r,...i})=>qe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i});function SN(e){return qe.createElement(Jp,{...e},qe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function bN(e){return qe.createElement(Jp,{...e},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function CN(e){return qe.createElement(Jp,{...e},qe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function xN(e){return qe.createElement(Jp,{...e},qe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function RN(){return qe.createElement("div",{className:"Toastify__spinner"})}var cy={info:bN,warning:SN,success:CN,error:xN,spinner:RN},wN=e=>e in cy;function EN({theme:e,type:t,isLoading:r,icon:i}){let o=null,l={theme:e,type:t};return i===!1||(hi(i)?o=i({...l,isLoading:r}):A.isValidElement(i)?o=A.cloneElement(i,l):r?o=cy.spinner():wN(t)&&(o=cy[t](l))),o}var TN=e=>{let{isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:o,playToast:l}=gN(e),{closeButton:c,children:a,autoClose:d,onClick:h,type:f,hideProgressBar:v,closeToast:m,transition:S,position:C,className:x,style:R,progressClassName:w,updateId:T,role:P,progress:j,rtl:k,toastId:B,deleteToast:F,isIn:q,isLoading:H,closeOnClick:$,theme:pe,ariaLabel:de}=e,fe=Js("Toastify__toast",`Toastify__toast-theme--${pe}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":$}),Ee=hi(x)?x({rtl:k,position:C,type:f,defaultClassName:fe}):Js(fe,x),Oe=EN(e),te=!!j||!d,se={closeToast:m,type:f,theme:pe},ce=null;return c===!1||(hi(c)?ce=c(se):A.isValidElement(c)?ce=A.cloneElement(c,se):ce=tN(se)),qe.createElement(S,{isIn:q,done:F,position:C,preventExitTransition:r,nodeRef:i,playToast:l},qe.createElement("div",{id:B,tabIndex:0,onClick:h,"data-in":q,className:Ee,...o,style:R,ref:i,...q&&{role:P,"aria-label":de}},Oe!=null&&qe.createElement("div",{className:Js("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!H})},Oe),cA(a,e,!t),ce,!e.customProgressBar&&qe.createElement(rN,{...T&&!te?{key:`p-${T}`}:{},rtl:k,theme:pe,delay:d,isRunning:t,isIn:q,closeToast:m,hide:v,type:f,className:w,controlledProgress:te,progress:j||0})))},PN=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),AN=eN(PN("bounce",!0)),_N={position:"top-right",transition:AN,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function kN(e){let t={..._N,...e},r=e.stacked,[i,o]=A.useState(!0),l=A.useRef(null),{getToastToRender:c,isToastActive:a,count:d}=mN(t),{className:h,style:f,rtl:v,containerId:m,hotKeys:S}=t;function C(R){let w=Js("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":v});return hi(h)?h({position:R,rtl:v,defaultClassName:w}):Js(w,sy(h))}function x(){r&&(o(!0),ot.play())}return yN(()=>{var R;if(r){let w=l.current.querySelectorAll('[data-in="true"]'),T=12,P=(R=t.position)==null?void 0:R.includes("top"),j=0,k=0;Array.from(w).reverse().forEach((B,F)=>{let q=B;q.classList.add("Toastify__toast--stacked"),F>0&&(q.dataset.collapsed=`${i}`),q.dataset.pos||(q.dataset.pos=P?"top":"bot");let H=j*(i?.2:1)+(i?0:T*F);q.style.setProperty("--y",`${P?H:H*-1}px`),q.style.setProperty("--g",`${T}`),q.style.setProperty("--s",`${1-(i?k:0)}`),j+=q.offsetHeight,k+=.025})}},[i,d,r]),A.useEffect(()=>{function R(w){var T;let P=l.current;S(w)&&((T=P.querySelector('[tabIndex="0"]'))==null||T.focus(),o(!1),ot.pause()),w.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(o(!0),ot.play())}return document.addEventListener("keydown",R),()=>{document.removeEventListener("keydown",R)}},[S]),qe.createElement("section",{ref:l,className:"Toastify",id:m,onMouseEnter:()=>{r&&(o(!1),ot.pause())},onMouseLeave:x,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((R,w)=>{let T=w.length?{...f}:{...f,pointerEvents:"none"};return qe.createElement("div",{tabIndex:-1,className:C(R),"data-stacked":r,style:T,key:`c-${R}`},w.map(({content:P,props:j})=>qe.createElement(TN,{...j,stacked:r,collapseAll:x,isIn:a(j.toastId,j.containerId),key:`t-${j.key}`},P)))}))}var oc={},sx;function MN(){if(sx)return oc;sx=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.parse=c,oc.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function c(m,S){const C=new l,x=m.length;if(x<2)return C;const R=(S==null?void 0:S.decode)||f;let w=0;do{const T=m.indexOf("=",w);if(T===-1)break;const P=m.indexOf(";",w),j=P===-1?x:P;if(T>j){w=m.lastIndexOf(";",T-1)+1;continue}const k=a(m,w,T),B=d(m,T,k),F=m.slice(k,B);if(C[F]===void 0){let q=a(m,T+1,j),H=d(m,j,q);const $=R(m.slice(q,H));C[F]=$}w=j+1}while(w<x);return C}function a(m,S,C){do{const x=m.charCodeAt(S);if(x!==32&&x!==9)return S}while(++S<C);return C}function d(m,S,C){for(;S>C;){const x=m.charCodeAt(--S);if(x!==32&&x!==9)return S+1}return C}function h(m,S,C){const x=(C==null?void 0:C.encode)||encodeURIComponent;if(!e.test(m))throw new TypeError(`argument name is invalid: ${m}`);const R=x(S);if(!t.test(R))throw new TypeError(`argument val is invalid: ${S}`);let w=m+"="+R;if(!C)return w;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);w+="; Max-Age="+C.maxAge}if(C.domain){if(!r.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);w+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);w+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);w+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(w+="; HttpOnly"),C.secure&&(w+="; Secure"),C.partitioned&&(w+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return w}function f(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function v(m){return o.call(m)==="[object Date]"}return oc}MN();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ox="popstate";function NN(e={}){function t(i,o){let{pathname:l,search:c,hash:a}=i.location;return ly("",{pathname:l,search:c,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:Ad(o)}return jN(t,r,null,e)}function St(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function IN(){return Math.random().toString(36).substring(2,10)}function ax(e,t){return{usr:e.state,key:e.key,idx:t}}function ly(e,t,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zo(t):t,state:r,key:t&&t.key||i||IN()}}function Ad({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function jN(e,t,r,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,c=o.history,a="POP",d=null,h=f();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function f(){return(c.state||{idx:null}).idx}function v(){a="POP";let R=f(),w=R==null?null:R-h;h=R,d&&d({action:a,location:x.location,delta:w})}function m(R,w){a="PUSH";let T=ly(x.location,R,w);h=f()+1;let P=ax(T,h),j=x.createHref(T);try{c.pushState(P,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(j)}l&&d&&d({action:a,location:x.location,delta:1})}function S(R,w){a="REPLACE";let T=ly(x.location,R,w);h=f();let P=ax(T,h),j=x.createHref(T);c.replaceState(P,"",j),l&&d&&d({action:a,location:x.location,delta:0})}function C(R){let w=o.location.origin!=="null"?o.location.origin:o.location.href,T=typeof R=="string"?R:Ad(R);return T=T.replace(/ $/,"%20"),St(w,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,w)}let x={get action(){return a},get location(){return e(o,c)},listen(R){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(ox,v),d=R,()=>{o.removeEventListener(ox,v),d=null}},createHref(R){return t(o,R)},createURL:C,encodeLocation(R){let w=C(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:S,go(R){return c.go(R)}};return x}function fA(e,t,r="/"){return ON(e,t,r,!1)}function ON(e,t,r,i){let o=typeof t=="string"?Zo(t):t,l=Hi(o.pathname||"/",r);if(l==null)return null;let c=vA(e);DN(c);let a=null;for(let d=0;a==null&&d<c.length;++d){let h=WN(l);a=$N(c[d],h,i)}return a}function vA(e,t=[],r=[],i=""){let o=(l,c,a)=>{let d={relativePath:a===void 0?l.path||"":a,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(St(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let h=di([i,d.relativePath]),f=r.concat(d);l.children&&l.children.length>0&&(St(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),vA(l.children,t,f,h)),!(l.path==null&&!l.index)&&t.push({path:h,score:FN(h,l.index),routesMeta:f})};return e.forEach((l,c)=>{var a;if(l.path===""||!((a=l.path)!=null&&a.includes("?")))o(l,c);else for(let d of mA(l.path))o(l,c,d)}),t}function mA(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,o=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let c=mA(i.join("/")),a=[];return a.push(...c.map(d=>d===""?l:[l,d].join("/"))),o&&a.push(...c),a.map(d=>e.startsWith("/")&&d===""?"/":d)}function DN(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:HN(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var zN=/^:[\w-]+$/,LN=3,BN=2,qN=1,UN=10,VN=-2,cx=e=>e==="*";function FN(e,t){let r=e.split("/"),i=r.length;return r.some(cx)&&(i+=VN),t&&(i+=BN),r.filter(o=>!cx(o)).reduce((o,l)=>o+(zN.test(l)?LN:l===""?qN:UN),i)}function HN(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function $N(e,t,r=!1){let{routesMeta:i}=e,o={},l="/",c=[];for(let a=0;a<i.length;++a){let d=i[a],h=a===i.length-1,f=l==="/"?t:t.slice(l.length)||"/",v=jp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),m=d.route;if(!v&&h&&r&&!i[i.length-1].route.index&&(v=jp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:di([l,v.pathname]),pathnameBase:QN(di([l,v.pathnameBase])),route:m}),v.pathnameBase!=="/"&&(l=di([l,v.pathnameBase]))}return c}function jp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=KN(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:v},m)=>{if(f==="*"){let C=a[m]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const S=a[m];return v&&!S?h[f]=void 0:h[f]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:e}}function KN(e,t=!1,r=!0){xn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,a,d)=>(i.push({paramName:a,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function WN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function GN(e,t="/"){let{pathname:r,search:i="",hash:o=""}=typeof e=="string"?Zo(e):e;return{pathname:r?r.startsWith("/")?r:JN(r,t):t,search:XN(i),hash:ZN(o)}}function JN(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Pm(e,t,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YN(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function o0(e){let t=YN(e);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function a0(e,t,r,i=!1){let o;typeof e=="string"?o=Zo(e):(o={...e},St(!o.pathname||!o.pathname.includes("?"),Pm("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),Pm("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),Pm("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,a;if(c==null)a=r;else{let v=t.length-1;if(!i&&c.startsWith("..")){let m=c.split("/");for(;m[0]==="..";)m.shift(),v-=1;o.pathname=m.join("/")}a=v>=0?t[v]:"/"}let d=GN(o,a),h=c&&c!=="/"&&c.endsWith("/"),f=(l||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}var di=e=>e.join("/").replace(/\/\/+/g,"/"),QN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function eI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var gA=["POST","PUT","PATCH","DELETE"];new Set(gA);var tI=["GET",...gA];new Set(tI);var ea=A.createContext(null);ea.displayName="DataRouter";var Yp=A.createContext(null);Yp.displayName="DataRouterState";var yA=A.createContext({isTransitioning:!1});yA.displayName="ViewTransition";var rI=A.createContext(new Map);rI.displayName="Fetchers";var nI=A.createContext(null);nI.displayName="Await";var Rn=A.createContext(null);Rn.displayName="Navigation";var Ld=A.createContext(null);Ld.displayName="Location";var cn=A.createContext({outlet:null,matches:[],isDataRoute:!1});cn.displayName="Route";var c0=A.createContext(null);c0.displayName="RouteError";function iI(e,{relative:t}={}){St(ta(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=A.useContext(Rn),{hash:o,pathname:l,search:c}=Bd(e,{relative:t}),a=l;return r!=="/"&&(a=l==="/"?r:di([r,l])),i.createHref({pathname:a,search:c,hash:o})}function ta(){return A.useContext(Ld)!=null}function vi(){return St(ta(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Ld).location}var SA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bA(e){A.useContext(Rn).static||A.useLayoutEffect(e)}function ro(){let{isDataRoute:e}=A.useContext(cn);return e?bI():sI()}function sI(){St(ta(),"useNavigate() may be used only in the context of a <Router> component.");let e=A.useContext(ea),{basename:t,navigator:r}=A.useContext(Rn),{matches:i}=A.useContext(cn),{pathname:o}=vi(),l=JSON.stringify(o0(i)),c=A.useRef(!1);return bA(()=>{c.current=!0}),A.useCallback((d,h={})=>{if(xn(c.current,SA),!c.current)return;if(typeof d=="number"){r.go(d);return}let f=a0(d,JSON.parse(l),o,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:di([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,l,o,e])}var oI=A.createContext(null);function aI(e){let t=A.useContext(cn).outlet;return t&&A.createElement(oI.Provider,{value:e},t)}function cI(){let{matches:e}=A.useContext(cn),t=e[e.length-1];return t?t.params:{}}function Bd(e,{relative:t}={}){let{matches:r}=A.useContext(cn),{pathname:i}=vi(),o=JSON.stringify(o0(r));return A.useMemo(()=>a0(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function lI(e,t){return CA(e,t)}function CA(e,t,r,i){var T;St(ta(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=A.useContext(Rn),{matches:c}=A.useContext(cn),a=c[c.length-1],d=a?a.params:{},h=a?a.pathname:"/",f=a?a.pathnameBase:"/",v=a&&a.route;{let P=v&&v.path||"";xA(h,!v||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let m=vi(),S;if(t){let P=typeof t=="string"?Zo(t):t;St(f==="/"||((T=P.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${P.pathname}" was given in the \`location\` prop.`),S=P}else S=m;let C=S.pathname||"/",x=C;if(f!=="/"){let P=f.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(P.length).join("/")}let R=!l&&r&&r.matches&&r.matches.length>0?r.matches:fA(e,{pathname:x});xn(v||R!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),xn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=fI(R&&R.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:di([f,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?f:di([f,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),c,r,i);return t&&w?A.createElement(Ld.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},w):w}function uI(){let e=SI(),t=eI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:o},r):null,c)}var dI=A.createElement(uI,null),hI=class extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?A.createElement(cn.Provider,{value:this.props.routeContext},A.createElement(c0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pI({routeContext:e,match:t,children:r}){let i=A.useContext(ea);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(cn.Provider,{value:e},r)}function fI(e,t=[],r=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=r==null?void 0:r.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);St(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,a=-1;if(r)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(a=d),h.route.id){let{loaderData:f,errors:v}=r,m=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||m){c=!0,a>=0?o=o.slice(0,a+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,m=!1,S=null,C=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,S=h.route.errorElement||dI,c&&(a<0&&f===0?(xA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,C=null):a===f&&(m=!0,C=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,f+1)),R=()=>{let w;return v?w=S:m?w=C:h.route.Component?w=A.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,A.createElement(pI,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?A.createElement(hI,{location:r.location,revalidation:r.revalidation,component:S,error:v,children:R(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):R()},null)}function l0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vI(e){let t=A.useContext(ea);return St(t,l0(e)),t}function mI(e){let t=A.useContext(Yp);return St(t,l0(e)),t}function gI(e){let t=A.useContext(cn);return St(t,l0(e)),t}function u0(e){let t=gI(e),r=t.matches[t.matches.length-1];return St(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function yI(){return u0("useRouteId")}function SI(){var i;let e=A.useContext(c0),t=mI("useRouteError"),r=u0("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[r]}function bI(){let{router:e}=vI("useNavigate"),t=u0("useNavigate"),r=A.useRef(!1);return bA(()=>{r.current=!0}),A.useCallback(async(o,l={})=>{xn(r.current,SA),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var lx={};function xA(e,t,r){!t&&!lx[e]&&(lx[e]=!0,xn(!1,r))}A.memo(CI);function CI({routes:e,future:t,state:r}){return CA(e,void 0,r,t)}function xI({to:e,replace:t,state:r,relative:i}){St(ta(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=A.useContext(Rn);xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(cn),{pathname:c}=vi(),a=ro(),d=a0(e,o0(l),c,i==="path"),h=JSON.stringify(d);return A.useEffect(()=>{a(JSON.parse(h),{replace:t,state:r,relative:i})},[a,h,i,t,r]),null}function RI(e){return aI(e.context)}function gn(e){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wI({basename:e="/",children:t=null,location:r,navigationType:i="POP",navigator:o,static:l=!1}){St(!ta(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),a=A.useMemo(()=>({basename:c,navigator:o,static:l,future:{}}),[c,o,l]);typeof r=="string"&&(r=Zo(r));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:m="default"}=r,S=A.useMemo(()=>{let C=Hi(d,c);return C==null?null:{location:{pathname:C,search:h,hash:f,state:v,key:m},navigationType:i}},[c,d,h,f,v,m,i]);return xn(S!=null,`<Router basename="${c}"> is not able to match the URL "${d}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:A.createElement(Rn.Provider,{value:a},A.createElement(Ld.Provider,{children:t,value:S}))}function EI({children:e,location:t}){return lI(uy(e),t)}function uy(e,t=[]){let r=[];return A.Children.forEach(e,(i,o)=>{if(!A.isValidElement(i))return;let l=[...t,o];if(i.type===A.Fragment){r.push.apply(r,uy(i.props.children,l));return}St(i.type===gn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=uy(i.props.children,l)),r.push(c)}),r}var mp="get",gp="application/x-www-form-urlencoded";function Qp(e){return e!=null&&typeof e.tagName=="string"}function TI(e){return Qp(e)&&e.tagName.toLowerCase()==="button"}function PI(e){return Qp(e)&&e.tagName.toLowerCase()==="form"}function AI(e){return Qp(e)&&e.tagName.toLowerCase()==="input"}function _I(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kI(e,t){return e.button===0&&(!t||t==="_self")&&!_I(e)}var op=null;function MI(){if(op===null)try{new FormData(document.createElement("form"),0),op=!1}catch{op=!0}return op}var NI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Am(e){return e!=null&&!NI.has(e)?(xn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gp}"`),null):e}function II(e,t){let r,i,o,l,c;if(PI(e)){let a=e.getAttribute("action");i=a?Hi(a,t):null,r=e.getAttribute("method")||mp,o=Am(e.getAttribute("enctype"))||gp,l=new FormData(e)}else if(TI(e)||AI(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||a.getAttribute("action");if(i=d?Hi(d,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||mp,o=Am(e.getAttribute("formenctype"))||Am(a.getAttribute("enctype"))||gp,l=new FormData(a,e),!MI()){let{name:h,type:f,value:v}=e;if(f==="image"){let m=h?`${h}.`:"";l.append(`${m}x`,"0"),l.append(`${m}y`,"0")}else h&&l.append(h,v)}}else{if(Qp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=mp,i=null,o=gp,c=e}return l&&o==="text/plain"&&(c=l,l=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:l,body:c}}function d0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function jI(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function DI(e,t,r){let i=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let c=await jI(l,r);return c.links?c.links():[]}return[]}));return qI(i.flat(1).filter(OI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ux(e,t,r,i,o,l){let c=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,a=(d,h)=>{var f;return r[h].pathname!==d.pathname||((f=r[h].route.path)==null?void 0:f.endsWith("*"))&&r[h].params["*"]!==d.params["*"]};return l==="assets"?t.filter((d,h)=>c(d,h)||a(d,h)):l==="data"?t.filter((d,h)=>{var v;let f=i.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(c(d,h)||a(d,h))return!0;if(d.route.shouldRevalidate){let m=d.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((v=r[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function zI(e,t,{includeHydrateFallback:r}={}){return LI(e.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function LI(e){return[...new Set(e)]}function BI(e){let t={},r=Object.keys(e).sort();for(let i of r)t[i]=e[i];return t}function qI(e,t){let r=new Set;return new Set(t),e.reduce((i,o)=>{let l=JSON.stringify(BI(o));return r.has(l)||(r.add(l),i.push({key:l,link:o})),i},[])}function UI(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function VI(){let e=A.useContext(ea);return d0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function FI(){let e=A.useContext(Yp);return d0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var h0=A.createContext(void 0);h0.displayName="FrameworkContext";function RA(){let e=A.useContext(h0);return d0(e,"You must render this element inside a <HydratedRouter> element"),e}function HI(e,t){let r=A.useContext(h0),[i,o]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:a,onBlur:d,onMouseEnter:h,onMouseLeave:f,onTouchStart:v}=t,m=A.useRef(null);A.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let x=w=>{w.forEach(T=>{c(T.isIntersecting)})},R=new IntersectionObserver(x,{threshold:.5});return m.current&&R.observe(m.current),()=>{R.disconnect()}}},[e]),A.useEffect(()=>{if(i){let x=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(x)}}},[i]);let S=()=>{o(!0)},C=()=>{o(!1),c(!1)};return r?e!=="intent"?[l,m,{}]:[l,m,{onFocus:ac(a,S),onBlur:ac(d,C),onMouseEnter:ac(h,S),onMouseLeave:ac(f,C),onTouchStart:ac(v,S)}]:[!1,m,{}]}function ac(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function $I({page:e,...t}){let{router:r}=VI(),i=A.useMemo(()=>fA(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?A.createElement(WI,{page:e,matches:i,...t}):null}function KI(e){let{manifest:t,routeModules:r}=RA(),[i,o]=A.useState([]);return A.useEffect(()=>{let l=!1;return DI(e,t,r).then(c=>{l||o(c)}),()=>{l=!0}},[e,t,r]),i}function WI({page:e,matches:t,...r}){let i=vi(),{manifest:o,routeModules:l}=RA(),{loaderData:c,matches:a}=FI(),d=A.useMemo(()=>ux(e,t,a,o,i,"data"),[e,t,a,o,i]),h=A.useMemo(()=>ux(e,t,a,o,i,"assets"),[e,t,a,o,i]),f=A.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,C=!1;if(t.forEach(R=>{var T;let w=o.routes[R.route.id];!w||!w.hasLoader||(!d.some(P=>P.route.id===R.route.id)&&R.route.id in c&&((T=l[R.route.id])!=null&&T.shouldRevalidate)||w.hasClientLoader?C=!0:S.add(R.route.id))}),S.size===0)return[];let x=UI(e);return C&&S.size>0&&x.searchParams.set("_routes",t.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[x.pathname+x.search]},[c,i,o,d,t,e,l]),v=A.useMemo(()=>zI(h,o),[h,o]),m=KI(h);return A.createElement(A.Fragment,null,f.map(S=>A.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),v.map(S=>A.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),m.map(({key:S,link:C})=>A.createElement("link",{key:S,...C})))}function GI(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var wA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wA&&(window.__reactRouterVersion="7.2.0")}catch{}function JI({basename:e,children:t,window:r}){let i=A.useRef();i.current==null&&(i.current=NN({window:r,v5Compat:!0}));let o=i.current,[l,c]=A.useState({action:o.action,location:o.location}),a=A.useCallback(d=>{A.startTransition(()=>c(d))},[c]);return A.useLayoutEffect(()=>o.listen(a),[o,a]),A.createElement(wI,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:o})}var EA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dn=A.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:a,target:d,to:h,preventScrollReset:f,viewTransition:v,...m},S){let{basename:C}=A.useContext(Rn),x=typeof h=="string"&&EA.test(h),R,w=!1;if(typeof h=="string"&&x&&(R=h,wA))try{let H=new URL(window.location.href),$=h.startsWith("//")?new URL(H.protocol+h):new URL(h),pe=Hi($.pathname,C);$.origin===H.origin&&pe!=null?h=pe+$.search+$.hash:w=!0}catch{xn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=iI(h,{relative:o}),[P,j,k]=HI(i,m),B=ZI(h,{replace:c,state:a,target:d,preventScrollReset:f,relative:o,viewTransition:v});function F(H){t&&t(H),H.defaultPrevented||B(H)}let q=A.createElement("a",{...m,...k,href:R||T,onClick:w||l?t:F,ref:GI(S,j),target:d,"data-discover":!x&&r==="render"?"true":void 0});return P&&!x?A.createElement(A.Fragment,null,q,A.createElement($I,{page:T})):q});Dn.displayName="Link";var YI=A.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:a,children:d,...h},f){let v=Bd(c,{relative:h.relative}),m=vi(),S=A.useContext(Yp),{navigator:C,basename:x}=A.useContext(Rn),R=S!=null&&ij(v)&&a===!0,w=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,T=m.pathname,P=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;r||(T=T.toLowerCase(),P=P?P.toLowerCase():null,w=w.toLowerCase()),P&&x&&(P=Hi(P,x)||P);const j=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let k=T===w||!o&&T.startsWith(w)&&T.charAt(j)==="/",B=P!=null&&(P===w||!o&&P.startsWith(w)&&P.charAt(w.length)==="/"),F={isActive:k,isPending:B,isTransitioning:R},q=k?t:void 0,H;typeof i=="function"?H=i(F):H=[i,k?"active":null,B?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(F):l;return A.createElement(Dn,{...h,"aria-current":q,className:H,ref:f,style:$,to:c,viewTransition:a},typeof d=="function"?d(F):d)});YI.displayName="NavLink";var QI=A.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:o,state:l,method:c=mp,action:a,onSubmit:d,relative:h,preventScrollReset:f,viewTransition:v,...m},S)=>{let C=rj(),x=nj(a,{relative:h}),R=c.toLowerCase()==="get"?"get":"post",w=typeof a=="string"&&EA.test(a),T=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let j=P.nativeEvent.submitter,k=(j==null?void 0:j.getAttribute("formmethod"))||c;C(j||P.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:o,state:l,relative:h,preventScrollReset:f,viewTransition:v})};return A.createElement("form",{ref:S,method:R,action:x,onSubmit:i?d:T,...m,"data-discover":!w&&e==="render"?"true":void 0})});QI.displayName="Form";function XI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(e){let t=A.useContext(ea);return St(t,XI(e)),t}function ZI(e,{target:t,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:c}={}){let a=ro(),d=vi(),h=Bd(e,{relative:l});return A.useCallback(f=>{if(kI(f,t)){f.preventDefault();let v=r!==void 0?r:Ad(d)===Ad(h);a(e,{replace:v,state:i,preventScrollReset:o,relative:l,viewTransition:c})}},[d,a,h,r,i,t,e,o,l,c])}var ej=0,tj=()=>`__${String(++ej)}__`;function rj(){let{router:e}=TA("useSubmit"),{basename:t}=A.useContext(Rn),r=yI();return A.useCallback(async(i,o={})=>{let{action:l,method:c,encType:a,formData:d,body:h}=II(i,t);if(o.navigate===!1){let f=o.fetcherKey||tj();await e.fetch(f,r,o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:h,formMethod:o.method||c,formEncType:o.encType||a,flushSync:o.flushSync})}else await e.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:d,body:h,formMethod:o.method||c,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,t,r])}function nj(e,{relative:t}={}){let{basename:r}=A.useContext(Rn),i=A.useContext(cn);St(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...Bd(e||".",{relative:t})},c=vi();if(e==null){l.search=c.search;let a=new URLSearchParams(l.search),d=a.getAll("index");if(d.some(f=>f==="")){a.delete("index"),d.filter(v=>v).forEach(v=>a.append("index",v));let f=a.toString();l.search=f?`?${f}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:di([r,l.pathname])),Ad(l)}function ij(e,t={}){let r=A.useContext(yA);St(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=TA("useViewTransitionState"),o=Bd(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=Hi(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=Hi(r.nextLocation.pathname,i)||r.nextLocation.pathname;return jp(o.pathname,c)!=null||jp(o.pathname,l)!=null}new TextEncoder;const eo="/assets/Logo_withoutShadow-M_6JhnEG.png",sj="/assets/Mission-CMLE1NqU.png";var PA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dx=qe.createContext&&qe.createContext(PA),oj=["attr","size","title"];function aj(e,t){if(e==null)return{};var r=cj(e,t),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)i=l[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function cj(e,t){if(e==null)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Op.apply(this,arguments)}function hx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function Dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hx(Object(r),!0).forEach(function(i){lj(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hx(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function lj(e,t,r){return t=uj(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uj(e){var t=dj(e,"string");return typeof t=="symbol"?t:t+""}function dj(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AA(e){return e&&e.map((t,r)=>qe.createElement(t.tag,Dp({key:r},t.attr),AA(t.child)))}function Me(e){return t=>qe.createElement(hj,Op({attr:Dp({},e.attr)},t),AA(e.child))}function hj(e){var t=r=>{var{attr:i,size:o,title:l}=e,c=aj(e,oj),a=o||r.size||"1em",d;return r.className&&(d=r.className),e.className&&(d=(d?d+" ":"")+e.className),qe.createElement("svg",Op({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,c,{className:d,style:Dp(Dp({color:e.color||r.color},r.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),l&&qe.createElement("title",null,l),e.children)};return dx!==void 0?qe.createElement(dx.Consumer,null,r=>t(r)):t(PA)}function _A(e){return Me({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function kA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function MA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function p0(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function Xp(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function NA(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function f0(e){return Me({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function pj(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function fj(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function IA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function jA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7.1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z"},child:[]}]})(e)}function px(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function vj(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function mj(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function gj(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function v0(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function fx(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"},child:[]}]})(e)}function m0(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function dy(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function hy(e){return Me({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function yj(e){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Sj(e){return Me({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 0 1-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 0 1-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 0 0-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 0 0-15.55-3.1l-31.17 10.39a11.95 11.95 0 0 0-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 0 1 8.93 21.57 46.536 46.536 0 0 1-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 0 1 0-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z"},child:[]}]})(e)}function qd(e){return Me({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function bj(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"},child:[]}]})(e)}function Cj(e){return Me({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(e)}function xj(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function Rj(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function wj(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M152.1 236.2c-3.5-12.1-7.8-33.2-7.8-33.2h-.5s-4.3 21.1-7.8 33.2l-11.1 37.5H163zM616 96H336v320h280c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm-24 120c0 6.6-5.4 12-12 12h-11.4c-6.9 23.6-21.7 47.4-42.7 69.9 8.4 6.4 17.1 12.5 26.1 18 5.5 3.4 7.3 10.5 4.1 16.2l-7.9 13.9c-3.4 5.9-10.9 7.8-16.7 4.3-12.6-7.8-24.5-16.1-35.4-24.9-10.9 8.7-22.7 17.1-35.4 24.9-5.8 3.5-13.3 1.6-16.7-4.3l-7.9-13.9c-3.2-5.6-1.4-12.8 4.2-16.2 9.3-5.7 18-11.7 26.1-18-7.9-8.4-14.9-17-21-25.7-4-5.7-2.2-13.6 3.7-17.1l6.5-3.9 7.3-4.3c5.4-3.2 12.4-1.7 16 3.4 5 7 10.8 14 17.4 20.9 13.5-14.2 23.8-28.9 30-43.2H412c-6.6 0-12-5.4-12-12v-16c0-6.6 5.4-12 12-12h64v-16c0-6.6 5.4-12 12-12h16c6.6 0 12 5.4 12 12v16h64c6.6 0 12 5.4 12 12zM0 120v272c0 13.3 10.7 24 24 24h280V96H24c-13.3 0-24 10.7-24 24zm58.9 216.1L116.4 167c1.7-4.9 6.2-8.1 11.4-8.1h32.5c5.1 0 9.7 3.3 11.4 8.1l57.5 169.1c2.6 7.8-3.1 15.9-11.4 15.9h-22.9a12 12 0 0 1-11.5-8.6l-9.4-31.9h-60.2l-9.1 31.8c-1.5 5.1-6.2 8.7-11.5 8.7H70.3c-8.2 0-14-8.1-11.4-15.9z"},child:[]}]})(e)}function OA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function DA(e){return Me({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function vx(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function Ej(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function Tj(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M43.246 466.142c-58.43-60.289-57.341-157.511 1.386-217.581L254.392 34c44.316-45.332 116.351-45.336 160.671 0 43.89 44.894 43.943 117.329 0 162.276L232.214 383.128c-29.855 30.537-78.633 30.111-107.982-.998-28.275-29.97-27.368-77.473 1.452-106.953l143.743-146.835c6.182-6.314 16.312-6.422 22.626-.241l22.861 22.379c6.315 6.182 6.422 16.312.241 22.626L171.427 319.927c-4.932 5.045-5.236 13.428-.648 18.292 4.372 4.634 11.245 4.711 15.688.165l182.849-186.851c19.613-20.062 19.613-52.725-.011-72.798-19.189-19.627-49.957-19.637-69.154 0L90.39 293.295c-34.763 35.56-35.299 93.12-1.191 128.313 34.01 35.093 88.985 35.137 123.058.286l172.06-175.999c6.177-6.319 16.307-6.433 22.626-.256l22.877 22.364c6.319 6.177 6.434 16.307.256 22.626l-172.06 175.998c-59.576 60.938-155.943 60.216-214.77-.485z"},child:[]}]})(e)}function Pj(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function zA(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z"},child:[]}]})(e)}function Aj(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function _j(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Zp(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function kj(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(e)}function Mj(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function mx(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function py(e){return Me({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z"},child:[]}]})(e)}function Nj(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function gx(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function yx(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function an(e){return Me({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function fy(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Ij(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function jj(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function vy(e){return Me({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function LA(e){return Me({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Oj(e){return Me({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256zm296-80v160c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16z"},child:[]}]})(e)}const BA=()=>{const e={product:[{name:"Features",href:"#features"},{name:"Services",href:"#services"},{name:"Pricing",href:"#pricing"},{name:"FAQ",href:"#faq"}],company:[{name:"About",href:"/about"},{name:"Blog",href:"/blog"},{name:"Careers",href:"/careers"},{name:"Contact",href:"#contact"}],legal:[{name:"Privacy",href:"/privacy"},{name:"Terms",href:"/terms"},{name:"Security",href:"/security"},{name:"Cookies",href:"/cookies"}]};return g.jsxs("footer",{className:"relative bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950 text-white overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-primary-500/5 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-accent-500/5 rounded-full blur-3xl"}),g.jsxs("div",{className:"section-container relative z-10 py-16",children:[g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-8 mb-12",children:[g.jsxs("div",{className:"col-span-2 space-y-6",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("img",{src:eo,alt:"Chatlas",className:"h-12 w-12"}),g.jsx("span",{className:"text-2xl font-display font-bold text-gradient",children:"UnifyChat"})]}),g.jsx("p",{className:"text-neutral-300 max-w-xs text-lg leading-relaxed",children:"Breaking language barriers with AI-powered real-time translation. Connect with anyone, anywhere."}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-2xl bg-white/5 hover:bg-primary-600/20 border border-white/10 hover:border-primary-500/50 transition-all duration-300 hover:scale-110",children:g.jsx(MA,{size:20})}),g.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-2xl bg-white/5 hover:bg-primary-600/20 border border-white/10 hover:border-primary-500/50 transition-all duration-300 hover:scale-110",children:g.jsx(_A,{size:20})}),g.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-2xl bg-white/5 hover:bg-primary-600/20 border border-white/10 hover:border-primary-500/50 transition-all duration-300 hover:scale-110",children:g.jsx(kA,{size:20})})]})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6 text-gradient-cyan",children:"Product"}),g.jsx("ul",{className:"space-y-2",children:e.product.map(t=>g.jsx("li",{children:g.jsx("a",{href:t.href,className:"text-neutral-400 hover:text-white transition-colors",children:t.name})},t.name))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6 text-gradient-cyan",children:"Company"}),g.jsx("ul",{className:"space-y-2",children:e.company.map(t=>g.jsx("li",{children:g.jsx("a",{href:t.href,className:"text-neutral-400 hover:text-white transition-colors",children:t.name})},t.name))})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-bold text-lg mb-6 text-gradient-cyan",children:"Legal"}),g.jsx("ul",{className:"space-y-2",children:e.legal.map(t=>g.jsx("li",{children:g.jsx("a",{href:t.href,className:"text-neutral-400 hover:text-white transition-colors",children:t.name})},t.name))})]})]}),g.jsx("div",{className:"pt-8 border-t border-white/10",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[g.jsxs("p",{className:"text-neutral-400",children:[" 2025 ",g.jsx("span",{className:"text-white font-semibold",children:"UnifyChat"}),". All Rights Reserved."]}),g.jsxs("a",{href:"mailto:unifychathelp@gmail.com",className:"group flex items-center space-x-2 text-neutral-300 hover:text-primary-400 transition-all duration-300",children:[g.jsx("div",{className:"p-2 rounded-xl bg-white/5 group-hover:bg-primary-600/20 border border-white/10 group-hover:border-primary-500/50 transition-all duration-300",children:g.jsx(m0,{})}),g.jsx("span",{className:"font-medium",children:"unifychathelp@gmail.com"})]})]})})]})]})},Dj=()=>{const[e,t]=A.useState(0),r=[{id:"speech",icon:DA,title:"Voice-to-Text & Text-to-Speech",description:"Transform conversations with our in-house powerful speech capabilities. Convert text to natural-sounding speech and vice versa for seamless, engaging cross-language communication.",stats:[{label:"Languages",value:"75+"},{label:"Accuracy",value:"99%"},{label:"Response",value:"<1s"}],badge:"Powered",color:"primary",bgGradient:"from-indigo-500/10 to-purple-500/10"},{id:"files",icon:yj,title:"File Sharing",description:"Share documents, images, and media directly in your chat rooms with built-in language annotation. File sharing is seamless, secure, and efficient for all your cross-cultural collaborative needs.",stats:[{label:"Max Size",value:"100MB"},{label:"File Types",value:"All"},{label:"Security",value:"E2E"}],badge:"Secure",color:"accent",bgGradient:"from-pink-500/10 to-rose-500/10"},{id:"summarize",icon:Aj,title:"Chat Summarization",description:"Quickly summarize multilingual conversations within any date range. Stay updated without reading every message and get key takeaways in your preferred language.",stats:[{label:"Speed",value:"Instant"},{label:"Accuracy",value:"95%"},{label:"Support",value:"Multilingual"}],badge:"Coming Soon",color:"success",bgGradient:"from-emerald-500/10 to-teal-500/10"}],i={primary:{bg:"bg-indigo-500",text:"text-indigo-600 dark:text-indigo-400",border:"border-indigo-500",gradient:"from-indigo-600 to-purple-600"},accent:{bg:"bg-pink-500",text:"text-pink-600 dark:text-pink-400",border:"border-pink-500",gradient:"from-pink-600 to-rose-600"},success:{bg:"bg-emerald-500",text:"text-emerald-600 dark:text-emerald-400",border:"border-emerald-500",gradient:"from-emerald-600 to-teal-600"}};return g.jsxs("div",{className:"relative py-20 bg-white dark:bg-slate-900 transition-colors overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary-500/10 dark:bg-primary-500/5 rounded-full blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-accent-500/10 dark:bg-accent-500/5 rounded-full blur-3xl"})]}),g.jsxs("div",{className:"section-container relative z-10",children:[g.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16 space-y-6",children:[g.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-neutral-100 dark:bg-slate-800 rounded-full border border-primary-200 dark:border-primary-800 shadow-sm",children:[g.jsx("div",{className:"w-2 h-2 bg-primary-500 dark:bg-primary-400 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-semibold bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"Powerful Features"})]}),g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100 leading-tight",children:["Everything you need for",g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"seamless communication"})]}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-300",children:"AI-powered features designed to break down language barriers"})]}),g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx("div",{className:"flex flex-col md:flex-row gap-3 mb-8 p-2 bg-neutral-100 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700",children:r.map((o,l)=>g.jsx("button",{onClick:()=>t(l),className:`flex-1 p-4 rounded-xl transition-all duration-300 ${e===l?`bg-white dark:bg-slate-700 shadow-lg ${i[o.color].text} border-2 ${i[o.color].border} dark:border-opacity-50`:"bg-transparent text-neutral-600 dark:text-neutral-400 hover:bg-white/50 dark:hover:bg-slate-700/50 border-2 border-transparent"}`,children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${e===l?i[o.color].bg:"bg-neutral-300 dark:bg-slate-600"} transition-colors`,children:g.jsx(o.icon,{className:"text-white text-lg"})}),g.jsx("div",{className:"text-left flex-1",children:g.jsx("p",{className:"font-semibold",children:o.title.split(" ")[0]})}),e===l&&g.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${i[o.color].bg} text-white`,children:o.badge})]})},o.id))}),g.jsx("div",{className:"relative",children:r.map((o,l)=>g.jsx("div",{className:`transition-all duration-500 ${e===l?"opacity-100 block":"opacity-0 hidden"}`,children:g.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[g.jsxs("div",{className:"space-y-6 order-2 md:order-1",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:"text-3xl md:text-4xl font-bold text-neutral-900 dark:text-neutral-100",children:o.title}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-300 leading-relaxed",children:o.description})]}),g.jsx("div",{className:"grid grid-cols-3 gap-4",children:o.stats.map((c,a)=>g.jsxs("div",{className:"p-4 bg-neutral-50 dark:bg-slate-800 rounded-xl border border-neutral-200 dark:border-neutral-700",children:[g.jsx("div",{className:`text-2xl font-bold ${i[o.color].text}`,children:c.value}),g.jsx("div",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-1",children:c.label})]},a))}),g.jsxs("button",{className:`group inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r ${i[o.color].gradient} text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105`,children:[g.jsx("span",{children:"Learn More"}),g.jsx(Xp,{className:"group-hover:translate-x-1 transition-transform"})]})]}),g.jsx("div",{className:"order-1 md:order-2",children:g.jsx("div",{className:`relative p-12 bg-gradient-to-br ${o.bgGradient} dark:${o.bgGradient.replace("/10","/20")} rounded-3xl border border-neutral-200 dark:border-neutral-700`,children:g.jsxs("div",{className:"relative flex items-center justify-center",children:[g.jsx("div",{className:`w-48 h-48 rounded-full bg-gradient-to-br ${i[o.color].gradient} flex items-center justify-center shadow-2xl animate-float`,children:g.jsx(o.icon,{className:"text-white text-7xl"})}),o.id==="speech"&&g.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:g.jsx("button",{className:"w-16 h-16 bg-white dark:bg-slate-800 rounded-full flex items-center justify-center shadow-xl hover:scale-110 transition-transform",children:g.jsx(Pj,{className:"text-primary-600 dark:text-primary-400 ml-1"})})})]})})})]})},o.id))})]}),g.jsxs("div",{className:"mt-20 grid md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"p-6 bg-neutral-50 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-primary-500 dark:hover:border-primary-400 transition-all duration-300",children:[g.jsx("div",{className:"text-primary-600 dark:text-primary-400 text-3xl mb-3",children:""}),g.jsx("h4",{className:"font-bold text-neutral-900 dark:text-neutral-100 mb-2",children:"End-to-End Encryption"}),g.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Your messages are always secure and private"})]}),g.jsxs("div",{className:"p-6 bg-neutral-50 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-accent-500 dark:hover:border-accent-400 transition-all duration-300",children:[g.jsx("div",{className:"text-accent-600 dark:text-accent-400 text-3xl mb-3",children:""}),g.jsx("h4",{className:"font-bold text-neutral-900 dark:text-neutral-100 mb-2",children:"Lightning Fast"}),g.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Real-time translation with minimal latency"})]}),g.jsxs("div",{className:"p-6 bg-neutral-50 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-success-500 dark:hover:border-success-400 transition-all duration-300",children:[g.jsx("div",{className:"text-success-600 dark:text-success-400 text-3xl mb-3",children:""}),g.jsx("h4",{className:"font-bold text-neutral-900 dark:text-neutral-100 mb-2",children:"Global Access"}),g.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Available anywhere, anytime, on any device"})]})]})]})]})},qA=A.createContext(),g0=()=>{const e=A.useContext(qA);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},zj=({children:e})=>{const[t,r]=A.useState(()=>localStorage.getItem("theme")||"light");A.useEffect(()=>{const o=document.documentElement;t==="dark"?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),A.useEffect(()=>{const o=document.documentElement;o.style.setProperty("--transition-duration","300ms"),o.style.setProperty("--transition-timing","cubic-bezier(0.4, 0, 0.2, 1)"),document.documentElement.classList.add("theme-transition"),document.body.classList.add("theme-transition");const l=setTimeout(()=>{document.documentElement.classList.remove("theme-transition"),document.body.classList.remove("theme-transition")},300);return()=>clearTimeout(l)},[t]);const i=()=>{r(o=>o==="light"?"dark":"light")};return g.jsx("div",{className:"theme-wrapper",children:g.jsx(qA.Provider,{value:{theme:t,toggleTheme:i},children:e})})},Lj="/assets/light%20home-C0KX8-Ao.jpg",Bj="/assets/dark%20home-B40ehyHq.png",qj=({words:e=["Welcome","Bienvenue","Hola","Namaste","",""],interval:t=1500})=>{const[r,i]=A.useState(0);return A.useEffect(()=>{const o=setInterval(()=>i(l=>(l+1)%e.length),t);return()=>clearInterval(o)},[e.length,t]),g.jsxs("span",{className:"inline-block relative","aria-hidden":!0,children:[g.jsx("span",{className:"block text-4xl md:text-5xl font-extrabold tracking-tight leading-tight transition-transform duration-700 ease-in-out transform-gpu animate-appear",style:{WebkitTextStroke:"0.5px rgba(0,0,0,0.05)"},children:e[r]},r),g.jsx("style",{children:`
        @keyframes appear {
          0% { opacity: 0; transform: translateY(10px) scale(.98); }
          30% { opacity: 1; transform: translateY(0) scale(1.02); }
          100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-appear { animation: appear .7s ease forwards; }
        @media (prefers-reduced-motion: reduce) {
          .animate-appear { animation: none !important; }
        }
      `})]})},Uj=[{id:1,text:"Hello, how are you?",lang:"EN",translation:"Bonjour, comment a va?",tLang:"FR"},{id:2,text:"Where is the train station?",lang:"EN",translation:"Dnde est la estacin de tren?",tLang:"ES"},{id:3,text:"Thank you very much",lang:"EN",translation:"",tLang:"JA"},{id:4,text:"Good morning",lang:"EN",translation:"",tLang:"HI"},{id:5,text:"Can you help me?",lang:"EN",translation:"  ",tLang:"AR"},{id:6,text:"I love this city",lang:"EN",translation:"J'adore cette ville",tLang:"FR"}],Vj=({phrases:e=Uj,autoInterval:t=2400,playAudio:r=!0})=>{const[i,o]=A.useState(0),[l,c]=A.useState(!0),a=A.useRef(!1);A.useEffect(()=>{const h=setInterval(()=>o(f=>(f+1)%e.length),t);return()=>clearInterval(h)},[e.length,t]),A.useEffect(()=>{if(!r)return;const h=e[i];if(h){if(!("speechSynthesis"in window)){c(!1);return}if(!a.current)try{a.current=!0;const f=new SpeechSynthesisUtterance(h.translation||h.text),v=(h.tLang||h.lang||"en").toLowerCase(),m={en:"en-US",fr:"fr-FR",es:"es-ES",ja:"ja-JP",hi:"hi-IN",ar:"ar-SA"};f.lang=m[v]||v,f.rate=.95,f.pitch=1;const S=()=>{const C=speechSynthesis.getVoices();if(C&&C.length){const x=C.find(R=>R.lang&&R.lang.toLowerCase().startsWith((f.lang||"").slice(0,2)));x&&(f.voice=x)}};S(),f.voice||setTimeout(S,120),speechSynthesis.cancel(),speechSynthesis.speak(f),setTimeout(()=>a.current=!1,600)}catch{a.current=!1,c(!1)}}},[i,e,r]);const d=e[i];return g.jsxs("div",{className:"w-full max-w-3xl mx-auto",children:[g.jsxs("div",{className:"relative bg-gray-900/60 backdrop-blur-sm rounded-xl p-6 shadow-lg transition-all duration-500 transform-gpu",style:{borderLeft:"3px solid #6366F1",borderRight:"3px solid #8B5CF6",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.2), 0 0 8px rgba(99, 102, 241, 0.3), 0 0 8px rgba(139, 92, 246, 0.3)"},children:[g.jsxs("div",{className:"flex flex-col space-y-4 animate-fadeSlide",children:[g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"bg-gray-800 text-xs font-bold px-2 py-1 rounded mr-2 text-primary-300",children:d.lang}),g.jsx("p",{className:"text-white text-lg font-medium",children:d.text})]}),g.jsxs("div",{className:"pl-6 relative",children:[g.jsx("div",{className:"absolute left-0 top-2 h-6 w-4 text-primary-300",children:g.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.75.75v10.638l3.96-4.158a.75.75 0 111.08 1.04l-5.25 5.5a.75.75 0 01-1.08 0l-5.25-5.5a.75.75 0 111.08-1.04l3.96 4.158V3.75A.75.75 0 0110 3z",clipRule:"evenodd"})})}),g.jsxs("div",{className:"flex items-start",children:[g.jsx("div",{className:"bg-primary-600 text-xs font-bold px-2 py-1 rounded mr-2 text-white",children:d.tLang}),g.jsx("p",{className:"text-primary-300 text-lg font-medium",dir:d.tLang==="AR"?"rtl":"ltr",children:d.translation})]})]})]}),r&&g.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center",children:[g.jsx("div",{className:`w-2 h-2 rounded-full mr-1 ${l?"bg-primary-400":"bg-gray-500"}`}),g.jsx("span",{className:"text-xs text-gray-400",children:"audio"})]})]}),g.jsx("div",{className:"mt-4 text-center",children:g.jsxs("button",{className:"inline-flex items-center px-4 py-2 rounded-full bg-primary-600 hover:bg-primary-700 text-white font-medium transition-colors shadow-md hover:shadow-lg",onClick:()=>o((i+1)%e.length),children:[g.jsx("span",{children:"Watch Demo"}),g.jsx("svg",{className:"ml-2 w-4 h-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:g.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})})]})}),g.jsx("style",{children:`
        @keyframes fadeSlide {
          0% { opacity: 0; transform: translateY(10px); }
          100% { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeSlide {
          animation: fadeSlide 0.5s ease-out forwards;
        }
        @media (prefers-reduced-motion: reduce) {
          .animate-fadeSlide { animation: none !important; }
        }
      `})]})},Fj=()=>{const{theme:e}=g0();return g.jsxs("section",{className:"relative overflow-hidden bg-gray-900 text-white py-16 md:py-24",children:[g.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat transition-all duration-300",style:{backgroundImage:`url(${e==="dark"?Bj:Lj})`}}),g.jsx("div",{className:`absolute inset-0 ${e==="dark"?"bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 opacity-90":"bg-gradient-to-br from-black/80 via-gray-900/70 to-black/80 opacity-98"}`}),g.jsx("div",{className:"absolute top-0 left-1/4 w-64 h-64 bg-primary-500/10 rounded-full filter blur-3xl"}),g.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-accent-500/10 rounded-full filter blur-3xl"}),g.jsx("div",{className:"relative container mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-12",children:[g.jsxs("h1",{className:"text-3xl md:text-5xl font-bold mb-6",children:[g.jsx(qj,{})," to Translation"]}),g.jsx("h2",{className:"text-2xl md:text-4xl font-bold mb-6 bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent",children:"Break Language Barriers  Connect Globally with AI"}),g.jsx(Vj,{}),g.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row justify-center gap-4",children:[g.jsx("a",{href:"#get-started",className:"px-8 py-3 rounded-lg bg-primary-600 hover:bg-primary-700 text-white font-bold text-lg transition-colors shadow-lg hover:shadow-xl",children:"Get Started Free"}),g.jsx("a",{href:"#learn-more",className:"px-8 py-3 rounded-lg bg-gray-800 hover:bg-gray-700 text-white font-bold text-lg transition-colors border border-primary-400/30 hover:border-primary-400/60",children:"Learn More"})]})]})})]})},Hj=()=>{const{theme:e}=g0(),t=[{id:"languages",icon:Sj,title:"140+",subtitle:"Supported Languages",description:"Covering 95% of the world's population",gradient:"from-indigo-500 via-purple-500 to-pink-500",iconBg:"bg-primary-500"},{id:"users",icon:LA,title:"10K+",subtitle:"Happy Users",description:"And growing every day",gradient:"from-cyan-500 via-blue-500 to-indigo-500",iconBg:"bg-accent-500"},{id:"support",icon:bj,title:"24/7",subtitle:"Support",description:"Always here to help you",gradient:"from-pink-500 via-rose-500 to-red-500",iconBg:"bg-aurora-500"}];return g.jsxs("div",{className:`relative py-32 overflow-hidden ${e==="dark"?"bg-neutral-950":"bg-white"}`,children:[g.jsxs("div",{className:"absolute inset-0 bg-cover bg-center transition-all duration-300",style:{backgroundImage:`url(${sj})`},children:[g.jsx("div",{className:`absolute inset-0 ${e==="dark"?"bg-gradient-to-br from-neutral-950/95 via-neutral-950/85 to-neutral-900/90":"bg-gradient-to-br from-gray-900/80 via-gray-700/70 to-gray-900/80 opacity-95"}`}),g.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${e==="dark"?"from-neutral-950 via-transparent to-transparent":"from-white/90 via-transparent to-transparent"}`})]}),g.jsx("div",{className:"absolute top-20 right-20 w-64 h-64 bg-primary-500/5 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-20 left-20 w-72 h-72 bg-accent-500/5 rounded-full blur-3xl animate-pulse delay-1000"}),g.jsx("div",{className:"section-container relative z-10",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[g.jsxs("div",{className:`space-y-8 animate-slide-right ${e==="dark"?"text-white":"text-gray-900"}`,children:[g.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 glass-dark rounded-full border border-primary-500/30",children:[g.jsx("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-accent-400",children:"Our Mission"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("h2",{className:"text-5xl md:text-6xl font-display font-bold leading-[1.1]",children:["A World Without",g.jsx("br",{}),g.jsx("span",{className:"text-gradient",children:"Language Barriers"})]}),g.jsx("div",{className:"h-1 w-24 bg-gradient-to-r from-primary-500 to-accent-500 rounded-full"})]}),g.jsxs("p",{className:`text-xl leading-relaxed max-w-2xl ${e==="dark"?"text-neutral-300":"text-gray-700"}`,children:["By combining cutting-edge AI with secure, seamless access, we bring people togetherbreaking down linguistic divides and building a more ",g.jsx("span",{className:"text-primary-400 font-semibold",children:"connected world"}),"."]})]}),g.jsx("div",{className:"grid grid-cols-1 gap-6 animate-slide-left",children:t.map(r=>g.jsx("div",{className:"group relative",children:g.jsxs("div",{className:"relative h-full bg-white dark:bg-slate-800 rounded-3xl p-8 border-2 border-neutral-200 dark:border-neutral-700 hover:border-primary-500 dark:hover:border-primary-400 transition-all duration-300 overflow-hidden",children:[g.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${r.gradient} opacity-0 group-hover:opacity-5 dark:group-hover:opacity-10 transition-opacity duration-300`}),g.jsxs("div",{className:"relative z-10 flex items-start space-x-4",children:[g.jsx("div",{className:`w-14 h-14 ${r.iconBg} dark:${r.iconBg}/80 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300 flex-shrink-0`,children:g.jsx(r.icon,{className:"text-white text-2xl"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"text-4xl font-display font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-accent-400 mb-2",children:r.title}),g.jsx("div",{className:`font-medium ${e==="dark"?"text-neutral-300":"text-gray-800"}`,children:r.subtitle}),g.jsx("div",{className:`text-sm mt-1 ${e==="dark"?"text-neutral-500":"text-gray-600"}`,children:r.description})]})]}),g.jsx("div",{className:"pt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:g.jsx("div",{className:`h-1 w-full bg-gradient-to-r ${r.gradient} rounded-full`})})]})},r.id))})]})})]})},UA=A.forwardRef((e,t)=>{const r=[{id:"translate",icon:wj,title:"140+ Languages",subtitle:"Instant Translation",description:"Break down language barriers with support for over 140 languages. Chat naturally while our AI handles the translation in real-time.",features:["Real-time translation","Context-aware","Native accuracy"],gradient:"from-indigo-500 via-purple-500 to-pink-500",iconBg:"bg-indigo-500"},{id:"realtime",icon:f0,title:"Lightning Fast",subtitle:"Real-Time Speed",description:"Experience conversations without delays. Our Azure-powered infrastructure ensures messages translate in milliseconds, not seconds.",features:["&lt; 100ms latency","WebSocket powered","Always reliable"],gradient:"from-cyan-500 via-blue-500 to-indigo-500",iconBg:"bg-cyan-500"},{id:"global",icon:qd,title:"Global Reach",subtitle:"Connect Worldwide",description:"Join chat rooms with people from around the world. Everyone sees messages in their own language automatically.",features:["Auto-detection","Smart routing","Secure encryption"],gradient:"from-pink-500 via-rose-500 to-red-500",iconBg:"bg-pink-500"}];return g.jsxs("div",{ref:t,id:"services",className:"relative py-20 bg-neutral-50 dark:bg-slate-900 transition-colors overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[g.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-primary-500/20 dark:bg-primary-500/10 rounded-full blur-3xl animate-float"}),g.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-accent-500/20 dark:bg-accent-500/10 rounded-full blur-3xl animate-float-delayed"})]}),g.jsxs("div",{className:"section-container relative z-10",children:[g.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16 space-y-6",children:[g.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-white dark:bg-slate-800 rounded-full border border-primary-200 dark:border-primary-800 shadow-sm",children:[g.jsx("div",{className:"w-2 h-2 bg-primary-500 dark:bg-primary-400 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-semibold bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"Our Services"})]}),g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100 leading-tight",children:["Everything you need to",g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"communicate globally"})]}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-300",children:"Powerful AI-driven services designed for seamless cross-language communication"})]}),g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((i,o)=>g.jsx("div",{className:"group relative",children:g.jsxs("div",{className:"relative h-full bg-white dark:bg-slate-800 rounded-3xl p-8 border-2 border-neutral-200 dark:border-neutral-700 hover:border-primary-500 dark:hover:border-primary-400 transition-all duration-300 overflow-hidden",children:[g.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i.gradient} opacity-0 group-hover:opacity-5 dark:group-hover:opacity-10 transition-opacity duration-300`}),g.jsxs("div",{className:"relative z-10 space-y-6",children:[g.jsx("div",{className:`inline-flex p-4 ${i.iconBg} dark:${i.iconBg}/80 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300`,children:g.jsx(i.icon,{className:"text-3xl text-white"})}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-semibold text-neutral-500 dark:text-neutral-400 uppercase tracking-wider",children:i.subtitle}),g.jsx("h3",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:i.title})]}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-300 leading-relaxed",children:i.description}),g.jsx("ul",{className:"space-y-2",children:i.features.map((l,c)=>g.jsxs("li",{className:"flex items-center space-x-2 text-sm text-neutral-700 dark:text-neutral-300",children:[g.jsx(IA,{className:"text-success-600 dark:text-success-400 flex-shrink-0"}),g.jsx("span",{children:l})]},c))}),g.jsx("div",{className:"pt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:g.jsx("div",{className:`h-1 w-full bg-gradient-to-r ${i.gradient} rounded-full`})})]})]})},i.id))}),g.jsx("div",{className:"mt-16 text-center",children:g.jsxs("div",{className:"inline-flex flex-col md:flex-row items-center gap-4 p-8 bg-white dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 shadow-lg",children:[g.jsxs("div",{className:"text-center md:text-left",children:[g.jsx("p",{className:"text-lg font-semibold text-neutral-900 dark:text-neutral-100",children:"Ready to connect with the world?"}),g.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Start chatting in any language, instantly"})]}),g.jsx("a",{href:"/Chat",className:"px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-primary-500/30 whitespace-nowrap",children:"Start Chatting"})]})})]})]})});UA.displayName="Service";const Sx=[{id:"Home",title:"Home"},{id:"Chat",title:"Chat"},{id:"Help",title:"Help"}],$j=[{language:"Afrikaans",code:"af"},{language:"Albanian",code:"sq"},{language:"Amharic",code:"am"},{language:"Arabic",code:"ar"},{language:"Armenian",code:"hy"},{language:"Assamese",code:"as"},{language:"Azerbaijani (Latin)",code:"az"},{language:"Bangla",code:"bn"},{language:"Bashkir",code:"ba"},{language:"Basque",code:"eu"},{language:"Bhojpuri",code:"bho"},{language:"Bodo",code:"brx"},{language:"Bosnian (Latin)",code:"bs"},{language:"Bulgarian",code:"bg"},{language:"Cantonese (Traditional)",code:"yue"},{language:"Catalan",code:"ca"},{language:"Chinese (Literary)",code:"lzh"},{language:"Chinese Simplified",code:"zh-Hans"},{language:"Chinese Traditional",code:"zh-Hant"},{language:"chiShona",code:"sn"},{language:"Croatian",code:"hr"},{language:"Czech",code:"cs"},{language:"Danish",code:"da"},{language:"Dari",code:"prs"},{language:"Divehi",code:"dv"},{language:"Dogri",code:"doi"},{language:"Dutch",code:"nl"},{language:"English",code:"en"},{language:"Estonian",code:"et"},{language:"Faroese",code:"fo"},{language:"Fijian",code:"fj"},{language:"Filipino",code:"fil"},{language:"Finnish",code:"fi"},{language:"French",code:"fr"},{language:"French (Canada)",code:"fr-ca"},{language:"Galician",code:"gl"},{language:"Georgian",code:"ka"},{language:"German",code:"de"},{language:"Greek",code:"el"},{language:"Gujarati",code:"gu"},{language:"Haitian Creole",code:"ht"},{language:"Hausa",code:"ha"},{language:"Hebrew",code:"he"},{language:"Hindi",code:"hi"},{language:"Hmong Daw (Latin)",code:"mww"},{language:"Hungarian",code:"hu"},{language:"Icelandic",code:"is"},{language:"Igbo",code:"ig"},{language:"Indonesian",code:"id"},{language:"Inuinnaqtun",code:"ikt"},{language:"Inuktitut",code:"iu"},{language:"Inuktitut (Latin)",code:"iu-Latn"},{language:"Irish",code:"ga"},{language:"Italian",code:"it"},{language:"Japanese",code:"ja"},{language:"Kannada",code:"kn"},{language:"Kashmiri",code:"ks"},{language:"Kazakh",code:"kk"},{language:"Khmer",code:"km"},{language:"Kinyarwanda",code:"rw"},{language:"Klingon (Latin)",code:"tlh-Latn"},{language:"Klingon (plqaD)",code:"tlh-Piqd"},{language:"Konkani",code:"gom"},{language:"Korean",code:"ko"},{language:"Kurdish (Central)",code:"ku"},{language:"Kurdish (Northern)",code:"kmr"},{language:"Kyrgyz (Cyrillic)",code:"ky"},{language:"Lao",code:"lo"},{language:"Latvian",code:"lv"},{language:"Lithuanian",code:"lt"},{language:"Lingala",code:"ln"},{language:"Lower Sorbian",code:"dsb"},{language:"Luganda",code:"lug"},{language:"Macedonian",code:"mk"},{language:"Maithili",code:"mai"},{language:"Malagasy",code:"mg"},{language:"Malay (Latin)",code:"ms"},{language:"Malayalam",code:"ml"},{language:"Maltese",code:"mt"},{language:"Maori",code:"mi"},{language:"Marathi",code:"mr"},{language:"Mongolian (Cyrillic)",code:"mn-Cyrl"},{language:"Mongolian (Traditional)",code:"mn-Mong"},{language:"Myanmar",code:"my"},{language:"Nepali",code:"ne"},{language:"Norwegian Bokml",code:"nb"},{language:"Nyanja",code:"nya"},{language:"Odia",code:"or"},{language:"Pashto",code:"ps"},{language:"Persian",code:"fa"},{language:"Polish",code:"pl"},{language:"Portuguese (Brazil)",code:"pt"},{language:"Portuguese (Portugal)",code:"pt-pt"},{language:"Punjabi",code:"pa"},{language:"Queretaro Otomi",code:"otq"},{language:"Romanian",code:"ro"},{language:"Rundi",code:"run"},{language:"Russian",code:"ru"},{language:"Samoan (Latin)",code:"sm"},{language:"Serbian (Cyrillic)",code:"sr-Cyrl"},{language:"Serbian (Latin)",code:"sr-Latn"},{language:"Sesotho",code:"st"},{language:"Sesotho sa Leboa",code:"nso"},{language:"Setswana",code:"tn"},{language:"Sindhi",code:"sd"},{language:"Sinhala",code:"si"},{language:"Slovak",code:"sk"},{language:"Slovenian",code:"sl"},{language:"Somali (Arabic)",code:"so"},{language:"Spanish",code:"es"},{language:"Swahili (Latin)",code:"sw"},{language:"Swedish",code:"sv"},{language:"Tahitian",code:"ty"},{language:"Tamil",code:"ta"},{language:"Tatar (Latin)",code:"tt"},{language:"Telugu",code:"te"},{language:"Thai",code:"th"},{language:"Tibetan",code:"bo"},{language:"Tigrinya",code:"ti"},{language:"Tongan",code:"to"},{language:"Turkish",code:"tr"},{language:"Turkmen (Latin)",code:"tk"},{language:"Ukrainian",code:"uk"},{language:"Upper Sorbian",code:"hsb"},{language:"Urdu",code:"ur"},{language:"Uyghur (Arabic)",code:"ug"},{language:"Uzbek (Latin)",code:"uz"},{language:"Vietnamese",code:"vi"},{language:"Welsh",code:"cy"},{language:"Xhosa",code:"xh"},{language:"Yoruba",code:"yo"},{language:"Yucatec Maya",code:"yua"},{language:"Zulu",code:"zu"}];function VA(e,t){return function(){return e.apply(t,arguments)}}const{toString:Kj}=Object.prototype,{getPrototypeOf:y0}=Object,ef=(e=>t=>{const r=Kj.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),wn=e=>(e=e.toLowerCase(),t=>ef(t)===e),tf=e=>t=>typeof t===e,{isArray:ra}=Array,_d=tf("undefined");function Wj(e){return e!==null&&!_d(e)&&e.constructor!==null&&!_d(e.constructor)&&Lr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const FA=wn("ArrayBuffer");function Gj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&FA(e.buffer),t}const Jj=tf("string"),Lr=tf("function"),HA=tf("number"),rf=e=>e!==null&&typeof e=="object",Yj=e=>e===!0||e===!1,yp=e=>{if(ef(e)!=="object")return!1;const t=y0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qj=wn("Date"),Xj=wn("File"),Zj=wn("Blob"),eO=wn("FileList"),tO=e=>rf(e)&&Lr(e.pipe),rO=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Lr(e.append)&&((t=ef(e))==="formdata"||t==="object"&&Lr(e.toString)&&e.toString()==="[object FormData]"))},nO=wn("URLSearchParams"),[iO,sO,oO,aO]=["ReadableStream","Request","Response","Headers"].map(wn),cO=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ud(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let i,o;if(typeof e!="object"&&(e=[e]),ra(e))for(i=0,o=e.length;i<o;i++)t.call(null,e[i],i,e);else{const l=r?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let a;for(i=0;i<c;i++)a=l[i],t.call(null,e[a],a,e)}}function $A(e,t){t=t.toLowerCase();const r=Object.keys(e);let i=r.length,o;for(;i-- >0;)if(o=r[i],t===o.toLowerCase())return o;return null}const $s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,KA=e=>!_d(e)&&e!==$s;function my(){const{caseless:e}=KA(this)&&this||{},t={},r=(i,o)=>{const l=e&&$A(t,o)||o;yp(t[l])&&yp(i)?t[l]=my(t[l],i):yp(i)?t[l]=my({},i):ra(i)?t[l]=i.slice():t[l]=i};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Ud(arguments[i],r);return t}const lO=(e,t,r,{allOwnKeys:i}={})=>(Ud(t,(o,l)=>{r&&Lr(o)?e[l]=VA(o,r):e[l]=o},{allOwnKeys:i}),e),uO=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dO=(e,t,r,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},hO=(e,t,r,i)=>{let o,l,c;const a={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)c=o[l],(!i||i(c,e,t))&&!a[c]&&(t[c]=e[c],a[c]=!0);e=r!==!1&&y0(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},pO=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const i=e.indexOf(t,r);return i!==-1&&i===r},fO=e=>{if(!e)return null;if(ra(e))return e;let t=e.length;if(!HA(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},vO=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&y0(Uint8Array)),mO=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=i.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},gO=(e,t)=>{let r;const i=[];for(;(r=e.exec(t))!==null;)i.push(r);return i},yO=wn("HTMLFormElement"),SO=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,o){return i.toUpperCase()+o}),bx=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),bO=wn("RegExp"),WA=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),i={};Ud(r,(o,l)=>{let c;(c=t(o,l,e))!==!1&&(i[l]=c||o)}),Object.defineProperties(e,i)},CO=e=>{WA(e,(t,r)=>{if(Lr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=e[r];if(Lr(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},xO=(e,t)=>{const r={},i=o=>{o.forEach(l=>{r[l]=!0})};return ra(e)?i(e):i(String(e).split(t)),r},RO=()=>{},wO=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function EO(e){return!!(e&&Lr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const TO=e=>{const t=new Array(10),r=(i,o)=>{if(rf(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[o]=i;const l=ra(i)?[]:{};return Ud(i,(c,a)=>{const d=r(c,o+1);!_d(d)&&(l[a]=d)}),t[o]=void 0,l}}return i};return r(e,0)},PO=wn("AsyncFunction"),AO=e=>e&&(rf(e)||Lr(e))&&Lr(e.then)&&Lr(e.catch),GA=((e,t)=>e?setImmediate:t?((r,i)=>($s.addEventListener("message",({source:o,data:l})=>{o===$s&&l===r&&i.length&&i.shift()()},!1),o=>{i.push(o),$s.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Lr($s.postMessage)),_O=typeof queueMicrotask<"u"?queueMicrotask.bind($s):typeof process<"u"&&process.nextTick||GA,K={isArray:ra,isArrayBuffer:FA,isBuffer:Wj,isFormData:rO,isArrayBufferView:Gj,isString:Jj,isNumber:HA,isBoolean:Yj,isObject:rf,isPlainObject:yp,isReadableStream:iO,isRequest:sO,isResponse:oO,isHeaders:aO,isUndefined:_d,isDate:Qj,isFile:Xj,isBlob:Zj,isRegExp:bO,isFunction:Lr,isStream:tO,isURLSearchParams:nO,isTypedArray:vO,isFileList:eO,forEach:Ud,merge:my,extend:lO,trim:cO,stripBOM:uO,inherits:dO,toFlatObject:hO,kindOf:ef,kindOfTest:wn,endsWith:pO,toArray:fO,forEachEntry:mO,matchAll:gO,isHTMLForm:yO,hasOwnProperty:bx,hasOwnProp:bx,reduceDescriptors:WA,freezeMethods:CO,toObjectSet:xO,toCamelCase:SO,noop:RO,toFiniteNumber:wO,findKey:$A,global:$s,isContextDefined:KA,isSpecCompliantForm:EO,toJSONObject:TO,isAsyncFn:PO,isThenable:AO,setImmediate:GA,asap:_O};function He(e,t,r,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}K.inherits(He,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const JA=He.prototype,YA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{YA[e]={value:e}});Object.defineProperties(He,YA);Object.defineProperty(JA,"isAxiosError",{value:!0});He.from=(e,t,r,i,o,l)=>{const c=Object.create(JA);return K.toFlatObject(e,c,function(d){return d!==Error.prototype},a=>a!=="isAxiosError"),He.call(c,e.message,t,r,i,o),c.cause=e,c.name=e.name,l&&Object.assign(c,l),c};const kO=null;function gy(e){return K.isPlainObject(e)||K.isArray(e)}function QA(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function Cx(e,t,r){return e?e.concat(t).map(function(o,l){return o=QA(o),!r&&l?"["+o+"]":o}).join(r?".":""):t}function MO(e){return K.isArray(e)&&!e.some(gy)}const NO=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function nf(e,t,r){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=K.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,R){return!K.isUndefined(R[x])});const i=r.metaTokens,o=r.visitor||f,l=r.dots,c=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(o))throw new TypeError("visitor must be a function");function h(C){if(C===null)return"";if(K.isDate(C))return C.toISOString();if(!d&&K.isBlob(C))throw new He("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(C)||K.isTypedArray(C)?d&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function f(C,x,R){let w=C;if(C&&!R&&typeof C=="object"){if(K.endsWith(x,"{}"))x=i?x:x.slice(0,-2),C=JSON.stringify(C);else if(K.isArray(C)&&MO(C)||(K.isFileList(C)||K.endsWith(x,"[]"))&&(w=K.toArray(C)))return x=QA(x),w.forEach(function(P,j){!(K.isUndefined(P)||P===null)&&t.append(c===!0?Cx([x],j,l):c===null?x:x+"[]",h(P))}),!1}return gy(C)?!0:(t.append(Cx(R,x,l),h(C)),!1)}const v=[],m=Object.assign(NO,{defaultVisitor:f,convertValue:h,isVisitable:gy});function S(C,x){if(!K.isUndefined(C)){if(v.indexOf(C)!==-1)throw Error("Circular reference detected in "+x.join("."));v.push(C),K.forEach(C,function(w,T){(!(K.isUndefined(w)||w===null)&&o.call(t,w,K.isString(T)?T.trim():T,x,m))===!0&&S(w,x?x.concat(T):[T])}),v.pop()}}if(!K.isObject(e))throw new TypeError("data must be an object");return S(e),t}function xx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function S0(e,t){this._pairs=[],e&&nf(e,this,t)}const XA=S0.prototype;XA.append=function(t,r){this._pairs.push([t,r])};XA.toString=function(t){const r=t?function(i){return t.call(this,i,xx)}:xx;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function IO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZA(e,t,r){if(!t)return e;const i=r&&r.encode||IO;K.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let l;if(o?l=o(t,r):l=K.isURLSearchParams(t)?t.toString():new S0(t,r).toString(i),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Rx{constructor(){this.handlers=[]}use(t,r,i){return this.handlers.push({fulfilled:t,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(i){i!==null&&t(i)})}}const e_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jO=typeof URLSearchParams<"u"?URLSearchParams:S0,OO=typeof FormData<"u"?FormData:null,DO=typeof Blob<"u"?Blob:null,zO={isBrowser:!0,classes:{URLSearchParams:jO,FormData:OO,Blob:DO},protocols:["http","https","file","blob","url","data"]},b0=typeof window<"u"&&typeof document<"u",yy=typeof navigator=="object"&&navigator||void 0,LO=b0&&(!yy||["ReactNative","NativeScript","NS"].indexOf(yy.product)<0),BO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qO=b0&&window.location.href||"http://localhost",UO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:b0,hasStandardBrowserEnv:LO,hasStandardBrowserWebWorkerEnv:BO,navigator:yy,origin:qO},Symbol.toStringTag,{value:"Module"})),dr={...UO,...zO};function VO(e,t){return nf(e,new dr.classes.URLSearchParams,Object.assign({visitor:function(r,i,o,l){return dr.isNode&&K.isBuffer(r)?(this.append(i,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},t))}function FO(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function HO(e){const t={},r=Object.keys(e);let i;const o=r.length;let l;for(i=0;i<o;i++)l=r[i],t[l]=e[l];return t}function t_(e){function t(r,i,o,l){let c=r[l++];if(c==="__proto__")return!0;const a=Number.isFinite(+c),d=l>=r.length;return c=!c&&K.isArray(o)?o.length:c,d?(K.hasOwnProp(o,c)?o[c]=[o[c],i]:o[c]=i,!a):((!o[c]||!K.isObject(o[c]))&&(o[c]=[]),t(r,i,o[c],l)&&K.isArray(o[c])&&(o[c]=HO(o[c])),!a)}if(K.isFormData(e)&&K.isFunction(e.entries)){const r={};return K.forEachEntry(e,(i,o)=>{t(FO(i),o,r,0)}),r}return null}function $O(e,t,r){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(e)}const Vd={transitional:e_,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const i=r.getContentType()||"",o=i.indexOf("application/json")>-1,l=K.isObject(t);if(l&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return o?JSON.stringify(t_(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return VO(t,this.formSerializer).toString();if((a=K.isFileList(t))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return nf(a?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||o?(r.setContentType("application/json",!1),$O(t)):t}],transformResponse:[function(t){const r=this.transitional||Vd.transitional,i=r&&r.forcedJSONParsing,o=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(i&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(a){if(c)throw a.name==="SyntaxError"?He.from(a,He.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{Vd.headers[e]={}});const KO=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WO=e=>{const t={};let r,i,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),i=c.substring(o+1).trim(),!(!r||t[r]&&KO[r])&&(r==="set-cookie"?t[r]?t[r].push(i):t[r]=[i]:t[r]=t[r]?t[r]+", "+i:i)}),t},wx=Symbol("internals");function cc(e){return e&&String(e).trim().toLowerCase()}function Sp(e){return e===!1||e==null?e:K.isArray(e)?e.map(Sp):String(e)}function GO(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(e);)t[i[1]]=i[2];return t}const JO=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function _m(e,t,r,i,o){if(K.isFunction(i))return i.call(this,t,r);if(o&&(t=r),!!K.isString(t)){if(K.isString(i))return t.indexOf(i)!==-1;if(K.isRegExp(i))return i.test(t)}}function YO(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,i)=>r.toUpperCase()+i)}function QO(e,t){const r=K.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+r,{value:function(o,l,c){return this[i].call(this,t,o,l,c)},configurable:!0})})}let Ar=class{constructor(t){t&&this.set(t)}set(t,r,i){const o=this;function l(a,d,h){const f=cc(d);if(!f)throw new Error("header name must be a non-empty string");const v=K.findKey(o,f);(!v||o[v]===void 0||h===!0||h===void 0&&o[v]!==!1)&&(o[v||d]=Sp(a))}const c=(a,d)=>K.forEach(a,(h,f)=>l(h,f,d));if(K.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(K.isString(t)&&(t=t.trim())&&!JO(t))c(WO(t),r);else if(K.isHeaders(t))for(const[a,d]of t.entries())l(d,a,i);else t!=null&&l(r,t,i);return this}get(t,r){if(t=cc(t),t){const i=K.findKey(this,t);if(i){const o=this[i];if(!r)return o;if(r===!0)return GO(o);if(K.isFunction(r))return r.call(this,o,i);if(K.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=cc(t),t){const i=K.findKey(this,t);return!!(i&&this[i]!==void 0&&(!r||_m(this,this[i],i,r)))}return!1}delete(t,r){const i=this;let o=!1;function l(c){if(c=cc(c),c){const a=K.findKey(i,c);a&&(!r||_m(i,i[a],a,r))&&(delete i[a],o=!0)}}return K.isArray(t)?t.forEach(l):l(t),o}clear(t){const r=Object.keys(this);let i=r.length,o=!1;for(;i--;){const l=r[i];(!t||_m(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const r=this,i={};return K.forEach(this,(o,l)=>{const c=K.findKey(i,l);if(c){r[c]=Sp(o),delete r[l];return}const a=t?YO(l):String(l).trim();a!==l&&delete r[l],r[a]=Sp(o),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return K.forEach(this,(i,o)=>{i!=null&&i!==!1&&(r[o]=t&&K.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const i=new this(t);return r.forEach(o=>i.set(o)),i}static accessor(t){const i=(this[wx]=this[wx]={accessors:{}}).accessors,o=this.prototype;function l(c){const a=cc(c);i[a]||(QO(o,c),i[a]=!0)}return K.isArray(t)?t.forEach(l):l(t),this}};Ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Ar.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[r]=i}}});K.freezeMethods(Ar);function km(e,t){const r=this||Vd,i=t||r,o=Ar.from(i.headers);let l=i.data;return K.forEach(e,function(a){l=a.call(r,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function r_(e){return!!(e&&e.__CANCEL__)}function na(e,t,r){He.call(this,e??"canceled",He.ERR_CANCELED,t,r),this.name="CanceledError"}K.inherits(na,He,{__CANCEL__:!0});function n_(e,t,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):t(new He("Request failed with status code "+r.status,[He.ERR_BAD_REQUEST,He.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function XO(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ZO(e,t){e=e||10;const r=new Array(e),i=new Array(e);let o=0,l=0,c;return t=t!==void 0?t:1e3,function(d){const h=Date.now(),f=i[l];c||(c=h),r[o]=d,i[o]=h;let v=l,m=0;for(;v!==o;)m+=r[v++],v=v%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),h-c<t)return;const S=f&&h-f;return S?Math.round(m*1e3/S):void 0}}function eD(e,t){let r=0,i=1e3/t,o,l;const c=(h,f=Date.now())=>{r=f,o=null,l&&(clearTimeout(l),l=null),e.apply(null,h)};return[(...h)=>{const f=Date.now(),v=f-r;v>=i?c(h,f):(o=h,l||(l=setTimeout(()=>{l=null,c(o)},i-v)))},()=>o&&c(o)]}const zp=(e,t,r=3)=>{let i=0;const o=ZO(50,250);return eD(l=>{const c=l.loaded,a=l.lengthComputable?l.total:void 0,d=c-i,h=o(d),f=c<=a;i=c;const v={loaded:c,total:a,progress:a?c/a:void 0,bytes:d,rate:h||void 0,estimated:h&&a&&f?(a-c)/h:void 0,event:l,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(v)},r)},Ex=(e,t)=>{const r=e!=null;return[i=>t[0]({lengthComputable:r,total:e,loaded:i}),t[1]]},Tx=e=>(...t)=>K.asap(()=>e(...t)),tD=dr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,dr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(dr.origin),dr.navigator&&/(msie|trident)/i.test(dr.navigator.userAgent)):()=>!0,rD=dr.hasStandardBrowserEnv?{write(e,t,r,i,o,l){const c=[e+"="+encodeURIComponent(t)];K.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),K.isString(i)&&c.push("path="+i),K.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nD(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function iD(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function i_(e,t,r){let i=!nD(t);return e&&i||r==!1?iD(e,t):t}const Px=e=>e instanceof Ar?{...e}:e;function to(e,t){t=t||{};const r={};function i(h,f,v,m){return K.isPlainObject(h)&&K.isPlainObject(f)?K.merge.call({caseless:m},h,f):K.isPlainObject(f)?K.merge({},f):K.isArray(f)?f.slice():f}function o(h,f,v,m){if(K.isUndefined(f)){if(!K.isUndefined(h))return i(void 0,h,v,m)}else return i(h,f,v,m)}function l(h,f){if(!K.isUndefined(f))return i(void 0,f)}function c(h,f){if(K.isUndefined(f)){if(!K.isUndefined(h))return i(void 0,h)}else return i(void 0,f)}function a(h,f,v){if(v in t)return i(h,f);if(v in e)return i(void 0,h)}const d={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:a,headers:(h,f,v)=>o(Px(h),Px(f),v,!0)};return K.forEach(Object.keys(Object.assign({},e,t)),function(f){const v=d[f]||o,m=v(e[f],t[f],f);K.isUndefined(m)&&v!==a||(r[f]=m)}),r}const s_=e=>{const t=to({},e);let{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:a}=t;t.headers=c=Ar.from(c),t.url=ZA(i_(t.baseURL,t.url),e.params,e.paramsSerializer),a&&c.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let d;if(K.isFormData(r)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((d=c.getContentType())!==!1){const[h,...f]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];c.setContentType([h||"multipart/form-data",...f].join("; "))}}if(dr.hasStandardBrowserEnv&&(i&&K.isFunction(i)&&(i=i(t)),i||i!==!1&&tD(t.url))){const h=o&&l&&rD.read(l);h&&c.set(o,h)}return t},sD=typeof XMLHttpRequest<"u",oD=sD&&function(e){return new Promise(function(r,i){const o=s_(e);let l=o.data;const c=Ar.from(o.headers).normalize();let{responseType:a,onUploadProgress:d,onDownloadProgress:h}=o,f,v,m,S,C;function x(){S&&S(),C&&C(),o.cancelToken&&o.cancelToken.unsubscribe(f),o.signal&&o.signal.removeEventListener("abort",f)}let R=new XMLHttpRequest;R.open(o.method.toUpperCase(),o.url,!0),R.timeout=o.timeout;function w(){if(!R)return;const P=Ar.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:P,config:e,request:R};n_(function(F){r(F),x()},function(F){i(F),x()},k),R=null}"onloadend"in R?R.onloadend=w:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(w)},R.onabort=function(){R&&(i(new He("Request aborted",He.ECONNABORTED,e,R)),R=null)},R.onerror=function(){i(new He("Network Error",He.ERR_NETWORK,e,R)),R=null},R.ontimeout=function(){let j=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const k=o.transitional||e_;o.timeoutErrorMessage&&(j=o.timeoutErrorMessage),i(new He(j,k.clarifyTimeoutError?He.ETIMEDOUT:He.ECONNABORTED,e,R)),R=null},l===void 0&&c.setContentType(null),"setRequestHeader"in R&&K.forEach(c.toJSON(),function(j,k){R.setRequestHeader(k,j)}),K.isUndefined(o.withCredentials)||(R.withCredentials=!!o.withCredentials),a&&a!=="json"&&(R.responseType=o.responseType),h&&([m,C]=zp(h,!0),R.addEventListener("progress",m)),d&&R.upload&&([v,S]=zp(d),R.upload.addEventListener("progress",v),R.upload.addEventListener("loadend",S)),(o.cancelToken||o.signal)&&(f=P=>{R&&(i(!P||P.type?new na(null,e,R):P),R.abort(),R=null)},o.cancelToken&&o.cancelToken.subscribe(f),o.signal&&(o.signal.aborted?f():o.signal.addEventListener("abort",f)));const T=XO(o.url);if(T&&dr.protocols.indexOf(T)===-1){i(new He("Unsupported protocol "+T+":",He.ERR_BAD_REQUEST,e));return}R.send(l||null)})},aD=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let i=new AbortController,o;const l=function(h){if(!o){o=!0,a();const f=h instanceof Error?h:this.reason;i.abort(f instanceof He?f:new na(f instanceof Error?f.message:f))}};let c=t&&setTimeout(()=>{c=null,l(new He(`timeout ${t} of ms exceeded`,He.ETIMEDOUT))},t);const a=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(l):h.removeEventListener("abort",l)}),e=null)};e.forEach(h=>h.addEventListener("abort",l));const{signal:d}=i;return d.unsubscribe=()=>K.asap(a),d}},cD=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let i=0,o;for(;i<r;)o=i+t,yield e.slice(i,o),i=o},lD=async function*(e,t){for await(const r of uD(e))yield*cD(r,t)},uD=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:i}=await t.read();if(r)break;yield i}}finally{await t.cancel()}},Ax=(e,t,r,i)=>{const o=lD(e,t);let l=0,c,a=d=>{c||(c=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:h,value:f}=await o.next();if(h){a(),d.close();return}let v=f.byteLength;if(r){let m=l+=v;r(m)}d.enqueue(new Uint8Array(f))}catch(h){throw a(h),h}},cancel(d){return a(d),o.return()}},{highWaterMark:2})},sf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",o_=sf&&typeof ReadableStream=="function",dD=sf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),a_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},hD=o_&&a_(()=>{let e=!1;const t=new Request(dr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),_x=64*1024,Sy=o_&&a_(()=>K.isReadableStream(new Response("").body)),Lp={stream:Sy&&(e=>e.body)};sf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Lp[t]&&(Lp[t]=K.isFunction(e[t])?r=>r[t]():(r,i)=>{throw new He(`Response type '${t}' is not supported`,He.ERR_NOT_SUPPORT,i)})})})(new Response);const pD=async e=>{if(e==null)return 0;if(K.isBlob(e))return e.size;if(K.isSpecCompliantForm(e))return(await new Request(dr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(K.isArrayBufferView(e)||K.isArrayBuffer(e))return e.byteLength;if(K.isURLSearchParams(e)&&(e=e+""),K.isString(e))return(await dD(e)).byteLength},fD=async(e,t)=>{const r=K.toFiniteNumber(e.getContentLength());return r??pD(t)},vD=sf&&(async e=>{let{url:t,method:r,data:i,signal:o,cancelToken:l,timeout:c,onDownloadProgress:a,onUploadProgress:d,responseType:h,headers:f,withCredentials:v="same-origin",fetchOptions:m}=s_(e);h=h?(h+"").toLowerCase():"text";let S=aD([o,l&&l.toAbortSignal()],c),C;const x=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let R;try{if(d&&hD&&r!=="get"&&r!=="head"&&(R=await fD(f,i))!==0){let k=new Request(t,{method:"POST",body:i,duplex:"half"}),B;if(K.isFormData(i)&&(B=k.headers.get("content-type"))&&f.setContentType(B),k.body){const[F,q]=Ex(R,zp(Tx(d)));i=Ax(k.body,_x,F,q)}}K.isString(v)||(v=v?"include":"omit");const w="credentials"in Request.prototype;C=new Request(t,{...m,signal:S,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:i,duplex:"half",credentials:w?v:void 0});let T=await fetch(C);const P=Sy&&(h==="stream"||h==="response");if(Sy&&(a||P&&x)){const k={};["status","statusText","headers"].forEach(H=>{k[H]=T[H]});const B=K.toFiniteNumber(T.headers.get("content-length")),[F,q]=a&&Ex(B,zp(Tx(a),!0))||[];T=new Response(Ax(T.body,_x,F,()=>{q&&q(),x&&x()}),k)}h=h||"text";let j=await Lp[K.findKey(Lp,h)||"text"](T,e);return!P&&x&&x(),await new Promise((k,B)=>{n_(k,B,{data:j,headers:Ar.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:C})})}catch(w){throw x&&x(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new He("Network Error",He.ERR_NETWORK,e,C),{cause:w.cause||w}):He.from(w,w&&w.code,e,C)}}),by={http:kO,xhr:oD,fetch:vD};K.forEach(by,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kx=e=>`- ${e}`,mD=e=>K.isFunction(e)||e===null||e===!1,c_={getAdapter:e=>{e=K.isArray(e)?e:[e];const{length:t}=e;let r,i;const o={};for(let l=0;l<t;l++){r=e[l];let c;if(i=r,!mD(r)&&(i=by[(c=String(r)).toLowerCase()],i===void 0))throw new He(`Unknown adapter '${c}'`);if(i)break;o[c||"#"+l]=i}if(!i){const l=Object.entries(o).map(([a,d])=>`adapter ${a} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=t?l.length>1?`since :
`+l.map(kx).join(`
`):" "+kx(l[0]):"as no adapter specified";throw new He("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:by};function Mm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new na(null,e)}function Mx(e){return Mm(e),e.headers=Ar.from(e.headers),e.data=km.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),c_.getAdapter(e.adapter||Vd.adapter)(e).then(function(i){return Mm(e),i.data=km.call(e,e.transformResponse,i),i.headers=Ar.from(i.headers),i},function(i){return r_(i)||(Mm(e),i&&i.response&&(i.response.data=km.call(e,e.transformResponse,i.response),i.response.headers=Ar.from(i.response.headers))),Promise.reject(i)})}const l_="1.8.1",of={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{of[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Nx={};of.transitional=function(t,r,i){function o(l,c){return"[Axios v"+l_+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,a)=>{if(t===!1)throw new He(o(c," has been removed"+(r?" in "+r:"")),He.ERR_DEPRECATED);return r&&!Nx[c]&&(Nx[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,c,a):!0}};of.spelling=function(t){return(r,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function gD(e,t,r){if(typeof e!="object")throw new He("options must be an object",He.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;for(;o-- >0;){const l=i[o],c=t[l];if(c){const a=e[l],d=a===void 0||c(a,l,e);if(d!==!0)throw new He("option "+l+" must be "+d,He.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new He("Unknown option "+l,He.ERR_BAD_OPTION)}}const bp={assertOptions:gD,validators:of},Nn=bp.validators;let Ys=class{constructor(t){this.defaults=t,this.interceptors={request:new Rx,response:new Rx}}async request(t,r){try{return await this._request(t,r)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=to(this.defaults,r);const{transitional:i,paramsSerializer:o,headers:l}=r;i!==void 0&&bp.assertOptions(i,{silentJSONParsing:Nn.transitional(Nn.boolean),forcedJSONParsing:Nn.transitional(Nn.boolean),clarifyTimeoutError:Nn.transitional(Nn.boolean)},!1),o!=null&&(K.isFunction(o)?r.paramsSerializer={serialize:o}:bp.assertOptions(o,{encode:Nn.function,serialize:Nn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),bp.assertOptions(r,{baseUrl:Nn.spelling("baseURL"),withXsrfToken:Nn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=l&&K.merge(l.common,l[r.method]);l&&K.forEach(["delete","get","head","post","put","patch","common"],C=>{delete l[C]}),r.headers=Ar.concat(c,l);const a=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(d=d&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const h=[];this.interceptors.response.forEach(function(x){h.push(x.fulfilled,x.rejected)});let f,v=0,m;if(!d){const C=[Mx.bind(this),void 0];for(C.unshift.apply(C,a),C.push.apply(C,h),m=C.length,f=Promise.resolve(r);v<m;)f=f.then(C[v++],C[v++]);return f}m=a.length;let S=r;for(v=0;v<m;){const C=a[v++],x=a[v++];try{S=C(S)}catch(R){x.call(this,R);break}}try{f=Mx.call(this,S)}catch(C){return Promise.reject(C)}for(v=0,m=h.length;v<m;)f=f.then(h[v++],h[v++]);return f}getUri(t){t=to(this.defaults,t);const r=i_(t.baseURL,t.url,t.allowAbsoluteUrls);return ZA(r,t.params,t.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(t){Ys.prototype[t]=function(r,i){return this.request(to(i||{},{method:t,url:r,data:(i||{}).data}))}});K.forEach(["post","put","patch"],function(t){function r(i){return function(l,c,a){return this.request(to(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Ys.prototype[t]=r(),Ys.prototype[t+"Form"]=r(!0)});let yD=class u_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const i=this;this.promise.then(o=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](o);i._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(a=>{i.subscribe(a),l=a}).then(o);return c.cancel=function(){i.unsubscribe(l)},c},t(function(l,c,a){i.reason||(i.reason=new na(l,c,a),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=i=>{t.abort(i)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new u_(function(o){t=o}),cancel:t}}};function SD(e){return function(r){return e.apply(null,r)}}function bD(e){return K.isObject(e)&&e.isAxiosError===!0}const Cy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cy).forEach(([e,t])=>{Cy[t]=e});function d_(e){const t=new Ys(e),r=VA(Ys.prototype.request,t);return K.extend(r,Ys.prototype,t,{allOwnKeys:!0}),K.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return d_(to(e,o))},r}const _e=d_(Vd);_e.Axios=Ys;_e.CanceledError=na;_e.CancelToken=yD;_e.isCancel=r_;_e.VERSION=l_;_e.toFormData=nf;_e.AxiosError=He;_e.Cancel=_e.CanceledError;_e.all=function(t){return Promise.all(t)};_e.spread=SD;_e.isAxiosError=bD;_e.mergeConfig=to;_e.AxiosHeaders=Ar;_e.formToJSON=e=>t_(K.isHTMLForm(e)?new FormData(e):e);_e.getAdapter=c_.getAdapter;_e.HttpStatusCode=Cy;_e.default=_e;const{Axios:ZV,AxiosError:eF,CanceledError:tF,isCancel:rF,CancelToken:nF,VERSION:iF,all:sF,Cancel:oF,isAxiosError:aF,spread:cF,toFormData:lF,AxiosHeaders:uF,HttpStatusCode:dF,formToJSON:hF,getAdapter:pF,mergeConfig:fF}=_e,CD=()=>"https://unifychat-2.onrender.com",vt=CD(),h_=A.createContext(),xD=({children:e})=>{console.log("AuthProvider rendered");const[t,r]=A.useState(null),[i,o]=A.useState(!0),[l,c]=A.useState(null);A.useEffect(()=>{const v=localStorage.getItem("token");console.log(v),v?(_e.defaults.headers.common.Authorization=`Bearer ${v}`,a()):o(!1)},[]);const a=async()=>{try{const v=await _e.get(`${vt}/auth/me`);r(v.data.data.user)}catch(v){console.error("Failed to fetch user",v),h()}finally{o(!1)}},d=v=>{localStorage.setItem("token",v),_e.defaults.headers.common.Authorization=`Bearer ${v}`,a()},h=()=>{localStorage.removeItem("token"),r(null),delete _e.defaults.headers.common.Authorization},f=async v=>{try{const m=await _e.put(`${vt}/auth/update`,v);return r(m.data.data.user),{success:!0}}catch(m){return console.error("Failed to update user",m),{success:!1,error:m.message}}};return g.jsx(h_.Provider,{value:{user:t,login:d,logout:h,updateUser:f,loading:i,error:l},children:e})},Fd=()=>A.useContext(h_),Nm=({children:e,variant:t="primary",size:r="md",fullWidth:i=!1,disabled:o=!1,loading:l=!1,icon:c,onClick:a,type:d="button",className:h="",...f})=>{const v="inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100",m={primary:"bg-primary-600 text-white hover:bg-primary-700 shadow-soft hover:shadow-medium",secondary:"bg-neutral-900 text-white hover:bg-neutral-800 shadow-soft hover:shadow-medium",outline:"bg-transparent border-2 border-neutral-300 text-neutral-700 hover:border-neutral-400 hover:bg-neutral-50",ghost:"bg-transparent text-neutral-700 hover:bg-neutral-100",danger:"bg-error text-white hover:bg-error-dark shadow-soft hover:shadow-medium",success:"bg-success text-white hover:bg-success-dark shadow-soft hover:shadow-medium",gradient:"bg-gradient-to-r from-primary-600 to-accent-600 text-white hover:from-primary-700 hover:to-accent-700 shadow-glow"},S={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"};return g.jsxs("button",{type:d,onClick:a,disabled:o||l,className:`
        ${v}
        ${m[t]}
        ${S[r]}
        ${i?"w-full":""}
        ${h}
      `,...f,children:[l&&g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),c&&!l&&g.jsx("span",{className:"mr-2",children:c}),e]})},RD=A.forwardRef(({label:e,error:t,helperText:r,icon:i,fullWidth:o=!0,className:l="",...c},a)=>g.jsxs("div",{className:`${o?"w-full":""}`,children:[e&&g.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:e}),g.jsxs("div",{className:"relative",children:[i&&g.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400",children:i}),g.jsx("input",{ref:a,className:`
            w-full px-4 py-3 bg-white border rounded-xl
            transition-all duration-200 
            placeholder:text-neutral-400
            focus:outline-none focus:ring-2 focus:ring-primary-500/20
            disabled:bg-neutral-50 disabled:cursor-not-allowed
            ${i?"pl-10":""}
            ${t?"border-error focus:border-error focus:ring-error/20":"border-neutral-200 focus:border-primary-500"}
            ${l}
          `,...c})]}),(t||r)&&g.jsx("p",{className:`mt-1.5 text-sm ${t?"text-error":"text-neutral-500"}`,children:t||r})]}));RD.displayName="Input";const C0=()=>{const e=window.location.pathname,[t,r]=A.useState(e==="/"||e==="/Home"?"Home":e==="/Chat"?"Chat":e==="/Help"?"Help":""),{user:i,logout:o}=Fd(),{theme:l,toggleTheme:c}=g0(),[a,d]=A.useState(!1),[h,f]=A.useState(!1),[v,m]=A.useState(!1),S=ro();A.useEffect(()=>{const x=()=>{m(window.scrollY>50)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]);const C=()=>{o(),S("/signin")};return g.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${v?"bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg shadow-md dark:shadow-slate-900/30":"bg-transparent"} border-b ${v?"border-neutral-200/50 dark:border-neutral-700/50":"border-transparent"}`,children:[g.jsx("div",{className:"section-container",children:g.jsxs("div",{className:`flex items-center justify-between transition-all duration-300 ${v?"h-16":"h-20"}`,children:[e.startsWith("/Chat")&&g.jsx("button",{onClick:()=>S("/"),className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-colors text-neutral-700 dark:text-neutral-200 font-medium",children:" Back"}),!e.startsWith("/Chat")&&g.jsxs(Dn,{to:"/",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",onClick:()=>{r("Home"),window.scrollTo(0,0)},children:[g.jsx("img",{src:eo,alt:"Chatlas",className:"h-10 w-10"}),g.jsx("span",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100 font-['Montserrat']",children:"Chat"})]}),g.jsx("ul",{className:"hidden md:flex items-center space-x-1",children:Sx.map(x=>g.jsx("li",{children:g.jsx(Dn,{to:`/${x.id}`,onClick:()=>r(x.title),className:`
                    px-4 py-2 rounded-2xl font-semibold transition-all duration-300
                    ${t===x.title?"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-glow":"text-neutral-700 hover:bg-neutral-100 hover:scale-105"}
                  `,children:x.title})},x.id))}),g.jsxs("div",{className:"hidden md:flex items-center space-x-3",children:[g.jsx("button",{className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-all duration-200 text-neutral-600 dark:text-neutral-300 hover:text-primary-600 dark:hover:text-primary-400 hover:scale-110","aria-label":"Search",children:g.jsx(Zp,{size:18})}),g.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-all duration-200 text-neutral-600 dark:text-neutral-300 hover:text-primary-600 dark:hover:text-primary-400 hover:scale-110","aria-label":"Toggle theme",children:l==="light"?g.jsx(vx,{size:18,className:"animate-in spin-in-90"}):g.jsx(gx,{size:18,className:"animate-in spin-in-90"})}),i?g.jsxs("div",{className:"relative",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[g.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-colors",children:[g.jsx("div",{className:"w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:g.jsx(vy,{className:"text-primary-600 dark:text-primary-400"})}),g.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:(i==null?void 0:i.username)||"User"})]}),h&&g.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl dark:shadow-slate-900/50 p-2 animate-slide-down border border-neutral-200 dark:border-neutral-700",children:[g.jsxs("button",{onClick:()=>S("/profile"),className:"flex items-center space-x-2 w-full px-4 py-2.5 text-left rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-700 transition-colors text-neutral-700 dark:text-neutral-200",children:[g.jsx(vy,{}),g.jsx("span",{children:"Profile"})]}),g.jsxs("button",{onClick:C,className:"flex items-center space-x-2 w-full px-4 py-2.5 text-left rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-700 transition-colors text-neutral-700 dark:text-neutral-200",children:[g.jsx(mx,{}),g.jsx("span",{children:"Log out"})]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>S("/signin"),className:"px-4 py-2 text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-slate-800 font-medium rounded-lg transition-all duration-200 hover:scale-105 border border-transparent hover:border-neutral-300 dark:hover:border-neutral-600",children:"Sign in"}),g.jsx("button",{onClick:()=>S("/signup"),className:"px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-semibold rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-lg shadow-primary-500/30",children:"Get Started"})]})]}),g.jsx("button",{className:"md:hidden p-2 rounded-xl hover:bg-neutral-100 transition-colors",onClick:()=>d(!a),children:a?g.jsx(an,{size:24}):g.jsx(NA,{size:24})})]})}),a&&g.jsx("div",{className:"md:hidden bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-t border-neutral-200/50 dark:border-neutral-700/50 animate-slide-down",children:g.jsxs("div",{className:"section-container py-6 space-y-4",children:[g.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-neutral-100 dark:bg-slate-800 rounded-lg",children:[g.jsx("span",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200",children:"Theme"}),g.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-neutral-200 dark:hover:bg-slate-700 transition-all duration-200 text-neutral-600 dark:text-neutral-300",children:l==="light"?g.jsx(vx,{size:16}):g.jsx(gx,{size:16})})]}),g.jsx("ul",{className:"space-y-2",children:Sx.map(x=>g.jsx("li",{children:g.jsx(Dn,{to:`/${x.id}`,onClick:()=>{r(x.title),d(!1)},className:`
                      block px-4 py-3 rounded-lg font-medium transition-all
                      ${t===x.title?"bg-primary-600 dark:bg-primary-700 text-white":"text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-slate-800"}
                    `,children:x.title})},x.id))}),i?g.jsxs("div",{className:"space-y-2 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsxs("div",{className:"px-4 py-2 text-sm text-neutral-600 dark:text-neutral-400",children:["Signed in as ",g.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:i==null?void 0:i.username})]}),g.jsx(Nm,{variant:"outline",fullWidth:!0,onClick:()=>{C(),d(!1)},icon:g.jsx(mx,{}),children:"Log out"})]}):g.jsxs("div",{className:"flex flex-col space-y-2 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[g.jsx(Nm,{variant:"ghost",fullWidth:!0,onClick:()=>{S("/signin"),d(!1)},children:"Sign in"}),g.jsx(Nm,{variant:"gradient",fullWidth:!0,onClick:()=>{S("/signup"),d(!1)},children:"Get Started"})]})]})})]})};class Hd{constructor(t=0,r="Network Error"){this.status=t,this.text=r}}const wD=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},or={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:wD()},x0=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},ED=(e,t="https://api.emailjs.com")=>{if(!e)return;const r=x0(e);or.publicKey=r.publicKey,or.blockHeadless=r.blockHeadless,or.storageProvider=r.storageProvider,or.blockList=r.blockList,or.limitRate=r.limitRate,or.origin=r.origin||t},p_=async(e,t,r={})=>{const i=await fetch(or.origin+e,{method:"POST",headers:r,body:t}),o=await i.text(),l=new Hd(i.status,o);if(i.ok)return l;throw l},f_=(e,t,r)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||typeof r!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},TD=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},v_=e=>e.webdriver||!e.languages||e.languages.length===0,m_=()=>new Hd(451,"Unavailable For Headless Browser"),PD=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},AD=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},_D=(e,t)=>e instanceof FormData?e.get(t):e[t],g_=(e,t)=>{if(AD(e))return!1;PD(e.list,e.watchVariable);const r=_D(t,e.watchVariable);return typeof r!="string"?!1:e.list.includes(r)},y_=()=>new Hd(403,"Forbidden"),kD=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},MD=async(e,t,r)=>{const i=Number(await r.get(e)||0);return t-Date.now()+i},S_=async(e,t,r)=>{if(!t.throttle||!r)return!1;kD(t.throttle,t.id);const i=t.id||e;return await MD(i,t.throttle,r)>0?!0:(await r.set(i,Date.now().toString()),!1)},b_=()=>new Hd(429,"Too Many Requests"),ND=async(e,t,r,i)=>{const o=x0(i),l=o.publicKey||or.publicKey,c=o.blockHeadless||or.blockHeadless,a=o.storageProvider||or.storageProvider,d={...or.blockList,...o.blockList},h={...or.limitRate,...o.limitRate};return c&&v_(navigator)?Promise.reject(m_()):(f_(l,e,t),TD(r),r&&g_(d,r)?Promise.reject(y_()):await S_(location.pathname,h,a)?Promise.reject(b_()):p_("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:e,template_id:t,template_params:r}),{"Content-type":"application/json"}))},ID=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},jD=e=>typeof e=="string"?document.querySelector(e):e,OD=async(e,t,r,i)=>{const o=x0(i),l=o.publicKey||or.publicKey,c=o.blockHeadless||or.blockHeadless,a=or.storageProvider||o.storageProvider,d={...or.blockList,...o.blockList},h={...or.limitRate,...o.limitRate};if(c&&v_(navigator))return Promise.reject(m_());const f=jD(r);f_(l,e,t),ID(f);const v=new FormData(f);return g_(d,v)?Promise.reject(y_()):await S_(location.pathname,h,a)?Promise.reject(b_()):(v.append("lib_version","4.4.1"),v.append("service_id",e),v.append("template_id",t),v.append("user_id",l),p_("/api/v1.0/email/send-form",v))},DD={init:ED,send:ND,sendForm:OD,EmailJSResponseStatus:Hd},C_=()=>{const[e,t]=A.useState({name:"",email:"",message:""}),[r,i]=A.useState({submitted:!1,loading:!1,error:!1,message:""}),o=A.useRef(),l=a=>{const{name:d,value:h}=a.target;t(f=>({...f,[d]:h}))},c=a=>{a.preventDefault(),i({...r,loading:!0}),DD.sendForm(void 0,void 0,o.current,{publicKey:void 0}).then(()=>{i({submitted:!0,loading:!1,error:!1,message:"Thank you for your message! We'll get back to you soon."}),t({name:"",email:"",message:""})},d=>{console.log("FAILED...",d.text),i({submitted:!1,loading:!1,error:!0,message:"Something went wrong. Please try again."})})};return g.jsxs("div",{className:"relative py-32 bg-gradient-to-br from-white via-neutral-50 to-white dark:from-slate-900 dark:via-slate-900 dark:to-slate-900 overflow-hidden transition-colors",children:[g.jsx("div",{className:"absolute inset-0 gradient-mesh opacity-20 dark:opacity-10"}),g.jsx("div",{className:"absolute top-20 right-0 w-96 h-96 bg-primary-500/5 dark:bg-primary-500/10 rounded-full blur-3xl animate-pulse"}),g.jsx("div",{className:"absolute bottom-20 left-0 w-96 h-96 bg-accent-500/5 dark:bg-accent-500/10 rounded-full blur-3xl animate-pulse delay-1000"}),g.jsx("div",{className:"section-container relative z-10",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[g.jsxs("div",{className:"space-y-8 animate-slide-right",children:[g.jsxs("div",{className:"inline-flex items-center space-x-2 px-5 py-2 bg-white dark:bg-slate-800 rounded-full border border-primary-200 dark:border-primary-800 shadow-sm",children:[g.jsx("div",{className:"w-2 h-2 bg-primary-500 dark:bg-primary-400 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-bold bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"Get in Touch"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("h2",{className:"text-5xl md:text-6xl font-display font-bold text-neutral-900 dark:text-neutral-100 leading-[1.1]",children:["Let's Start a",g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent",children:"Conversation"})]}),g.jsx("div",{className:"h-1 w-32 bg-gradient-to-r from-primary-500 via-accent-500 to-success-500 rounded-full"})]}),g.jsx("p",{className:"text-xl text-neutral-600 dark:text-neutral-300 leading-relaxed",children:"Have questions or feedback? We're here to help you break down language barriers and connect globally."}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 p-6 rounded-3xl border border-primary-200 dark:border-primary-800 hover:border-primary-400 dark:hover:border-primary-500 transition-all duration-300 shadow-sm",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500/5 dark:from-primary-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl"}),g.jsxs("div",{className:"relative flex items-start space-x-4",children:[g.jsx("div",{className:"p-3 bg-gradient-to-br from-primary-500 to-primary-600 dark:from-primary-600 dark:to-primary-700 rounded-2xl shadow-lg",children:g.jsx(m0,{className:"text-xl text-white"})}),g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-neutral-900 dark:text-neutral-100 mb-1 text-lg",children:"Email Us"}),g.jsx("div",{className:"text-neutral-600 dark:text-neutral-400",children:"support@unifychat.com"})]})]})]}),g.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 p-6 rounded-3xl border border-accent-200 dark:border-accent-800 hover:border-accent-400 dark:hover:border-accent-500 transition-all duration-300 shadow-sm",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent-500/5 dark:from-accent-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl"}),g.jsxs("div",{className:"relative flex items-start space-x-4",children:[g.jsx("div",{className:"p-3 bg-gradient-to-br from-accent-500 to-accent-600 dark:from-accent-600 dark:to-accent-700 rounded-2xl shadow-lg",children:g.jsx(vy,{className:"text-xl text-white"})}),g.jsxs("div",{children:[g.jsx("div",{className:"font-bold text-neutral-900 dark:text-neutral-100 mb-1 text-lg",children:"24/7 Support"}),g.jsx("div",{className:"text-neutral-600 dark:text-neutral-400",children:"Always here when you need us"})]})]})]})]})]}),g.jsxs("div",{className:"relative bg-white dark:bg-slate-800 rounded-3xl p-8 md:p-10 border border-neutral-200 dark:border-neutral-700 shadow-lg animate-slide-left",children:[g.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-neutral-50/50 dark:from-slate-800 dark:to-slate-900/50 rounded-3xl"}),r.submitted?g.jsxs("div",{className:"relative text-center py-12 space-y-6",children:[g.jsxs("div",{className:"relative inline-block",children:[g.jsx("div",{className:"absolute inset-0 bg-success-500/20 dark:bg-success-500/30 rounded-full blur-2xl animate-pulse"}),g.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-success-500 to-success-600 dark:from-success-600 dark:to-success-700 rounded-full flex items-center justify-center mx-auto shadow-xl",children:g.jsx(IA,{className:"text-4xl text-white"})})]}),g.jsx("h3",{className:"text-3xl font-display font-bold text-neutral-900 dark:text-neutral-100",children:"Message Sent!"}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400",children:r.message}),g.jsx("button",{onClick:()=>i({submitted:!1,loading:!1,error:!1,message:""}),className:"inline-flex items-center px-6 py-3 bg-white dark:bg-slate-700 hover:bg-neutral-50 dark:hover:bg-slate-600 text-neutral-700 dark:text-neutral-200 font-semibold rounded-2xl border-2 border-neutral-200 dark:border-neutral-600 transition-all duration-300 hover:scale-105",children:"Send Another Message"})]}):g.jsxs("form",{ref:o,onSubmit:c,className:"relative space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-neutral-700 dark:text-neutral-300 mb-3",children:"Your Name"}),g.jsx("input",{type:"text",name:"name",value:e.name,onChange:l,placeholder:"John Doe",className:`w-full px-5 py-4 bg-white dark:bg-slate-900 border-2 border-neutral-200 dark:border-neutral-700 rounded-2xl
                             focus:ring-2 focus:ring-primary-500/30 dark:focus:ring-primary-400/30 focus:border-primary-500 dark:focus:border-primary-400
                             transition-all duration-200 placeholder:text-neutral-400 dark:placeholder:text-neutral-500
                             hover:border-neutral-300 dark:hover:border-neutral-600 text-neutral-900 dark:text-neutral-100`,required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-neutral-700 dark:text-neutral-300 mb-3",children:"Email Address"}),g.jsx("input",{type:"email",name:"email",value:e.email,onChange:l,placeholder:"you@example.com",className:`w-full px-5 py-4 bg-white dark:bg-slate-900 border-2 border-neutral-200 dark:border-neutral-700 rounded-2xl
                             focus:ring-2 focus:ring-primary-500/30 dark:focus:ring-primary-400/30 focus:border-primary-500 dark:focus:border-primary-400
                             transition-all duration-200 placeholder:text-neutral-400 dark:placeholder:text-neutral-500
                             hover:border-neutral-300 dark:hover:border-neutral-600 text-neutral-900 dark:text-neutral-100`,required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-bold text-neutral-700 dark:text-neutral-300 mb-3",children:"Message"}),g.jsx("textarea",{name:"message",value:e.message,onChange:l,placeholder:"Tell us how we can help you...",rows:"5",className:`w-full px-5 py-4 bg-white dark:bg-slate-900 border-2 border-neutral-200 dark:border-neutral-700 rounded-2xl
                             focus:ring-2 focus:ring-primary-500/30 dark:focus:ring-primary-400/30 focus:border-primary-500 dark:focus:border-primary-400
                             transition-all duration-200 placeholder:text-neutral-400 dark:placeholder:text-neutral-500
                             hover:border-neutral-300 dark:hover:border-neutral-600 resize-none text-neutral-900 dark:text-neutral-100`,required:!0})]}),r.error&&g.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-2xl text-sm font-medium",children:r.message}),g.jsx("button",{type:"submit",disabled:r.loading,className:`w-full relative inline-flex items-center justify-center gap-3 px-8 py-4 
                           bg-gradient-to-r from-primary-600 to-accent-600 text-white text-lg font-bold 
                           rounded-2xl shadow-glow hover:shadow-neon-cyan
                           hover:scale-105 active:scale-95 transition-all duration-300
                           disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100
                           overflow-hidden group`,children:r.loading?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),g.jsx("span",{children:"Sending..."})]}):g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-accent-600 to-primary-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),g.jsx("span",{className:"relative z-10",children:"Send Message"}),g.jsx(Xp,{className:"relative z-10 group-hover:translate-x-1 transition-transform"})]})})]})]})]})})]})},Ix=()=>{const e=A.useRef(null);return g.jsxs("div",{className:"bg-neutral-50 dark:bg-slate-900",children:[g.jsx(C0,{}),g.jsx(Fj,{}),g.jsx(Hj,{}),g.jsx(UA,{ref:e}),g.jsx(Dj,{}),g.jsx(C_,{}),g.jsx(BA,{})]})};var $d=e=>e.type==="checkbox",Ks=e=>e instanceof Date,Sr=e=>e==null;const x_=e=>typeof e=="object";var It=e=>!Sr(e)&&!Array.isArray(e)&&x_(e)&&!Ks(e),zD=e=>It(e)&&e.target?$d(e.target)?e.target.checked:e.target.value:e,LD=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,BD=(e,t)=>e.has(LD(t)),qD=e=>{const t=e.constructor&&e.constructor.prototype;return It(t)&&t.hasOwnProperty("isPrototypeOf")},R0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function en(e){let t;const r=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(R0&&(e instanceof Blob||i))&&(r||It(e)))if(t=r?[]:{},!r&&!qD(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=en(e[o]));else return e;return t}var af=e=>Array.isArray(e)?e.filter(Boolean):[],Ut=e=>e===void 0,Se=(e,t,r)=>{if(!t||!It(e))return r;const i=af(t.split(/[,[\].]+?/)).reduce((o,l)=>Sr(o)?o:o[l],e);return Ut(i)||i===e?Ut(e[t])?r:e[t]:i},In=e=>typeof e=="boolean",w0=e=>/^\w*$/.test(e),R_=e=>af(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ft=(e,t,r)=>{let i=-1;const o=w0(t)?[t]:R_(t),l=o.length,c=l-1;for(;++i<l;){const a=o[i];let d=r;if(i!==c){const h=e[a];d=It(h)||Array.isArray(h)?h:isNaN(+o[i+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=d,e=e[a]}return e};const jx={BLUR:"blur",FOCUS_OUT:"focusout"},Cn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},si={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};qe.createContext(null);var UD=(e,t,r,i=!0)=>{const o={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const c=l;return t._proxyFormState[c]!==Cn.all&&(t._proxyFormState[c]=!i||Cn.all),e[c]}});return o},Tr=e=>It(e)&&!Object.keys(e).length,VD=(e,t,r,i)=>{r(e);const{name:o,...l}=e;return Tr(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(c=>t[c]===Cn.all)},Cp=e=>Array.isArray(e)?e:[e];function FD(e){const t=qe.useRef(e);t.current=e,qe.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var On=e=>typeof e=="string",HD=(e,t,r,i,o)=>On(e)?(i&&t.watch.add(e),Se(r,e,o)):Array.isArray(e)?e.map(l=>(i&&t.watch.add(l),Se(r,l))):(i&&(t.watchAll=!0),r),$D=(e,t,r,i,o)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[i]:o||!0}}:{},Ox=e=>({isOnSubmit:!e||e===Cn.onSubmit,isOnBlur:e===Cn.onBlur,isOnChange:e===Cn.onChange,isOnAll:e===Cn.all,isOnTouch:e===Cn.onTouched}),Dx=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Cd=(e,t,r,i)=>{for(const o of r||Object.keys(e)){const l=Se(e,o);if(l){const{_f:c,...a}=l;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],o)&&!i)return!0;if(c.ref&&t(c.ref,c.name)&&!i)return!0;if(Cd(a,t))break}else if(It(a)&&Cd(a,t))break}}};var KD=(e,t,r)=>{const i=Cp(Se(e,r));return ft(i,"root",t[r]),ft(e,r,i),e},E0=e=>e.type==="file",jn=e=>typeof e=="function",Bp=e=>{if(!R0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xp=e=>On(e),T0=e=>e.type==="radio",qp=e=>e instanceof RegExp;const zx={value:!1,isValid:!1},Lx={value:!0,isValid:!0};var w_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ut(e[0].attributes.value)?Ut(e[0].value)||e[0].value===""?Lx:{value:e[0].value,isValid:!0}:Lx:zx}return zx};const Bx={isValid:!1,value:null};var E_=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Bx):Bx;function qx(e,t,r="validate"){if(xp(e)||Array.isArray(e)&&e.every(xp)||In(e)&&!e)return{type:r,message:xp(e)?e:"",ref:t}}var Vo=e=>It(e)&&!qp(e)?e:{value:e,message:""},Ux=async(e,t,r,i,o,l)=>{const{ref:c,refs:a,required:d,maxLength:h,minLength:f,min:v,max:m,pattern:S,validate:C,name:x,valueAsNumber:R,mount:w}=e._f,T=Se(r,x);if(!w||t.has(x))return{};const P=a?a[0]:c,j=de=>{o&&P.reportValidity&&(P.setCustomValidity(In(de)?"":de||""),P.reportValidity())},k={},B=T0(c),F=$d(c),q=B||F,H=(R||E0(c))&&Ut(c.value)&&Ut(T)||Bp(c)&&c.value===""||T===""||Array.isArray(T)&&!T.length,$=$D.bind(null,x,i,k),pe=(de,fe,Ee,Oe=si.maxLength,te=si.minLength)=>{const se=de?fe:Ee;k[x]={type:de?Oe:te,message:se,ref:c,...$(de?Oe:te,se)}};if(l?!Array.isArray(T)||!T.length:d&&(!q&&(H||Sr(T))||In(T)&&!T||F&&!w_(a).isValid||B&&!E_(a).isValid)){const{value:de,message:fe}=xp(d)?{value:!!d,message:d}:Vo(d);if(de&&(k[x]={type:si.required,message:fe,ref:P,...$(si.required,fe)},!i))return j(fe),k}if(!H&&(!Sr(v)||!Sr(m))){let de,fe;const Ee=Vo(m),Oe=Vo(v);if(!Sr(T)&&!isNaN(T)){const te=c.valueAsNumber||T&&+T;Sr(Ee.value)||(de=te>Ee.value),Sr(Oe.value)||(fe=te<Oe.value)}else{const te=c.valueAsDate||new Date(T),se=N=>new Date(new Date().toDateString()+" "+N),ce=c.type=="time",ke=c.type=="week";On(Ee.value)&&T&&(de=ce?se(T)>se(Ee.value):ke?T>Ee.value:te>new Date(Ee.value)),On(Oe.value)&&T&&(fe=ce?se(T)<se(Oe.value):ke?T<Oe.value:te<new Date(Oe.value))}if((de||fe)&&(pe(!!de,Ee.message,Oe.message,si.max,si.min),!i))return j(k[x].message),k}if((h||f)&&!H&&(On(T)||l&&Array.isArray(T))){const de=Vo(h),fe=Vo(f),Ee=!Sr(de.value)&&T.length>+de.value,Oe=!Sr(fe.value)&&T.length<+fe.value;if((Ee||Oe)&&(pe(Ee,de.message,fe.message),!i))return j(k[x].message),k}if(S&&!H&&On(T)){const{value:de,message:fe}=Vo(S);if(qp(de)&&!T.match(de)&&(k[x]={type:si.pattern,message:fe,ref:c,...$(si.pattern,fe)},!i))return j(fe),k}if(C){if(jn(C)){const de=await C(T,r),fe=qx(de,P);if(fe&&(k[x]={...fe,...$(si.validate,fe.message)},!i))return j(fe.message),k}else if(It(C)){let de={};for(const fe in C){if(!Tr(de)&&!i)break;const Ee=qx(await C[fe](T,r),P,fe);Ee&&(de={...Ee,...$(fe,Ee.message)},j(Ee.message),i&&(k[x]=de))}if(!Tr(de)&&(k[x]={ref:P,...de},!i))return k}}return j(!0),k};function WD(e,t){const r=t.slice(0,-1).length;let i=0;for(;i<r;)e=Ut(e)?i++:e[t[i++]];return e}function GD(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ut(e[t]))return!1;return!0}function $t(e,t){const r=Array.isArray(t)?t:w0(t)?[t]:R_(t),i=r.length===1?e:WD(e,r),o=r.length-1,l=r[o];return i&&delete i[l],o!==0&&(It(i)&&Tr(i)||Array.isArray(i)&&GD(i))&&$t(e,r.slice(0,-1)),e}var Im=()=>{let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}},xy=e=>Sr(e)||!x_(e);function Vi(e,t){if(xy(e)||xy(t))return e===t;if(Ks(e)&&Ks(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const o of r){const l=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const c=t[o];if(Ks(l)&&Ks(c)||It(l)&&It(c)||Array.isArray(l)&&Array.isArray(c)?!Vi(l,c):l!==c)return!1}}return!0}var T_=e=>e.type==="select-multiple",JD=e=>T0(e)||$d(e),jm=e=>Bp(e)&&e.isConnected,P_=e=>{for(const t in e)if(jn(e[t]))return!0;return!1};function Up(e,t={}){const r=Array.isArray(e);if(It(e)||r)for(const i in e)Array.isArray(e[i])||It(e[i])&&!P_(e[i])?(t[i]=Array.isArray(e[i])?[]:{},Up(e[i],t[i])):Sr(e[i])||(t[i]=!0);return t}function A_(e,t,r){const i=Array.isArray(e);if(It(e)||i)for(const o in e)Array.isArray(e[o])||It(e[o])&&!P_(e[o])?Ut(t)||xy(r[o])?r[o]=Array.isArray(e[o])?Up(e[o],[]):{...Up(e[o])}:A_(e[o],Sr(t)?{}:t[o],r[o]):r[o]=!Vi(e[o],t[o]);return r}var lc=(e,t)=>A_(e,t,Up(t)),__=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:i})=>Ut(e)?e:t?e===""?NaN:e&&+e:r&&On(e)?new Date(e):i?i(e):e;function Om(e){const t=e.ref;return E0(t)?t.files:T0(t)?E_(e.refs).value:T_(t)?[...t.selectedOptions].map(({value:r})=>r):$d(t)?w_(e.refs).value:__(Ut(t.value)?e.ref.value:t.value,e)}var YD=(e,t,r,i)=>{const o={};for(const l of e){const c=Se(t,l);c&&ft(o,l,c._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:i}},uc=e=>Ut(e)?e:qp(e)?e.source:It(e)?qp(e.value)?e.value.source:e.value:e;const Vx="AsyncFunction";var QD=e=>!!e&&!!e.validate&&!!(jn(e.validate)&&e.validate.constructor.name===Vx||It(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Vx)),XD=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Fx(e,t,r){const i=Se(e,r);if(i||w0(r))return{error:i,name:r};const o=r.split(".");for(;o.length;){const l=o.join("."),c=Se(t,l),a=Se(e,l);if(c&&!Array.isArray(c)&&r!==l)return{name:r};if(a&&a.type)return{name:l,error:a};o.pop()}return{name:r}}var ZD=(e,t,r,i,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(t||e):(r?i.isOnBlur:o.isOnBlur)?!e:(r?i.isOnChange:o.isOnChange)?e:!0,e5=(e,t)=>!af(Se(e,t)).length&&$t(e,t);const t5={mode:Cn.onSubmit,reValidateMode:Cn.onChange,shouldFocusError:!0};function r5(e={}){let t={...t5,...e},r={submitCount:0,isDirty:!1,isLoading:jn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},o=It(t.defaultValues)||It(t.values)?en(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:en(o),c={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Im(),array:Im(),state:Im()},m=Ox(t.mode),S=Ox(t.reValidateMode),C=t.criteriaMode===Cn.all,x=I=>U=>{clearTimeout(h),h=setTimeout(I,U)},R=async I=>{if(!t.disabled&&(f.isValid||I)){const U=t.resolver?Tr((await q()).errors):await $(i,!0);U!==r.isValid&&v.state.next({isValid:U})}},w=(I,U)=>{!t.disabled&&(f.isValidating||f.validatingFields)&&((I||Array.from(a.mount)).forEach(W=>{W&&(U?ft(r.validatingFields,W,U):$t(r.validatingFields,W))}),v.state.next({validatingFields:r.validatingFields,isValidating:!Tr(r.validatingFields)}))},T=(I,U=[],W,ue,ae=!0,ie=!0)=>{if(ue&&W&&!t.disabled){if(c.action=!0,ie&&Array.isArray(Se(i,I))){const ve=W(Se(i,I),ue.argA,ue.argB);ae&&ft(i,I,ve)}if(ie&&Array.isArray(Se(r.errors,I))){const ve=W(Se(r.errors,I),ue.argA,ue.argB);ae&&ft(r.errors,I,ve),e5(r.errors,I)}if(f.touchedFields&&ie&&Array.isArray(Se(r.touchedFields,I))){const ve=W(Se(r.touchedFields,I),ue.argA,ue.argB);ae&&ft(r.touchedFields,I,ve)}f.dirtyFields&&(r.dirtyFields=lc(o,l)),v.state.next({name:I,isDirty:de(I,U),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ft(l,I,U)},P=(I,U)=>{ft(r.errors,I,U),v.state.next({errors:r.errors})},j=I=>{r.errors=I,v.state.next({errors:r.errors,isValid:!1})},k=(I,U,W,ue)=>{const ae=Se(i,I);if(ae){const ie=Se(l,I,Ut(W)?Se(o,I):W);Ut(ie)||ue&&ue.defaultChecked||U?ft(l,I,U?ie:Om(ae._f)):Oe(I,ie),c.mount&&R()}},B=(I,U,W,ue,ae)=>{let ie=!1,ve=!1;const oe={name:I};if(!t.disabled){const Te=!!(Se(i,I)&&Se(i,I)._f&&Se(i,I)._f.disabled);if(!W||ue){f.isDirty&&(ve=r.isDirty,r.isDirty=oe.isDirty=de(),ie=ve!==oe.isDirty);const Pe=Te||Vi(Se(o,I),U);ve=!!(!Te&&Se(r.dirtyFields,I)),Pe||Te?$t(r.dirtyFields,I):ft(r.dirtyFields,I,!0),oe.dirtyFields=r.dirtyFields,ie=ie||f.dirtyFields&&ve!==!Pe}if(W){const Pe=Se(r.touchedFields,I);Pe||(ft(r.touchedFields,I,W),oe.touchedFields=r.touchedFields,ie=ie||f.touchedFields&&Pe!==W)}ie&&ae&&v.state.next(oe)}return ie?oe:{}},F=(I,U,W,ue)=>{const ae=Se(r.errors,I),ie=f.isValid&&In(U)&&r.isValid!==U;if(t.delayError&&W?(d=x(()=>P(I,W)),d(t.delayError)):(clearTimeout(h),d=null,W?ft(r.errors,I,W):$t(r.errors,I)),(W?!Vi(ae,W):ae)||!Tr(ue)||ie){const ve={...ue,...ie&&In(U)?{isValid:U}:{},errors:r.errors,name:I};r={...r,...ve},v.state.next(ve)}},q=async I=>{w(I,!0);const U=await t.resolver(l,t.context,YD(I||a.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return w(I),U},H=async I=>{const{errors:U}=await q(I);if(I)for(const W of I){const ue=Se(U,W);ue?ft(r.errors,W,ue):$t(r.errors,W)}else r.errors=U;return U},$=async(I,U,W={valid:!0})=>{for(const ue in I){const ae=I[ue];if(ae){const{_f:ie,...ve}=ae;if(ie){const oe=a.array.has(ie.name),Te=ae._f&&QD(ae._f);Te&&f.validatingFields&&w([ue],!0);const Pe=await Ux(ae,a.disabled,l,C,t.shouldUseNativeValidation&&!U,oe);if(Te&&f.validatingFields&&w([ue]),Pe[ie.name]&&(W.valid=!1,U))break;!U&&(Se(Pe,ie.name)?oe?KD(r.errors,Pe,ie.name):ft(r.errors,ie.name,Pe[ie.name]):$t(r.errors,ie.name))}!Tr(ve)&&await $(ve,U,W)}}return W.valid},pe=()=>{for(const I of a.unMount){const U=Se(i,I);U&&(U._f.refs?U._f.refs.every(W=>!jm(W)):!jm(U._f.ref))&&Ce(I)}a.unMount=new Set},de=(I,U)=>!t.disabled&&(I&&U&&ft(l,I,U),!Vi(X(),o)),fe=(I,U,W)=>HD(I,a,{...c.mount?l:Ut(U)?o:On(I)?{[I]:U}:U},W,U),Ee=I=>af(Se(c.mount?l:o,I,t.shouldUnregister?Se(o,I,[]):[])),Oe=(I,U,W={})=>{const ue=Se(i,I);let ae=U;if(ue){const ie=ue._f;ie&&(!ie.disabled&&ft(l,I,__(U,ie)),ae=Bp(ie.ref)&&Sr(U)?"":U,T_(ie.ref)?[...ie.ref.options].forEach(ve=>ve.selected=ae.includes(ve.value)):ie.refs?$d(ie.ref)?ie.refs.length>1?ie.refs.forEach(ve=>(!ve.defaultChecked||!ve.disabled)&&(ve.checked=Array.isArray(ae)?!!ae.find(oe=>oe===ve.value):ae===ve.value)):ie.refs[0]&&(ie.refs[0].checked=!!ae):ie.refs.forEach(ve=>ve.checked=ve.value===ae):E0(ie.ref)?ie.ref.value="":(ie.ref.value=ae,ie.ref.type||v.values.next({name:I,values:{...l}})))}(W.shouldDirty||W.shouldTouch)&&B(I,ae,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&N(I)},te=(I,U,W)=>{for(const ue in U){const ae=U[ue],ie=`${I}.${ue}`,ve=Se(i,ie);(a.array.has(I)||It(ae)||ve&&!ve._f)&&!Ks(ae)?te(ie,ae,W):Oe(ie,ae,W)}},se=(I,U,W={})=>{const ue=Se(i,I),ae=a.array.has(I),ie=en(U);ft(l,I,ie),ae?(v.array.next({name:I,values:{...l}}),(f.isDirty||f.dirtyFields)&&W.shouldDirty&&v.state.next({name:I,dirtyFields:lc(o,l),isDirty:de(I,ie)})):ue&&!ue._f&&!Sr(ie)?te(I,ie,W):Oe(I,ie,W),Dx(I,a)&&v.state.next({...r}),v.values.next({name:c.mount?I:void 0,values:{...l}})},ce=async I=>{c.mount=!0;const U=I.target;let W=U.name,ue=!0;const ae=Se(i,W),ie=()=>U.type?Om(ae._f):zD(I),ve=oe=>{ue=Number.isNaN(oe)||Ks(oe)&&isNaN(oe.getTime())||Vi(oe,Se(l,W,oe))};if(ae){let oe,Te;const Pe=ie(),Xe=I.type===jx.BLUR||I.type===jx.FOCUS_OUT,Wt=!XD(ae._f)&&!t.resolver&&!Se(r.errors,W)&&!ae._f.deps||ZD(Xe,Se(r.touchedFields,W),r.isSubmitted,S,m),ut=Dx(W,a,Xe);ft(l,W,Pe),Xe?(ae._f.onBlur&&ae._f.onBlur(I),d&&d(0)):ae._f.onChange&&ae._f.onChange(I);const vr=B(W,Pe,Xe,!1),gt=!Tr(vr)||ut;if(!Xe&&v.values.next({name:W,type:I.type,values:{...l}}),Wt)return f.isValid&&(t.mode==="onBlur"&&Xe?R():Xe||R()),gt&&v.state.next({name:W,...ut?{}:vr});if(!Xe&&ut&&v.state.next({...r}),t.resolver){const{errors:ar}=await q([W]);if(ve(Pe),ue){const jt=Fx(r.errors,i,W),_r=Fx(ar,i,jt.name||W);oe=_r.error,W=_r.name,Te=Tr(ar)}}else w([W],!0),oe=(await Ux(ae,a.disabled,l,C,t.shouldUseNativeValidation))[W],w([W]),ve(Pe),ue&&(oe?Te=!1:f.isValid&&(Te=await $(i,!0)));ue&&(ae._f.deps&&N(ae._f.deps),F(W,Te,oe,vr))}},ke=(I,U)=>{if(Se(r.errors,U)&&I.focus)return I.focus(),1},N=async(I,U={})=>{let W,ue;const ae=Cp(I);if(t.resolver){const ie=await H(Ut(I)?I:ae);W=Tr(ie),ue=I?!ae.some(ve=>Se(ie,ve)):W}else I?(ue=(await Promise.all(ae.map(async ie=>{const ve=Se(i,ie);return await $(ve&&ve._f?{[ie]:ve}:ve)}))).every(Boolean),!(!ue&&!r.isValid)&&R()):ue=W=await $(i);return v.state.next({...!On(I)||f.isValid&&W!==r.isValid?{}:{name:I},...t.resolver||!I?{isValid:W}:{},errors:r.errors}),U.shouldFocus&&!ue&&Cd(i,ke,I?ae:a.mount),ue},X=I=>{const U={...c.mount?l:o};return Ut(I)?U:On(I)?Se(U,I):I.map(W=>Se(U,W))},ee=(I,U)=>({invalid:!!Se((U||r).errors,I),isDirty:!!Se((U||r).dirtyFields,I),error:Se((U||r).errors,I),isValidating:!!Se(r.validatingFields,I),isTouched:!!Se((U||r).touchedFields,I)}),le=I=>{I&&Cp(I).forEach(U=>$t(r.errors,U)),v.state.next({errors:I?r.errors:{}})},Z=(I,U,W)=>{const ue=(Se(i,I,{_f:{}})._f||{}).ref,ae=Se(r.errors,I)||{},{ref:ie,message:ve,type:oe,...Te}=ae;ft(r.errors,I,{...Te,...U,ref:ue}),v.state.next({name:I,errors:r.errors,isValid:!1}),W&&W.shouldFocus&&ue&&ue.focus&&ue.focus()},xe=(I,U)=>jn(I)?v.values.subscribe({next:W=>I(fe(void 0,U),W)}):fe(I,U,!0),Ce=(I,U={})=>{for(const W of I?Cp(I):a.mount)a.mount.delete(W),a.array.delete(W),U.keepValue||($t(i,W),$t(l,W)),!U.keepError&&$t(r.errors,W),!U.keepDirty&&$t(r.dirtyFields,W),!U.keepTouched&&$t(r.touchedFields,W),!U.keepIsValidating&&$t(r.validatingFields,W),!t.shouldUnregister&&!U.keepDefaultValue&&$t(o,W);v.values.next({values:{...l}}),v.state.next({...r,...U.keepDirty?{isDirty:de()}:{}}),!U.keepIsValid&&R()},rt=({disabled:I,name:U,field:W,fields:ue})=>{(In(I)&&c.mount||I||a.disabled.has(U))&&(I?a.disabled.add(U):a.disabled.delete(U),B(U,Om(W?W._f:Se(ue,U)._f),!1,!1,!0))},Fe=(I,U={})=>{let W=Se(i,I);const ue=In(U.disabled)||In(t.disabled);return ft(i,I,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:I}},name:I,mount:!0,...U}}),a.mount.add(I),W?rt({field:W,disabled:In(U.disabled)?U.disabled:t.disabled,name:I}):k(I,!0,U.value),{...ue?{disabled:U.disabled||t.disabled}:{},...t.progressive?{required:!!U.required,min:uc(U.min),max:uc(U.max),minLength:uc(U.minLength),maxLength:uc(U.maxLength),pattern:uc(U.pattern)}:{},name:I,onChange:ce,onBlur:ce,ref:ae=>{if(ae){Fe(I,U),W=Se(i,I);const ie=Ut(ae.value)&&ae.querySelectorAll&&ae.querySelectorAll("input,select,textarea")[0]||ae,ve=JD(ie),oe=W._f.refs||[];if(ve?oe.find(Te=>Te===ie):ie===W._f.ref)return;ft(i,I,{_f:{...W._f,...ve?{refs:[...oe.filter(jm),ie,...Array.isArray(Se(o,I))?[{}]:[]],ref:{type:ie.type,name:I}}:{ref:ie}}}),k(I,!1,void 0,ie)}else W=Se(i,I,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||U.shouldUnregister)&&!(BD(a.array,I)&&c.action)&&a.unMount.add(I)}}},Qe=()=>t.shouldFocusError&&Cd(i,ke,a.mount),Ie=I=>{In(I)&&(v.state.next({disabled:I}),Cd(i,(U,W)=>{const ue=Se(i,W);ue&&(U.disabled=ue._f.disabled||I,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(ae=>{ae.disabled=ue._f.disabled||I}))},0,!1))},Et=(I,U)=>async W=>{let ue;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let ae=en(l);if(a.disabled.size)for(const ie of a.disabled)ft(ae,ie,void 0);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:ie,values:ve}=await q();r.errors=ie,ae=ve}else await $(i);if($t(r.errors,"root"),Tr(r.errors)){v.state.next({errors:{}});try{await I(ae,W)}catch(ie){ue=ie}}else U&&await U({...r.errors},W),Qe(),setTimeout(Qe);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Tr(r.errors)&&!ue,submitCount:r.submitCount+1,errors:r.errors}),ue)throw ue},pr=(I,U={})=>{Se(i,I)&&(Ut(U.defaultValue)?se(I,en(Se(o,I))):(se(I,U.defaultValue),ft(o,I,en(U.defaultValue))),U.keepTouched||$t(r.touchedFields,I),U.keepDirty||($t(r.dirtyFields,I),r.isDirty=U.defaultValue?de(I,en(Se(o,I))):de()),U.keepError||($t(r.errors,I),f.isValid&&R()),v.state.next({...r}))},Kt=(I,U={})=>{const W=I?en(I):o,ue=en(W),ae=Tr(I),ie=ae?o:ue;if(U.keepDefaultValues||(o=W),!U.keepValues){if(U.keepDirtyValues){const ve=new Set([...a.mount,...Object.keys(lc(o,l))]);for(const oe of Array.from(ve))Se(r.dirtyFields,oe)?ft(ie,oe,Se(l,oe)):se(oe,Se(ie,oe))}else{if(R0&&Ut(I))for(const ve of a.mount){const oe=Se(i,ve);if(oe&&oe._f){const Te=Array.isArray(oe._f.refs)?oe._f.refs[0]:oe._f.ref;if(Bp(Te)){const Pe=Te.closest("form");if(Pe){Pe.reset();break}}}}i={}}l=t.shouldUnregister?U.keepDefaultValues?en(o):{}:en(ie),v.array.next({values:{...ie}}),v.values.next({values:{...ie}})}a={mount:U.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!f.isValid||!!U.keepIsValid||!!U.keepDirtyValues,c.watch=!!t.shouldUnregister,v.state.next({submitCount:U.keepSubmitCount?r.submitCount:0,isDirty:ae?!1:U.keepDirty?r.isDirty:!!(U.keepDefaultValues&&!Vi(I,o)),isSubmitted:U.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ae?{}:U.keepDirtyValues?U.keepDefaultValues&&l?lc(o,l):r.dirtyFields:U.keepDefaultValues&&I?lc(o,I):U.keepDirty?r.dirtyFields:{},touchedFields:U.keepTouched?r.touchedFields:{},errors:U.keepErrors?r.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},fr=(I,U)=>Kt(jn(I)?I(l):I,U);return{control:{register:Fe,unregister:Ce,getFieldState:ee,handleSubmit:Et,setError:Z,_executeSchema:q,_getWatch:fe,_getDirty:de,_updateValid:R,_removeUnmounted:pe,_updateFieldArray:T,_updateDisabledField:rt,_getFieldArray:Ee,_reset:Kt,_resetDefaultValues:()=>jn(t.defaultValues)&&t.defaultValues().then(I=>{fr(I,t.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:I=>{r={...r,...I}},_disableForm:Ie,_subjects:v,_proxyFormState:f,_setErrors:j,get _fields(){return i},get _formValues(){return l},get _state(){return c},set _state(I){c=I},get _defaultValues(){return o},get _names(){return a},set _names(I){a=I},get _formState(){return r},set _formState(I){r=I},get _options(){return t},set _options(I){t={...t,...I}}},trigger:N,register:Fe,handleSubmit:Et,watch:xe,setValue:se,getValues:X,reset:fr,resetField:pr,clearErrors:le,unregister:Ce,setError:Z,setFocus:(I,U={})=>{const W=Se(i,I),ue=W&&W._f;if(ue){const ae=ue.refs?ue.refs[0]:ue.ref;ae.focus&&(ae.focus(),U.shouldSelect&&jn(ae.select)&&ae.select())}},getFieldState:ee}}function k_(e={}){const t=qe.useRef(void 0),r=qe.useRef(void 0),[i,o]=qe.useState({isDirty:!1,isValidating:!1,isLoading:jn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:jn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...r5(e),formState:i});const l=t.current.control;return l._options=e,FD({subject:l._subjects.state,next:c=>{VD(c,l._proxyFormState,l._updateFormState)&&o({...l._formState})}}),qe.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),qe.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==i.isDirty&&l._subjects.state.next({isDirty:c})}},[l,i.isDirty]),qe.useEffect(()=>{e.values&&!Vi(e.values,r.current)?(l._reset(e.values,l._options.resetOptions),r.current=e.values,o(c=>({...c}))):l._resetDefaultValues()},[e.values,l]),qe.useEffect(()=>{e.errors&&l._setErrors(e.errors)},[e.errors,l]),qe.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),qe.useEffect(()=>{e.shouldUnregister&&l._subjects.values.next({values:l._getWatch()})},[e.shouldUnregister,l]),t.current.formState=UD(i,l),t.current}const rn=e=>{e&&ot.success(e)},We=e=>{e&&ot.error(e)},n5=()=>{var C,x;const e=k_(),{register:t,handleSubmit:r,formState:i}=e,{errors:o}=i,l=ro(),{login:c}=Fd(),[a,d]=A.useState(!1),[h,f]=A.useState(!1),v=()=>d(!a),m=async R=>{var w,T,P,j;f(!0);try{const k=await _e.post(`${vt}/auth/login`,R);if(k.data.status==="success"){rn("Login successful"),c((w=k.data)==null?void 0:w.token),localStorage.setItem("user_id",(T=k.data.user)==null?void 0:T.id);const F=new URLSearchParams(window.location.search).get("redirect");l(F||"/")}}catch(k){We(((j=(P=k.response)==null?void 0:P.data)==null?void 0:j.message)||"Login failed")}finally{f(!1)}},S=()=>{window.location.href=`${vt}/auth/google`};return g.jsxs("div",{className:"min-h-screen grid lg:grid-cols-2 bg-neutral-50 dark:bg-slate-900 transition-colors",children:[g.jsxs("div",{className:"hidden lg:flex flex-col justify-between p-12 bg-gradient-to-br from-primary-600 via-primary-700 to-accent-600 dark:from-primary-800 dark:via-primary-900 dark:to-accent-800 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("div",{className:"absolute top-20 left-20 w-64 h-64 bg-white/10 rounded-full blur-3xl animate-float"}),g.jsx("div",{className:"absolute bottom-40 right-20 w-96 h-96 bg-accent-500/20 rounded-full blur-3xl animate-float-delayed"})]}),g.jsx("div",{className:"relative z-10",children:g.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:()=>l("/"),children:[g.jsx("div",{className:"p-2 bg-white/10 backdrop-blur-sm rounded-2xl group-hover:bg-white/20 transition-all",children:g.jsx("img",{src:eo,alt:"Chatlas Logo",className:"w-10 h-10"})}),g.jsx("span",{className:"text-3xl font-bold text-white",children:"Chat"})]})}),g.jsxs("div",{className:"relative z-10 space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-white leading-tight",children:["Welcome back to",g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-white to-primary-100 bg-clip-text text-transparent",children:"global conversations"})]}),g.jsx("p",{className:"text-xl text-white/90 max-w-md",children:"Continue breaking language barriers with AI-powered real-time translation."})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[g.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:g.jsx(qd,{className:"text-white text-xl"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-white font-semibold",children:"140+ Languages"}),g.jsx("p",{className:"text-white/70 text-sm",children:"Instant translation"})]})]}),g.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[g.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:g.jsx(f0,{className:"text-white text-xl"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-white font-semibold",children:"Real-Time Speed"}),g.jsx("p",{className:"text-white/70 text-sm",children:"< 100ms latency"})]})]}),g.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[g.jsx("div",{className:"p-2 bg-white/20 rounded-xl",children:g.jsx(mj,{className:"text-white text-xl"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-white font-semibold",children:"Secure Chats"}),g.jsx("p",{className:"text-white/70 text-sm",children:"End-to-end encrypted"})]})]})]})]}),g.jsx("div",{className:"relative z-10 text-white/60 text-sm",children:" 2025 UnifyChat. All rights reserved."})]}),g.jsx("div",{className:"flex items-center justify-center p-6 lg:p-12",children:g.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[g.jsxs("div",{className:"lg:hidden flex items-center justify-center space-x-3 p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-lg",children:[g.jsx("img",{src:eo,alt:"Chatlas Logo",className:"w-10 h-10"}),g.jsx("span",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"UnifyChatChat"})]}),g.jsxs("div",{className:"text-center lg:text-left space-y-3",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100",children:"Welcome back"}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400",children:"Sign in to continue your conversations"})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex justify-center p-4 bg-white dark:bg-slate-800 rounded-2xl border-2 border-neutral-200 dark:border-neutral-700",children:g.jsxs("button",{onClick:S,className:"flex items-center justify-center space-x-3 px-6 py-3 bg-white dark:bg-slate-800 border border-neutral-300 dark:border-neutral-600 rounded-lg hover:bg-neutral-50 dark:hover:bg-slate-700 transition-colors",children:[g.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5"}),g.jsx("span",{className:"text-neutral-700 dark:text-neutral-300 font-medium",children:"Sign in with Google"})]})}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("div",{className:"w-full border-t-2 border-neutral-200 dark:border-neutral-700"})}),g.jsx("div",{className:"relative flex justify-center text-sm",children:g.jsx("span",{className:"px-4 bg-neutral-50 dark:bg-slate-900 text-neutral-500 dark:text-neutral-400 font-medium",children:"Or continue with email"})})]})]}),g.jsxs("form",{onSubmit:r(m),className:"space-y-6",children:[g.jsxs("div",{className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Email address"}),g.jsx("input",{type:"email",placeholder:"you@example.com",className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),o.email&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(C=o.email)==null?void 0:C.message})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:a?"text":"password",placeholder:"Enter your password",className:"w-full px-4 py-3 pr-12 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("password",{required:"Password is required"})}),g.jsx("button",{type:"button",onClick:v,className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors",children:a?g.jsx(dy,{size:20}):g.jsx(hy,{size:20})})]}),o.password&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(x=o.password)==null?void 0:x.message})]})]}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("label",{className:"flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",className:"w-4 h-4 text-primary-600 dark:text-primary-500 border-neutral-300 dark:border-neutral-600 rounded focus:ring-primary-500 dark:focus:ring-primary-400 bg-white dark:bg-slate-800"}),g.jsx("span",{className:"ml-2 text-sm text-neutral-600 dark:text-neutral-400",children:"Remember me"})]}),g.jsx(Dn,{to:"/forgot-password",className:"text-sm font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:"Forgot password?"})]}),g.jsx("button",{type:"submit",disabled:h,className:"w-full px-6 py-4 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 dark:from-primary-500 dark:to-primary-600 dark:hover:from-primary-600 dark:hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg shadow-primary-500/30 dark:shadow-primary-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:h?g.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Sign in"}),g.jsx(Xp,{})]})})]}),g.jsx("div",{className:"text-center pt-4",children:g.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400",children:["Don't have an account?"," ",g.jsx(Dn,{to:"/signup",className:"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:"Sign up"})]})})]})})]})},i5=()=>{var T,P,j,k,B;const e=k_(),{register:t,handleSubmit:r,formState:i,getValues:o}=e,{errors:l}=i,{login:c}=Fd(),a=ro(),[d,h]=A.useState(!1),[f,v]=A.useState(!1),[m,S]=A.useState(!1),C=()=>h(!d),x=()=>v(!f),R=async F=>{var q,H,$,pe,de,fe;S(!0);try{const Ee=await _e.post(`${vt}/auth/signup`,F);if(((q=Ee.data)==null?void 0:q.status)==="success"){rn(((H=Ee.data)==null?void 0:H.message)||"Account created successfully"),localStorage.setItem("user_id",($=Ee.data.user)==null?void 0:$.id),c((pe=Ee.data)==null?void 0:pe.token);const te=new URLSearchParams(window.location.search).get("redirect");a(te||"/")}}catch(Ee){We(((fe=(de=Ee.response)==null?void 0:de.data)==null?void 0:fe.message)||"Registration failed")}finally{S(!1)}},w=[{icon:f0,text:"Real-time translation to 140+ languages"},{icon:Mj,text:"Secure end-to-end encrypted messaging"},{icon:LA,text:"Create unlimited group chats"}];return g.jsxs("div",{className:"min-h-screen grid lg:grid-cols-2 bg-neutral-50 dark:bg-slate-900 transition-colors",children:[g.jsxs("div",{className:"hidden lg:flex flex-col justify-between p-12 bg-gradient-to-br from-accent-600 via-accent-700 to-primary-600 dark:from-accent-800 dark:via-accent-900 dark:to-primary-800 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-float"}),g.jsx("div",{className:"absolute bottom-32 left-20 w-96 h-96 bg-primary-500/20 rounded-full blur-3xl animate-float-delayed"})]}),g.jsx("div",{className:"relative z-10",children:g.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer group",onClick:()=>a("/"),children:[g.jsx("div",{className:"p-2 bg-white/10 backdrop-blur-sm rounded-2xl group-hover:bg-white/20 transition-all",children:g.jsx("img",{src:eo,alt:"Chatlas Logo",className:"w-10 h-10"})}),g.jsx("span",{className:"text-3xl font-bold text-white",children:"Chat"})]})}),g.jsxs("div",{className:"relative z-10 space-y-8",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-white leading-tight",children:["Join the global",g.jsx("br",{}),g.jsx("span",{className:"bg-gradient-to-r from-white to-accent-100 bg-clip-text text-transparent",children:"conversation"})]}),g.jsx("p",{className:"text-xl text-white/90 max-w-md",children:"Experience seamless communication without language barriers."})]}),g.jsx("div",{className:"space-y-4",children:w.map((F,q)=>g.jsxs("div",{className:"flex items-start space-x-4 p-5 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20 hover:bg-white/15 transition-all",children:[g.jsx("div",{className:"flex-shrink-0 p-3 bg-white/20 rounded-xl",children:g.jsx(F.icon,{className:"text-white text-xl"})}),g.jsx("div",{className:"flex-1",children:g.jsx("p",{className:"text-white font-medium leading-relaxed",children:F.text})})]},q))}),g.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20",children:[g.jsx("div",{className:"flex -space-x-3",children:[1,2,3,4].map(F=>g.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-white/20 to-white/10 border-2 border-white flex items-center justify-center",children:g.jsx("span",{className:"text-white text-sm",children:""})},F))}),g.jsx("p",{className:"text-white/90 font-medium",children:"Join 10,000+ users worldwide"})]})]}),g.jsx("div",{className:"relative z-10 text-white/60 text-sm",children:" 2025 UnifyChat. All rights reserved."})]}),g.jsx("div",{className:"flex items-center justify-center p-6 lg:p-12",children:g.jsxs("div",{className:"w-full max-w-md space-y-8 animate-fade-in",children:[g.jsxs("div",{className:"lg:hidden flex items-center justify-center space-x-3 p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-lg",children:[g.jsx("img",{src:eo,alt:"Chatlas Logo",className:"w-10 h-10"}),g.jsx("span",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"UnifyChat"})]}),g.jsxs("div",{className:"text-center lg:text-left space-y-3",children:[g.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100",children:"Create account"}),g.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400",children:"Start chatting across languages"})]}),g.jsxs("form",{onSubmit:r(R),className:"space-y-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Full name"}),g.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("username",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}})}),l.username&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(T=l.username)==null?void 0:T.message})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Email address"}),g.jsx("input",{type:"email",placeholder:"you@example.com",className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}})}),l.email&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(P=l.email)==null?void 0:P.message})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:d?"text":"password",placeholder:"Create a strong password",className:"w-full px-4 py-3 pr-12 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),g.jsx("button",{type:"button",onClick:C,className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors",children:d?g.jsx(dy,{size:20}):g.jsx(hy,{size:20})})]}),l.password&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(j=l.password)==null?void 0:j.message})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Confirm password"}),g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:f?"text":"password",placeholder:"Re-enter your password",className:"w-full px-4 py-3 pr-12 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all",...t("passwordConfirm",{required:"Please confirm your password",validate:F=>F===o("password")||"Passwords do not match"})}),g.jsx("button",{type:"button",onClick:x,className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors",children:f?g.jsx(dy,{size:20}):g.jsx(hy,{size:20})})]}),l.passwordConfirm&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:(k=l.passwordConfirm)==null?void 0:k.message})]}),g.jsxs("div",{className:"flex items-start",children:[g.jsx("input",{type:"checkbox",className:"w-4 h-4 mt-1 text-primary-600 dark:text-primary-500 border-neutral-300 dark:border-neutral-600 rounded focus:ring-primary-500 dark:focus:ring-primary-400 bg-white dark:bg-slate-800",...t("terms",{required:"You must accept the terms and conditions"})}),g.jsxs("label",{className:"ml-2 text-sm text-neutral-600 dark:text-neutral-400",children:["I agree to the"," ",g.jsx(Dn,{to:"/terms",className:"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:"Terms of Service"})," ","and"," ",g.jsx(Dn,{to:"/privacy",className:"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:"Privacy Policy"})]})]}),l.terms&&g.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:(B=l.terms)==null?void 0:B.message}),g.jsx("button",{type:"submit",disabled:m,className:"w-full px-6 py-4 bg-gradient-to-r from-accent-600 to-primary-600 hover:from-accent-700 hover:to-primary-700 dark:from-accent-500 dark:to-primary-500 dark:hover:from-accent-600 dark:hover:to-primary-600 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg shadow-accent-500/30 dark:shadow-accent-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:m?g.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Create account"}),g.jsx(Xp,{})]})})]}),g.jsx("div",{className:"text-center pt-4",children:g.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400",children:["Already have an account?"," ",g.jsx(Dn,{to:"/signin",className:"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:"Sign in"})]})})]})})]})},M_=({color:e,text:t,size:r="md",url:i})=>{const o={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"};return e||(e=["bg-green-400","bg-blue-400","bg-cyan-400","bg-yellow-400","bg-purple-400"][Math.floor(Math.random()*5)]),i?g.jsx("img",{src:i,alt:"Avatar",className:`${o[r]} rounded-full object-cover`}):g.jsx("div",{className:`${e} ${o[r]} rounded-full flex items-center justify-center text-white font-bold`,children:g.jsx("span",{children:t})})},P0=({size:e="md",person:t})=>{const r={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"};return t?g.jsx("img",{src:t==null?void 0:t.profile_picture,alt:"Avatar",className:`${r[e]} rounded-full object-cover`}):g.jsx("div",{className:`${r[e]} rounded-full flex items-center justify-center text-white font-bold`,children:g.jsx("span",{children:t==null?void 0:t.given_name})})},Sn=({icon:e,onClick:t,className:r=""})=>g.jsx("button",{className:`p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-brand-grey-light transition duration-200 text-neutral-600 dark:text-neutral-400 ${r}`,onClick:t,children:e}),Dm=({text:e,isActive:t,onClick:r})=>g.jsx("button",{className:`font-['Montserrat'] px-4 py-2 text-sm font-semibold rounded-full transition-colors ${t?"bg-brand-yellow dark:bg-brand-yellow-light text-brand-grey-dark shadow-sm":"bg-white dark:bg-brand-grey-light border border-neutral-200 dark:border-brand-grey-light text-neutral-600 dark:text-neutral-400 hover:bg-neutral-50 dark:hover:bg-brand-grey-medium"}`,onClick:r,children:e}),A0=A.createContext({});function _0(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const k0=typeof window<"u",N_=k0?A.useLayoutEffect:A.useEffect,cf=A.createContext(null);function M0(e,t){e.indexOf(t)===-1&&e.push(t)}function N0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const pi=(e,t,r)=>r>t?t:r<e?e:r;let I0=()=>{};const fi={},I_=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function j_(e){return typeof e=="object"&&e!==null}const O_=e=>/^0[^.\s]+$/u.test(e);function j0(e){let t;return()=>(t===void 0&&(t=e()),t)}const on=e=>e,s5=(e,t)=>r=>t(e(r)),Kd=(...e)=>e.reduce(s5),kd=(e,t,r)=>{const i=t-e;return i===0?1:(r-e)/i};class O0{constructor(){this.subscriptions=[]}add(t){return M0(this.subscriptions,t),()=>N0(this.subscriptions,t)}notify(t,r,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,i);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zn=e=>e*1e3,sn=e=>e/1e3;function D_(e,t){return t?e*(1e3/t):0}const z_=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,o5=1e-7,a5=12;function c5(e,t,r,i,o){let l,c,a=0;do c=t+(r-t)/2,l=z_(c,i,o)-e,l>0?r=c:t=c;while(Math.abs(l)>o5&&++a<a5);return c}function Wd(e,t,r,i){if(e===t&&r===i)return on;const o=l=>c5(l,0,1,e,r);return l=>l===0||l===1?l:z_(o(l),t,i)}const L_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,B_=e=>t=>1-e(1-t),q_=Wd(.33,1.53,.69,.99),D0=B_(q_),U_=L_(D0),V_=e=>(e*=2)<1?.5*D0(e):.5*(2-Math.pow(2,-10*(e-1))),z0=e=>1-Math.sin(Math.acos(e)),F_=B_(z0),H_=L_(z0),l5=Wd(.42,0,1,1),u5=Wd(0,0,.58,1),$_=Wd(.42,0,.58,1),d5=e=>Array.isArray(e)&&typeof e[0]!="number",K_=e=>Array.isArray(e)&&typeof e[0]=="number",h5={linear:on,easeIn:l5,easeInOut:$_,easeOut:u5,circIn:z0,circInOut:H_,circOut:F_,backIn:D0,backInOut:U_,backOut:q_,anticipate:V_},p5=e=>typeof e=="string",Hx=e=>{if(K_(e)){I0(e.length===4);const[t,r,i,o]=e;return Wd(t,r,i,o)}else if(p5(e))return h5[e];return e},ap=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function f5(e,t){let r=new Set,i=new Set,o=!1,l=!1;const c=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function d(f){c.has(f)&&(h.schedule(f),e()),f(a)}const h={schedule:(f,v=!1,m=!1)=>{const C=m&&o?r:i;return v&&c.add(f),C.has(f)||C.add(f),f},cancel:f=>{i.delete(f),c.delete(f)},process:f=>{if(a=f,o){l=!0;return}o=!0,[r,i]=[i,r],r.forEach(d),r.clear(),o=!1,l&&(l=!1,h.process(f))}};return h}const v5=40;function W_(e,t){let r=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=ap.reduce((P,j)=>(P[j]=f5(l),P),{}),{setup:a,read:d,resolveKeyframes:h,preUpdate:f,update:v,preRender:m,render:S,postRender:C}=c,x=()=>{const P=fi.useManualTiming?o.timestamp:performance.now();r=!1,fi.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(P-o.timestamp,v5),1)),o.timestamp=P,o.isProcessing=!0,a.process(o),d.process(o),h.process(o),f.process(o),v.process(o),m.process(o),S.process(o),C.process(o),o.isProcessing=!1,r&&t&&(i=!1,e(x))},R=()=>{r=!0,i=!0,o.isProcessing||e(x)};return{schedule:ap.reduce((P,j)=>{const k=c[j];return P[j]=(B,F=!1,q=!1)=>(r||R(),k.schedule(B,F,q)),P},{}),cancel:P=>{for(let j=0;j<ap.length;j++)c[ap[j]].cancel(P)},state:o,steps:c}}const{schedule:yt,cancel:$i,state:sr,steps:zm}=W_(typeof requestAnimationFrame<"u"?requestAnimationFrame:on,!0);let Rp;function m5(){Rp=void 0}const Pr={now:()=>(Rp===void 0&&Pr.set(sr.isProcessing||fi.useManualTiming?sr.timestamp:performance.now()),Rp),set:e=>{Rp=e,queueMicrotask(m5)}},G_=e=>t=>typeof t=="string"&&t.startsWith(e),L0=G_("--"),g5=G_("var(--"),B0=e=>g5(e)?y5.test(e.split("/*")[0].trim()):!1,y5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ia={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Md={...ia,transform:e=>pi(0,1,e)},cp={...ia,default:1},xd=e=>Math.round(e*1e5)/1e5,q0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function S5(e){return e==null}const b5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,U0=(e,t)=>r=>!!(typeof r=="string"&&b5.test(r)&&r.startsWith(e)||t&&!S5(r)&&Object.prototype.hasOwnProperty.call(r,t)),J_=(e,t,r)=>i=>{if(typeof i!="string")return i;const[o,l,c,a]=i.match(q0);return{[e]:parseFloat(o),[t]:parseFloat(l),[r]:parseFloat(c),alpha:a!==void 0?parseFloat(a):1}},C5=e=>pi(0,255,e),Lm={...ia,transform:e=>Math.round(C5(e))},Ws={test:U0("rgb","red"),parse:J_("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:i=1})=>"rgba("+Lm.transform(e)+", "+Lm.transform(t)+", "+Lm.transform(r)+", "+xd(Md.transform(i))+")"};function x5(e){let t="",r="",i="",o="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),i=e.substring(3,4),o=e.substring(4,5),t+=t,r+=r,i+=i,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Ry={test:U0("#"),parse:x5,transform:Ws.transform},Gd=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Bi=Gd("deg"),Ln=Gd("%"),Le=Gd("px"),R5=Gd("vh"),w5=Gd("vw"),$x={...Ln,parse:e=>Ln.parse(e)/100,transform:e=>Ln.transform(e*100)},Ho={test:U0("hsl","hue"),parse:J_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+Ln.transform(xd(t))+", "+Ln.transform(xd(r))+", "+xd(Md.transform(i))+")"},qt={test:e=>Ws.test(e)||Ry.test(e)||Ho.test(e),parse:e=>Ws.test(e)?Ws.parse(e):Ho.test(e)?Ho.parse(e):Ry.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ws.transform(e):Ho.transform(e),getAnimatableNone:e=>{const t=qt.parse(e);return t.alpha=0,qt.transform(t)}},E5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T5(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(q0))==null?void 0:t.length)||0)+(((r=e.match(E5))==null?void 0:r.length)||0)>0}const Y_="number",Q_="color",P5="var",A5="var(",Kx="${}",_5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nd(e){const t=e.toString(),r=[],i={color:[],number:[],var:[]},o=[];let l=0;const a=t.replace(_5,d=>(qt.test(d)?(i.color.push(l),o.push(Q_),r.push(qt.parse(d))):d.startsWith(A5)?(i.var.push(l),o.push(P5),r.push(d)):(i.number.push(l),o.push(Y_),r.push(parseFloat(d))),++l,Kx)).split(Kx);return{values:r,split:a,indexes:i,types:o}}function X_(e){return Nd(e).values}function Z_(e){const{split:t,types:r}=Nd(e),i=t.length;return o=>{let l="";for(let c=0;c<i;c++)if(l+=t[c],o[c]!==void 0){const a=r[c];a===Y_?l+=xd(o[c]):a===Q_?l+=qt.transform(o[c]):l+=o[c]}return l}}const k5=e=>typeof e=="number"?0:qt.test(e)?qt.getAnimatableNone(e):e;function M5(e){const t=X_(e);return Z_(e)(t.map(k5))}const Ki={test:T5,parse:X_,createTransformer:Z_,getAnimatableNone:M5};function Bm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function N5({hue:e,saturation:t,lightness:r,alpha:i}){e/=360,t/=100,r/=100;let o=0,l=0,c=0;if(!t)o=l=c=r;else{const a=r<.5?r*(1+t):r+t-r*t,d=2*r-a;o=Bm(d,a,e+1/3),l=Bm(d,a,e),c=Bm(d,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function Vp(e,t){return r=>r>0?t:e}const wt=(e,t,r)=>e+(t-e)*r,qm=(e,t,r)=>{const i=e*e,o=r*(t*t-i)+i;return o<0?0:Math.sqrt(o)},I5=[Ry,Ws,Ho],j5=e=>I5.find(t=>t.test(e));function Wx(e){const t=j5(e);if(!t)return!1;let r=t.parse(e);return t===Ho&&(r=N5(r)),r}const Gx=(e,t)=>{const r=Wx(e),i=Wx(t);if(!r||!i)return Vp(e,t);const o={...r};return l=>(o.red=qm(r.red,i.red,l),o.green=qm(r.green,i.green,l),o.blue=qm(r.blue,i.blue,l),o.alpha=wt(r.alpha,i.alpha,l),Ws.transform(o))},wy=new Set(["none","hidden"]);function O5(e,t){return wy.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function D5(e,t){return r=>wt(e,t,r)}function V0(e){return typeof e=="number"?D5:typeof e=="string"?B0(e)?Vp:qt.test(e)?Gx:B5:Array.isArray(e)?e4:typeof e=="object"?qt.test(e)?Gx:z5:Vp}function e4(e,t){const r=[...e],i=r.length,o=e.map((l,c)=>V0(l)(l,t[c]));return l=>{for(let c=0;c<i;c++)r[c]=o[c](l);return r}}function z5(e,t){const r={...e,...t},i={};for(const o in r)e[o]!==void 0&&t[o]!==void 0&&(i[o]=V0(e[o])(e[o],t[o]));return o=>{for(const l in i)r[l]=i[l](o);return r}}function L5(e,t){const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=e.indexes[l][i[l]],a=e.values[c]??0;r[o]=a,i[l]++}return r}const B5=(e,t)=>{const r=Ki.createTransformer(t),i=Nd(e),o=Nd(t);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?wy.has(e)&&!o.values.length||wy.has(t)&&!i.values.length?O5(e,t):Kd(e4(L5(i,o),o.values),r):Vp(e,t)};function t4(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?wt(e,t,r):V0(e)(e,t)}const q5=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>yt.update(t,r),stop:()=>$i(t),now:()=>sr.isProcessing?sr.timestamp:Pr.now()}},r4=(e,t,r=10)=>{let i="";const o=Math.max(Math.round(t/r),2);for(let l=0;l<o;l++)i+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Fp=2e4;function F0(e){let t=0;const r=50;let i=e.next(t);for(;!i.done&&t<Fp;)t+=r,i=e.next(t);return t>=Fp?1/0:t}function U5(e,t=100,r){const i=r({...e,keyframes:[0,t]}),o=Math.min(F0(i),Fp);return{type:"keyframes",ease:l=>i.next(o*l).value/t,duration:sn(o)}}const V5=5;function n4(e,t,r){const i=Math.max(t-V5,0);return D_(r-e(i),t-i)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jx=.001;function F5({duration:e=_t.duration,bounce:t=_t.bounce,velocity:r=_t.velocity,mass:i=_t.mass}){let o,l,c=1-t;c=pi(_t.minDamping,_t.maxDamping,c),e=pi(_t.minDuration,_t.maxDuration,sn(e)),c<1?(o=h=>{const f=h*c,v=f*e,m=f-r,S=Ey(h,c),C=Math.exp(-v);return Jx-m/S*C},l=h=>{const v=h*c*e,m=v*r+r,S=Math.pow(c,2)*Math.pow(h,2)*e,C=Math.exp(-v),x=Ey(Math.pow(h,2),c);return(-o(h)+Jx>0?-1:1)*((m-S)*C)/x}):(o=h=>{const f=Math.exp(-h*e),v=(h-r)*e+1;return-.001+f*v},l=h=>{const f=Math.exp(-h*e),v=(r-h)*(e*e);return f*v});const a=5/e,d=$5(o,l,a);if(e=zn(e),isNaN(d))return{stiffness:_t.stiffness,damping:_t.damping,duration:e};{const h=Math.pow(d,2)*i;return{stiffness:h,damping:c*2*Math.sqrt(i*h),duration:e}}}const H5=12;function $5(e,t,r){let i=r;for(let o=1;o<H5;o++)i=i-e(i)/t(i);return i}function Ey(e,t){return e*Math.sqrt(1-t*t)}const K5=["duration","bounce"],W5=["stiffness","damping","mass"];function Yx(e,t){return t.some(r=>e[r]!==void 0)}function G5(e){let t={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...e};if(!Yx(e,W5)&&Yx(e,K5))if(e.visualDuration){const r=e.visualDuration,i=2*Math.PI/(r*1.2),o=i*i,l=2*pi(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:_t.mass,stiffness:o,damping:l}}else{const r=F5(e);t={...t,...r,mass:_t.mass},t.isResolvedFromDuration=!0}return t}function Hp(e=_t.visualDuration,t=_t.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:o}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],a={done:!1,value:l},{stiffness:d,damping:h,mass:f,duration:v,velocity:m,isResolvedFromDuration:S}=G5({...r,velocity:-sn(r.velocity||0)}),C=m||0,x=h/(2*Math.sqrt(d*f)),R=c-l,w=sn(Math.sqrt(d/f)),T=Math.abs(R)<5;i||(i=T?_t.restSpeed.granular:_t.restSpeed.default),o||(o=T?_t.restDelta.granular:_t.restDelta.default);let P;if(x<1){const k=Ey(w,x);P=B=>{const F=Math.exp(-x*w*B);return c-F*((C+x*w*R)/k*Math.sin(k*B)+R*Math.cos(k*B))}}else if(x===1)P=k=>c-Math.exp(-w*k)*(R+(C+w*R)*k);else{const k=w*Math.sqrt(x*x-1);P=B=>{const F=Math.exp(-x*w*B),q=Math.min(k*B,300);return c-F*((C+x*w*R)*Math.sinh(q)+k*R*Math.cosh(q))/k}}const j={calculatedDuration:S&&v||null,next:k=>{const B=P(k);if(S)a.done=k>=v;else{let F=k===0?C:0;x<1&&(F=k===0?zn(C):n4(P,k,B));const q=Math.abs(F)<=i,H=Math.abs(c-B)<=o;a.done=q&&H}return a.value=a.done?c:B,a},toString:()=>{const k=Math.min(F0(j),Fp),B=r4(F=>j.next(k*F).value,k,30);return k+"ms "+B},toTransition:()=>{}};return j}Hp.applyToOptions=e=>{const t=U5(e,100,Hp);return e.ease=t.ease,e.duration=zn(t.duration),e.type="keyframes",e};function Ty({keyframes:e,velocity:t=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:a,max:d,restDelta:h=.5,restSpeed:f}){const v=e[0],m={done:!1,value:v},S=q=>a!==void 0&&q<a||d!==void 0&&q>d,C=q=>a===void 0?d:d===void 0||Math.abs(a-q)<Math.abs(d-q)?a:d;let x=r*t;const R=v+x,w=c===void 0?R:c(R);w!==R&&(x=w-v);const T=q=>-x*Math.exp(-q/i),P=q=>w+T(q),j=q=>{const H=T(q),$=P(q);m.done=Math.abs(H)<=h,m.value=m.done?w:$};let k,B;const F=q=>{S(m.value)&&(k=q,B=Hp({keyframes:[m.value,C(m.value)],velocity:n4(P,q,m.value),damping:o,stiffness:l,restDelta:h,restSpeed:f}))};return F(0),{calculatedDuration:null,next:q=>{let H=!1;return!B&&k===void 0&&(H=!0,j(q),F(q)),k!==void 0&&q>=k?B.next(q-k):(!H&&j(q),m)}}}function J5(e,t,r){const i=[],o=r||fi.mix||t4,l=e.length-1;for(let c=0;c<l;c++){let a=o(e[c],e[c+1]);if(t){const d=Array.isArray(t)?t[c]||on:t;a=Kd(d,a)}i.push(a)}return i}function Y5(e,t,{clamp:r=!0,ease:i,mixer:o}={}){const l=e.length;if(I0(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=J5(t,i,o),d=a.length,h=f=>{if(c&&f<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(f<e[v+1]);v++);const m=kd(e[v],e[v+1],f);return a[v](m)};return r?f=>h(pi(e[0],e[l-1],f)):h}function Q5(e,t){const r=e[e.length-1];for(let i=1;i<=t;i++){const o=kd(0,t,i);e.push(wt(r,1,o))}}function X5(e){const t=[0];return Q5(t,e.length-1),t}function Z5(e,t){return e.map(r=>r*t)}function e8(e,t){return e.map(()=>t||$_).splice(0,e.length-1)}function Rd({duration:e=300,keyframes:t,times:r,ease:i="easeInOut"}){const o=d5(i)?i.map(Hx):Hx(i),l={done:!1,value:t[0]},c=Z5(r&&r.length===t.length?r:X5(t),e),a=Y5(c,t,{ease:Array.isArray(o)?o:e8(t,o)});return{calculatedDuration:e,next:d=>(l.value=a(d),l.done=d>=e,l)}}const t8=e=>e!==null;function H0(e,{repeat:t,repeatType:r="loop"},i,o=1){const l=e.filter(t8),a=o<0||t&&r!=="loop"&&t%2===1?0:l.length-1;return!a||i===void 0?l[a]:i}const r8={decay:Ty,inertia:Ty,tween:Rd,keyframes:Rd,spring:Hp};function i4(e){typeof e.type=="string"&&(e.type=r8[e.type])}class $0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const n8=e=>e/100;class K0 extends $0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:r}=this.options;r&&r.updatedAt!==Pr.now()&&this.tick(Pr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;i4(t);const{type:r=Rd,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=t;let{keyframes:a}=t;const d=r||Rd;d!==Rd&&typeof a[0]!="number"&&(this.mixKeyframes=Kd(n8,t4(a[0],a[1])),a=[0,100]);const h=d({...t,keyframes:a});l==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...a].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=F0(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=h}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:a,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:h=0,keyframes:f,repeat:v,repeatType:m,repeatDelay:S,type:C,onUpdate:x,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const w=this.currentTime-h*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?w<0:w>o;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let P=this.currentTime,j=i;if(v){const q=Math.min(this.currentTime,o)/a;let H=Math.floor(q),$=q%1;!$&&q>=1&&($=1),$===1&&H--,H=Math.min(H,v+1),!!(H%2)&&(m==="reverse"?($=1-$,S&&($-=S/a)):m==="mirror"&&(j=c)),P=pi(0,1,$)*a}const k=T?{done:!1,value:f[0]}:j.next(P);l&&(k.value=l(k.value));let{done:B}=k;!T&&d!==null&&(B=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return F&&C!==Ty&&(k.value=H0(f,this.options,R,this.speed)),x&&x(k.value),F&&this.finish(),k}then(t,r){return this.finished.then(t,r)}get duration(){return sn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+sn(t)}get time(){return sn(this.currentTime)}set time(t){var r;t=zn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Pr.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=sn(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=q5,startTime:r}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function i8(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Gs=e=>e*180/Math.PI,Py=e=>{const t=Gs(Math.atan2(e[1],e[0]));return Ay(t)},s8={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Py,rotateZ:Py,skewX:e=>Gs(Math.atan(e[1])),skewY:e=>Gs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ay=e=>(e=e%360,e<0&&(e+=360),e),Qx=Py,Xx=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Zx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),o8={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xx,scaleY:Zx,scale:e=>(Xx(e)+Zx(e))/2,rotateX:e=>Ay(Gs(Math.atan2(e[6],e[5]))),rotateY:e=>Ay(Gs(Math.atan2(-e[2],e[0]))),rotateZ:Qx,rotate:Qx,skewX:e=>Gs(Math.atan(e[4])),skewY:e=>Gs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function _y(e){return e.includes("scale")?1:0}function ky(e,t){if(!e||e==="none")return _y(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(r)i=o8,o=r;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=s8,o=a}if(!o)return _y(t);const l=i[t],c=o[1].split(",").map(c8);return typeof l=="function"?l(c):c[l]}const a8=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return ky(r,t)};function c8(e){return parseFloat(e.trim())}const sa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oa=new Set(sa),eR=e=>e===ia||e===Le,l8=new Set(["x","y","z"]),u8=sa.filter(e=>!l8.has(e));function d8(e){const t=[];return u8.forEach(r=>{const i=e.getValue(r);i!==void 0&&(t.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),t}const Qs={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ky(t,"x"),y:(e,{transform:t})=>ky(t,"y")};Qs.translateX=Qs.x;Qs.translateY=Qs.y;const Xs=new Set;let My=!1,Ny=!1,Iy=!1;function s4(){if(Ny){const e=Array.from(Xs).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),r=new Map;t.forEach(i=>{const o=d8(i);o.length&&(r.set(i,o),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const o=r.get(i);o&&o.forEach(([l,c])=>{var a;(a=i.getValue(l))==null||a.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ny=!1,My=!1,Xs.forEach(e=>e.complete(Iy)),Xs.clear()}function o4(){Xs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ny=!0)})}function h8(){Iy=!0,o4(),s4(),Iy=!1}class W0{constructor(t,r,i,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=i,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Xs.add(this),My||(My=!0,yt.read(o4),yt.resolveKeyframes(s4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:i,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&r){const a=i.readValue(r,c);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}i8(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Xs.delete(this)}cancel(){this.state==="scheduled"&&(Xs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const p8=e=>e.startsWith("--");function f8(e,t,r){p8(t)?e.style.setProperty(t,r):e.style[t]=r}const v8=j0(()=>window.ScrollTimeline!==void 0),m8={};function g8(e,t){const r=j0(e);return()=>m8[t]??r()}const a4=g8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yd=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`,tR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yd([0,.65,.55,1]),circOut:yd([.55,0,1,.45]),backIn:yd([.31,.01,.66,-.59]),backOut:yd([.33,1.53,.69,.99])};function c4(e,t){if(e)return typeof e=="function"?a4()?r4(e,t):"ease-out":K_(e)?yd(e):Array.isArray(e)?e.map(r=>c4(r,t)||tR.easeOut):tR[e]}function y8(e,t,r,{delay:i=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:a="easeOut",times:d}={},h=void 0){const f={[t]:r};d&&(f.offset=d);const v=c4(a,o);Array.isArray(v)&&(f.easing=v);const m={delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return h&&(m.pseudoElement=h),e.animate(f,m)}function l4(e){return typeof e=="function"&&"applyToOptions"in e}function S8({type:e,...t}){return l4(e)&&a4()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class b8 extends $0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:i,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:a,onComplete:d}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,I0(typeof t.type!="string");const h=S8(t);this.animation=y8(r,i,o,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const f=H0(o,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(f):f8(r,i,f),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,i;const t=((i=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:i.call(r).duration)||0;return sn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+sn(t)}get time(){return sn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&v8()?(this.animation.timeline=t,on):r(this)}}const u4={anticipate:V_,backInOut:U_,circInOut:H_};function C8(e){return e in u4}function x8(e){typeof e.ease=="string"&&C8(e.ease)&&(e.ease=u4[e.ease])}const rR=10;class R8 extends b8{constructor(t){x8(t),i4(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:i,onComplete:o,element:l,...c}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const a=new K0({...c,autoplay:!1}),d=zn(this.finishedTime??this.time);r.setWithVelocity(a.sample(d-rR).value,a.sample(d).value,rR),a.stop()}}const nR=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ki.test(e)||e==="0")&&!e.startsWith("url("));function w8(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function E8(e,t,r,i){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=nR(o,t),a=nR(l,t);return!c||!a?!1:w8(e)||(r==="spring"||l4(r))&&i}function jy(e){e.duration=0,e.type="keyframes"}const T8=new Set(["opacity","clipPath","filter","transform"]),P8=j0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function A8(e){var f;const{motionValue:t,name:r,repeatDelay:i,repeatType:o,damping:l,type:c}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return P8()&&r&&T8.has(r)&&(r!=="transform"||!h)&&!d&&!i&&o!=="mirror"&&l!==0&&c!=="inertia"}const _8=40;class k8 extends $0{constructor({autoplay:t=!0,delay:r=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:a,name:d,motionValue:h,element:f,...v}){var C;super(),this.stop=()=>{var x,R;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Pr.now();const m={autoplay:t,delay:r,type:i,repeat:o,repeatDelay:l,repeatType:c,name:d,motionValue:h,element:f,...v},S=(f==null?void 0:f.KeyframeResolver)||W0;this.keyframeResolver=new S(a,(x,R,w)=>this.onKeyframesResolved(x,R,m,!w),d,h,f),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(t,r,i,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:a,delay:d,isHandoff:h,onUpdate:f}=i;this.resolvedAt=Pr.now(),E8(t,l,c,a)||((fi.instantAnimations||!d)&&(f==null||f(H0(t,i,r))),t[0]=t[t.length-1],jy(i),i.repeat=0);const m={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>_8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:t},S=!h&&A8(m)?new R8({...m,element:m.motionValue.owner.current}):new K0(m);S.finished.then(()=>this.notifyFinished()).catch(on),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),h8()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const M8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function N8(e){const t=M8.exec(e);if(!t)return[,];const[,r,i,o]=t;return[`--${r??i}`,o]}function d4(e,t,r=1){const[i,o]=N8(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const c=l.trim();return I_(c)?parseFloat(c):c}return B0(o)?d4(o,t,r+1):o}function G0(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const h4=new Set(["width","height","top","left","right","bottom",...sa]),I8={test:e=>e==="auto",parse:e=>e},p4=e=>t=>t.test(e),f4=[ia,Le,Ln,Bi,w5,R5,I8],iR=e=>f4.find(p4(e));function j8(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||O_(e):!0}const O8=new Set(["brightness","contrast","saturate","opacity"]);function D8(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=r.match(q0)||[];if(!i)return e;const o=r.replace(i,"");let l=O8.has(t)?1:0;return i!==r&&(l*=100),t+"("+l+o+")"}const z8=/\b([a-z-]*)\(.*?\)/gu,Oy={...Ki,getAnimatableNone:e=>{const t=e.match(z8);return t?t.map(D8).join(" "):e}},sR={...ia,transform:Math.round},L8={rotate:Bi,rotateX:Bi,rotateY:Bi,rotateZ:Bi,scale:cp,scaleX:cp,scaleY:cp,scaleZ:cp,skew:Bi,skewX:Bi,skewY:Bi,distance:Le,translateX:Le,translateY:Le,translateZ:Le,x:Le,y:Le,z:Le,perspective:Le,transformPerspective:Le,opacity:Md,originX:$x,originY:$x,originZ:Le},J0={borderWidth:Le,borderTopWidth:Le,borderRightWidth:Le,borderBottomWidth:Le,borderLeftWidth:Le,borderRadius:Le,radius:Le,borderTopLeftRadius:Le,borderTopRightRadius:Le,borderBottomRightRadius:Le,borderBottomLeftRadius:Le,width:Le,maxWidth:Le,height:Le,maxHeight:Le,top:Le,right:Le,bottom:Le,left:Le,padding:Le,paddingTop:Le,paddingRight:Le,paddingBottom:Le,paddingLeft:Le,margin:Le,marginTop:Le,marginRight:Le,marginBottom:Le,marginLeft:Le,backgroundPositionX:Le,backgroundPositionY:Le,...L8,zIndex:sR,fillOpacity:Md,strokeOpacity:Md,numOctaves:sR},B8={...J0,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Oy,WebkitFilter:Oy},v4=e=>B8[e];function m4(e,t){let r=v4(e);return r!==Oy&&(r=Ki),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const q8=new Set(["auto","none","0"]);function U8(e,t,r){let i=0,o;for(;i<e.length&&!o;){const l=e[i];typeof l=="string"&&!q8.has(l)&&Nd(l).values.length&&(o=e[i]),i++}if(o&&r)for(const l of t)e[l]=m4(r,o)}class V8 extends W0{constructor(t,r,i,o,l){super(t,r,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),B0(h))){const f=d4(h,r.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!h4.has(i)||t.length!==2)return;const[o,l]=t,c=iR(o),a=iR(l);if(c!==a)if(eR(c)&&eR(a))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else Qs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,i=[];for(let o=0;o<t.length;o++)(t[o]===null||j8(t[o]))&&i.push(o);i.length&&U8(t,i,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Qs[i](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&t.getValue(i,o).jump(o,!1)}measureEndState(){var a;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const o=t.getValue(r);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=Qs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([d,h])=>{t.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function F8(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const o=(r==null?void 0:r[e])??i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const g4=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function y4(e){return j_(e)&&"offsetHeight"in e}const oR=30,H8=e=>!isNaN(parseFloat(e));class $8{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const o=Pr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Pr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=H8(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new O0);const i=this.events[t].add(r);return t==="change"?()=>{i(),yt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>oR)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,oR);return D_(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qo(e,t){return new $8(e,t)}const{schedule:Y0}=W_(queueMicrotask,!1),yn={x:!1,y:!1};function S4(){return yn.x||yn.y}function K8(e){return e==="x"||e==="y"?yn[e]?null:(yn[e]=!0,()=>{yn[e]=!1}):yn.x||yn.y?null:(yn.x=yn.y=!0,()=>{yn.x=yn.y=!1})}function b4(e,t){const r=F8(e),i=new AbortController,o={passive:!0,...t,signal:i.signal};return[r,o,()=>i.abort()]}function aR(e){return!(e.pointerType==="touch"||S4())}function W8(e,t,r={}){const[i,o,l]=b4(e,r),c=a=>{if(!aR(a))return;const{target:d}=a,h=t(d,a);if(typeof h!="function"||!d)return;const f=v=>{aR(v)&&(h(v),d.removeEventListener("pointerleave",f))};d.addEventListener("pointerleave",f,o)};return i.forEach(a=>{a.addEventListener("pointerenter",c,o)}),l}const C4=(e,t)=>t?e===t?!0:C4(e,t.parentElement):!1,Q0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,G8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function J8(e){return G8.has(e.tagName)||e.tabIndex!==-1}const wp=new WeakSet;function cR(e){return t=>{t.key==="Enter"&&e(t)}}function Um(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Y8=(e,t)=>{const r=e.currentTarget;if(!r)return;const i=cR(()=>{if(wp.has(r))return;Um(r,"down");const o=cR(()=>{Um(r,"up")}),l=()=>Um(r,"cancel");r.addEventListener("keyup",o,t),r.addEventListener("blur",l,t)});r.addEventListener("keydown",i,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),t)};function lR(e){return Q0(e)&&!S4()}function Q8(e,t,r={}){const[i,o,l]=b4(e,r),c=a=>{const d=a.currentTarget;if(!lR(a))return;wp.add(d);const h=t(d,a),f=(S,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",m),wp.has(d)&&wp.delete(d),lR(S)&&typeof h=="function"&&h(S,{success:C})},v=S=>{f(S,d===window||d===document||r.useGlobalTarget||C4(d,S.target))},m=S=>{f(S,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",m,o)};return i.forEach(a=>{(r.useGlobalTarget?window:a).addEventListener("pointerdown",c,o),y4(a)&&(a.addEventListener("focus",h=>Y8(h,o)),!J8(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),l}function x4(e){return j_(e)&&"ownerSVGElement"in e}function X8(e){return x4(e)&&e.tagName==="svg"}const hr=e=>!!(e&&e.getVelocity),Z8=[...f4,qt,Ki],ez=e=>Z8.find(p4(e)),X0=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function uR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tz(...e){return t=>{let r=!1;const i=e.map(o=>{const l=uR(o,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():uR(e[o],null)}}}}function rz(...e){return A.useCallback(tz(...e),e)}class nz extends A.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const i=r.offsetParent,o=y4(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function iz({children:e,isPresent:t,anchorX:r,root:i}){const o=A.useId(),l=A.useRef(null),c=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=A.useContext(X0),d=rz(l,e==null?void 0:e.ref);return A.useInsertionEffect(()=>{const{width:h,height:f,top:v,left:m,right:S}=c.current;if(t||!l.current||!h||!f)return;const C=r==="left"?`left: ${m}`:`right: ${S}`;l.current.dataset.motionPopId=o;const x=document.createElement("style");a&&(x.nonce=a);const R=i??document.head;return R.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{R.contains(x)&&R.removeChild(x)}},[t]),g.jsx(nz,{isPresent:t,childRef:l,sizeRef:c,children:A.cloneElement(e,{ref:d})})}const sz=({children:e,initial:t,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:c,anchorX:a,root:d})=>{const h=_0(oz),f=A.useId();let v=!0,m=A.useMemo(()=>(v=!1,{id:f,initial:t,isPresent:r,custom:o,onExitComplete:S=>{h.set(S,!0);for(const C of h.values())if(!C)return;i&&i()},register:S=>(h.set(S,!1),()=>h.delete(S))}),[r,h,i]);return l&&v&&(m={...m}),A.useMemo(()=>{h.forEach((S,C)=>h.set(C,!1))},[r]),A.useEffect(()=>{!r&&!h.size&&i&&i()},[r]),c==="popLayout"&&(e=g.jsx(iz,{isPresent:r,anchorX:a,root:d,children:e})),g.jsx(cf.Provider,{value:m,children:e})};function oz(){return new Map}function R4(e=!0){const t=A.useContext(cf);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:o}=t,l=A.useId();A.useEffect(()=>{if(e)return o(l)},[e]);const c=A.useCallback(()=>e&&i&&i(l),[l,i,e]);return!r&&i?[!1,c]:[!0]}const lp=e=>e.key||"";function dR(e){const t=[];return A.Children.forEach(e,r=>{A.isValidElement(r)&&t.push(r)}),t}const lf=({children:e,custom:t,initial:r=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:a="left",root:d})=>{const[h,f]=R4(c),v=A.useMemo(()=>dR(e),[e]),m=c&&!h?[]:v.map(lp),S=A.useRef(!0),C=A.useRef(v),x=_0(()=>new Map),[R,w]=A.useState(v),[T,P]=A.useState(v);N_(()=>{S.current=!1,C.current=v;for(let B=0;B<T.length;B++){const F=lp(T[B]);m.includes(F)?x.delete(F):x.get(F)!==!0&&x.set(F,!1)}},[T,m.length,m.join("-")]);const j=[];if(v!==R){let B=[...v];for(let F=0;F<T.length;F++){const q=T[F],H=lp(q);m.includes(H)||(B.splice(F,0,q),j.push(q))}return l==="wait"&&j.length&&(B=j),P(dR(B)),w(v),null}const{forceRender:k}=A.useContext(A0);return g.jsx(g.Fragment,{children:T.map(B=>{const F=lp(B),q=c&&!h?!1:v===T||m.includes(F),H=()=>{if(x.has(F))x.set(F,!0);else return;let $=!0;x.forEach(pe=>{pe||($=!1)}),$&&(k==null||k(),P(C.current),c&&(f==null||f()),i&&i())};return g.jsx(sz,{isPresent:q,initial:!S.current||r?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:d,onExitComplete:q?void 0:H,anchorX:a,children:B},F)})})},w4=A.createContext({strict:!1}),hR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const e in hR)Xo[e]={isEnabled:t=>hR[e].some(r=>!!t[r])};function az(e){for(const t in e)Xo[t]={...Xo[t],...e[t]}}const cz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $p(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||cz.has(e)}let E4=e=>!$p(e);function lz(e){typeof e=="function"&&(E4=t=>t.startsWith("on")?!$p(t):e(t))}try{lz(require("@emotion/is-prop-valid").default)}catch{}function uz(e,t,r){const i={};for(const o in e)o==="values"&&typeof e.values=="object"||(E4(o)||r===!0&&$p(o)||!t&&!$p(o)||e.draggable&&o.startsWith("onDrag"))&&(i[o]=e[o]);return i}const uf=A.createContext({});function df(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Id(e){return typeof e=="string"||Array.isArray(e)}const Z0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],eS=["initial",...Z0];function hf(e){return df(e.animate)||eS.some(t=>Id(e[t]))}function T4(e){return!!(hf(e)||e.variants)}function dz(e,t){if(hf(e)){const{initial:r,animate:i}=e;return{initial:r===!1||Id(r)?r:void 0,animate:Id(i)?i:void 0}}return e.inherit!==!1?t:{}}function hz(e){const{initial:t,animate:r}=dz(e,A.useContext(uf));return A.useMemo(()=>({initial:t,animate:r}),[pR(t),pR(r)])}function pR(e){return Array.isArray(e)?e.join(" "):e}const jd={};function pz(e){for(const t in e)jd[t]=e[t],L0(t)&&(jd[t].isCSSVariable=!0)}function P4(e,{layout:t,layoutId:r}){return oa.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!jd[e]||e==="opacity")}const fz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vz=sa.length;function mz(e,t,r){let i="",o=!0;for(let l=0;l<vz;l++){const c=sa[l],a=e[c];if(a===void 0)continue;let d=!0;if(typeof a=="number"?d=a===(c.startsWith("scale")?1:0):d=parseFloat(a)===0,!d||r){const h=g4(a,J0[c]);if(!d){o=!1;const f=fz[c]||c;i+=`${f}(${h}) `}r&&(t[c]=h)}}return i=i.trim(),r?i=r(t,o?"":i):o&&(i="none"),i}function tS(e,t,r){const{style:i,vars:o,transformOrigin:l}=e;let c=!1,a=!1;for(const d in t){const h=t[d];if(oa.has(d)){c=!0;continue}else if(L0(d)){o[d]=h;continue}else{const f=g4(h,J0[d]);d.startsWith("origin")?(a=!0,l[d]=f):i[d]=f}}if(t.transform||(c||r?i.transform=mz(t,e.transform,r):i.transform&&(i.transform="none")),a){const{originX:d="50%",originY:h="50%",originZ:f=0}=l;i.transformOrigin=`${d} ${h} ${f}`}}const rS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function A4(e,t,r){for(const i in t)!hr(t[i])&&!P4(i,r)&&(e[i]=t[i])}function gz({transformTemplate:e},t){return A.useMemo(()=>{const r=rS();return tS(r,t,e),Object.assign({},r.vars,r.style)},[t])}function yz(e,t){const r=e.style||{},i={};return A4(i,r,e),Object.assign(i,gz(e,t)),i}function Sz(e,t){const r={},i=yz(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const bz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Cz={offset:"strokeDashoffset",array:"strokeDasharray"};function xz(e,t,r=1,i=0,o=!0){e.pathLength=1;const l=o?bz:Cz;e[l.offset]=Le.transform(-i);const c=Le.transform(t),a=Le.transform(r);e[l.array]=`${c} ${a}`}function _4(e,{attrX:t,attrY:r,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...a},d,h,f){if(tS(e,a,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:m}=e;v.transform&&(m.transform=v.transform,delete v.transform),(m.transform||v.transformOrigin)&&(m.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),m.transform&&(m.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),r!==void 0&&(v.y=r),i!==void 0&&(v.scale=i),o!==void 0&&xz(v,o,l,c,!1)}const k4=()=>({...rS(),attrs:{}}),M4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Rz(e,t,r,i){const o=A.useMemo(()=>{const l=k4();return _4(l,t,M4(i),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};A4(l,e.style,e),o.style={...l,...o.style}}return o}const wz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nS(e){return typeof e!="string"||e.includes("-")?!1:!!(wz.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ez(e,t,r,{latestValues:i},o,l=!1){const a=(nS(e)?Rz:Sz)(t,i,o,e),d=uz(t,typeof e=="string",l),h=e!==A.Fragment?{...d,...a,ref:r}:{},{children:f}=t,v=A.useMemo(()=>hr(f)?f.get():f,[f]);return A.createElement(e,{...h,children:v})}function fR(e){const t=[{},{}];return e==null||e.values.forEach((r,i)=>{t[0][i]=r.get(),t[1][i]=r.getVelocity()}),t}function iS(e,t,r,i){if(typeof t=="function"){const[o,l]=fR(i);t=t(r!==void 0?r:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=fR(i);t=t(r!==void 0?r:e.custom,o,l)}return t}function Ep(e){return hr(e)?e.get():e}function Tz({scrapeMotionValuesFromProps:e,createRenderState:t},r,i,o){return{latestValues:Pz(r,i,o,e),renderState:t()}}function Pz(e,t,r,i){const o={},l=i(e,{});for(const m in l)o[m]=Ep(l[m]);let{initial:c,animate:a}=e;const d=hf(e),h=T4(e);t&&h&&!d&&e.inherit!==!1&&(c===void 0&&(c=t.initial),a===void 0&&(a=t.animate));let f=r?r.initial===!1:!1;f=f||c===!1;const v=f?a:c;if(v&&typeof v!="boolean"&&!df(v)){const m=Array.isArray(v)?v:[v];for(let S=0;S<m.length;S++){const C=iS(e,m[S]);if(C){const{transitionEnd:x,transition:R,...w}=C;for(const T in w){let P=w[T];if(Array.isArray(P)){const j=f?P.length-1:0;P=P[j]}P!==null&&(o[T]=P)}for(const T in x)o[T]=x[T]}}}return o}const N4=e=>(t,r)=>{const i=A.useContext(uf),o=A.useContext(cf),l=()=>Tz(e,t,i,o);return r?l():_0(l)};function sS(e,t,r){var l;const{style:i}=e,o={};for(const c in i)(hr(i[c])||t.style&&hr(t.style[c])||P4(c,e)||((l=r==null?void 0:r.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=i[c]);return o}const Az=N4({scrapeMotionValuesFromProps:sS,createRenderState:rS});function I4(e,t,r){const i=sS(e,t,r);for(const o in e)if(hr(e[o])||hr(t[o])){const l=sa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=e[o]}return i}const _z=N4({scrapeMotionValuesFromProps:I4,createRenderState:k4}),kz=Symbol.for("motionComponentSymbol");function $o(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Mz(e,t,r){return A.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),r&&(typeof r=="function"?r(i):$o(r)&&(r.current=i))},[t])}const oS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Nz="framerAppearId",j4="data-"+oS(Nz),O4=A.createContext({});function Iz(e,t,r,i,o){var x,R;const{visualElement:l}=A.useContext(uf),c=A.useContext(w4),a=A.useContext(cf),d=A.useContext(X0).reducedMotion,h=A.useRef(null);i=i||c.renderer,!h.current&&i&&(h.current=i(e,{visualState:t,parent:l,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,v=A.useContext(O4);f&&!f.projection&&o&&(f.type==="html"||f.type==="svg")&&jz(h.current,r,o,v);const m=A.useRef(!1);A.useInsertionEffect(()=>{f&&m.current&&f.update(r,a)});const S=r[j4],C=A.useRef(!!S&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,S))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,S)));return N_(()=>{f&&(m.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),C.current&&f.animationState&&f.animationState.animateChanges())}),A.useEffect(()=>{f&&(!C.current&&f.animationState&&f.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,S)}),C.current=!1),f.enteringChildren=void 0)}),f}function jz(e,t,r,i){const{layoutId:o,layout:l,drag:c,dragConstraints:a,layoutScroll:d,layoutRoot:h,layoutCrossfade:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:D4(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||a&&$o(a),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:f,layoutScroll:d,layoutRoot:h})}function D4(e){if(e)return e.options.allowProjection!==!1?e.projection:D4(e.parent)}function Vm(e,{forwardMotionProps:t=!1}={},r,i){r&&az(r);const o=nS(e)?_z:Az;function l(a,d){let h;const f={...A.useContext(X0),...a,layoutId:Oz(a)},{isStatic:v}=f,m=hz(a),S=o(a,v);if(!v&&k0){Dz();const C=zz(f);h=C.MeasureLayout,m.visualElement=Iz(e,S,f,i,C.ProjectionNode)}return g.jsxs(uf.Provider,{value:m,children:[h&&m.visualElement?g.jsx(h,{visualElement:m.visualElement,...f}):null,Ez(e,a,Mz(S,m.visualElement,d),S,v,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=A.forwardRef(l);return c[kz]=e,c}function Oz({layoutId:e}){const t=A.useContext(A0).id;return t&&e!==void 0?t+"-"+e:e}function Dz(e,t){A.useContext(w4).strict}function zz(e){const{drag:t,layout:r}=Xo;if(!t&&!r)return{};const i={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Lz(e,t){if(typeof Proxy>"u")return Vm;const r=new Map,i=(l,c)=>Vm(l,c,e,t),o=(l,c)=>i(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?i:(r.has(c)||r.set(c,Vm(c,void 0,e,t)),r.get(c))})}function z4({top:e,left:t,right:r,bottom:i}){return{x:{min:t,max:r},y:{min:e,max:i}}}function Bz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function qz(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function Fm(e){return e===void 0||e===1}function Dy({scale:e,scaleX:t,scaleY:r}){return!Fm(e)||!Fm(t)||!Fm(r)}function Us(e){return Dy(e)||L4(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function L4(e){return vR(e.x)||vR(e.y)}function vR(e){return e&&e!=="0%"}function Kp(e,t,r){const i=e-r,o=t*i;return r+o}function mR(e,t,r,i,o){return o!==void 0&&(e=Kp(e,o,i)),Kp(e,r,i)+t}function zy(e,t=0,r=1,i,o){e.min=mR(e.min,t,r,i,o),e.max=mR(e.max,t,r,i,o)}function B4(e,{x:t,y:r}){zy(e.x,t.translate,t.scale,t.originPoint),zy(e.y,r.translate,r.scale,r.originPoint)}const gR=.999999999999,yR=1.0000000000001;function Uz(e,t,r,i=!1){const o=r.length;if(!o)return;t.x=t.y=1;let l,c;for(let a=0;a<o;a++){l=r[a],c=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Wo(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,B4(e,c)),i&&Us(l.latestValues)&&Wo(e,l.latestValues))}t.x<yR&&t.x>gR&&(t.x=1),t.y<yR&&t.y>gR&&(t.y=1)}function Ko(e,t){e.min=e.min+t,e.max=e.max+t}function SR(e,t,r,i,o=.5){const l=wt(e.min,e.max,o);zy(e,t,r,l,i)}function Wo(e,t){SR(e.x,t.x,t.scaleX,t.scale,t.originX),SR(e.y,t.y,t.scaleY,t.scale,t.originY)}function q4(e,t){return z4(qz(e.getBoundingClientRect(),t))}function Vz(e,t,r){const i=q4(e,r),{scroll:o}=t;return o&&(Ko(i.x,o.offset.x),Ko(i.y,o.offset.y)),i}const bR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Go=()=>({x:bR(),y:bR()}),CR=()=>({min:0,max:0}),Nt=()=>({x:CR(),y:CR()}),Ly={current:null},U4={current:!1};function Fz(){if(U4.current=!0,!!k0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ly.current=e.matches;e.addEventListener("change",t),t()}else Ly.current=!1}const Hz=new WeakMap;function $z(e,t,r){for(const i in t){const o=t[i],l=r[i];if(hr(o))e.addValue(i,o);else if(hr(l))e.addValue(i,Qo(o,{owner:e}));else if(l!==o)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(i);e.addValue(i,Qo(c!==void 0?c:o,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const xR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Kz{scrapeMotionValuesFromProps(t,r,i){return{}}constructor({parent:t,props:r,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=W0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Pr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,yt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=c;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=r,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!l,this.isControllingVariants=hf(r),this.isVariantNode=T4(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in v){const S=v[m];d[m]!==void 0&&hr(S)&&S.set(d[m])}}mount(t){var r;this.current=t,Hz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),U4.current||Fz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ly.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),$i(this.notifyUpdate),$i(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const i=this.features[r];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=oa.has(t);i&&this.onBindTransform&&this.onBindTransform();const o=r.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&yt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Xo){const r=Xo[t];if(!r)continue;const{isEnabled:i,Feature:o}=r;if(!this.features[t]&&o&&i(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<xR.length;i++){const o=xR[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=t[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=$z(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const i=this.values.get(t);r!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&r!==void 0&&(i=Qo(r===null?void 0:r,{owner:this}),this.addValue(t,i)),i}readValue(t,r){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(I_(i)||O_(i))?i=parseFloat(i):!ez(i)&&Ki.test(r)&&(i=m4(t,r)),this.setBaseTarget(t,hr(i)?i.get():i)),hr(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var l;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const c=iS(this.props,r,(l=this.presenceContext)==null?void 0:l.custom);c&&(i=c[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!hr(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new O0),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Y0.render(this.render)}}class V4 extends Kz{constructor(){super(...arguments),this.KeyframeResolver=V8}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:i}){delete r[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function F4(e,{style:t,vars:r},i,o){const l=e.style;let c;for(c in t)l[c]=t[c];o==null||o.applyProjectionStyles(l,i);for(c in r)l.setProperty(c,r[c])}function Wz(e){return window.getComputedStyle(e)}class Gz extends V4{constructor(){super(...arguments),this.type="html",this.renderInstance=F4}readValueFromInstance(t,r){var i;if(oa.has(r))return(i=this.projection)!=null&&i.isProjecting?_y(r):a8(t,r);{const o=Wz(t),l=(L0(r)?o.getPropertyValue(r):o[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:r}){return q4(t,r)}build(t,r,i){tS(t,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,r,i){return sS(t,r,i)}}const H4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Jz(e,t,r,i){F4(e,t,void 0,i);for(const o in t.attrs)e.setAttribute(H4.has(o)?o:oS(o),t.attrs[o])}class Yz extends V4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(oa.has(r)){const i=v4(r);return i&&i.default||0}return r=H4.has(r)?r:oS(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,i){return I4(t,r,i)}build(t,r,i){_4(t,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,r,i,o){Jz(t,r,i,o)}mount(t){this.isSVGTag=M4(t.tagName),super.mount(t)}}const Qz=(e,t)=>nS(e)?new Yz(t):new Gz(t,{allowProjection:e!==A.Fragment});function Jo(e,t,r){const i=e.getProps();return iS(i,t,r!==void 0?r:i.custom,e)}const By=e=>Array.isArray(e);function Xz(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Qo(r))}function Zz(e){return By(e)?e[e.length-1]||0:e}function eL(e,t){const r=Jo(e,t);let{transitionEnd:i={},transition:o={},...l}=r||{};l={...l,...i};for(const c in l){const a=Zz(l[c]);Xz(e,c,a)}}function tL(e){return!!(hr(e)&&e.add)}function qy(e,t){const r=e.getValue("willChange");if(tL(r))return r.add(t);if(!r&&fi.WillChange){const i=new fi.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function $4(e){return e.props[j4]}const rL=e=>e!==null;function nL(e,{repeat:t,repeatType:r="loop"},i){const o=e.filter(rL),l=t&&r!=="loop"&&t%2===1?0:o.length-1;return o[l]}const iL={type:"spring",stiffness:500,damping:25,restSpeed:10},sL=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),oL={type:"keyframes",duration:.8},aL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cL=(e,{keyframes:t})=>t.length>2?oL:oa.has(e)?e.startsWith("scale")?sL(t[1]):iL:aL;function lL({when:e,delay:t,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:a,from:d,elapsed:h,...f}){return!!Object.keys(f).length}const aS=(e,t,r,i={},o,l)=>c=>{const a=G0(i,e)||{},d=a.delay||i.delay||0;let{elapsed:h=0}=i;h=h-zn(d);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-h,onUpdate:m=>{t.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{c(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:l?void 0:o};lL(a)||Object.assign(f,cL(e,f)),f.duration&&(f.duration=zn(f.duration)),f.repeatDelay&&(f.repeatDelay=zn(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let v=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(jy(f),f.delay===0&&(v=!0)),(fi.instantAnimations||fi.skipAnimations)&&(v=!0,jy(f),f.delay=0),f.allowFlatten=!a.type&&!a.ease,v&&!l&&t.get()!==void 0){const m=nL(f.keyframes,a);if(m!==void 0){yt.update(()=>{f.onUpdate(m),f.onComplete()});return}}return a.isSync?new K0(f):new k8(f)};function uL({protectedKeys:e,needsAnimating:t},r){const i=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,i}function K4(e,t,{delay:r=0,transitionOverride:i,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...a}=t;i&&(l=i);const d=[],h=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const v=e.getValue(f,e.latestValues[f]??null),m=a[f];if(m===void 0||h&&uL(h,f))continue;const S={delay:r,...G0(l||{},f)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(m)&&m===C&&!S.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const w=$4(e);if(w){const T=window.MotionHandoffAnimation(w,f,yt);T!==null&&(S.startTime=T,x=!0)}}qy(e,f),v.start(aS(f,v,m,e.shouldReduceMotion&&h4.has(f)?{type:!1}:S,e,x));const R=v.animation;R&&d.push(R)}return c&&Promise.all(d).then(()=>{yt.update(()=>{c&&eL(e,c)})}),d}function W4(e,t,r,i=0,o=1){const l=Array.from(e).sort((h,f)=>h.sortNodePosition(f)).indexOf(t),c=e.size,a=(c-1)*i;return typeof r=="function"?r(l,c):o===1?l*i:a-l*i}function Uy(e,t,r={}){var d;const i=Jo(e,t,r.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);const l=i?()=>Promise.all(K4(e,i,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:v,staggerDirection:m}=o;return dL(e,t,h,f,v,m,r)}:()=>Promise.resolve(),{when:a}=o;if(a){const[h,f]=a==="beforeChildren"?[l,c]:[c,l];return h().then(()=>f())}else return Promise.all([l(),c(r.delay)])}function dL(e,t,r=0,i=0,o=0,l=1,c){const a=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),a.push(Uy(d,t,{...c,delay:r+(typeof i=="function"?0:i)+W4(e.variantChildren,d,i,o,l)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(a)}function hL(e,t,r={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const o=t.map(l=>Uy(e,l,r));i=Promise.all(o)}else if(typeof t=="string")i=Uy(e,t,r);else{const o=typeof t=="function"?Jo(e,t,r.custom):t;i=Promise.all(K4(e,o,r))}return i.then(()=>{e.notify("AnimationComplete",t)})}function G4(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}const pL=eS.length;function J4(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?J4(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<pL;r++){const i=eS[r],o=e.props[i];(Id(o)||o===!1)&&(t[i]=o)}return t}const fL=[...Z0].reverse(),vL=Z0.length;function mL(e){return t=>Promise.all(t.map(({animation:r,options:i})=>hL(e,r,i)))}function gL(e){let t=mL(e),r=RR(),i=!0;const o=d=>(h,f)=>{var m;const v=Jo(e,f,d==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(v){const{transition:S,transitionEnd:C,...x}=v;h={...h,...x,...C}}return h};function l(d){t=d(e)}function c(d){const{props:h}=e,f=J4(e.parent)||{},v=[],m=new Set;let S={},C=1/0;for(let R=0;R<vL;R++){const w=fL[R],T=r[w],P=h[w]!==void 0?h[w]:f[w],j=Id(P),k=w===d?T.isActive:null;k===!1&&(C=R);let B=P===f[w]&&P!==h[w]&&j;if(B&&i&&e.manuallyAnimateOnMount&&(B=!1),T.protectedKeys={...S},!T.isActive&&k===null||!P&&!T.prevProp||df(P)||typeof P=="boolean")continue;const F=yL(T.prevProp,P);let q=F||w===d&&T.isActive&&!B&&j||R>C&&j,H=!1;const $=Array.isArray(P)?P:[P];let pe=$.reduce(o(w),{});k===!1&&(pe={});const{prevResolvedValues:de={}}=T,fe={...de,...pe},Ee=se=>{q=!0,m.has(se)&&(H=!0,m.delete(se)),T.needsAnimating[se]=!0;const ce=e.getValue(se);ce&&(ce.liveStyle=!1)};for(const se in fe){const ce=pe[se],ke=de[se];if(S.hasOwnProperty(se))continue;let N=!1;By(ce)&&By(ke)?N=!G4(ce,ke):N=ce!==ke,N?ce!=null?Ee(se):m.add(se):ce!==void 0&&m.has(se)?Ee(se):T.protectedKeys[se]=!0}T.prevProp=P,T.prevResolvedValues=pe,T.isActive&&(S={...S,...pe}),i&&e.blockInitialAnimation&&(q=!1);const Oe=B&&F;q&&(!Oe||H)&&v.push(...$.map(se=>{const ce={type:w};if(typeof se=="string"&&i&&!Oe&&e.manuallyAnimateOnMount&&e.parent){const{parent:ke}=e,N=Jo(ke,se);if(ke.enteringChildren&&N){const{delayChildren:X}=N.transition||{};ce.delay=W4(ke.enteringChildren,e,X)}}return{animation:se,options:ce}}))}if(m.size){const R={};if(typeof h.initial!="boolean"){const w=Jo(e,Array.isArray(h.initial)?h.initial[0]:h.initial);w&&w.transition&&(R.transition=w.transition)}m.forEach(w=>{const T=e.getBaseTarget(w),P=e.getValue(w);P&&(P.liveStyle=!0),R[w]=T??null}),v.push({animation:R})}let x=!!v.length;return i&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(x=!1),i=!1,x?t(v):Promise.resolve()}function a(d,h){var v;if(r[d].isActive===h)return Promise.resolve();(v=e.variantChildren)==null||v.forEach(m=>{var S;return(S=m.animationState)==null?void 0:S.setActive(d,h)}),r[d].isActive=h;const f=c(d);for(const m in r)r[m].protectedKeys={};return f}return{animateChanges:c,setActive:a,setAnimateFunction:l,getState:()=>r,reset:()=>{r=RR()}}}function yL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!G4(t,e):!1}function gs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RR(){return{animate:gs(!0),whileInView:gs(),whileHover:gs(),whileTap:gs(),whileDrag:gs(),whileFocus:gs(),exit:gs()}}class Wi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class SL extends Wi{constructor(t){super(t),t.animationState||(t.animationState=gL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();df(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let bL=0;class CL extends Wi{constructor(){super(...arguments),this.id=bL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t);r&&!t&&o.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const xL={animation:{Feature:SL},exit:{Feature:CL}};function Od(e,t,r,i={passive:!0}){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r)}function Jd(e){return{point:{x:e.pageX,y:e.pageY}}}const RL=e=>t=>Q0(t)&&e(t,Jd(t));function wd(e,t,r,i){return Od(e,t,RL(r),i)}const Y4=1e-4,wL=1-Y4,EL=1+Y4,Q4=.01,TL=0-Q4,PL=0+Q4;function Cr(e){return e.max-e.min}function AL(e,t,r){return Math.abs(e-t)<=r}function wR(e,t,r,i=.5){e.origin=i,e.originPoint=wt(t.min,t.max,e.origin),e.scale=Cr(r)/Cr(t),e.translate=wt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=wL&&e.scale<=EL||isNaN(e.scale))&&(e.scale=1),(e.translate>=TL&&e.translate<=PL||isNaN(e.translate))&&(e.translate=0)}function Ed(e,t,r,i){wR(e.x,t.x,r.x,i?i.originX:void 0),wR(e.y,t.y,r.y,i?i.originY:void 0)}function ER(e,t,r){e.min=r.min+t.min,e.max=e.min+Cr(t)}function _L(e,t,r){ER(e.x,t.x,r.x),ER(e.y,t.y,r.y)}function TR(e,t,r){e.min=t.min-r.min,e.max=e.min+Cr(t)}function Td(e,t,r){TR(e.x,t.x,r.x),TR(e.y,t.y,r.y)}function tn(e){return[e("x"),e("y")]}const X4=({current:e})=>e?e.ownerDocument.defaultView:null,PR=(e,t)=>Math.abs(e-t);function kL(e,t){const r=PR(e.x,t.x),i=PR(e.y,t.y);return Math.sqrt(r**2+i**2)}class Z4{constructor(t,r,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=$m(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,C=kL(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!C)return;const{point:x}=m,{timestamp:R}=sr;this.history.push({...x,timestamp:R});const{onStart:w,onMove:T}=this.handlers;S||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,m)},this.handlePointerMove=(m,S)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Hm(S,this.transformPagePoint),yt.update(this.updatePoint,!0)},this.handlePointerUp=(m,S)=>{this.end();const{onEnd:C,onSessionEnd:x,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=$m(m.type==="pointercancel"?this.lastMoveEventInfo:Hm(S,this.transformPagePoint),this.history);this.startEvent&&C&&C(m,w),x&&x(m,w)},!Q0(t))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=o||window;const a=Jd(t),d=Hm(a,this.transformPagePoint),{point:h}=d,{timestamp:f}=sr;this.history=[{...h,timestamp:f}];const{onSessionStart:v}=r;v&&v(t,$m(d,this.history)),this.removeListeners=Kd(wd(this.contextWindow,"pointermove",this.handlePointerMove),wd(this.contextWindow,"pointerup",this.handlePointerUp),wd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),$i(this.updatePoint)}}function Hm(e,t){return t?{point:t(e.point)}:e}function AR(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $m({point:e},t){return{point:e,delta:AR(e,e6(t)),offset:AR(e,ML(t)),velocity:NL(t,.1)}}function ML(e){return e[0]}function e6(e){return e[e.length-1]}function NL(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,i=null;const o=e6(e);for(;r>=0&&(i=e[r],!(o.timestamp-i.timestamp>zn(t)));)r--;if(!i)return{x:0,y:0};const l=sn(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function IL(e,{min:t,max:r},i){return t!==void 0&&e<t?e=i?wt(t,e,i.min):Math.max(e,t):r!==void 0&&e>r&&(e=i?wt(r,e,i.max):Math.min(e,r)),e}function _R(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function jL(e,{top:t,left:r,bottom:i,right:o}){return{x:_R(e.x,r,o),y:_R(e.y,t,i)}}function kR(e,t){let r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,i]=[i,r]),{min:r,max:i}}function OL(e,t){return{x:kR(e.x,t.x),y:kR(e.y,t.y)}}function DL(e,t){let r=.5;const i=Cr(e),o=Cr(t);return o>i?r=kd(t.min,t.max-i,e.min):i>o&&(r=kd(e.min,e.max-o,t.min)),pi(0,1,r)}function zL(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Vy=.35;function LL(e=Vy){return e===!1?e=0:e===!0&&(e=Vy),{x:MR(e,"left","right"),y:MR(e,"top","bottom")}}function MR(e,t,r){return{min:NR(e,t),max:NR(e,r)}}function NR(e,t){return typeof e=="number"?e:e[t]||0}const BL=new WeakMap;class qL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Jd(v).point)},c=(v,m)=>{const{drag:S,dragPropagation:C,onDragStart:x}=this.getProps();if(S&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=K8(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(w=>{let T=this.getAxisMotionValue(w).get()||0;if(Ln.test(T)){const{projection:P}=this.visualElement;if(P&&P.layout){const j=P.layout.layoutBox[w];j&&(T=Cr(j)*(parseFloat(T)/100))}}this.originPoint[w]=T}),x&&yt.postRender(()=>x(v,m)),qy(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},a=(v,m)=>{this.latestPointerEvent=v,this.latestPanInfo=m;const{dragPropagation:S,dragDirectionLock:C,onDirectionLock:x,onDrag:R}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:w}=m;if(C&&this.currentDirection===null){this.currentDirection=UL(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),R&&R(v,m)},d=(v,m)=>{this.latestPointerEvent=v,this.latestPanInfo=m,this.stop(v,m),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>tn(v=>{var m;return this.getAnimationState(v)==="paused"&&((m=this.getAxisMotionValue(v).animation)==null?void 0:m.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Z4(t,{onSessionStart:l,onStart:c,onMove:a,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:i,contextWindow:X4(this.visualElement)})}stop(t,r){const i=t||this.latestPointerEvent,o=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:a}=this.getProps();a&&yt.postRender(()=>a(i,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,i){const{drag:o}=this.getProps();if(!i||!up(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=IL(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&$o(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=jL(i.layoutBox,t):this.constraints=!1,this.elastic=LL(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=zL(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!$o(t))return!1;const i=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=Vz(i,o.root,this.visualElement.getTransformPagePoint());let c=OL(o.layout.layoutBox,l);if(r){const a=r(Bz(c));this.hasMutatedConstraints=!!a,a&&(c=z4(a))}return c}startAnimation(t){const{drag:r,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:a}=this.getProps(),d=this.constraints||{},h=tn(f=>{if(!up(f,r,this.currentDirection))return;let v=d&&d[f]||{};c&&(v={min:0,max:0});const m=o?200:1e6,S=o?40:1e7,C={type:"inertia",velocity:i?t[f]:0,bounceStiffness:m,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(f,C)});return Promise.all(h).then(a)}startAxisValueAnimation(t,r){const i=this.getAxisMotionValue(t);return qy(this.visualElement,t),i.start(aS(t,i,0,r,this.visualElement,!1))}stopAnimation(){tn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){tn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),o=i[r];return o||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){tn(r=>{const{drag:i}=this.getProps();if(!up(r,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:a}=o.layout.layoutBox[r];l.set(t[r]-wt(c,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!$o(r)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};tn(c=>{const a=this.getAxisMotionValue(c);if(a&&this.constraints!==!1){const d=a.get();o[c]=DL({min:d,max:d},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),tn(c=>{if(!up(c,t,null))return;const a=this.getAxisMotionValue(c),{min:d,max:h}=this.constraints[c];a.set(wt(d,h,o[c]))})}addListeners(){if(!this.visualElement.current)return;BL.set(this.visualElement,this);const t=this.visualElement.current,r=wd(t,"pointerdown",d=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();$o(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),yt.read(i);const c=Od(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(tn(f=>{const v=this.getAxisMotionValue(f);v&&(this.originPoint[f]+=d[f].translate,v.set(v.get()+d[f].translate))}),this.visualElement.render())});return()=>{c(),r(),l(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=Vy,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:a}}}function up(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function UL(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class VL extends Wi{constructor(t){super(t),this.removeGroupControls=on,this.removeListeners=on,this.controls=new qL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||on}unmount(){this.removeGroupControls(),this.removeListeners()}}const IR=e=>(t,r)=>{e&&yt.postRender(()=>e(t,r))};class FL extends Wi{constructor(){super(...arguments),this.removePointerDownListener=on}onPointerDown(t){this.session=new Z4(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X4(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:IR(t),onStart:IR(r),onMove:i,onEnd:(l,c)=>{delete this.session,o&&yt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=wd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jR(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const dc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Le.test(e))e=parseFloat(e);else return e;const r=jR(e,t.target.x),i=jR(e,t.target.y);return`${r}% ${i}%`}},HL={correct:(e,{treeScale:t,projectionDelta:r})=>{const i=e,o=Ki.parse(e);if(o.length>5)return i;const l=Ki.createTransformer(e),c=typeof o[0]!="number"?1:0,a=r.x.scale*t.x,d=r.y.scale*t.y;o[0+c]/=a,o[1+c]/=d;const h=wt(a,d,.5);return typeof o[2+c]=="number"&&(o[2+c]/=h),typeof o[3+c]=="number"&&(o[3+c]/=h),l(o)}};let Km=!1;class $L extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=t;pz(KL),l&&(r.group&&r.group.add(l),i&&i.register&&o&&i.register(l),Km&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Tp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:i,drag:o,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,Km=!0,o||t.layoutDependency!==r||r===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||yt.postRender(()=>{const a=c.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Y0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:o}=t;Km=!0,o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function t6(e){const[t,r]=R4(),i=A.useContext(A0);return g.jsx($L,{...e,layoutGroup:i,switchLayoutGroup:A.useContext(O4),isPresent:t,safeToRemove:r})}const KL={borderRadius:{...dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dc,borderTopRightRadius:dc,borderBottomLeftRadius:dc,borderBottomRightRadius:dc,boxShadow:HL};function WL(e,t,r){const i=hr(e)?e:Qo(e);return i.start(aS("",i,t,r)),i.animation}const GL=(e,t)=>e.depth-t.depth;class JL{constructor(){this.children=[],this.isDirty=!1}add(t){M0(this.children,t),this.isDirty=!0}remove(t){N0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GL),this.isDirty=!1,this.children.forEach(t)}}function YL(e,t){const r=Pr.now(),i=({timestamp:o})=>{const l=o-r;l>=t&&($i(i),e(l-t))};return yt.setup(i,!0),()=>$i(i)}const r6=["TopLeft","TopRight","BottomLeft","BottomRight"],QL=r6.length,OR=e=>typeof e=="string"?parseFloat(e):e,DR=e=>typeof e=="number"||Le.test(e);function XL(e,t,r,i,o,l){o?(e.opacity=wt(0,r.opacity??1,ZL(i)),e.opacityExit=wt(t.opacity??1,0,e9(i))):l&&(e.opacity=wt(t.opacity??1,r.opacity??1,i));for(let c=0;c<QL;c++){const a=`border${r6[c]}Radius`;let d=zR(t,a),h=zR(r,a);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||DR(d)===DR(h)?(e[a]=Math.max(wt(OR(d),OR(h),i),0),(Ln.test(h)||Ln.test(d))&&(e[a]+="%")):e[a]=h}(t.rotate||r.rotate)&&(e.rotate=wt(t.rotate||0,r.rotate||0,i))}function zR(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ZL=n6(0,.5,F_),e9=n6(.5,.95,on);function n6(e,t,r){return i=>i<e?0:i>t?1:r(kd(e,t,i))}function LR(e,t){e.min=t.min,e.max=t.max}function Zr(e,t){LR(e.x,t.x),LR(e.y,t.y)}function BR(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qR(e,t,r,i,o){return e-=t,e=Kp(e,1/r,i),o!==void 0&&(e=Kp(e,1/o,i)),e}function t9(e,t=0,r=1,i=.5,o,l=e,c=e){if(Ln.test(t)&&(t=parseFloat(t),t=wt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let a=wt(l.min,l.max,i);e===l&&(a-=t),e.min=qR(e.min,t,r,a,o),e.max=qR(e.max,t,r,a,o)}function UR(e,t,[r,i,o],l,c){t9(e,t[r],t[i],t[o],t.scale,l,c)}const r9=["x","scaleX","originX"],n9=["y","scaleY","originY"];function VR(e,t,r,i){UR(e.x,t,r9,r?r.x:void 0,i?i.x:void 0),UR(e.y,t,n9,r?r.y:void 0,i?i.y:void 0)}function FR(e){return e.translate===0&&e.scale===1}function i6(e){return FR(e.x)&&FR(e.y)}function HR(e,t){return e.min===t.min&&e.max===t.max}function i9(e,t){return HR(e.x,t.x)&&HR(e.y,t.y)}function $R(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function s6(e,t){return $R(e.x,t.x)&&$R(e.y,t.y)}function KR(e){return Cr(e.x)/Cr(e.y)}function WR(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class s9{constructor(){this.members=[]}add(t){M0(this.members,t),t.scheduleRender()}remove(t){if(N0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(o=>t===o);if(r===0)return!1;let i;for(let o=r;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,r){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,r&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:i}=t;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function o9(e,t,r){let i="";const o=e.x.translate/t.x,l=e.y.translate/t.y,c=(r==null?void 0:r.z)||0;if((o||l||c)&&(i=`translate3d(${o}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:h,rotate:f,rotateX:v,rotateY:m,skewX:S,skewY:C}=r;h&&(i=`perspective(${h}px) ${i}`),f&&(i+=`rotate(${f}deg) `),v&&(i+=`rotateX(${v}deg) `),m&&(i+=`rotateY(${m}deg) `),S&&(i+=`skewX(${S}deg) `),C&&(i+=`skewY(${C}deg) `)}const a=e.x.scale*t.x,d=e.y.scale*t.y;return(a!==1||d!==1)&&(i+=`scale(${a}, ${d})`),i||"none"}const Wm=["","X","Y","Z"],a9=1e3;let c9=0;function Gm(e,t,r,i){const{latestValues:o}=t;o[e]&&(r[e]=o[e],t.setStaticValue(e,0),i&&(i[e]=0))}function o6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=$4(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",yt,!(o||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&o6(i)}function a6({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},a=t==null?void 0:t()){this.id=c9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(d9),this.nodes.forEach(v9),this.nodes.forEach(m9),this.nodes.forEach(h9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new JL)}addEventListener(c,a){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new O0),this.eventHandlers.get(c).add(a)}notifyListeners(c,...a){const d=this.eventHandlers.get(c);d&&d.notify(...a)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=x4(c)&&!X8(c),this.instance=c;const{layoutId:a,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||a)&&(this.isLayoutDirty=!0),e){let f,v=0;const m=()=>this.root.updateBlockedByResize=!1;yt.read(()=>{v=window.innerWidth}),e(c,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,f&&f(),f=YL(m,250),Tp.hasAnimatedSinceResize&&(Tp.hasAnimatedSinceResize=!1,this.nodes.forEach(YR)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&h&&(a||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:v,hasRelativeLayoutChanged:m,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||C9,{onLayoutAnimationStart:x,onLayoutAnimationComplete:R}=h.getProps(),w=!this.targetLayout||!s6(this.targetLayout,S),T=!v&&m;if(this.options.layoutRoot||this.resumeFrom||T||v&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...G0(C,"layout"),onPlay:x,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,T)}else v||YR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&o6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const v=this.path[f];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:a,layout:d}=this.options;if(a===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(JR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(f9),this.nodes.forEach(l9),this.nodes.forEach(u9)):this.nodes.forEach(JR),this.clearAllSnapshots();const a=Pr.now();sr.delta=pi(0,1e3/60,a-sr.timestamp),sr.timestamp=a,sr.isProcessing=!0,zm.update.process(sr),zm.preRender.process(sr),zm.render.process(sr),sr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Y0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(p9),this.sharedNodes.forEach(y9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cr(this.snapshot.measuredBox.x)&&!Cr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(a=!1),a&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!i6(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;c&&this.instance&&(a||Us(this.latestValues)||f)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const a=this.measurePageBox();let d=this.removeElementScroll(a);return c&&(d=this.removeTransform(d)),x9(d),{animationId:this.root.animationId,measuredBox:a,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return Nt();const a=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(R9))){const{scroll:f}=this.root;f&&(Ko(a.x,f.offset.x),Ko(a.y,f.offset.y))}return a}removeElementScroll(c){var d;const a=Nt();if(Zr(a,c),(d=this.scroll)!=null&&d.wasRoot)return a;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:v,options:m}=f;f!==this.root&&v&&m.layoutScroll&&(v.wasRoot&&Zr(a,c),Ko(a.x,v.offset.x),Ko(a.y,v.offset.y))}return a}applyTransform(c,a=!1){const d=Nt();Zr(d,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Wo(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Us(f.latestValues)&&Wo(d,f.latestValues)}return Us(this.latestValues)&&Wo(d,this.latestValues),d}removeTransform(c){const a=Nt();Zr(a,c);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Us(h.latestValues))continue;Dy(h.latestValues)&&h.updateSnapshot();const f=Nt(),v=h.measurePageBox();Zr(f,v),VR(a,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return Us(this.latestValues)&&VR(a,this.latestValues),a}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==a;if(!(c||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:v}=this.options;if(!(!this.layout||!(f||v))){if(this.resolvedRelativeTargetAt=sr.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Td(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_L(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zr(this.target,this.layout.layoutBox),B4(this.target,this.targetDelta)):Zr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Td(this.relativeTargetOrigin,this.target,S.target),Zr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Dy(this.parent.latestValues)||L4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var C;const c=this.getLead(),a=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(d=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===sr.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;Zr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,m=this.treeScale.y;Uz(this.layoutCorrected,this.treeScale,this.path,a),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Nt());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(BR(this.prevProjectionDelta.x,this.projectionDelta.x),BR(this.prevProjectionDelta.y,this.projectionDelta.y)),Ed(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==m||!WR(this.projectionDelta.x,this.prevProjectionDelta.x)||!WR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Go(),this.projectionDelta=Go(),this.projectionDeltaWithTransform=Go()}setAnimationOrigin(c,a=!1){const d=this.snapshot,h=d?d.latestValues:{},f={...this.latestValues},v=Go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Nt(),S=d?d.source:void 0,C=this.layout?this.layout.source:void 0,x=S!==C,R=this.getStack(),w=!R||R.members.length<=1,T=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(b9));this.animationProgress=0;let P;this.mixTargetDelta=j=>{const k=j/1e3;QR(v.x,c.x,k),QR(v.y,c.y,k),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Td(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),S9(this.relativeTarget,this.relativeTargetOrigin,m,k),P&&i9(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Nt()),Zr(P,this.relativeTarget)),x&&(this.animationValues=f,XL(f,h,this.latestValues,k,T,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var a,d,h;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&($i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=yt.update(()=>{Tp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qo(0)),this.currentAnimation=WL(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(a9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:a,target:d,layout:h,latestValues:f}=c;if(!(!a||!d||!h)){if(this!==c&&this.layout&&h&&c6(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Nt();const v=Cr(this.layout.layoutBox.x);d.x.min=c.target.x.min,d.x.max=d.x.min+v;const m=Cr(this.layout.layoutBox.y);d.y.min=c.target.y.min,d.y.max=d.y.min+m}Zr(a,d),Wo(a,f),Ed(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(c,a){this.sharedNodes.has(c)||this.sharedNodes.set(c,new s9),this.sharedNodes.get(c).add(a);const h=a.options.initialPromotionConfig;a.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(a):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var a;const{layoutId:c}=this.options;return c?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:c}=this.options;return c?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:a,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let a=!1;const{latestValues:d}=c;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(a=!0),!a)return;const h={};d.z&&Gm("z",c,h,this.animationValues);for(let f=0;f<Wm.length;f++)Gm(`rotate${Wm[f]}`,c,h,this.animationValues),Gm(`skew${Wm[f]}`,c,h,this.animationValues);c.render();for(const f in h)c.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);c.scheduleRender()}applyProjectionStyles(c,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ep(a==null?void 0:a.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ep(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Us(this.latestValues)&&(c.transform=d?d({},""):"none",this.hasProjected=!1);return}c.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=o9(this.projectionDeltaWithTransform,this.treeScale,f);d&&(v=d(f,v)),c.transform=v;const{x:m,y:S}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${S.origin*100}% 0`,h.animationValues?c.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const C in jd){if(f[C]===void 0)continue;const{correct:x,applyTo:R,isCSSVariable:w}=jd[C],T=v==="none"?f[C]:x(f[C],h);if(R){const P=R.length;for(let j=0;j<P;j++)c[R[j]]=T}else w?this.options.visualElement.renderState.vars[C]=T:c[C]=T}this.options.layoutId&&(c.pointerEvents=h===this?Ep(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var a;return(a=c.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(GR),this.root.sharedNodes.clear()}}}function l9(e){e.updateLayout()}function u9(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?tn(v=>{const m=c?t.measuredBox[v]:t.layoutBox[v],S=Cr(m);m.min=i[v].min,m.max=m.min+S}):c6(l,t.layoutBox,i)&&tn(v=>{const m=c?t.measuredBox[v]:t.layoutBox[v],S=Cr(i[v]);m.max=m.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+S)});const a=Go();Ed(a,i,t.layoutBox);const d=Go();c?Ed(d,e.applyTransform(o,!0),t.measuredBox):Ed(d,i,t.layoutBox);const h=!i6(a);let f=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:m,layout:S}=v;if(m&&S){const C=Nt();Td(C,t.layoutBox,m.layoutBox);const x=Nt();Td(x,i,S.layoutBox),s6(C,x)||(f=!0),v.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=C,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:a,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function d9(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function h9(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function p9(e){e.clearSnapshot()}function GR(e){e.clearMeasurements()}function JR(e){e.isLayoutDirty=!1}function f9(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function YR(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function v9(e){e.resolveTargetDelta()}function m9(e){e.calcProjection()}function g9(e){e.resetSkewAndRotation()}function y9(e){e.removeLeadSnapshot()}function QR(e,t,r){e.translate=wt(t.translate,0,r),e.scale=wt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function XR(e,t,r,i){e.min=wt(t.min,r.min,i),e.max=wt(t.max,r.max,i)}function S9(e,t,r,i){XR(e.x,t.x,r.x,i),XR(e.y,t.y,r.y,i)}function b9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const C9={duration:.45,ease:[.4,0,.1,1]},ZR=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),e2=ZR("applewebkit/")&&!ZR("chrome/")?Math.round:on;function t2(e){e.min=e2(e.min),e.max=e2(e.max)}function x9(e){t2(e.x),t2(e.y)}function c6(e,t,r){return e==="position"||e==="preserve-aspect"&&!AL(KR(t),KR(r),.2)}function R9(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const w9=a6({attachResizeListener:(e,t)=>Od(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jm={current:void 0},l6=a6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Jm.current){const e=new w9({});e.mount(window),e.setOptions({layoutScroll:!0}),Jm.current=e}return Jm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),E9={pan:{Feature:FL},drag:{Feature:VL,ProjectionNode:l6,MeasureLayout:t6}};function r2(e,t,r){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,l=i[o];l&&yt.postRender(()=>l(t,Jd(t)))}class T9 extends Wi{mount(){const{current:t}=this.node;t&&(this.unmount=W8(t,(r,i)=>(r2(this.node,i,"Start"),o=>r2(this.node,o,"End"))))}unmount(){}}class P9 extends Wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kd(Od(this.node.current,"focus",()=>this.onFocus()),Od(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function n2(e,t,r){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),l=i[o];l&&yt.postRender(()=>l(t,Jd(t)))}class A9 extends Wi{mount(){const{current:t}=this.node;t&&(this.unmount=Q8(t,(r,i)=>(n2(this.node,i,"Start"),(o,{success:l})=>n2(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fy=new WeakMap,Ym=new WeakMap,_9=e=>{const t=Fy.get(e.target);t&&t(e)},k9=e=>{e.forEach(_9)};function M9({root:e,...t}){const r=e||document;Ym.has(r)||Ym.set(r,{});const i=Ym.get(r),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(k9,{root:e,...t})),i[o]}function N9(e,t,r){const i=M9(t);return Fy.set(e,r),i.observe(e),()=>{Fy.delete(e),i.unobserve(e)}}const I9={some:0,all:1};class j9 extends Wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:i,amount:o="some",once:l}=t,c={root:r?r.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:I9[o]},a=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:v}=this.node.getProps(),m=h?f:v;m&&m(d)};return N9(this.node.current,c,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(O9(t,r))&&this.startObserver()}unmount(){}}function O9({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const D9={inView:{Feature:j9},tap:{Feature:A9},focus:{Feature:P9},hover:{Feature:T9}},z9={layout:{ProjectionNode:l6,MeasureLayout:t6}},L9={...xL,...D9,...E9,...z9},nt=Lz(L9,Qz),B9=e=>{const t=new Date(e),i=Math.floor((new Date-t)/1e3);if(i<60)return"now";const o=Math.floor(i/60);if(o<60)return`${o}m`;const l=Math.floor(o/60);if(l<24)return`${l}h`;const c=Math.floor(l/24);if(c<30)return`${c}d`;const a=Math.floor(c/30);return a<12?`${a}m`:`${Math.floor(a/12)} y`},Qm=({chats:e,currentChatId:t,onChatClick:r,searchTerm:i,setSearchTerm:o,activeFilter:l,setActiveFilter:c,onNewChat:a,onDeleteChat:d,isAdmin:h,currentUserId:f,chatAdmins:v,onBackToHome:m,onJoinViaLink:S})=>{const[C,x]=A.useState(null),[R,w]=A.useState({chatId:null,x:0,y:0}),T=A.useRef(null);A.useEffect(()=>{const k=B=>{T.current&&!T.current.contains(B.target)&&w({chatId:null,x:0,y:0})};if(R.chatId)return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[R.chatId]);const P=(k,B)=>{k.preventDefault(),k.stopPropagation(),w({chatId:B,x:k.clientX,y:k.clientY})},j=(k,B)=>{B.stopPropagation(),w({chatId:null,x:0,y:0}),d&&v&&f&&v[k]===f&&d(k)};return g.jsxs("div",{className:"w-80 border-r border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium flex flex-col transition-colors h-full",children:[g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[m&&g.jsx(nt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,className:"p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-brand-grey-light text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-white transition-colors",title:"Back to home",children:g.jsx(p0,{size:18})}),g.jsx("h1",{className:"text-brand-grey-dark dark:text-brand-white font-['Montserrat'] text-[1.75rem] font-bold",children:"Chats"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[S&&g.jsx(Sn,{icon:g.jsx(OA,{}),onClick:S,title:"Join via invite link"}),g.jsx(Sn,{icon:g.jsx(vj,{}),onClick:a})]})]}),g.jsx("div",{className:"p-4",children:g.jsxs("div",{className:"bg-neutral-100 dark:bg-brand-grey-light rounded-full p-2 flex items-center border border-neutral-200 dark:border-brand-grey-light",children:[g.jsx(Zp,{className:"text-neutral-500 dark:text-neutral-400 mx-2"}),g.jsx("input",{type:"text",placeholder:"Search",className:"font-['Inter'] bg-transparent outline-none w-full placeholder-neutral-400 dark:placeholder-neutral-500 text-brand-grey-dark dark:text-brand-white",value:i,onChange:k=>o(k.target.value)})]})}),g.jsxs("div",{className:"flex px-4 gap-2 mb-2",children:[g.jsx(Dm,{text:"All",isActive:l==="all",onClick:()=>c("all")}),g.jsx(Dm,{text:"Unread",isActive:l==="unread",onClick:()=>c("unread")}),g.jsx(Dm,{text:"Pending",isActive:l==="pending",onClick:()=>c("pending")})]}),g.jsx("div",{className:"flex-1 overflow-y-auto",children:e.length===0?g.jsx("div",{className:"p-4 text-center text-neutral-500 dark:text-neutral-400",children:"No chats found"}):e.map(k=>g.jsxs(nt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2},className:`group relative py-3 px-4 border-b border-neutral-200 dark:border-brand-grey-light hover:bg-neutral-50 dark:hover:bg-brand-grey-light flex items-center cursor-pointer transition-all duration-200 ${k.id===t?"bg-brand-yellow/10 dark:bg-brand-yellow/20 border-l-4 border-l-brand-yellow shadow-sm":""}`,onClick:()=>r(k.id),onMouseEnter:()=>x(k.id),onMouseLeave:()=>x(null),onContextMenu:B=>P(B,k.id),children:[g.jsx(nt.div,{whileHover:{scale:1.05},transition:{type:"spring",stiffness:400},children:g.jsx(M_,{color:k.avatar_color,text:k.avatar_text})}),g.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"font-['Montserrat'] font-semibold text-brand-grey-dark dark:text-brand-white truncate",children:k.name}),g.jsx("span",{className:"font-['Inter'] text-neutral-500 dark:text-neutral-400 text-xs ml-2 flex-shrink-0",children:B9(k.updated_at)})]}),g.jsx("p",{className:"font-['Inter'] text-neutral-600 dark:text-neutral-400 text-sm truncate",children:k.last_message})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[k.unread&&g.jsx(nt.div,{initial:{scale:0},animate:{scale:1},className:"bg-brand-yellow dark:bg-brand-yellow-light rounded-full h-2 w-2 flex-shrink-0"}),v&&f&&v[k.id]===f&&C===k.id&&g.jsx(nt.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:B=>j(k.id,B),className:"p-1.5 rounded-full hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 transition-colors",title:"Delete chat",children:g.jsx(fy,{size:12})})]})]},k.id))}),g.jsx(lf,{children:R.chatId&&g.jsx(nt.div,{ref:T,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed bg-white dark:bg-brand-grey-medium rounded-lg shadow-xl border border-neutral-200 dark:border-brand-grey-light z-50 py-2 min-w-[160px]",style:{top:R.y,left:R.x},children:v&&f&&v[R.chatId]===f&&g.jsxs("button",{onClick:k=>j(R.chatId,k),className:"w-full px-4 py-2 text-left text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 transition-colors font-['Inter'] text-sm",children:[g.jsx(fy,{size:14}),"Delete Chat"]})})})]})};var ys={},Ss={},hc={},bs={},Rt={},Xm={},Cs={},Zm={},pc={},dp={},i2;function u6(){if(i2)return dp;i2=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.default=r;let e;const t=new Uint8Array(16);function r(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}return dp}var Fo={},fc={},vc={},s2;function q9(){if(s2)return vc;s2=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return vc.default=e,vc}var o2;function pf(){if(o2)return fc;o2=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.default=void 0;var e=t(q9());function t(o){return o&&o.__esModule?o:{default:o}}function r(o){return typeof o=="string"&&e.default.test(o)}var i=r;return fc.default=i,fc}var a2;function ff(){if(a2)return Fo;a2=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.default=void 0,Fo.unsafeStringify=i;var e=t(pf());function t(c){return c&&c.__esModule?c:{default:c}}const r=[];for(let c=0;c<256;++c)r.push((c+256).toString(16).slice(1));function i(c,a=0){return r[c[a+0]]+r[c[a+1]]+r[c[a+2]]+r[c[a+3]]+"-"+r[c[a+4]]+r[c[a+5]]+"-"+r[c[a+6]]+r[c[a+7]]+"-"+r[c[a+8]]+r[c[a+9]]+"-"+r[c[a+10]]+r[c[a+11]]+r[c[a+12]]+r[c[a+13]]+r[c[a+14]]+r[c[a+15]]}function o(c,a=0){const d=i(c,a);if(!(0,e.default)(d))throw TypeError("Stringified UUID is invalid");return d}var l=o;return Fo.default=l,Fo}var c2;function U9(){if(c2)return pc;c2=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.default=void 0;var e=r(u6()),t=ff();function r(h){return h&&h.__esModule?h:{default:h}}let i,o,l=0,c=0;function a(h,f,v){let m=f&&v||0;const S=f||new Array(16);h=h||{};let C=h.node||i,x=h.clockseq!==void 0?h.clockseq:o;if(C==null||x==null){const k=h.random||(h.rng||e.default)();C==null&&(C=i=[k[0]|1,k[1],k[2],k[3],k[4],k[5]]),x==null&&(x=o=(k[6]<<8|k[7])&16383)}let R=h.msecs!==void 0?h.msecs:Date.now(),w=h.nsecs!==void 0?h.nsecs:c+1;const T=R-l+(w-c)/1e4;if(T<0&&h.clockseq===void 0&&(x=x+1&16383),(T<0||R>l)&&h.nsecs===void 0&&(w=0),w>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=R,c=w,o=x,R+=122192928e5;const P=((R&268435455)*1e4+w)%4294967296;S[m++]=P>>>24&255,S[m++]=P>>>16&255,S[m++]=P>>>8&255,S[m++]=P&255;const j=R/4294967296*1e4&268435455;S[m++]=j>>>8&255,S[m++]=j&255,S[m++]=j>>>24&15|16,S[m++]=j>>>16&255,S[m++]=x>>>8|128,S[m++]=x&255;for(let k=0;k<6;++k)S[m+k]=C[k];return f||(0,t.unsafeStringify)(S)}var d=a;return pc.default=d,pc}var mc={},Li={},gc={},l2;function d6(){if(l2)return gc;l2=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.default=void 0;var e=t(pf());function t(o){return o&&o.__esModule?o:{default:o}}function r(o){if(!(0,e.default)(o))throw TypeError("Invalid UUID");let l;const c=new Uint8Array(16);return c[0]=(l=parseInt(o.slice(0,8),16))>>>24,c[1]=l>>>16&255,c[2]=l>>>8&255,c[3]=l&255,c[4]=(l=parseInt(o.slice(9,13),16))>>>8,c[5]=l&255,c[6]=(l=parseInt(o.slice(14,18),16))>>>8,c[7]=l&255,c[8]=(l=parseInt(o.slice(19,23),16))>>>8,c[9]=l&255,c[10]=(l=parseInt(o.slice(24,36),16))/1099511627776&255,c[11]=l/4294967296&255,c[12]=l>>>24&255,c[13]=l>>>16&255,c[14]=l>>>8&255,c[15]=l&255,c}var i=r;return gc.default=i,gc}var u2;function h6(){if(u2)return Li;u2=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.URL=Li.DNS=void 0,Li.default=c;var e=ff(),t=r(d6());function r(a){return a&&a.__esModule?a:{default:a}}function i(a){a=unescape(encodeURIComponent(a));const d=[];for(let h=0;h<a.length;++h)d.push(a.charCodeAt(h));return d}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Li.DNS=o;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Li.URL=l;function c(a,d,h){function f(v,m,S,C){var x;if(typeof v=="string"&&(v=i(v)),typeof m=="string"&&(m=(0,t.default)(m)),((x=m)===null||x===void 0?void 0:x.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let R=new Uint8Array(16+v.length);if(R.set(m),R.set(v,m.length),R=h(R),R[6]=R[6]&15|d,R[8]=R[8]&63|128,S){C=C||0;for(let w=0;w<16;++w)S[C+w]=R[w];return S}return(0,e.unsafeStringify)(R)}try{f.name=a}catch{}return f.DNS=o,f.URL=l,f}return Li}var yc={},d2;function V9(){if(d2)return yc;d2=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.default=void 0;function e(S){if(typeof S=="string"){const C=unescape(encodeURIComponent(S));S=new Uint8Array(C.length);for(let x=0;x<C.length;++x)S[x]=C.charCodeAt(x)}return t(i(o(S),S.length*8))}function t(S){const C=[],x=S.length*32,R="0123456789abcdef";for(let w=0;w<x;w+=8){const T=S[w>>5]>>>w%32&255,P=parseInt(R.charAt(T>>>4&15)+R.charAt(T&15),16);C.push(P)}return C}function r(S){return(S+64>>>9<<4)+14+1}function i(S,C){S[C>>5]|=128<<C%32,S[r(C)-1]=C;let x=1732584193,R=-271733879,w=-1732584194,T=271733878;for(let P=0;P<S.length;P+=16){const j=x,k=R,B=w,F=T;x=d(x,R,w,T,S[P],7,-680876936),T=d(T,x,R,w,S[P+1],12,-389564586),w=d(w,T,x,R,S[P+2],17,606105819),R=d(R,w,T,x,S[P+3],22,-1044525330),x=d(x,R,w,T,S[P+4],7,-176418897),T=d(T,x,R,w,S[P+5],12,1200080426),w=d(w,T,x,R,S[P+6],17,-1473231341),R=d(R,w,T,x,S[P+7],22,-45705983),x=d(x,R,w,T,S[P+8],7,1770035416),T=d(T,x,R,w,S[P+9],12,-1958414417),w=d(w,T,x,R,S[P+10],17,-42063),R=d(R,w,T,x,S[P+11],22,-1990404162),x=d(x,R,w,T,S[P+12],7,1804603682),T=d(T,x,R,w,S[P+13],12,-40341101),w=d(w,T,x,R,S[P+14],17,-1502002290),R=d(R,w,T,x,S[P+15],22,1236535329),x=h(x,R,w,T,S[P+1],5,-165796510),T=h(T,x,R,w,S[P+6],9,-1069501632),w=h(w,T,x,R,S[P+11],14,643717713),R=h(R,w,T,x,S[P],20,-373897302),x=h(x,R,w,T,S[P+5],5,-701558691),T=h(T,x,R,w,S[P+10],9,38016083),w=h(w,T,x,R,S[P+15],14,-660478335),R=h(R,w,T,x,S[P+4],20,-405537848),x=h(x,R,w,T,S[P+9],5,568446438),T=h(T,x,R,w,S[P+14],9,-1019803690),w=h(w,T,x,R,S[P+3],14,-187363961),R=h(R,w,T,x,S[P+8],20,1163531501),x=h(x,R,w,T,S[P+13],5,-1444681467),T=h(T,x,R,w,S[P+2],9,-51403784),w=h(w,T,x,R,S[P+7],14,1735328473),R=h(R,w,T,x,S[P+12],20,-1926607734),x=f(x,R,w,T,S[P+5],4,-378558),T=f(T,x,R,w,S[P+8],11,-2022574463),w=f(w,T,x,R,S[P+11],16,1839030562),R=f(R,w,T,x,S[P+14],23,-35309556),x=f(x,R,w,T,S[P+1],4,-1530992060),T=f(T,x,R,w,S[P+4],11,1272893353),w=f(w,T,x,R,S[P+7],16,-155497632),R=f(R,w,T,x,S[P+10],23,-1094730640),x=f(x,R,w,T,S[P+13],4,681279174),T=f(T,x,R,w,S[P],11,-358537222),w=f(w,T,x,R,S[P+3],16,-722521979),R=f(R,w,T,x,S[P+6],23,76029189),x=f(x,R,w,T,S[P+9],4,-640364487),T=f(T,x,R,w,S[P+12],11,-421815835),w=f(w,T,x,R,S[P+15],16,530742520),R=f(R,w,T,x,S[P+2],23,-995338651),x=v(x,R,w,T,S[P],6,-198630844),T=v(T,x,R,w,S[P+7],10,1126891415),w=v(w,T,x,R,S[P+14],15,-1416354905),R=v(R,w,T,x,S[P+5],21,-57434055),x=v(x,R,w,T,S[P+12],6,1700485571),T=v(T,x,R,w,S[P+3],10,-1894986606),w=v(w,T,x,R,S[P+10],15,-1051523),R=v(R,w,T,x,S[P+1],21,-2054922799),x=v(x,R,w,T,S[P+8],6,1873313359),T=v(T,x,R,w,S[P+15],10,-30611744),w=v(w,T,x,R,S[P+6],15,-1560198380),R=v(R,w,T,x,S[P+13],21,1309151649),x=v(x,R,w,T,S[P+4],6,-145523070),T=v(T,x,R,w,S[P+11],10,-1120210379),w=v(w,T,x,R,S[P+2],15,718787259),R=v(R,w,T,x,S[P+9],21,-343485551),x=l(x,j),R=l(R,k),w=l(w,B),T=l(T,F)}return[x,R,w,T]}function o(S){if(S.length===0)return[];const C=S.length*8,x=new Uint32Array(r(C));for(let R=0;R<C;R+=8)x[R>>5]|=(S[R/8]&255)<<R%32;return x}function l(S,C){const x=(S&65535)+(C&65535);return(S>>16)+(C>>16)+(x>>16)<<16|x&65535}function c(S,C){return S<<C|S>>>32-C}function a(S,C,x,R,w,T){return l(c(l(l(C,S),l(R,T)),w),x)}function d(S,C,x,R,w,T,P){return a(C&x|~C&R,S,C,w,T,P)}function h(S,C,x,R,w,T,P){return a(C&R|x&~R,S,C,w,T,P)}function f(S,C,x,R,w,T,P){return a(C^x^R,S,C,w,T,P)}function v(S,C,x,R,w,T,P){return a(x^(C|~R),S,C,w,T,P)}var m=e;return yc.default=m,yc}var h2;function F9(){if(h2)return mc;h2=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.default=void 0;var e=r(h6()),t=r(V9());function r(l){return l&&l.__esModule?l:{default:l}}var o=(0,e.default)("v3",48,t.default);return mc.default=o,mc}var Sc={},bc={},p2;function H9(){if(p2)return bc;p2=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.default=void 0;var t={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return bc.default=t,bc}var f2;function $9(){if(f2)return Sc;f2=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.default=void 0;var e=i(H9()),t=i(u6()),r=ff();function i(c){return c&&c.__esModule?c:{default:c}}function o(c,a,d){if(e.default.randomUUID&&!a&&!c)return e.default.randomUUID();c=c||{};const h=c.random||(c.rng||t.default)();if(h[6]=h[6]&15|64,h[8]=h[8]&63|128,a){d=d||0;for(let f=0;f<16;++f)a[d+f]=h[f];return a}return(0,r.unsafeStringify)(h)}var l=o;return Sc.default=l,Sc}var Cc={},xc={},v2;function K9(){if(v2)return xc;v2=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.default=void 0;function e(o,l,c,a){switch(o){case 0:return l&c^~l&a;case 1:return l^c^a;case 2:return l&c^l&a^c&a;case 3:return l^c^a}}function t(o,l){return o<<l|o>>>32-l}function r(o){const l=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof o=="string"){const f=unescape(encodeURIComponent(o));o=[];for(let v=0;v<f.length;++v)o.push(f.charCodeAt(v))}else Array.isArray(o)||(o=Array.prototype.slice.call(o));o.push(128);const a=o.length/4+2,d=Math.ceil(a/16),h=new Array(d);for(let f=0;f<d;++f){const v=new Uint32Array(16);for(let m=0;m<16;++m)v[m]=o[f*64+m*4]<<24|o[f*64+m*4+1]<<16|o[f*64+m*4+2]<<8|o[f*64+m*4+3];h[f]=v}h[d-1][14]=(o.length-1)*8/Math.pow(2,32),h[d-1][14]=Math.floor(h[d-1][14]),h[d-1][15]=(o.length-1)*8&4294967295;for(let f=0;f<d;++f){const v=new Uint32Array(80);for(let w=0;w<16;++w)v[w]=h[f][w];for(let w=16;w<80;++w)v[w]=t(v[w-3]^v[w-8]^v[w-14]^v[w-16],1);let m=c[0],S=c[1],C=c[2],x=c[3],R=c[4];for(let w=0;w<80;++w){const T=Math.floor(w/20),P=t(m,5)+e(T,S,C,x)+R+l[T]+v[w]>>>0;R=x,x=C,C=t(S,30)>>>0,S=m,m=P}c[0]=c[0]+m>>>0,c[1]=c[1]+S>>>0,c[2]=c[2]+C>>>0,c[3]=c[3]+x>>>0,c[4]=c[4]+R>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,c[0]&255,c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,c[1]&255,c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,c[2]&255,c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,c[3]&255,c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,c[4]&255]}var i=r;return xc.default=i,xc}var m2;function W9(){if(m2)return Cc;m2=1,Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.default=void 0;var e=r(h6()),t=r(K9());function r(l){return l&&l.__esModule?l:{default:l}}var o=(0,e.default)("v5",80,t.default);return Cc.default=o,Cc}var Rc={},g2;function G9(){if(g2)return Rc;g2=1,Object.defineProperty(Rc,"__esModule",{value:!0}),Rc.default=void 0;var e="00000000-0000-0000-0000-000000000000";return Rc.default=e,Rc}var wc={},y2;function J9(){if(y2)return wc;y2=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.default=void 0;var e=t(pf());function t(o){return o&&o.__esModule?o:{default:o}}function r(o){if(!(0,e.default)(o))throw TypeError("Invalid UUID");return parseInt(o.slice(14,15),16)}var i=r;return wc.default=i,wc}var S2;function Y9(){return S2||(S2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return c.default}});var t=f(U9()),r=f(F9()),i=f($9()),o=f(W9()),l=f(G9()),c=f(J9()),a=f(pf()),d=f(ff()),h=f(d6());function f(v){return v&&v.__esModule?v:{default:v}}}(Zm)),Zm}var b2;function no(){if(b2)return Cs;b2=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.createNoDashGuid=Cs.createGuid=void 0;const e=Y9(),t=()=>e.v4();Cs.createGuid=t;const r=()=>t().replace(new RegExp("-","g"),"").toUpperCase();return Cs.createNoDashGuid=r,Cs}var C2;function Yd(){return C2||(C2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PlatformEvent=e.EventType=void 0;const t=no();(function(i){i[i.Debug=0]="Debug",i[i.Info=1]="Info",i[i.Warning=2]="Warning",i[i.Error=3]="Error",i[i.None=4]="None"})(e.EventType||(e.EventType={}));class r{constructor(o,l){this.privName=o,this.privEventId=t.createNoDashGuid(),this.privEventTime=new Date().toISOString(),this.privEventType=l,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}e.PlatformEvent=r}(Xm)),Xm}var x2;function Q9(){if(x2)return Rt;x2=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.AudioStreamNodeErrorEvent=Rt.AudioStreamNodeDetachedEvent=Rt.AudioStreamNodeAttachedEvent=Rt.AudioStreamNodeAttachingEvent=Rt.AudioStreamNodeEvent=Rt.AudioSourceErrorEvent=Rt.AudioSourceOffEvent=Rt.AudioSourceReadyEvent=Rt.AudioSourceInitializingEvent=Rt.AudioSourceEvent=void 0;const e=Yd();class t extends e.PlatformEvent{constructor(m,S,C=e.EventType.Info){super(m,C),this.privAudioSourceId=S}get audioSourceId(){return this.privAudioSourceId}}Rt.AudioSourceEvent=t;class r extends t{constructor(m){super("AudioSourceInitializingEvent",m)}}Rt.AudioSourceInitializingEvent=r;class i extends t{constructor(m){super("AudioSourceReadyEvent",m)}}Rt.AudioSourceReadyEvent=i;class o extends t{constructor(m){super("AudioSourceOffEvent",m)}}Rt.AudioSourceOffEvent=o;class l extends t{constructor(m,S){super("AudioSourceErrorEvent",m,e.EventType.Error),this.privError=S}get error(){return this.privError}}Rt.AudioSourceErrorEvent=l;class c extends t{constructor(m,S,C){super(m,S),this.privAudioNodeId=C}get audioNodeId(){return this.privAudioNodeId}}Rt.AudioStreamNodeEvent=c;class a extends c{constructor(m,S){super("AudioStreamNodeAttachingEvent",m,S)}}Rt.AudioStreamNodeAttachingEvent=a;class d extends c{constructor(m,S){super("AudioStreamNodeAttachedEvent",m,S)}}Rt.AudioStreamNodeAttachedEvent=d;class h extends c{constructor(m,S){super("AudioStreamNodeDetachedEvent",m,S)}}Rt.AudioStreamNodeDetachedEvent=h;class f extends c{constructor(m,S,C){super("AudioStreamNodeErrorEvent",m,S),this.privError=C}get error(){return this.privError}}return Rt.AudioStreamNodeErrorEvent=f,Rt}var Mt={},R2;function X9(){if(R2)return Mt;R2=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.ConnectionMessageSentEvent=Mt.ConnectionMessageReceivedEvent=Mt.ConnectionEstablishErrorEvent=Mt.ConnectionErrorEvent=Mt.ConnectionClosedEvent=Mt.ConnectionEstablishedEvent=Mt.ConnectionStartEvent=Mt.ConnectionEvent=Mt.ServiceEvent=void 0;const e=Yd();class t extends e.PlatformEvent{constructor(v,m,S=e.EventType.Info){super(v,S),this.privJsonResult=m}get jsonString(){return this.privJsonResult}}Mt.ServiceEvent=t;class r extends e.PlatformEvent{constructor(v,m,S=e.EventType.Info){super(v,S),this.privConnectionId=m}get connectionId(){return this.privConnectionId}}Mt.ConnectionEvent=r;class i extends r{constructor(v,m,S){super("ConnectionStartEvent",v),this.privUri=m,this.privHeaders=S}get uri(){return this.privUri}get headers(){return this.privHeaders}}Mt.ConnectionStartEvent=i;class o extends r{constructor(v){super("ConnectionEstablishedEvent",v)}}Mt.ConnectionEstablishedEvent=o;class l extends r{constructor(v,m,S){super("ConnectionClosedEvent",v,e.EventType.Debug),this.privReason=S,this.privStatusCode=m}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}Mt.ConnectionClosedEvent=l;class c extends r{constructor(v,m,S){super("ConnectionErrorEvent",v,e.EventType.Debug),this.privMessage=m,this.privType=S}get message(){return this.privMessage}get type(){return this.privType}}Mt.ConnectionErrorEvent=c;class a extends r{constructor(v,m,S){super("ConnectionEstablishErrorEvent",v,e.EventType.Error),this.privStatusCode=m,this.privReason=S}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}}Mt.ConnectionEstablishErrorEvent=a;class d extends r{constructor(v,m,S){super("ConnectionMessageReceivedEvent",v),this.privNetworkReceivedTime=m,this.privMessage=S}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}}Mt.ConnectionMessageReceivedEvent=d;class h extends r{constructor(v,m,S){super("ConnectionMessageSentEvent",v),this.privNetworkSentTime=m,this.privMessage=S}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}return Mt.ConnectionMessageSentEvent=h,Mt}var eg={},oi={},w2;function qn(){if(w2)return oi;w2=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.ObjectDisposedError=oi.InvalidOperationError=oi.ArgumentNullError=void 0;class e extends Error{constructor(o){super(o),this.name="ArgumentNull",this.message=o}}oi.ArgumentNullError=e;class t extends Error{constructor(o){super(o),this.name="InvalidOperation",this.message=o}}oi.InvalidOperationError=t;class r extends Error{constructor(o,l){super(l),this.name=o+"ObjectDisposed",this.message=l}}return oi.ObjectDisposedError=r,oi}var E2;function p6(){return E2||(E2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionMessage=e.MessageType=void 0;const t=qn(),r=no();var i;(function(l){l[l.Text=0]="Text",l[l.Binary=1]="Binary"})(i=e.MessageType||(e.MessageType={}));class o{constructor(c,a,d,h){if(this.privBody=null,c===i.Text&&a&&typeof a!="string")throw new t.InvalidOperationError("Payload must be a string");if(c===i.Binary&&a&&!(a instanceof ArrayBuffer))throw new t.InvalidOperationError("Payload must be ArrayBuffer");switch(this.privMessageType=c,this.privBody=a,this.privHeaders=d||{},this.privId=h||r.createNoDashGuid(),this.messageType){case i.Binary:this.privSize=this.binaryBody!==null?this.binaryBody.byteLength:0;break;case i.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===i.Binary)throw new t.InvalidOperationError("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===i.Text)throw new t.InvalidOperationError("Not supported for text message");return this.privBody}get id(){return this.privId}}e.ConnectionMessage=o}(eg)),eg}var Ec={},T2;function Z9(){if(T2)return Ec;T2=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.ConnectionOpenResponse=void 0;let e=class{constructor(r,i){this.privStatusCode=r,this.privReason=i}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}};return Ec.ConnectionOpenResponse=e,Ec}var Tc={},P2;function e7(){if(P2)return Tc;P2=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.DeferralMap=void 0;let e=class{constructor(){this.privMap={}}add(r,i){this.privMap[r]=i}getId(r){return this.privMap[r]}complete(r,i){try{this.privMap[r].resolve(i)}catch(o){this.privMap[r].reject(o)}finally{this.privMap[r]=void 0}}};return Tc.DeferralMap=e,Tc}var xs={},A2;function f6(){if(A2)return xs;A2=1,Object.defineProperty(xs,"__esModule",{value:!0}),xs.SendingAgentContextMessageEvent=xs.DialogEvent=void 0;const e=Yd();class t extends e.PlatformEvent{constructor(o,l=e.EventType.Info){super(o,l)}}xs.DialogEvent=t;class r extends t{constructor(o){super("SendingAgentContextMessageEvent"),this.privAgentConfig=o}get agentConfig(){return this.privAgentConfig}}return xs.SendingAgentContextMessageEvent=r,xs}var Pc={},Ac={},_2;function v6(){if(_2)return Ac;_2=1,Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.EventSource=void 0;const e=qn(),t=no();let r=class{constructor(o){this.privEventListeners={},this.privIsDisposed=!1,this.privConsoleListener=void 0,this.privMetadata=o}onEvent(o){if(this.isDisposed())throw new e.ObjectDisposedError("EventSource");if(this.metadata)for(const l in this.metadata)l&&o.metadata&&(o.metadata[l]||(o.metadata[l]=this.metadata[l]));for(const l in this.privEventListeners)l&&this.privEventListeners[l]&&this.privEventListeners[l](o)}attach(o){const l=t.createNoDashGuid();return this.privEventListeners[l]=o,{detach:()=>(delete this.privEventListeners[l],Promise.resolve())}}attachListener(o){return this.attach(l=>o.onEvent(l))}attachConsoleListener(o){return this.privConsoleListener&&this.privConsoleListener.detach(),this.privConsoleListener=this.attach(l=>o.onEvent(l)),this.privConsoleListener}isDisposed(){return this.privIsDisposed}dispose(){this.privEventListeners=null,this.privIsDisposed=!0}get metadata(){return this.privMetadata}};return Ac.EventSource=r,Ac}var k2;function t7(){if(k2)return Pc;k2=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.Events=void 0;const e=qn(),t=v6();let r=class Hy{static setEventSource(o){if(!o)throw new e.ArgumentNullError("eventSource");Hy.privInstance=o}static get instance(){return Hy.privInstance}};return Pc.Events=r,r.privInstance=new t.EventSource,Pc}var tg={},M2;function r7(){return M2||(M2=1,Object.defineProperty(tg,"__esModule",{value:!0})),tg}var rg={},N2;function n7(){return N2||(N2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectionState=void 0,function(t){t[t.None=0]="None",t[t.Connected=1]="Connected",t[t.Connecting=2]="Connecting",t[t.Disconnected=3]="Disconnected"}(e.ConnectionState||(e.ConnectionState={}))}(rg)),rg}var ng={},I2;function i7(){return I2||(I2=1,Object.defineProperty(ng,"__esModule",{value:!0})),ng}var ig={},j2;function s7(){return j2||(j2=1,Object.defineProperty(ig,"__esModule",{value:!0})),ig}var sg={},O2;function o7(){return O2||(O2=1,Object.defineProperty(sg,"__esModule",{value:!0})),sg}var og={},D2;function a7(){return D2||(D2=1,Object.defineProperty(og,"__esModule",{value:!0})),og}var ag={},z2;function c7(){return z2||(z2=1,Object.defineProperty(ag,"__esModule",{value:!0})),ag}var cg={},L2;function l7(){return L2||(L2=1,Object.defineProperty(cg,"__esModule",{value:!0})),cg}var lg={},B2;function u7(){return B2||(B2=1,Object.defineProperty(lg,"__esModule",{value:!0})),lg}var ug={},q2;function d7(){return q2||(q2=1,Object.defineProperty(ug,"__esModule",{value:!0})),ug}var _c={},U2;function m6(){if(U2)return _c;U2=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.List=void 0;const e=qn();let t=class Vs{constructor(i){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.privList=[],i)for(const o of i)this.privList.push(o)}get(i){return this.throwIfDisposed(),this.privList[i]}first(){return this.get(0)}last(){return this.get(this.length()-1)}add(i){this.throwIfDisposed(),this.insertAt(this.privList.length,i)}insertAt(i,o){this.throwIfDisposed(),i===0?this.privList.unshift(o):i===this.privList.length?this.privList.push(o):this.privList.splice(i,0,o),this.triggerSubscriptions(this.privAddSubscriptions)}removeFirst(){return this.throwIfDisposed(),this.removeAt(0)}removeLast(){return this.throwIfDisposed(),this.removeAt(this.length()-1)}removeAt(i){return this.throwIfDisposed(),this.remove(i,1)[0]}remove(i,o){this.throwIfDisposed();const l=this.privList.splice(i,o);return this.triggerSubscriptions(this.privRemoveSubscriptions),l}clear(){this.throwIfDisposed(),this.remove(0,this.length())}length(){return this.throwIfDisposed(),this.privList.length}onAdded(i){this.throwIfDisposed();const o=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[o]=i,{detach:()=>(delete this.privAddSubscriptions[o],Promise.resolve())}}onRemoved(i){this.throwIfDisposed();const o=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[o]=i,{detach:()=>(delete this.privRemoveSubscriptions[o],Promise.resolve())}}onDisposed(i){this.throwIfDisposed();const o=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[o]=i,{detach:()=>(delete this.privDisposedSubscriptions[o],Promise.resolve())}}join(i){return this.throwIfDisposed(),this.privList.join(i)}toArray(){const i=Array();return this.privList.forEach(o=>{i.push(o)}),i}any(i){return this.throwIfDisposed(),i?this.where(i).length()>0:this.length()>0}all(i){return this.throwIfDisposed(),this.where(i).length()===this.length()}forEach(i){this.throwIfDisposed();for(let o=0;o<this.length();o++)i(this.privList[o],o)}select(i){this.throwIfDisposed();const o=[];for(let l=0;l<this.privList.length;l++)o.push(i(this.privList[l],l));return new Vs(o)}where(i){this.throwIfDisposed();const o=new Vs;for(let l=0;l<this.privList.length;l++)i(this.privList[l],l)&&o.add(this.privList[l]);return o}orderBy(i){this.throwIfDisposed();const l=this.toArray().sort(i);return new Vs(l)}orderByDesc(i){return this.throwIfDisposed(),this.orderBy((o,l)=>i(l,o))}clone(){return this.throwIfDisposed(),new Vs(this.toArray())}concat(i){return this.throwIfDisposed(),new Vs(this.privList.concat(i.toArray()))}concatArray(i){return this.throwIfDisposed(),new Vs(this.privList.concat(i))}isDisposed(){return this.privList==null}dispose(i){this.isDisposed()||(this.privDisposeReason=i,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))}throwIfDisposed(){if(this.isDisposed())throw new e.ObjectDisposedError("List",this.privDisposeReason)}triggerSubscriptions(i){if(i)for(const o in i)o&&i[o]()}};return _c.List=t,_c}var dg={},V2;function g6(){return V2||(V2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.marshalPromiseToCallbacks=e.Sink=e.Deferred=e.PromiseResultEventSource=e.PromiseResult=e.PromiseState=void 0;var t;(function(a){a[a.None=0]="None",a[a.Resolved=1]="Resolved",a[a.Rejected=2]="Rejected"})(t=e.PromiseState||(e.PromiseState={}));class r{constructor(d){this.throwIfError=()=>{if(this.isError)throw this.error},d.on(h=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!1,this.privResult=h)},h=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!0,this.privError=h)})}get isCompleted(){return this.privIsCompleted}get isError(){return this.privIsError}get error(){return this.privError}get result(){return this.privResult}}e.PromiseResult=r;class i{constructor(){this.setResult=d=>{this.privOnSetResult(d)},this.setError=d=>{this.privOnSetError(d)},this.on=(d,h)=>{this.privOnSetResult=d,this.privOnSetError=h}}}e.PromiseResultEventSource=i;class o{constructor(){this.resolve=d=>(this.privResolve(d),this),this.reject=d=>(this.privReject(d),this),this.privPromise=new Promise((d,h)=>{this.privResolve=d,this.privReject=h})}get promise(){return this.privPromise}}e.Deferred=o;class l{constructor(){this.privState=t.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.privPromiseResultEvents=new i,this.privPromiseResult=new r(this.privPromiseResultEvents)}get state(){return this.privState}get result(){return this.privPromiseResult}resolve(d){if(this.privState!==t.None)throw new Error("'Cannot resolve a completed promise'");this.privState=t.Resolved,this.privPromiseResultEvents.setResult(d);for(let h=0;h<this.privSuccessHandlers.length;h++)this.executeSuccessCallback(d,this.privSuccessHandlers[h],this.privErrorHandlers[h]);this.detachHandlers()}reject(d){if(this.privState!==t.None)throw new Error("'Cannot reject a completed promise'");this.privState=t.Rejected,this.privPromiseResultEvents.setError(d);for(const h of this.privErrorHandlers)this.executeErrorCallback(d,h);this.detachHandlers()}on(d,h){d==null&&(d=()=>{}),this.privState===t.None?(this.privSuccessHandlers.push(d),this.privErrorHandlers.push(h)):(this.privState===t.Resolved?this.executeSuccessCallback(this.privPromiseResult.result,d,h):this.privState===t.Rejected&&this.executeErrorCallback(this.privPromiseResult.error,h),this.detachHandlers())}executeSuccessCallback(d,h,f){try{h(d)}catch(v){this.executeErrorCallback(`'Unhandled callback error: ${v}'`,f)}}executeErrorCallback(d,h){if(h)try{h(d)}catch(f){throw new Error(`'Unhandled callback error: ${f}. InnerError: ${d}'`)}else throw new Error(`'Unhandled error: ${d}'`)}detachHandlers(){this.privErrorHandlers=[],this.privSuccessHandlers=[]}}e.Sink=l;function c(a,d,h){a.then(f=>{try{d&&d(f)}catch(v){if(h)try{if(v instanceof Error){const m=v;h(m.name+": "+m.message)}else h(v)}catch{}}},f=>{if(h)try{if(f instanceof Error){const v=f;h(v.name+": "+v.message)}else h(f)}catch{}})}e.marshalPromiseToCallbacks=c}(dg)),dg}var kc={},F2;function y6(){if(F2)return kc;F2=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.Queue=void 0;const e=qn(),t=m6(),r=g6();var i;(function(l){l[l.Dequeue=0]="Dequeue",l[l.Peek=1]="Peek"})(i||(i={}));let o=class{constructor(c){this.privPromiseStore=new t.List,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.privList=c||new t.List,this.privDetachables=[],this.privSubscribers=new t.List,this.privDetachables.push(this.privList.onAdded(()=>this.drain()))}enqueue(c){this.throwIfDispose(),this.enqueueFromPromise(new Promise(a=>a(c)))}enqueueFromPromise(c){this.throwIfDispose(),c.then(a=>{this.privList.add(a)},()=>{})}dequeue(){this.throwIfDispose();const c=new r.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:c,type:i.Dequeue}),this.drain()),c.promise}peek(){this.throwIfDispose();const c=new r.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:c,type:i.Peek}),this.drain()),c.promise}length(){return this.throwIfDispose(),this.privList.length()}isDisposed(){return this.privSubscribers==null}async drainAndDispose(c,a){if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=a,this.privIsDisposing=!0;const d=this.privSubscribers;if(d){for(;d.length()>0;)d.removeFirst().deferral.resolve(void 0);this.privSubscribers===d&&(this.privSubscribers=d)}for(const h of this.privDetachables)await h.detach();if(this.privPromiseStore.length()>0&&c){const h=[];return this.privPromiseStore.toArray().forEach(f=>{h.push(f)}),Promise.all(h).finally(()=>{this.privSubscribers=null,this.privList.forEach(f=>{c(f)}),this.privList=null}).then()}else this.privSubscribers=null,this.privList=null}}async dispose(c){await this.drainAndDispose(null,c)}drain(){if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const c=this.privSubscribers,a=this.privList;if(c&&a){for(;a.length()>0&&c.length()>0&&!this.privIsDisposing;){const d=c.removeFirst();if(d.type===i.Peek)d.deferral.resolve(a.first());else{const h=a.removeFirst();d.deferral.resolve(h)}}this.privSubscribers===c&&(this.privSubscribers=c),this.privList===a&&(this.privList=a)}this.privIsDrainInProgress=!1}}throwIfDispose(){if(this.isDisposed())throw this.privDisposeReason?new e.InvalidOperationError(this.privDisposeReason):new e.ObjectDisposedError("Queue");if(this.privIsDisposing)throw new e.InvalidOperationError("Queue disposing")}};return kc.Queue=o,kc}var Mc={},H2;function h7(){if(H2)return Mc;H2=1,Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.RawWebsocketMessage=void 0;const e=p6(),t=qn(),r=no();let i=class{constructor(l,c,a){if(this.privPayload=null,!c)throw new t.ArgumentNullError("payload");if(l===e.MessageType.Binary&&Object.getPrototypeOf(c).constructor.name!=="ArrayBuffer")throw new t.InvalidOperationError("Payload must be ArrayBuffer");if(l===e.MessageType.Text&&typeof c!="string")throw new t.InvalidOperationError("Payload must be a string");this.privMessageType=l,this.privPayload=c,this.privId=a||r.createNoDashGuid()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===e.MessageType.Binary)throw new t.InvalidOperationError("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===e.MessageType.Text)throw new t.InvalidOperationError("Not supported for text message");return this.privPayload}get id(){return this.privId}};return Mc.RawWebsocketMessage=i,Mc}var Nc={},$2;function p7(){if($2)return Nc;$2=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.RiffPcmEncoder=void 0;let e=class{constructor(r,i){this.privActualSampleRate=r,this.privDesiredSampleRate=i}encode(r){const i=this.downSampleAudioFrame(r,this.privActualSampleRate,this.privDesiredSampleRate);if(!i)return null;const o=i.length*2,l=new ArrayBuffer(o),c=new DataView(l);return this.floatTo16BitPCM(c,0,i),l}setString(r,i,o){for(let l=0;l<o.length;l++)r.setUint8(i+l,o.charCodeAt(l))}floatTo16BitPCM(r,i,o){for(let l=0;l<o.length;l++,i+=2){const c=Math.max(-1,Math.min(1,o[l]));r.setInt16(i,c<0?c*32768:c*32767,!0)}}downSampleAudioFrame(r,i,o){if(!r)return null;if(o===i||o>i)return r;const l=i/o,c=Math.round(r.length/l),a=new Float32Array(c);let d=0,h=0;for(;h<c;){const f=Math.round((h+1)*l);let v=0,m=0;for(;d<f&&d<r.length;)v+=r[d++],m++;a[h++]=v/m}return a}};return Nc.RiffPcmEncoder=e,Nc}var Ic={},K2;function f7(){if(K2)return Ic;K2=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.Stream=void 0;const e=qn(),t=no(),r=y6();let i=class{constructor(l){this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.privId=l||t.createNoDashGuid(),this.privReaderQueue=new r.Queue}get isClosed(){return this.privIsWriteEnded}get isReadEnded(){return this.privIsReadEnded}get id(){return this.privId}close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}writeStreamChunk(l){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(l)}catch{}}read(){if(this.privIsReadEnded)throw new e.InvalidOperationError("Stream read has already finished");return this.privReaderQueue.dequeue().then(async l=>((l===void 0||l.isEnd)&&await this.privReaderQueue.dispose("End of stream reached"),l))}readEnded(){this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new r.Queue)}throwIfClosed(){if(this.privIsWriteEnded)throw new e.InvalidOperationError("Stream closed")}};return Ic.Stream=i,Ic}var hg={},W2;function cS(){return W2||(W2=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TranslationStatus=void 0,function(t){t[t.Success=0]="Success",t[t.Error=1]="Error"}(e.TranslationStatus||(e.TranslationStatus={}))}(hg)),hg}var jc={},G2;function v7(){if(G2)return jc;G2=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.ChunkedArrayBufferStream=void 0;const e=Ne();let t=class extends e.Stream{constructor(i,o){super(o),this.privTargetChunkSize=Math.round(i),this.privNextBufferReadyBytes=0}writeStreamChunk(i){if(i.isEnd||this.privNextBufferReadyBytes===0&&i.buffer.byteLength===this.privTargetChunkSize){super.writeStreamChunk(i);return}let o=0;for(;o<i.buffer.byteLength;){this.privNextBufferToWrite===void 0&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=i.timeReceived);const l=Math.min(i.buffer.byteLength-o,this.privTargetChunkSize-this.privNextBufferReadyBytes),c=new Uint8Array(this.privNextBufferToWrite),a=new Uint8Array(i.buffer.slice(o,l+o));c.set(a,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=l,o+=l,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){this.privNextBufferReadyBytes!==0&&!this.isClosed&&super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}};return jc.ChunkedArrayBufferStream=t,jc}var pg={},J2;function m7(){return J2||(J2=1,Object.defineProperty(pg,"__esModule",{value:!0})),pg}var Oc={},Y2;function g7(){if(Y2)return Oc;Y2=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.Timeout=void 0;let e=class qi{static load(){const r=new Map([[0,()=>{}]]),i=new Map,l="data:text/javascript;base64,"+btoa(`!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error('There is no interval scheduled with the given id "'.concat(e,'".'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error('The given method "'.concat(e.method,'" is not supported'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);`),c=new Worker(l);return c.addEventListener("message",({data:h})=>{if(qi.isCallNotification(h)){const{params:{timerId:f}}=h,v=r.get(f);if(typeof v=="number"){const m=i.get(v);if(m===void 0||m!==f)throw new Error("The timer is in an undefined state.")}else if(typeof v<"u")v(),r.delete(f);else throw new Error("The timer is in an undefined state.")}else if(qi.isClearResponse(h)){const{id:f}=h,v=i.get(f);if(v===void 0)throw new Error("The timer is in an undefined state.");i.delete(f),r.delete(v)}else{const{error:{message:f}}=h;throw new Error(f)}}),{clearTimeout:h=>{const f=Math.random();i.set(f,h),r.set(h,f),c.postMessage({id:f,method:"clear",params:{timerId:h}})},setTimeout:(h,f)=>{const v=Math.random();return r.set(v,h),c.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:v}}),v}}}static loadWorkerTimers(){return()=>(qi.workerTimers!==null||(qi.workerTimers=qi.load()),qi.workerTimers)}static isCallNotification(r){return r.method!==void 0&&r.method==="call"}static isClearResponse(r){return r.error===null&&typeof r.id=="number"}};return Oc.Timeout=e,e.workerTimers=null,e.clearTimeout=t=>e.timers().clearTimeout(t),e.setTimeout=(t,r)=>e.timers().setTimeout(t,r),e.timers=e.loadWorkerTimers(),Oc}var Ye={},Q2;function y7(){if(Q2)return Ye;Q2=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.OCSPCacheUpdateErrorEvent=Ye.OCSPResponseRetrievedEvent=Ye.OCSPCacheFetchErrorEvent=Ye.OCSPVerificationFailedEvent=Ye.OCSPCacheHitEvent=Ye.OCSPCacheEntryNeedsRefreshEvent=Ye.OCSPCacheEntryExpiredEvent=Ye.OCSPWSUpgradeStartedEvent=Ye.OCSPStapleReceivedEvent=Ye.OCSPCacheUpdateCompleteEvent=Ye.OCSPDiskCacheStoreEvent=Ye.OCSPMemoryCacheStoreEvent=Ye.OCSPCacheUpdateNeededEvent=Ye.OCSPDiskCacheHitEvent=Ye.OCSPCacheMissEvent=Ye.OCSPMemoryCacheHitEvent=Ye.OCSPEvent=void 0;const e=Yd();class t extends e.PlatformEvent{constructor(P,j,k){super(P,j),this.privSignature=k}}Ye.OCSPEvent=t;class r extends t{constructor(P){super("OCSPMemoryCacheHitEvent",e.EventType.Debug,P)}}Ye.OCSPMemoryCacheHitEvent=r;class i extends t{constructor(P){super("OCSPCacheMissEvent",e.EventType.Debug,P)}}Ye.OCSPCacheMissEvent=i;class o extends t{constructor(P){super("OCSPDiskCacheHitEvent",e.EventType.Debug,P)}}Ye.OCSPDiskCacheHitEvent=o;class l extends t{constructor(P){super("OCSPCacheUpdateNeededEvent",e.EventType.Debug,P)}}Ye.OCSPCacheUpdateNeededEvent=l;class c extends t{constructor(P){super("OCSPMemoryCacheStoreEvent",e.EventType.Debug,P)}}Ye.OCSPMemoryCacheStoreEvent=c;class a extends t{constructor(P){super("OCSPDiskCacheStoreEvent",e.EventType.Debug,P)}}Ye.OCSPDiskCacheStoreEvent=a;class d extends t{constructor(P){super("OCSPCacheUpdateCompleteEvent",e.EventType.Debug,P)}}Ye.OCSPCacheUpdateCompleteEvent=d;class h extends t{constructor(){super("OCSPStapleReceivedEvent",e.EventType.Debug,"")}}Ye.OCSPStapleReceivedEvent=h;class f extends t{constructor(P){super("OCSPWSUpgradeStartedEvent",e.EventType.Debug,P)}}Ye.OCSPWSUpgradeStartedEvent=f;class v extends t{constructor(P,j){super("OCSPCacheEntryExpiredEvent",e.EventType.Debug,P),this.privExpireTime=j}}Ye.OCSPCacheEntryExpiredEvent=v;class m extends t{constructor(P,j,k){super("OCSPCacheEntryNeedsRefreshEvent",e.EventType.Debug,P),this.privExpireTime=k,this.privStartTime=j}}Ye.OCSPCacheEntryNeedsRefreshEvent=m;class S extends t{constructor(P,j,k){super("OCSPCacheHitEvent",e.EventType.Debug,P),this.privExpireTime=k,this.privExpireTimeString=new Date(k).toLocaleDateString(),this.privStartTime=j,this.privStartTimeString=new Date(j).toLocaleTimeString()}}Ye.OCSPCacheHitEvent=S;class C extends t{constructor(P,j){super("OCSPVerificationFailedEvent",e.EventType.Debug,P),this.privError=j}}Ye.OCSPVerificationFailedEvent=C;class x extends t{constructor(P,j){super("OCSPCacheFetchErrorEvent",e.EventType.Debug,P),this.privError=j}}Ye.OCSPCacheFetchErrorEvent=x;class R extends t{constructor(P){super("OCSPResponseRetrievedEvent",e.EventType.Debug,P)}}Ye.OCSPResponseRetrievedEvent=R;class w extends t{constructor(P,j){super("OCSPCacheUpdateErrorEvent",e.EventType.Debug,P),this.privError=j}}return Ye.OCSPCacheUpdateErrorEvent=w,Ye}var Dc={},X2;function S7(){if(X2)return Dc;X2=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.BackgroundEvent=void 0;const e=Ne();class t extends e.PlatformEvent{constructor(i){super("BackgroundEvent",e.EventType.Error),this.privError=i}get error(){return this.privError}}return Dc.BackgroundEvent=t,Dc}var Z2;function Ne(){return Z2||(Z2=1,function(e){var t=bs&&bs.__createBinding||(Object.create?function(o,l,c,a){a===void 0&&(a=c),Object.defineProperty(o,a,{enumerable:!0,get:function(){return l[c]}})}:function(o,l,c,a){a===void 0&&(a=c),o[a]=l[c]}),r=bs&&bs.__exportStar||function(o,l){for(var c in o)c!=="default"&&!l.hasOwnProperty(c)&&t(l,o,c)};Object.defineProperty(e,"__esModule",{value:!0}),r(Q9(),e),r(X9(),e),r(p6(),e),r(Z9(),e),r(e7(),e),r(f6(),e),r(qn(),e),r(t7(),e),r(v6(),e),r(no(),e),r(r7(),e),r(n7(),e),r(i7(),e),r(s7(),e),r(o7(),e),r(a7(),e),r(c7(),e),r(l7(),e),r(u7(),e),r(d7(),e),r(m6(),e),r(Yd(),e),r(g6(),e),r(y6(),e),r(h7(),e),r(p7(),e),r(f7(),e);var i=cS();Object.defineProperty(e,"TranslationStatus",{enumerable:!0,get:function(){return i.TranslationStatus}}),r(v7(),e),r(m7(),e),r(g7(),e),r(y7(),e),r(S7(),e)}(bs)),bs}var zc={},ew;function xr(){if(ew)return zc;ew=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.HeaderNames=void 0;let e=class{};return zc.HeaderNames=e,e.AuthKey="Ocp-Apim-Subscription-Key",e.Authorization="Authorization",e.SpIDAuthKey="Apim-Subscription-Id",e.ConnectionId="X-ConnectionId",e.ContentType="Content-Type",e.CustomCommandsAppId="X-CommandsAppId",e.Path="Path",e.RequestId="X-RequestId",e.RequestStreamId="X-StreamId",e.RequestTimestamp="X-Timestamp",zc}var Lc={},tw;function lS(){if(tw)return Lc;tw=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.AuthInfo=void 0;class e{constructor(r,i){this.privHeaderName=r,this.privToken=i}get headerName(){return this.privHeaderName}get token(){return this.privToken}}return Lc.AuthInfo=e,Lc}var rw;function b7(){if(rw)return hc;rw=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.CognitiveSubscriptionKeyAuthentication=void 0;const e=Ne(),t=xr(),r=lS();let i=class{constructor(l){if(!l)throw new e.ArgumentNullError("subscriptionKey");this.privAuthInfo=new r.AuthInfo(t.HeaderNames.AuthKey,l)}fetch(l){return Promise.resolve(this.privAuthInfo)}fetchOnExpiry(l){return Promise.resolve(this.privAuthInfo)}};return hc.CognitiveSubscriptionKeyAuthentication=i,hc}var Bc={},nw;function C7(){if(nw)return Bc;nw=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.CognitiveTokenAuthentication=void 0;const e=Ne(),t=lS(),r=xr();let i=class $y{constructor(l,c){if(!l)throw new e.ArgumentNullError("fetchCallback");if(!c)throw new e.ArgumentNullError("fetchOnExpiryCallback");this.privFetchCallback=l,this.privFetchOnExpiryCallback=c}fetch(l){return this.privFetchCallback(l).then(c=>new t.AuthInfo(r.HeaderNames.Authorization,c===void 0?void 0:$y.privTokenPrefix+c))}fetchOnExpiry(l){return this.privFetchOnExpiryCallback(l).then(c=>new t.AuthInfo(r.HeaderNames.Authorization,c===void 0?void 0:$y.privTokenPrefix+c))}};return Bc.CognitiveTokenAuthentication=i,i.privTokenPrefix="Bearer ",Bc}var fg={},iw;function x7(){return iw||(iw=1,Object.defineProperty(fg,"__esModule",{value:!0})),fg}var vg={},sw;function R7(){return sw||(sw=1,Object.defineProperty(vg,"__esModule",{value:!0})),vg}var qc={},Rs={},fn={};const w7={},E7=Object.freeze(Object.defineProperty({__proto__:null,default:w7},Symbol.toStringTag,{value:"Module"})),Hs=DM(E7);var mg={},ow;function S6(){return ow||(ow=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=void 0;const t=Ne();Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return t.EventType}})}(mg)),mg}var Uc={},aw;function Ve(){if(aw)return Uc;aw=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.Contracts=void 0;let e=class Fs{static throwIfNullOrUndefined(r,i){if(r==null)throw new Error("throwIfNullOrUndefined:"+i)}static throwIfNull(r,i){if(r===null)throw new Error("throwIfNull:"+i)}static throwIfNullOrWhitespace(r,i){if(Fs.throwIfNullOrUndefined(r,i),(""+r).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+i)}static throwIfNullOrTooLong(r,i,o){if(Fs.throwIfNullOrUndefined(r,i),(""+r).length>o)throw new Error("throwIfNullOrTooLong:"+i+" (more than "+o.toString()+" characters)")}static throwIfNullOrTooShort(r,i,o){if(Fs.throwIfNullOrUndefined(r,i),(""+r).length<o)throw new Error("throwIfNullOrTooShort:"+i+" (less than "+o.toString()+" characters)")}static throwIfDisposed(r){if(r)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(r,i){if(Fs.throwIfNullOrUndefined(r,i),r.length===0)throw new Error("throwIfArrayEmptyOrWhitespace:"+i);for(const o of r)Fs.throwIfNullOrWhitespace(o,i)}static throwIfFileDoesNotExist(r,i){Fs.throwIfNullOrWhitespace(r,i)}static throwIfNotUndefined(r,i){if(r!==void 0)throw new Error("throwIfNotUndefined:"+i)}};return Uc.Contracts=e,Uc}var cw;function T7(){if(cw)return fn;cw=1;var e=fn&&fn.__createBinding||(Object.create?function(a,d,h,f){f===void 0&&(f=h),Object.defineProperty(a,f,{enumerable:!0,get:function(){return d[h]}})}:function(a,d,h,f){f===void 0&&(f=h),a[f]=d[h]}),t=fn&&fn.__setModuleDefault||(Object.create?function(a,d){Object.defineProperty(a,"default",{enumerable:!0,value:d})}:function(a,d){a.default=d}),r=fn&&fn.__importStar||function(a){if(a&&a.__esModule)return a;var d={};if(a!=null)for(var h in a)h!=="default"&&Object.hasOwnProperty.call(a,h)&&e(d,a,h);return t(d,a),d};Object.defineProperty(fn,"__esModule",{value:!0}),fn.ConsoleLoggingListener=void 0;const i=r(Hs),o=S6(),l=Ve();let c=class{constructor(d=o.LogLevel.None){this.privLogPath=void 0,this.privEnableConsoleOutput=!0,this.privLogLevelFilter=d}set logPath(d){l.Contracts.throwIfNullOrUndefined(i.openSync,`
File System access not available`),this.privLogPath=d}set enableConsoleOutput(d){this.privEnableConsoleOutput=d}onEvent(d){if(d.eventType>=this.privLogLevelFilter){const h=this.toString(d);if(this.logCallback&&this.logCallback(h),this.privLogPath&&i.writeFileSync(this.privLogPath,h+`
`,{flag:"a+"}),this.privEnableConsoleOutput)switch(d.eventType){case o.LogLevel.Debug:console.debug(h);break;case o.LogLevel.Info:console.info(h);break;case o.LogLevel.Warning:console.warn(h);break;case o.LogLevel.Error:console.error(h);break;default:console.log(h);break}}}toString(d){const h=[`${d.eventTime}`,`${d.name}`],f=d;for(const v in f)if(v&&d.hasOwnProperty(v)&&v!=="eventTime"&&v!=="eventType"&&v!=="eventId"&&v!=="name"&&v!=="constructor"){const m=f[v];let S="<NULL>";m!=null&&(typeof m=="number"||typeof m=="string"?S=m.toString():S=JSON.stringify(m)),h.push(`${v}: ${S}`)}return h.join(" | ")}};return fn.ConsoleLoggingListener=c,fn}var gg={},lw;function P7(){return lw||(lw=1,Object.defineProperty(gg,"__esModule",{value:!0})),gg}var yg={},Sg={},uw;function io(){return uw||(uw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AudioStreamFormatImpl=e.AudioStreamFormat=e.AudioFormatTag=void 0;var t;(function(o){o[o.PCM=1]="PCM",o[o.MuLaw=2]="MuLaw",o[o.Siren=3]="Siren",o[o.MP3=4]="MP3",o[o.SILKSkype=5]="SILKSkype",o[o.OGG_OPUS=6]="OGG_OPUS",o[o.WEBM_OPUS=7]="WEBM_OPUS",o[o.ALaw=8]="ALaw",o[o.FLAC=9]="FLAC",o[o.OPUS=10]="OPUS",o[o.AMR_WB=11]="AMR_WB",o[o.G722=12]="G722"})(t=e.AudioFormatTag||(e.AudioFormatTag={}));class r{static getDefaultInputFormat(){return i.getDefaultInputFormat()}static getWaveFormat(l,c,a,d){return new i(l,c,a,d)}static getWaveFormatPCM(l,c,a){return new i(l,c,a)}}e.AudioStreamFormat=r;class i extends r{constructor(l=16e3,c=16,a=1,d=t.PCM){super();let h=!0;switch(d){case t.PCM:this.formatTag=1;break;case t.ALaw:this.formatTag=6;break;case t.MuLaw:this.formatTag=7;break;default:h=!1}if(this.bitsPerSample=c,this.samplesPerSec=l,this.channels=a,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),h){this.privHeader=new ArrayBuffer(44);const f=new DataView(this.privHeader);this.setString(f,0,"RIFF"),f.setUint32(4,0,!0),this.setString(f,8,"WAVEfmt "),f.setUint32(16,16,!0),f.setUint16(20,this.formatTag,!0),f.setUint16(22,this.channels,!0),f.setUint32(24,this.samplesPerSec,!0),f.setUint32(28,this.avgBytesPerSec,!0),f.setUint16(32,this.channels*(this.bitsPerSample/8),!0),f.setUint16(34,this.bitsPerSample,!0),this.setString(f,36,"data"),f.setUint32(40,0,!0)}}static getDefaultInputFormat(){return new i}static getAudioContext(l){const c=window.AudioContext||window.webkitAudioContext||!1;if(c)return l!==void 0&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new c({sampleRate:l}):new c;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}close(){}get header(){return this.privHeader}setString(l,c,a){for(let d=0;d<a.length;d++)l.setUint8(c+d,a.charCodeAt(d))}}e.AudioStreamFormatImpl=i}(Sg)),Sg}var dw;function A7(){return dw||(dw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MicAudioSource=e.AudioWorkletSourceURLPropertyName=void 0;const t=ge(),r=Ne(),i=io();e.AudioWorkletSourceURLPropertyName="MICROPHONE-WorkletSourceUrl";class o{constructor(c,a,d,h){this.privRecorder=c,this.deviceId=a,this.privStreams={},this.privOutputChunkSize=o.AUDIOFORMAT.avgBytesPerSec/10,this.privId=d||r.createNoDashGuid(),this.privEvents=new r.EventSource,this.privMediaStream=h||null,this.privIsClosing=!1}get format(){return Promise.resolve(o.AUDIOFORMAT)}turnOn(){if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new r.Deferred;try{this.createAudioContext()}catch(d){if(d instanceof Error){const h=d;this.privInitializeDeferral.reject(h.name+": "+h.message)}else this.privInitializeDeferral.reject(d);return this.privInitializeDeferral.promise}const c=window.navigator;let a=c.getUserMedia||c.webkitGetUserMedia||c.mozGetUserMedia||c.msGetUserMedia;if(c.mediaDevices&&(a=(d,h,f)=>{c.mediaDevices.getUserMedia(d).then(h).catch(f)}),a){const d=()=>{this.onEvent(new r.AudioSourceInitializingEvent(this.privId)),this.privMediaStream&&this.privMediaStream.active?(this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()):a({audio:this.deviceId?{deviceId:this.deviceId}:!0,video:!1},h=>{this.privMediaStream=h,this.onEvent(new r.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()},h=>{const f=`Error occurred during microphone initialization: ${h}`;this.privInitializeDeferral.reject(f),this.onEvent(new r.AudioSourceErrorEvent(this.privId,f))})};this.privContext.state==="suspended"?this.privContext.resume().then(d).catch(h=>{this.privInitializeDeferral.reject(`Failed to initialize audio context: ${h}`)}):d()}else{const d="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(d),this.onEvent(new r.AudioSourceErrorEvent(d,""))}return this.privInitializeDeferral.promise}id(){return this.privId}attach(c){return this.onEvent(new r.AudioStreamNodeAttachingEvent(this.privId,c)),this.listen(c).then(a=>(this.onEvent(new r.AudioStreamNodeAttachedEvent(this.privId,c)),{detach:async()=>(a.readEnded(),delete this.privStreams[c],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,c)),this.turnOff()),id:()=>c,read:()=>a.read()}))}detach(c){c&&this.privStreams[c]&&(this.privStreams[c].close(),delete this.privStreams[c],this.onEvent(new r.AudioStreamNodeDetachedEvent(this.privId,c)))}async turnOff(){for(const c in this.privStreams)if(c){const a=this.privStreams[c];a&&a.close()}this.onEvent(new r.AudioSourceOffEvent(this.privId)),this.privInitializeDeferral&&(await this.privInitializeDeferral,this.privInitializeDeferral=null),await this.destroyAudioContext()}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().then(c=>({bitspersample:o.AUDIOFORMAT.bitsPerSample,channelcount:o.AUDIOFORMAT.channels,connectivity:t.connectivity.Unknown,manufacturer:"Speech SDK",model:c,samplerate:o.AUDIOFORMAT.samplesPerSec,type:t.type.Microphones}))}setProperty(c,a){if(c===e.AudioWorkletSourceURLPropertyName)this.privRecorder.setWorkletUrl(a);else throw new Error("Property '"+c+"' is not supported on Microphone.")}getMicrophoneLabel(){const c="microphone";if(this.privMicrophoneLabel!==void 0)return Promise.resolve(this.privMicrophoneLabel);if(this.privMediaStream===void 0||!this.privMediaStream.active)return Promise.resolve(c);this.privMicrophoneLabel=c;const a=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(a===void 0)return Promise.resolve(this.privMicrophoneLabel);const d=new r.Deferred;return navigator.mediaDevices.enumerateDevices().then(h=>{for(const f of h)if(f.deviceId===a){this.privMicrophoneLabel=f.label;break}d.resolve(this.privMicrophoneLabel)},()=>d.resolve(this.privMicrophoneLabel)),d.promise}async listen(c){await this.turnOn();const a=new r.ChunkedArrayBufferStream(this.privOutputChunkSize,c);this.privStreams[c]=a;try{this.privRecorder.record(this.privContext,this.privMediaStream,a)}catch(h){throw this.onEvent(new r.AudioStreamNodeErrorEvent(this.privId,c,h)),h}return a}onEvent(c){this.privEvents.onEvent(c),r.Events.instance.onEvent(c)}createAudioContext(){this.privContext||(this.privContext=i.AudioStreamFormatImpl.getAudioContext(o.AUDIOFORMAT.samplesPerSec))}async destroyAudioContext(){if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let c=!1;"close"in this.privContext&&(c=!0),c?this.privIsClosing||(this.privIsClosing=!0,await this.privContext.close(),this.privContext=null,this.privIsClosing=!1):this.privContext!==null&&this.privContext.state==="running"&&await this.privContext.suspend()}}e.MicAudioSource=o,o.AUDIOFORMAT=i.AudioStreamFormat.getDefaultInputFormat()}(yg)),yg}var Vc={},hw;function _7(){if(hw)return Vc;hw=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.FileAudioSource=void 0;const e=ge(),t=Ne(),r=io();let i=class{constructor(l,c,a){this.privStreams={},this.privHeaderEnd=44,this.privId=a||t.createNoDashGuid(),this.privEvents=new t.EventSource,this.privSource=l,typeof window<"u"&&typeof Blob<"u"&&this.privSource instanceof Blob?this.privFilename=l.name:this.privFilename=c||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}turnOn(){if(this.privFilename.lastIndexOf(".wav")!==this.privFilename.length-4){const l=this.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new t.AudioSourceErrorEvent(l,"")),Promise.reject(l)}this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}id(){return this.privId}async attach(l){this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,l));const c=await this.upload(l);return this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,l)),Promise.resolve({detach:async()=>{c.readEnded(),delete this.privStreams[l],this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,l)),await this.turnOff()},id:()=>l,read:()=>c.read()})}detach(l){l&&this.privStreams[l]&&(this.privStreams[l].close(),delete this.privStreams[l],this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,l)))}turnOff(){for(const l in this.privStreams)if(l){const c=this.privStreams[l];c&&!c.isClosed&&c.close()}return this.onEvent(new t.AudioSourceOffEvent(this.privId)),Promise.resolve()}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.then(l=>Promise.resolve({bitspersample:l.bitsPerSample,channelcount:l.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:l.samplesPerSec,type:e.type.File}))}readHeader(){const c=this.privSource.slice(0,4296),a=new t.Deferred,d=h=>{const f=new DataView(h),v=w=>String.fromCharCode(f.getUint8(w),f.getUint8(w+1),f.getUint8(w+2),f.getUint8(w+3));if(v(0)!=="RIFF"){a.reject("Invalid WAV header in file, RIFF was not found");return}if(v(8)!=="WAVE"||v(12)!=="fmt "){a.reject("Invalid WAV header in file, WAVEfmt was not found");return}const m=f.getInt32(16,!0),S=f.getUint16(22,!0),C=f.getUint32(24,!0),x=f.getUint16(34,!0);let R=36+Math.max(m-16,0);for(;v(R)!=="data";R+=2)if(R>4288){a.reject("Invalid WAV header in file, data block was not found");return}this.privHeaderEnd=R+8,a.resolve(r.AudioStreamFormat.getWaveFormatPCM(C,x,S))};if(typeof window<"u"&&typeof Blob<"u"&&c instanceof Blob){const h=new FileReader;h.onload=f=>{const v=f.target.result;d(v)},h.readAsArrayBuffer(c)}else{const h=c;d(h.buffer.slice(h.byteOffset,h.byteOffset+h.byteLength))}return a.promise}async upload(l){const c=a=>{const d=`Error occurred while processing '${this.privFilename}'. ${a}`;throw this.onEvent(new t.AudioStreamNodeErrorEvent(this.privId,l,d)),new Error(d)};try{await this.turnOn();const a=await this.privAudioFormatPromise,d=new t.ChunkedArrayBufferStream(a.avgBytesPerSec/10,l);this.privStreams[l]=d;const h=this.privSource.slice(this.privHeaderEnd),f=v=>{d.isClosed||(d.writeStreamChunk({buffer:v,isEnd:!1,timeReceived:Date.now()}),d.close())};if(typeof window<"u"&&typeof Blob<"u"&&h instanceof Blob){const v=new FileReader;v.onerror=m=>c(m.toString()),v.onload=m=>{const S=m.target.result;f(S)},v.readAsArrayBuffer(h)}else{const v=h;f(v.buffer.slice(v.byteOffset,v.byteOffset+v.byteLength))}return d}catch(a){c(a)}}onEvent(l){this.privEvents.onEvent(l),t.Events.instance.onEvent(l)}};return Vc.FileAudioSource=i,Vc}var Fc={},pw;function k7(){if(pw)return Fc;pw=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.PcmRecorder=void 0;const e=Ne();class t{constructor(i){this.privStopInputOnRelease=i}record(i,o,l){const a=new e.RiffPcmEncoder(i.sampleRate,16e3),d=i.createMediaStreamSource(o),h=()=>{const v=(()=>{let m=0;try{return i.createScriptProcessor(m,1,1)}catch{m=2048;let C=i.sampleRate;for(;m<16384&&C>=32e3;)m<<=1,C>>=1;return i.createScriptProcessor(m,1,1)}})();v.onaudioprocess=m=>{const S=m.inputBuffer.getChannelData(0);if(l&&!l.isClosed){const C=a.encode(S);C&&l.writeStreamChunk({buffer:C,isEnd:!1,timeReceived:Date.now()})}},d.connect(v),v.connect(i.destination),this.privMediaResources={scriptProcessorNode:v,source:d,stream:o}},f=!!this.privSpeechProcessorScript&&this.privSpeechProcessorScript.toLowerCase()==="ignore";if(i.audioWorklet&&!f){if(!this.privSpeechProcessorScript){const v=`class SP extends AudioWorkletProcessor {
                    constructor(options) {
                      super(options);
                    }
                    process(inputs, outputs) {
                      const input = inputs[0];
                      const output = [];
                      for (let channel = 0; channel < input.length; channel += 1) {
                        output[channel] = input[channel];
                      }
                      this.port.postMessage(output[0]);
                      return true;
                    }
                  }
                  registerProcessor('speech-processor', SP);`,m=new Blob([v],{type:"application/javascript; charset=utf-8"});this.privSpeechProcessorScript=URL.createObjectURL(m)}i.audioWorklet.addModule(this.privSpeechProcessorScript).then(()=>{const v=new AudioWorkletNode(i,"speech-processor");v.port.onmessage=m=>{const S=m.data;if(l&&!l.isClosed){const C=a.encode(S);C&&l.writeStreamChunk({buffer:C,isEnd:!1,timeReceived:Date.now()})}},d.connect(v),v.connect(i.destination),this.privMediaResources={scriptProcessorNode:v,source:d,stream:o}}).catch(()=>{h()})}else try{h()}catch(v){throw new Error(`Unable to start audio worklet node for PCMRecorder: ${v}`)}}releaseMediaResources(i){this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(i.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privStopInputOnRelease&&this.privMediaResources.stream.getTracks().forEach(o=>o.stop()),this.privMediaResources.source=null))}setWorkletUrl(i){this.privSpeechProcessorScript=i}}return Fc.PcmRecorder=t,Fc}var Hc={},Or={},fw;function b6(){if(fw)return Or;fw=1;var e=Or&&Or.__createBinding||(Object.create?function(m,S,C,x){x===void 0&&(x=C),Object.defineProperty(m,x,{enumerable:!0,get:function(){return S[C]}})}:function(m,S,C,x){x===void 0&&(x=C),m[x]=S[C]}),t=Or&&Or.__setModuleDefault||(Object.create?function(m,S){Object.defineProperty(m,"default",{enumerable:!0,value:S})}:function(m,S){m.default=S}),r=Or&&Or.__importStar||function(m){if(m&&m.__esModule)return m;var S={};if(m!=null)for(var C in m)C!=="default"&&Object.hasOwnProperty.call(m,C)&&e(S,m,C);return t(S,m),S},i=Or&&Or.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Or,"__esModule",{value:!0}),Or.WebsocketMessageAdapter=void 0;const o=r(Hs),l=r(Hs),c=i(Hs),a=i(Hs),d=i(Hs),h=xr(),f=Ne();let v=class Ky{constructor(S,C,x,R,w,T){if(!S)throw new f.ArgumentNullError("uri");if(!x)throw new f.ArgumentNullError("messageFormatter");this.proxyInfo=R,this.privConnectionEvents=new f.EventSource,this.privConnectionId=C,this.privMessageFormatter=x,this.privConnectionState=f.ConnectionState.None,this.privUri=S,this.privHeaders=w,this.privEnableCompression=T,this.privHeaders[h.HeaderNames.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}get state(){return this.privConnectionState}open(){if(this.privConnectionState===f.ConnectionState.Disconnected)return Promise.reject(`Cannot open a connection that is in ${this.privConnectionState} state`);if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new f.Deferred,this.privCertificateValidatedDeferral=new f.Deferred,this.privConnectionState=f.ConnectionState.Connecting;try{if(typeof WebSocket<"u"&&!Ky.forceNpmWebSocket)this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);else{const S={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression};this.privCertificateValidatedDeferral.resolve(),S.agent=this.getAgent();let x=new URL(this.privUri).protocol;(x==null?void 0:x.toLocaleLowerCase())==="wss:"?x="https:":(x==null?void 0:x.toLocaleLowerCase())==="ws:"&&(x="http:"),S.agent.protocol=x,this.privWebsocketClient=new d.default(this.privUri,S)}this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new f.Queue,this.privDisconnectDeferral=new f.Deferred,this.privSendMessageQueue=new f.Queue,this.processSendQueue().catch(S=>{f.Events.instance.onEvent(new f.BackgroundEvent(S))})}catch(S){return this.privConnectionEstablishDeferral.resolve(new f.ConnectionOpenResponse(500,S)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new f.ConnectionStartEvent(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=()=>{this.privCertificateValidatedDeferral.promise.then(()=>{this.privConnectionState=f.ConnectionState.Connected,this.onEvent(new f.ConnectionEstablishedEvent(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new f.ConnectionOpenResponse(200,""))},S=>{this.privConnectionEstablishDeferral.reject(S)})},this.privWebsocketClient.onerror=S=>{this.onEvent(new f.ConnectionErrorEvent(this.privConnectionId,S.message,S.type)),this.privLastErrorReceived=S.message},this.privWebsocketClient.onclose=S=>{this.privConnectionState===f.ConnectionState.Connecting?(this.privConnectionState=f.ConnectionState.Disconnected,this.privConnectionEstablishDeferral.resolve(new f.ConnectionOpenResponse(S.code,S.reason+" "+this.privLastErrorReceived))):(this.privConnectionState=f.ConnectionState.Disconnected,this.privWebsocketClient=null,this.onEvent(new f.ConnectionClosedEvent(this.privConnectionId,S.code,S.reason))),this.onClose(S.code,S.reason).catch(C=>{f.Events.instance.onEvent(new f.BackgroundEvent(C))})},this.privWebsocketClient.onmessage=S=>{const C=new Date().toISOString();if(this.privConnectionState===f.ConnectionState.Connected){const x=new f.Deferred;if(this.privReceivingMessageQueue.enqueueFromPromise(x.promise),S.data instanceof ArrayBuffer){const R=new f.RawWebsocketMessage(f.MessageType.Binary,S.data);this.privMessageFormatter.toConnectionMessage(R).then(w=>{this.onEvent(new f.ConnectionMessageReceivedEvent(this.privConnectionId,C,w)),x.resolve(w)},w=>{x.reject(`Invalid binary message format. Error: ${w}`)})}else{const R=new f.RawWebsocketMessage(f.MessageType.Text,S.data);this.privMessageFormatter.toConnectionMessage(R).then(w=>{this.onEvent(new f.ConnectionMessageReceivedEvent(this.privConnectionId,C,w)),x.resolve(w)},w=>{x.reject(`Invalid text message format. Error: ${w}`)})}}},this.privConnectionEstablishDeferral.promise}send(S){if(this.privConnectionState!==f.ConnectionState.Connected)return Promise.reject(`Cannot send on connection that is in ${f.ConnectionState[this.privConnectionState]} state`);const C=new f.Deferred,x=new f.Deferred;return this.privSendMessageQueue.enqueueFromPromise(x.promise),this.privMessageFormatter.fromConnectionMessage(S).then(R=>{x.resolve({Message:S,RawWebsocketMessage:R,sendStatusDeferral:C})},R=>{x.reject(`Error formatting the message. ${R}`)}),C.promise}read(){return this.privConnectionState!==f.ConnectionState.Connected?Promise.reject(`Cannot read on connection that is in ${this.privConnectionState} state`):this.privReceivingMessageQueue.dequeue()}close(S){if(this.privWebsocketClient)this.privConnectionState!==f.ConnectionState.Disconnected&&this.privWebsocketClient.close(1e3,S||"Normal closure by client");else return Promise.resolve();return this.privDisconnectDeferral.promise}get events(){return this.privConnectionEvents}sendRawMessage(S){try{if(!S)return Promise.resolve();if(this.onEvent(new f.ConnectionMessageSentEvent(this.privConnectionId,new Date().toISOString(),S.Message)),this.isWebsocketOpen)this.privWebsocketClient.send(S.RawWebsocketMessage.payload);else return Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+S.Message.id+" "+new Error().stack);return Promise.resolve()}catch(C){return Promise.reject(`websocket send error: ${C}`)}}async onClose(S,C){const x=`Connection closed. ${S}: ${C}`;this.privConnectionState=f.ConnectionState.Disconnected,this.privDisconnectDeferral.resolve(),await this.privReceivingMessageQueue.drainAndDispose(()=>{},x),await this.privSendMessageQueue.drainAndDispose(R=>{R.sendStatusDeferral.reject(x)},x)}async processSendQueue(){for(;;){const C=await this.privSendMessageQueue.dequeue();if(!C)return;try{await this.sendRawMessage(C),C.sendStatusDeferral.resolve()}catch(x){C.sendStatusDeferral.reject(x)}}}onEvent(S){this.privConnectionEvents.onEvent(S),f.Events.instance.onEvent(S)}getAgent(){const S=new c.default.Agent(this.createConnection);return this.proxyInfo!==void 0&&this.proxyInfo.HostName!==void 0&&this.proxyInfo.Port>0&&(S.proxyInfo=this.proxyInfo),S}static GetProxyAgent(S){const C={host:S.HostName,port:S.Port};return S.UserName?C.headers={"Proxy-Authentication":"Basic "+new Buffer(`${S.UserName}:${S.Password===void 0?"":S.Password}`).toString("base64")}:C.headers={},C.headers.requestOCSP="true",new a.default(C)}createConnection(S,C){let x;if(C={...C,requestOCSP:!0,servername:C.host},this.proxyInfo){const w=Ky.GetProxyAgent(this.proxyInfo);x=new Promise((T,P)=>{w.callback(S,C,(j,k)=>{j?P(j):T(k)})})}else C.secureEndpoint?x=Promise.resolve(l.connect(C)):x=Promise.resolve(o.connect(C));return x}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}};return Or.WebsocketMessageAdapter=v,v.forceNpmWebSocket=!1,Or}var vw;function M7(){if(vw)return Hc;vw=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.WebsocketConnection=void 0;const e=Ne(),t=b6();let r=class{constructor(o,l,c,a,d,h=!1,f){if(this.privIsDisposed=!1,!o)throw new e.ArgumentNullError("uri");if(!a)throw new e.ArgumentNullError("messageFormatter");this.privMessageFormatter=a;let v="",m=0;if(l){for(const S in l)if(S){v+=m===0&&o.indexOf("?")===-1?"?":"&";const C=encodeURIComponent(S);v+=C;let x=l[S];x&&(x=encodeURIComponent(x),v+=`=${x}`),m++}}if(c){for(const S in c)if(S){v+=m===0&&o.indexOf("?")===-1?"?":"&";const C=encodeURIComponent(c[S]);v+=`${S}=${C}`,m++}}this.privUri=o+v,this.privId=f||e.createNoDashGuid(),this.privConnectionMessageAdapter=new t.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter,d,c,h)}async dispose(){this.privIsDisposed=!0,this.privConnectionMessageAdapter&&await this.privConnectionMessageAdapter.close()}isDisposed(){return this.privIsDisposed}get id(){return this.privId}get uri(){return this.privUri}state(){return this.privConnectionMessageAdapter.state}open(){return this.privConnectionMessageAdapter.open()}send(o){return this.privConnectionMessageAdapter.send(o)}read(){return this.privConnectionMessageAdapter.read()}get events(){return this.privConnectionMessageAdapter.events}};return Hc.WebsocketConnection=r,Hc}var $c={},mw;function N7(){if(mw)return $c;mw=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.ReplayableAudioNode=void 0;let e=class{constructor(i,o){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.privAudioNode=i,this.privBytesPerSecond=o}id(){return this.privAudioNode.id()}read(){if(this.privReplay&&this.privBuffers.length!==0){const i=this.privReplayOffset-this.privBufferStartOffset;let o=Math.round(i*this.privBytesPerSecond*1e-7);o%2!==0&&o++;let l=0;for(;l<this.privBuffers.length&&o>=this.privBuffers[l].chunk.buffer.byteLength;)o-=this.privBuffers[l++].chunk.buffer.byteLength;if(l<this.privBuffers.length){const c=this.privBuffers[l].chunk.buffer.slice(o);return this.privReplayOffset+=c.byteLength/this.privBytesPerSecond*1e7,l===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:c,isEnd:!1,timeReceived:this.privBuffers[l].chunk.timeReceived})}}return this.privAudioNode.read().then(i=>(i&&i.buffer&&(this.privBuffers.push(new t(i,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=i.buffer.byteLength),i))}detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}replay(){this.privBuffers&&this.privBuffers.length!==0&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(i){if(this.privBuffers===void 0||this.privBuffers.length===0)return;this.privLastShrinkOffset=i;const o=i-this.privBufferStartOffset;let l=Math.round(o*this.privBytesPerSecond*1e-7),c=0;for(;c<this.privBuffers.length&&l>=this.privBuffers[c].chunk.buffer.byteLength;)l-=this.privBuffers[c++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(i-l/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(c)}findTimeAtOffset(i){if(i<this.privBufferStartOffset||this.privBuffers===void 0)return 0;for(const o of this.privBuffers){const l=o.byteOffset/this.privBytesPerSecond*1e7,c=l+o.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(i>=l&&i<=c)return o.chunk.timeReceived}return 0}};$c.ReplayableAudioNode=e;class t{constructor(i,o,l){this.chunk=i,this.serial=o,this.byteOffset=l}}return $c}var Kc={},bg={},ai={},vn={},gw;function C6(){if(gw)return vn;gw=1;var e=vn&&vn.__createBinding||(Object.create?function(c,a,d,h){h===void 0&&(h=d),Object.defineProperty(c,h,{enumerable:!0,get:function(){return a[d]}})}:function(c,a,d,h){h===void 0&&(h=d),c[h]=a[d]}),t=vn&&vn.__setModuleDefault||(Object.create?function(c,a){Object.defineProperty(c,"default",{enumerable:!0,value:a})}:function(c,a){c.default=a}),r=vn&&vn.__importStar||function(c){if(c&&c.__esModule)return c;var a={};if(c!=null)for(var d in c)d!=="default"&&Object.hasOwnProperty.call(c,d)&&e(a,c,d);return t(a,c),a};Object.defineProperty(vn,"__esModule",{value:!0}),vn.AudioFileWriter=void 0;const i=r(Hs),o=Ve();let l=class{constructor(a){o.Contracts.throwIfNullOrUndefined(i.openSync,`
File System access not available, please use Push or PullAudioOutputStream`),this.privFd=i.openSync(a,"w")}set format(a){o.Contracts.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=a;let d=0;this.privAudioFormat.hasHeader&&(d=this.privAudioFormat.header.byteLength),this.privFd!==void 0&&(this.privWriteStream=i.createWriteStream("",{fd:this.privFd,start:d,autoClose:!1}))}write(a){o.Contracts.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),this.privWriteStream!==void 0&&this.privWriteStream.write(new Uint8Array(a.slice(0)))}close(){this.privFd!==void 0&&(this.privWriteStream.on("finish",()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),i.writeSync(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),i.closeSync(this.privFd),this.privFd=void 0}),this.privWriteStream.end())}id(){return this.privId}};return vn.AudioFileWriter=l,vn}var Dr={},yw;function x6(){if(yw)return Dr;yw=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.PullAudioInputStreamImpl=Dr.PullAudioInputStream=Dr.PushAudioInputStreamImpl=Dr.PushAudioInputStream=Dr.AudioInputStream=void 0;const e=ge(),t=Ne(),r=no(),i=ne(),o=io();let l=class{constructor(){}static createPushStream(v){return c.create(v)}static createPullStream(v,m){return d.create(v,m)}};Dr.AudioInputStream=l;class c extends l{static create(v){return new a(v)}}Dr.PushAudioInputStream=c;class a extends c{constructor(v){super(),v===void 0?this.privFormat=o.AudioStreamFormatImpl.getDefaultInputFormat():this.privFormat=v,this.privEvents=new t.EventSource,this.privId=r.createNoDashGuid(),this.privStream=new t.ChunkedArrayBufferStream(this.privFormat.avgBytesPerSec/10)}get format(){return Promise.resolve(this.privFormat)}write(v){this.privStream.writeStreamChunk({buffer:v,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}turnOn(){this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}async attach(v){this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,v)),await this.turnOn();const m=this.privStream;return this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,v)),{detach:async()=>(this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,v)),this.turnOff()),id:()=>v,read:()=>m.read()}}detach(v){this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,v))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:e.type.Stream})}onEvent(v){this.privEvents.onEvent(v),t.Events.instance.onEvent(v)}toBuffer(v){const m=Buffer.alloc(v.byteLength),S=new Uint8Array(v);for(let C=0;C<m.length;++C)m[C]=S[C];return m}}Dr.PushAudioInputStreamImpl=a;class d extends l{constructor(){super()}static create(v,m){return new h(v,m)}}Dr.PullAudioInputStream=d;class h extends d{constructor(v,m){super(),m===void 0?this.privFormat=i.AudioStreamFormat.getDefaultInputFormat():this.privFormat=m,this.privEvents=new t.EventSource,this.privId=r.createNoDashGuid(),this.privCallback=v,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Promise.resolve(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}turnOn(){this.onEvent(new t.AudioSourceInitializingEvent(this.privId)),this.onEvent(new t.AudioSourceReadyEvent(this.privId))}async attach(v){return this.onEvent(new t.AudioStreamNodeAttachingEvent(this.privId,v)),await this.turnOn(),this.onEvent(new t.AudioStreamNodeAttachedEvent(this.privId,v)),{detach:()=>(this.privCallback.close(),this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,v)),this.turnOff()),id:()=>v,read:()=>{let m=0,S;for(;m<this.privBufferSize;){const C=new ArrayBuffer(this.privBufferSize-m),x=this.privCallback.read(C);if(S===void 0?S=C:new Int8Array(S).set(new Int8Array(C),m),x===0)break;m+=x}return Promise.resolve({buffer:S.slice(0,m),isEnd:this.privIsClosed||m===0,timeReceived:Date.now()})}}}detach(v){this.onEvent(new t.AudioStreamNodeDetachedEvent(this.privId,v))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:e.connectivity.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:e.type.Stream})}onEvent(v){this.privEvents.onEvent(v),t.Events.instance.onEvent(v)}}return Dr.PullAudioInputStreamImpl=h,Dr}var zr={},Wc={},Cg={},Sw;function R6(){return Sw||(Sw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeechSynthesisOutputFormat=void 0,function(t){t[t.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",t[t.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",t[t.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",t[t.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",t[t.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",t[t.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",t[t.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",t[t.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",t[t.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",t[t.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",t[t.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",t[t.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",t[t.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",t[t.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",t[t.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",t[t.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",t[t.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",t[t.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",t[t.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",t[t.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",t[t.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",t[t.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",t[t.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",t[t.Ogg48Khz16BitMonoOpus=23]="Ogg48Khz16BitMonoOpus",t[t.Webm16Khz16BitMonoOpus=24]="Webm16Khz16BitMonoOpus",t[t.Webm24Khz16BitMonoOpus=25]="Webm24Khz16BitMonoOpus",t[t.Raw24Khz16BitMonoTrueSilk=26]="Raw24Khz16BitMonoTrueSilk",t[t.Raw8Khz8BitMonoALaw=27]="Raw8Khz8BitMonoALaw",t[t.Riff8Khz8BitMonoALaw=28]="Riff8Khz8BitMonoALaw",t[t.Webm24Khz16Bit24KbpsMonoOpus=29]="Webm24Khz16Bit24KbpsMonoOpus",t[t.Audio16Khz16Bit32KbpsMonoOpus=30]="Audio16Khz16Bit32KbpsMonoOpus",t[t.Audio24Khz16Bit48KbpsMonoOpus=31]="Audio24Khz16Bit48KbpsMonoOpus",t[t.Audio24Khz16Bit24KbpsMonoOpus=32]="Audio24Khz16Bit24KbpsMonoOpus",t[t.Raw22050Hz16BitMonoPcm=33]="Raw22050Hz16BitMonoPcm",t[t.Riff22050Hz16BitMonoPcm=34]="Riff22050Hz16BitMonoPcm",t[t.Raw44100Hz16BitMonoPcm=35]="Raw44100Hz16BitMonoPcm",t[t.Riff44100Hz16BitMonoPcm=36]="Riff44100Hz16BitMonoPcm",t[t.AmrWb16000Hz=37]="AmrWb16000Hz",t[t.G72216Khz64Kbps=38]="G72216Khz64Kbps"}(e.SpeechSynthesisOutputFormat||(e.SpeechSynthesisOutputFormat={}))}(Cg)),Cg}var bw;function Qd(){if(bw)return Wc;bw=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.AudioOutputFormatImpl=void 0;const e=R6(),t=io();class r extends t.AudioStreamFormatImpl{constructor(o,l,c,a,d,h,f,v,m){super(c,h,l,o),this.formatTag=o,this.avgBytesPerSec=a,this.blockAlign=d,this.priAudioFormatString=f,this.priRequestAudioFormatString=v,this.priHasHeader=m}static fromSpeechSynthesisOutputFormat(o){return o===void 0?r.getDefaultOutputFormat():r.fromSpeechSynthesisOutputFormatString(r.SpeechSynthesisOutputFormatToString[o])}static fromSpeechSynthesisOutputFormatString(o){switch(o){case"raw-8khz-8bit-mono-mulaw":return new r(t.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,o,o,!1);case"riff-16khz-16kbps-mono-siren":return new r(t.AudioFormatTag.Siren,1,16e3,2e3,40,0,o,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new r(t.AudioFormatTag.Siren,1,16e3,2e3,40,0,o,o,!1);case"audio-16khz-32kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,16e3,4096,2,16,o,o,!1);case"audio-16khz-128kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,16e3,16384,2,16,o,o,!1);case"audio-16khz-64kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,16e3,8192,2,16,o,o,!1);case"audio-24khz-48kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,24e3,6144,2,16,o,o,!1);case"audio-24khz-96kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,24e3,12288,2,16,o,o,!1);case"audio-24khz-160kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,24e3,20480,2,16,o,o,!1);case"raw-16khz-16bit-mono-truesilk":return new r(t.AudioFormatTag.SILKSkype,1,16e3,32e3,2,16,o,o,!1);case"riff-8khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,8e3,16e3,2,16,o,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,24e3,48e3,2,16,o,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new r(t.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,o,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,16e3,32e3,2,16,o,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,24e3,48e3,2,16,o,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,8e3,16e3,2,16,o,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new r(t.AudioFormatTag.OGG_OPUS,1,16e3,8192,2,16,o,o,!1);case"ogg-24khz-16bit-mono-opus":return new r(t.AudioFormatTag.OGG_OPUS,1,24e3,8192,2,16,o,o,!1);case"raw-48khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,48e3,96e3,2,16,o,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,48e3,96e3,2,16,o,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,48e3,12288,2,16,o,o,!1);case"audio-48khz-192kbitrate-mono-mp3":return new r(t.AudioFormatTag.MP3,1,48e3,24576,2,16,o,o,!1);case"ogg-48khz-16bit-mono-opus":return new r(t.AudioFormatTag.OGG_OPUS,1,48e3,12e3,2,16,o,o,!1);case"webm-16khz-16bit-mono-opus":return new r(t.AudioFormatTag.WEBM_OPUS,1,16e3,4e3,2,16,o,o,!1);case"webm-24khz-16bit-mono-opus":return new r(t.AudioFormatTag.WEBM_OPUS,1,24e3,6e3,2,16,o,o,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new r(t.AudioFormatTag.WEBM_OPUS,1,24e3,3e3,2,16,o,o,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new r(t.AudioFormatTag.OPUS,1,16e3,4e3,2,16,o,o,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new r(t.AudioFormatTag.OPUS,1,24e3,6e3,2,16,o,o,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new r(t.AudioFormatTag.OPUS,1,24e3,3e3,2,16,o,o,!1);case"audio-24khz-16bit-mono-flac":return new r(t.AudioFormatTag.FLAC,1,24e3,24e3,2,16,o,o,!1);case"audio-48khz-16bit-mono-flac":return new r(t.AudioFormatTag.FLAC,1,48e3,3e4,2,16,o,o,!1);case"raw-24khz-16bit-mono-truesilk":return new r(t.AudioFormatTag.SILKSkype,1,24e3,48e3,2,16,o,o,!1);case"raw-8khz-8bit-mono-alaw":return new r(t.AudioFormatTag.ALaw,1,8e3,8e3,1,8,o,o,!1);case"riff-8khz-8bit-mono-alaw":return new r(t.AudioFormatTag.ALaw,1,8e3,8e3,1,8,o,"raw-8khz-8bit-mono-alaw",!0);case"raw-22050hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,22050,44100,2,16,o,o,!1);case"riff-22050hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,22050,44100,2,16,o,"raw-22050hz-16bit-mono-pcm",!0);case"raw-44100hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,44100,88200,2,16,o,o,!1);case"riff-44100hz-16bit-mono-pcm":return new r(t.AudioFormatTag.PCM,1,44100,88200,2,16,o,"raw-44100hz-16bit-mono-pcm",!0);case"amr-wb-16000h":return new r(t.AudioFormatTag.AMR_WB,1,16e3,3052,2,16,o,o,!1);case"g722-16khz-64kbps":return new r(t.AudioFormatTag.G722,1,16e3,8e3,2,16,o,o,!1);case"riff-16khz-16bit-mono-pcm":default:return new r(t.AudioFormatTag.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return r.fromSpeechSynthesisOutputFormatString(typeof window<"u"?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(o){if(this.priHasHeader){const l=new DataView(this.privHeader);l.setUint32(4,o+this.privHeader.byteLength-8,!0),l.setUint32(40,o,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}addHeader(o){if(!this.hasHeader)return o;this.updateHeader(o.byteLength);const l=new Uint8Array(o.byteLength+this.header.byteLength);return l.set(new Uint8Array(this.header),0),l.set(new Uint8Array(o),this.header.byteLength),l.buffer}}return Wc.AudioOutputFormatImpl=r,r.SpeechSynthesisOutputFormatToString={[e.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[e.SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[e.SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[e.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[e.SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[e.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Raw48Khz16BitMonoPcm]:"raw-48khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff48Khz16BitMonoPcm]:"riff-48khz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Audio48Khz96KBitRateMonoMp3]:"audio-48khz-96kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3]:"audio-48khz-192kbitrate-mono-mp3",[e.SpeechSynthesisOutputFormat.Ogg48Khz16BitMonoOpus]:"ogg-48khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Webm16Khz16BitMonoOpus]:"webm-16khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Webm24Khz16BitMonoOpus]:"webm-24khz-16bit-mono-opus",[e.SpeechSynthesisOutputFormat.Webm24Khz16Bit24KbpsMonoOpus]:"webm-24khz-16bit-24kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoTrueSilk]:"raw-24khz-16bit-mono-truesilk",[e.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoALaw]:"raw-8khz-8bit-mono-alaw",[e.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoALaw]:"riff-8khz-8bit-mono-alaw",[e.SpeechSynthesisOutputFormat.Audio16Khz16Bit32KbpsMonoOpus]:"audio-16khz-16bit-32kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Audio24Khz16Bit48KbpsMonoOpus]:"audio-24khz-16bit-48kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Audio24Khz16Bit24KbpsMonoOpus]:"audio-24khz-16bit-24kbps-mono-opus",[e.SpeechSynthesisOutputFormat.Raw22050Hz16BitMonoPcm]:"raw-22050hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff22050Hz16BitMonoPcm]:"riff-22050hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Raw44100Hz16BitMonoPcm]:"raw-44100hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.Riff44100Hz16BitMonoPcm]:"riff-44100hz-16bit-mono-pcm",[e.SpeechSynthesisOutputFormat.AmrWb16000Hz]:"amr-wb-16000hz",[e.SpeechSynthesisOutputFormat.G72216Khz64Kbps]:"g722-16khz-64kbps"},Wc}var Cw;function aa(){if(Cw)return zr;Cw=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.PushAudioOutputStreamImpl=zr.PushAudioOutputStream=zr.PullAudioOutputStreamImpl=zr.PullAudioOutputStream=zr.AudioOutputStream=void 0;const e=Ne(),t=Ve(),r=Qd();let i=class{constructor(){}static createPullStream(){return o.create()}};zr.AudioOutputStream=i;class o extends i{static create(){return new l}}zr.PullAudioOutputStream=o;class l extends o{constructor(){super(),this.privId=e.createNoDashGuid(),this.privStream=new e.Stream}set format(h){h==null&&(this.privFormat=r.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privFormat=h}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}async read(h){const f=new Int8Array(h);let v=0;if(this.privLastChunkView!==void 0){if(this.privLastChunkView.length>h.byteLength)return f.set(this.privLastChunkView.slice(0,h.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(h.byteLength),Promise.resolve(h.byteLength);f.set(this.privLastChunkView),v=this.privLastChunkView.length,this.privLastChunkView=void 0}for(;v<h.byteLength&&!this.privStream.isReadEnded;){const m=await this.privStream.read();if(m!==void 0&&!m.isEnd){let S;m.buffer.byteLength>h.byteLength-v?(S=m.buffer.slice(0,h.byteLength-v),this.privLastChunkView=new Int8Array(m.buffer.slice(h.byteLength-v))):S=m.buffer,f.set(new Int8Array(S),v),v+=S.byteLength}else this.privStream.readEnded()}return v}write(h){t.Contracts.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:h,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}zr.PullAudioOutputStreamImpl=l;class c extends i{constructor(){super()}static create(h){return new a(h)}}zr.PushAudioOutputStream=c;class a extends c{constructor(h){super(),this.privId=e.createNoDashGuid(),this.privCallback=h}set format(h){}write(h){this.privCallback.write&&this.privCallback.write(h)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}return zr.PushAudioOutputStreamImpl=a,zr}var xw;function E6(){if(xw)return ai;xw=1,Object.defineProperty(ai,"__esModule",{value:!0}),ai.AudioOutputConfigImpl=ai.AudioConfigImpl=ai.AudioConfig=void 0;const e=er(),t=Ve(),r=ne(),i=C6(),o=x6(),l=aa();let c=class w6{static fromDefaultMicrophoneInput(){const f=new e.PcmRecorder(!0);return new a(new e.MicAudioSource(f))}static fromMicrophoneInput(f){const v=new e.PcmRecorder(!0);return new a(new e.MicAudioSource(v,f))}static fromWavFileInput(f,v="unnamedBuffer.wav"){return new a(new e.FileAudioSource(f,v))}static fromStreamInput(f){if(f instanceof r.PullAudioInputStreamCallback)return new a(new o.PullAudioInputStreamImpl(f));if(f instanceof r.AudioInputStream)return new a(f);if(typeof MediaStream<"u"&&f instanceof MediaStream){const v=new e.PcmRecorder(!1);return new a(new e.MicAudioSource(v,null,null,f))}throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new d(new r.SpeakerAudioDestination)}static fromSpeakerOutput(f){if(f===void 0)return w6.fromDefaultSpeakerOutput();if(f instanceof r.SpeakerAudioDestination)return new d(f);throw new Error("Not Supported Type")}static fromAudioFileOutput(f){return new d(new i.AudioFileWriter(f))}static fromStreamOutput(f){if(f instanceof r.PushAudioOutputStreamCallback)return new d(new l.PushAudioOutputStreamImpl(f));if(f instanceof r.PushAudioOutputStream)return new d(f);if(f instanceof r.PullAudioOutputStream)return new d(f);throw new Error("Not Supported Type")}};ai.AudioConfig=c;class a extends c{constructor(f){super(),this.privSource=f}get format(){return this.privSource.format}close(f,v){this.privSource.turnOff().then(()=>{f&&f()},m=>{v&&v(m)})}id(){return this.privSource.id()}turnOn(){return this.privSource.turnOn()}attach(f){return this.privSource.attach(f)}detach(f){return this.privSource.detach(f)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(f,v){if(t.Contracts.throwIfNull(v,"value"),this.privSource.setProperty!==void 0)this.privSource.setProperty(f,v);else throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(f,v){if(this.privSource.getProperty!==void 0)return this.privSource.getProperty(f,v);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}ai.AudioConfigImpl=a;class d extends c{constructor(f){super(),this.privDestination=f}set format(f){this.privDestination.format=f}write(f){this.privDestination.write(f)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(){throw new Error("This AudioConfig instance does not support getting properties.")}}return ai.AudioOutputConfigImpl=d,ai}var xg={},Rw;function I7(){return Rw||(Rw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationReason=void 0,function(t){t[t.Error=0]="Error",t[t.EndOfStream=1]="EndOfStream"}(e.CancellationReason||(e.CancellationReason={}))}(xg)),xg}var Gc={},ww;function j7(){if(ww)return Gc;ww=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.PullAudioInputStreamCallback=void 0;let e=class{};return Gc.PullAudioInputStreamCallback=e,Gc}var Jc={},Ew;function O7(){if(Ew)return Jc;Ew=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.PushAudioOutputStreamCallback=void 0;let e=class{};return Jc.PushAudioOutputStreamCallback=e,Jc}var Yc={},Tw;function D7(){if(Tw)return Yc;Tw=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.KeywordRecognitionModel=void 0;const e=Ve();let t=class{constructor(){this.privDisposed=!1}static fromFile(i){throw e.Contracts.throwIfFileDoesNotExist(i,"fileName"),new Error("Not yet implemented.")}static fromStream(i){throw e.Contracts.throwIfNull(i,"file"),new Error("Not yet implemented.")}close(){this.privDisposed||(this.privDisposed=!0)}};return Yc.KeywordRecognitionModel=t,Yc}var Qc={},Pw;function z7(){if(Pw)return Qc;Pw=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.SessionEventArgs=void 0;let e=class{constructor(r){this.privSessionId=r}get sessionId(){return this.privSessionId}};return Qc.SessionEventArgs=e,Qc}var Xc={},Aw;function L7(){if(Aw)return Xc;Aw=1,Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.RecognitionEventArgs=void 0;const e=ne();let t=class extends e.SessionEventArgs{constructor(i,o){super(o),this.privOffset=i}get offset(){return this.privOffset}};return Xc.RecognitionEventArgs=t,Xc}var Rg={},_w;function B7(){return _w||(_w=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.OutputFormat=void 0,function(t){t[t.Simple=0]="Simple",t[t.Detailed=1]="Detailed"}(e.OutputFormat||(e.OutputFormat={}))}(Rg)),Rg}var Zc={},kw;function q7(){if(kw)return Zc;kw=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.IntentRecognitionEventArgs=void 0;const e=ne();let t=class extends e.RecognitionEventArgs{constructor(i,o,l){super(o,l),this.privResult=i}get result(){return this.privResult}};return Zc.IntentRecognitionEventArgs=t,Zc}var el={},Mw;function U7(){if(Mw)return el;Mw=1,Object.defineProperty(el,"__esModule",{value:!0}),el.RecognitionResult=void 0;let e=class{constructor(r,i,o,l,c,a,d,h,f,v){this.privResultId=r,this.privReason=i,this.privText=o,this.privDuration=l,this.privOffset=c,this.privLanguage=a,this.privLanguageDetectionConfidence=d,this.privErrorDetails=h,this.privJson=f,this.privProperties=v}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}};return el.RecognitionResult=e,el}var tl={},Nw;function V7(){if(Nw)return tl;Nw=1,Object.defineProperty(tl,"__esModule",{value:!0}),tl.SpeechRecognitionResult=void 0;const e=ne();let t=class extends e.RecognitionResult{constructor(i,o,l,c,a,d,h,f,v,m,S){super(i,o,l,c,a,d,h,v,m,S),this.privSpeakerId=f}get speakerId(){return this.privSpeakerId}};return tl.SpeechRecognitionResult=t,tl}var rl={},Iw;function F7(){if(Iw)return rl;Iw=1,Object.defineProperty(rl,"__esModule",{value:!0}),rl.IntentRecognitionResult=void 0;const e=ne();let t=class extends e.SpeechRecognitionResult{constructor(i,o,l,c,a,d,h,f,v,m,S){super(o,l,c,a,d,h,f,void 0,v,m,S),this.privIntentId=i}get intentId(){return this.privIntentId}};return rl.IntentRecognitionResult=t,rl}var ws={},jw;function H7(){if(jw)return ws;jw=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.LanguageUnderstandingModelImpl=ws.LanguageUnderstandingModel=void 0;const e=Ve();let t=class{constructor(){}static fromEndpoint(o){e.Contracts.throwIfNull(o,"uri"),e.Contracts.throwIfNullOrWhitespace(o.hostname,"uri");const l=new r,c=o.host.indexOf(".");if(c===-1)throw new Error("Could not determine region from endpoint");l.region=o.host.substr(0,c);const a=o.pathname.lastIndexOf("/")+1;if(a===-1)throw new Error("Could not determine appId from endpoint");if(l.appId=o.pathname.substr(a),l.subscriptionKey=o.searchParams.get("subscription-key"),l.subscriptionKey===void 0)throw new Error("Could not determine subscription key from endpoint");return l}static fromAppId(o){e.Contracts.throwIfNullOrWhitespace(o,"appId");const l=new r;return l.appId=o,l}static fromSubscription(o,l,c){e.Contracts.throwIfNullOrWhitespace(o,"subscriptionKey"),e.Contracts.throwIfNullOrWhitespace(l,"appId"),e.Contracts.throwIfNullOrWhitespace(c,"region");const a=new r;return a.appId=l,a.region=c,a.subscriptionKey=o,a}};ws.LanguageUnderstandingModel=t;class r extends t{}return ws.LanguageUnderstandingModelImpl=r,ws}var ci={},Ow;function $7(){if(Ow)return ci;Ow=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.MeetingTranscriptionEventArgs=ci.ConversationTranscriptionEventArgs=ci.SpeechRecognitionEventArgs=void 0;const e=ne();let t=class extends e.RecognitionEventArgs{constructor(l,c,a){super(c,a),this.privResult=l}get result(){return this.privResult}};ci.SpeechRecognitionEventArgs=t;class r extends e.RecognitionEventArgs{constructor(l,c,a){super(c,a),this.privResult=l}get result(){return this.privResult}}ci.ConversationTranscriptionEventArgs=r;class i extends t{}return ci.MeetingTranscriptionEventArgs=i,ci}var nl={},il={},Dw;function Xd(){if(Dw)return il;Dw=1,Object.defineProperty(il,"__esModule",{value:!0}),il.CancellationEventArgsBase=void 0;const e=ne();let t=class extends e.RecognitionEventArgs{constructor(i,o,l,c,a){super(c,a),this.privReason=i,this.privErrorDetails=o,this.privErrorCode=l}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return il.CancellationEventArgsBase=t,il}var zw;function K7(){if(zw)return nl;zw=1,Object.defineProperty(nl,"__esModule",{value:!0}),nl.SpeechRecognitionCanceledEventArgs=void 0;const e=Xd();let t=class extends e.CancellationEventArgsBase{};return nl.SpeechRecognitionCanceledEventArgs=t,nl}var sl={},Lw;function W7(){if(Lw)return sl;Lw=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.TranslationRecognitionEventArgs=void 0;const e=ne();let t=class extends e.RecognitionEventArgs{constructor(i,o,l){super(o,l),this.privResult=i}get result(){return this.privResult}};return sl.TranslationRecognitionEventArgs=t,sl}var ol={},Bw;function G7(){if(Bw)return ol;Bw=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.TranslationSynthesisEventArgs=void 0;const e=ne();let t=class extends e.SessionEventArgs{constructor(i,o){super(o),this.privResult=i}get result(){return this.privResult}};return ol.TranslationSynthesisEventArgs=t,ol}var al={},qw;function P6(){if(qw)return al;qw=1,Object.defineProperty(al,"__esModule",{value:!0}),al.TranslationRecognitionResult=void 0;const e=ne();let t=class T6 extends e.SpeechRecognitionResult{constructor(i,o,l,c,a,d,h,f,v,m,S){super(o,l,c,a,d,h,f,void 0,v,m,S),this.privTranslations=i}static fromSpeechRecognitionResult(i){return new T6(void 0,i.resultId,i.reason,i.text,i.duration,i.offset,i.language,i.languageDetectionConfidence,i.errorDetails,i.json,i.properties)}get translations(){return this.privTranslations}};return al.TranslationRecognitionResult=t,al}var cl={},Uw;function J7(){if(Uw)return cl;Uw=1,Object.defineProperty(cl,"__esModule",{value:!0}),cl.TranslationSynthesisResult=void 0;let e=class{constructor(r,i){this.privReason=r,this.privAudio=i}get audio(){return this.privAudio}get reason(){return this.privReason}};return cl.TranslationSynthesisResult=e,cl}var wg={},Vw;function Y7(){return Vw||(Vw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ResultReason=void 0,function(t){t[t.NoMatch=0]="NoMatch",t[t.Canceled=1]="Canceled",t[t.RecognizingSpeech=2]="RecognizingSpeech",t[t.RecognizedSpeech=3]="RecognizedSpeech",t[t.RecognizedKeyword=4]="RecognizedKeyword",t[t.RecognizingIntent=5]="RecognizingIntent",t[t.RecognizedIntent=6]="RecognizedIntent",t[t.TranslatingSpeech=7]="TranslatingSpeech",t[t.TranslatedSpeech=8]="TranslatedSpeech",t[t.SynthesizingAudio=9]="SynthesizingAudio",t[t.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted",t[t.SynthesizingAudioStarted=11]="SynthesizingAudioStarted",t[t.EnrollingVoiceProfile=12]="EnrollingVoiceProfile",t[t.EnrolledVoiceProfile=13]="EnrolledVoiceProfile",t[t.RecognizedSpeakers=14]="RecognizedSpeakers",t[t.RecognizedSpeaker=15]="RecognizedSpeaker",t[t.ResetVoiceProfile=16]="ResetVoiceProfile",t[t.DeletedVoiceProfile=17]="DeletedVoiceProfile",t[t.VoicesListRetrieved=18]="VoicesListRetrieved",t[t.TranslatingParticipantSpeech=19]="TranslatingParticipantSpeech",t[t.TranslatedParticipantSpeech=20]="TranslatedParticipantSpeech",t[t.TranslatedInstantMessage=21]="TranslatedInstantMessage",t[t.TranslatedParticipantInstantMessage=22]="TranslatedParticipantInstantMessage"}(e.ResultReason||(e.ResultReason={}))}(wg)),wg}var Es={},Fw;function Q7(){if(Fw)return Es;Fw=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.SpeechConfigImpl=Es.SpeechConfig=void 0;const e=ge(),t=Ve(),r=ne();let i=class{constructor(){}static fromSubscription(c,a){t.Contracts.throwIfNullOrWhitespace(c,"subscriptionKey"),t.Contracts.throwIfNullOrWhitespace(a,"region");const d=new o;return d.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,a),d.setProperty(r.PropertyId.SpeechServiceConnection_Key,c),d}static fromEndpoint(c,a){t.Contracts.throwIfNull(c,"endpoint");const d=new o;return d.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,c.href),a!==void 0&&d.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),d}static fromHost(c,a){t.Contracts.throwIfNull(c,"hostName");const d=new o;return d.setProperty(r.PropertyId.SpeechServiceConnection_Host,c.protocol+"//"+c.hostname+(c.port===""?"":":"+c.port)),a!==void 0&&d.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),d}static fromAuthorizationToken(c,a){t.Contracts.throwIfNull(c,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(a,"region");const d=new o;return d.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d.setProperty(r.PropertyId.SpeechServiceConnection_IntentRegion,a),d.authorizationToken=c,d}close(){}};Es.SpeechConfig=i;class o extends i{constructor(){super(),this.privProperties=new r.PropertyCollection,this.speechRecognitionLanguage="en-US",this.outputFormat=r.OutputFormat.Simple}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,c)}get speechRecognitionLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,c)}get autoDetectSourceLanguages(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)}set autoDetectSourceLanguages(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,c)}get outputFormat(){return r.OutputFormat[this.privProperties.getProperty(e.OutputFormatPropertyName,void 0)]}set outputFormat(c){this.privProperties.setProperty(e.OutputFormatPropertyName,r.OutputFormat[c])}get endpointId(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,c)}setProperty(c,a){t.Contracts.throwIfNull(a,"value"),this.privProperties.setProperty(c,a)}getProperty(c,a){return this.privProperties.getProperty(c,a)}setProxy(c,a,d,h){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],c),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],d),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],h)}setServiceProperty(c,a){const d=JSON.parse(this.privProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));d[c]=a,this.privProperties.setProperty(e.ServicePropertiesPropertyName,JSON.stringify(d))}setProfanity(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[c])}enableAudioLogging(){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true"),this.privProperties.setProperty(e.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Detailed])}enableDictation(){this.privProperties.setProperty(e.ForceDictationPropertyName,"true")}clone(){const c=new o;return c.privProperties=this.privProperties.clone(),c}get speechSynthesisLanguage(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,c)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,c)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(c){this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[c])}}return Es.SpeechConfigImpl=o,Es}var Ts={},Hw;function X7(){if(Hw)return Ts;Hw=1,Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.SpeechTranslationConfigImpl=Ts.SpeechTranslationConfig=void 0;const e=ge(),t=Ve(),r=ne();let i=class extends r.SpeechConfig{constructor(){super()}static fromSubscription(c,a){t.Contracts.throwIfNullOrWhitespace(c,"subscriptionKey"),t.Contracts.throwIfNullOrWhitespace(a,"region");const d=new o;return d.properties.setProperty(r.PropertyId.SpeechServiceConnection_Key,c),d.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d}static fromAuthorizationToken(c,a){t.Contracts.throwIfNullOrWhitespace(c,"authorizationToken"),t.Contracts.throwIfNullOrWhitespace(a,"region");const d=new o;return d.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,c),d.properties.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d}static fromHost(c,a){t.Contracts.throwIfNull(c,"hostName");const d=new o;return d.setProperty(r.PropertyId.SpeechServiceConnection_Host,c.protocol+"//"+c.hostname+(c.port===""?"":":"+c.port)),a!==void 0&&d.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),d}static fromEndpoint(c,a){t.Contracts.throwIfNull(c,"endpoint"),t.Contracts.throwIfNull(a,"subscriptionKey");const d=new o;return d.properties.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,c.href),d.properties.setProperty(r.PropertyId.SpeechServiceConnection_Key,a),d}};Ts.SpeechTranslationConfig=i;class o extends i{constructor(){super(),this.privSpeechProperties=new r.PropertyCollection,this.outputFormat=r.OutputFormat.Simple}set authorizationToken(c){t.Contracts.throwIfNullOrWhitespace(c,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,c)}set speechRecognitionLanguage(c){t.Contracts.throwIfNullOrWhitespace(c,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,c)}get speechRecognitionLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage])}get subscriptionKey(){return this.privSpeechProperties.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_Key])}get outputFormat(){return r.OutputFormat[this.privSpeechProperties.getProperty(e.OutputFormatPropertyName,void 0)]}set outputFormat(c){this.privSpeechProperties.setProperty(e.OutputFormatPropertyName,r.OutputFormat[c])}get endpointId(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(c){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EndpointId,c)}addTargetLanguage(c){t.Contracts.throwIfNullOrWhitespace(c,"value");const a=this.targetLanguages;a.includes(c)||(a.push(c),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,a.join(",")))}get targetLanguages(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]}get voiceName(){return this.getProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_TranslationVoice])}set voiceName(c){t.Contracts.throwIfNullOrWhitespace(c,"value"),this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,c)}get region(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_Region)}setProxy(c,a,d,h){this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyHostName],c),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPort],a),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyUserName],d),this.setProperty(r.PropertyId[r.PropertyId.SpeechServiceConnection_ProxyPassword],h)}getProperty(c,a){return this.privSpeechProperties.getProperty(c,a)}setProperty(c,a){this.privSpeechProperties.setProperty(c,a)}get properties(){return this.privSpeechProperties}close(){}setServiceProperty(c,a){const d=JSON.parse(this.privSpeechProperties.getProperty(e.ServicePropertiesPropertyName,"{}"));d[c]=a,this.privSpeechProperties.setProperty(e.ServicePropertiesPropertyName,JSON.stringify(d))}setProfanity(c){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_ProfanityOption,r.ProfanityOption[c])}enableAudioLogging(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privSpeechProperties.setProperty(e.ForceDictationPropertyName,"true")}get speechSynthesisLanguage(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(c){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthLanguage,c)}get speechSynthesisVoiceName(){return this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(c){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthVoice,c)}get speechSynthesisOutputFormat(){return r.SpeechSynthesisOutputFormat[this.privSpeechProperties.getProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(c){this.privSpeechProperties.setProperty(r.PropertyId.SpeechServiceConnection_SynthOutputFormat,r.SpeechSynthesisOutputFormat[c])}}return Ts.SpeechTranslationConfigImpl=o,Ts}var ll={},$w;function _6(){if($w)return ll;$w=1,Object.defineProperty(ll,"__esModule",{value:!0}),ll.PropertyCollection=void 0;const e=ne();let t=class A6{constructor(){this.privKeys=[],this.privValues=[]}getProperty(i,o){let l;typeof i=="string"?l=i:l=e.PropertyId[i];for(let c=0;c<this.privKeys.length;c++)if(this.privKeys[c]===l)return this.privValues[c];if(o!==void 0)return String(o)}setProperty(i,o){let l;typeof i=="string"?l=i:l=e.PropertyId[i];for(let c=0;c<this.privKeys.length;c++)if(this.privKeys[c]===l){this.privValues[c]=o;return}this.privKeys.push(l),this.privValues.push(o)}clone(){const i=new A6;for(let o=0;o<this.privKeys.length;o++)i.privKeys.push(this.privKeys[o]),i.privValues.push(this.privValues[o]);return i}mergeTo(i){this.privKeys.forEach(o=>{if(i.getProperty(o,void 0)===void 0){const l=this.getProperty(o);i.setProperty(o,l)}})}get keys(){return this.privKeys}};return ll.PropertyCollection=t,ll}var Eg={},Kw;function uS(){return Kw||(Kw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PropertyId=void 0,function(t){t[t.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",t[t.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",t[t.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",t[t.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",t[t.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",t[t.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",t[t.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",t[t.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",t[t.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",t[t.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",t[t.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",t[t.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",t[t.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",t[t.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",t[t.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",t[t.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",t[t.Speech_SessionId=16]="Speech_SessionId",t[t.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",t[t.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",t[t.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",t[t.SpeechServiceConnection_AutoDetectSourceLanguages=20]="SpeechServiceConnection_AutoDetectSourceLanguages",t[t.SpeechServiceResponse_RequestDetailedResultTrueFalse=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",t[t.SpeechServiceResponse_RequestProfanityFilterTrueFalse=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",t[t.SpeechServiceResponse_JsonResult=23]="SpeechServiceResponse_JsonResult",t[t.SpeechServiceResponse_JsonErrorDetails=24]="SpeechServiceResponse_JsonErrorDetails",t[t.CancellationDetails_Reason=25]="CancellationDetails_Reason",t[t.CancellationDetails_ReasonText=26]="CancellationDetails_ReasonText",t[t.CancellationDetails_ReasonDetailedText=27]="CancellationDetails_ReasonDetailedText",t[t.LanguageUnderstandingServiceResponse_JsonResult=28]="LanguageUnderstandingServiceResponse_JsonResult",t[t.SpeechServiceConnection_Url=29]="SpeechServiceConnection_Url",t[t.SpeechServiceConnection_InitialSilenceTimeoutMs=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",t[t.SpeechServiceConnection_EndSilenceTimeoutMs=31]="SpeechServiceConnection_EndSilenceTimeoutMs",t[t.Speech_SegmentationSilenceTimeoutMs=32]="Speech_SegmentationSilenceTimeoutMs",t[t.Speech_SegmentationMaximumTimeMs=33]="Speech_SegmentationMaximumTimeMs",t[t.Speech_SegmentationStrategy=34]="Speech_SegmentationStrategy",t[t.SpeechServiceConnection_EnableAudioLogging=35]="SpeechServiceConnection_EnableAudioLogging",t[t.SpeechServiceConnection_LanguageIdMode=36]="SpeechServiceConnection_LanguageIdMode",t[t.SpeechServiceConnection_RecognitionEndpointVersion=37]="SpeechServiceConnection_RecognitionEndpointVersion",t[t.SpeechServiceConnection_SpeakerIdMode=38]="SpeechServiceConnection_SpeakerIdMode",t[t.SpeechServiceResponse_ProfanityOption=39]="SpeechServiceResponse_ProfanityOption",t[t.SpeechServiceResponse_PostProcessingOption=40]="SpeechServiceResponse_PostProcessingOption",t[t.SpeechServiceResponse_RequestWordLevelTimestamps=41]="SpeechServiceResponse_RequestWordLevelTimestamps",t[t.SpeechServiceResponse_StablePartialResultThreshold=42]="SpeechServiceResponse_StablePartialResultThreshold",t[t.SpeechServiceResponse_OutputFormatOption=43]="SpeechServiceResponse_OutputFormatOption",t[t.SpeechServiceResponse_TranslationRequestStablePartialResult=44]="SpeechServiceResponse_TranslationRequestStablePartialResult",t[t.SpeechServiceResponse_RequestWordBoundary=45]="SpeechServiceResponse_RequestWordBoundary",t[t.SpeechServiceResponse_RequestPunctuationBoundary=46]="SpeechServiceResponse_RequestPunctuationBoundary",t[t.SpeechServiceResponse_RequestSentenceBoundary=47]="SpeechServiceResponse_RequestSentenceBoundary",t[t.SpeechServiceResponse_DiarizeIntermediateResults=48]="SpeechServiceResponse_DiarizeIntermediateResults",t[t.Conversation_ApplicationId=49]="Conversation_ApplicationId",t[t.Conversation_DialogType=50]="Conversation_DialogType",t[t.Conversation_Initial_Silence_Timeout=51]="Conversation_Initial_Silence_Timeout",t[t.Conversation_From_Id=52]="Conversation_From_Id",t[t.Conversation_Conversation_Id=53]="Conversation_Conversation_Id",t[t.Conversation_Custom_Voice_Deployment_Ids=54]="Conversation_Custom_Voice_Deployment_Ids",t[t.Conversation_Speech_Activity_Template=55]="Conversation_Speech_Activity_Template",t[t.Conversation_Request_Bot_Status_Messages=56]="Conversation_Request_Bot_Status_Messages",t[t.Conversation_Agent_Connection_Id=57]="Conversation_Agent_Connection_Id",t[t.SpeechServiceConnection_Host=58]="SpeechServiceConnection_Host",t[t.ConversationTranslator_Host=59]="ConversationTranslator_Host",t[t.ConversationTranslator_Name=60]="ConversationTranslator_Name",t[t.ConversationTranslator_CorrelationId=61]="ConversationTranslator_CorrelationId",t[t.ConversationTranslator_Token=62]="ConversationTranslator_Token",t[t.PronunciationAssessment_ReferenceText=63]="PronunciationAssessment_ReferenceText",t[t.PronunciationAssessment_GradingSystem=64]="PronunciationAssessment_GradingSystem",t[t.PronunciationAssessment_Granularity=65]="PronunciationAssessment_Granularity",t[t.PronunciationAssessment_EnableMiscue=66]="PronunciationAssessment_EnableMiscue",t[t.PronunciationAssessment_Json=67]="PronunciationAssessment_Json",t[t.PronunciationAssessment_Params=68]="PronunciationAssessment_Params",t[t.SpeakerRecognition_Api_Version=69]="SpeakerRecognition_Api_Version",t[t.WebWorkerLoadType=70]="WebWorkerLoadType",t[t.TalkingAvatarService_WebRTC_SDP=71]="TalkingAvatarService_WebRTC_SDP"}(e.PropertyId||(e.PropertyId={}))}(Eg)),Eg}var ul={},Ww;function Z7(){if(Ww)return ul;Ww=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.Recognizer=void 0;const e=ge(),t=Ne(),r=Ve(),i=ne();let o=class k6{constructor(c,a,d){this.audioConfig=c!==void 0?c:i.AudioConfig.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=a.clone(),this.privConnectionFactory=d,this.implCommonRecognizerSetup()}close(c,a){r.Contracts.throwIfDisposed(this.privDisposed),t.marshalPromiseToCallbacks(this.dispose(!0),c,a)}get internalData(){return this.privReco}async dispose(c){this.privDisposed||(this.privDisposed=!0,c&&this.privReco&&(await this.privReco.audioSource.turnOff(),await this.privReco.dispose()))}static get telemetryEnabled(){return e.ServiceRecognizerBase.telemetryDataEnabled}static enableTelemetry(c){e.ServiceRecognizerBase.telemetryDataEnabled=c}implCommonRecognizerSetup(){let c=typeof window<"u"?"Browser":"Node",a="unknown",d="unknown";typeof navigator<"u"&&(c=c+"/"+navigator.platform,a=navigator.userAgent,d=navigator.appVersion);const h=this.createRecognizerConfig(new e.SpeechServiceConfig(new e.Context(new e.OS(c,a,d))));this.privReco=this.createServiceRecognizer(k6.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,h)}async recognizeOnceAsyncImpl(c){r.Contracts.throwIfDisposed(this.privDisposed);const a=new t.Deferred;await this.implRecognizerStop(),await this.privReco.recognize(c,a.resolve,a.reject);const d=await a.promise;return await this.implRecognizerStop(),d}async startContinuousRecognitionAsyncImpl(c){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop(),await this.privReco.recognize(c,void 0,void 0)}async stopContinuousRecognitionAsyncImpl(){r.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop()}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}static getAuthFromProperties(c){const a=c.getProperty(i.PropertyId.SpeechServiceConnection_Key,void 0);return a&&a!==""?new e.CognitiveSubscriptionKeyAuthentication(a):new e.CognitiveTokenAuthentication(()=>{const h=c.getProperty(i.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(h)},()=>{const h=c.getProperty(i.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(h)})}};return ul.Recognizer=o,ul}var dl={},Gw;function eB(){if(Gw)return dl;Gw=1,Object.defineProperty(dl,"__esModule",{value:!0}),dl.SpeechRecognizer=void 0;const e=ge(),t=Ne(),r=Ve(),i=ne();let o=class M6 extends i.Recognizer{constructor(c,a){const d=c;r.Contracts.throwIfNull(d,"speechConfig"),r.Contracts.throwIfNullOrWhitespace(d.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,d.properties,new e.SpeechConnectionFactory),this.privDisposedRecognizer=!1}static FromConfig(c,a,d){const h=c;return a.properties.mergeTo(h.properties),new M6(c,d)}get endpointId(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){r.Contracts.throwIfNullOrWhitespace(c,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,c)}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(e.OutputFormatPropertyName,i.OutputFormat[i.OutputFormat.Simple])===i.OutputFormat[i.OutputFormat.Simple]?i.OutputFormat.Simple:i.OutputFormat.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(c,a){t.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(e.RecognitionMode.Interactive),c,a)}startContinuousRecognitionAsync(c,a){t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),c,a)}stopContinuousRecognitionAsync(c,a){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),c,a)}startKeywordRecognitionAsync(c,a,d){r.Contracts.throwIfNull(c,"model"),d&&d("Not yet implemented.")}stopKeywordRecognitionAsync(c){c&&c()}close(c,a){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),c,a)}async dispose(c){this.privDisposedRecognizer||(c&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(c))}createRecognizerConfig(c){return new e.RecognizerConfig(c,this.privProperties)}createServiceRecognizer(c,a,d,h){const f=d;return new e.SpeechServiceRecognizer(c,a,f,h,this)}};return dl.SpeechRecognizer=o,dl}var hl={},Jw;function tB(){if(Jw)return hl;Jw=1,Object.defineProperty(hl,"__esModule",{value:!0}),hl.IntentRecognizer=void 0;const e=ge(),t=Ne(),r=Ve(),i=ne();let o=class extends i.Recognizer{constructor(c,a){r.Contracts.throwIfNullOrUndefined(c,"speechConfig");const d=c;r.Contracts.throwIfNullOrUndefined(d,"speechConfig"),super(a,d.properties,new e.IntentConnectionFactory),this.privAddedIntents=[],this.privAddedLmIntents={},this.privDisposedIntentRecognizer=!1,this.privProperties=d.properties,r.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage])}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,c)}get properties(){return this.privProperties}recognizeOnceAsync(c,a){if(r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const d=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",d.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(d.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}t.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(e.RecognitionMode.Interactive),c,a)}startContinuousRecognitionAsync(c,a){if(Object.keys(this.privAddedLmIntents).length!==0||this.privUmbrellaIntent!==void 0){const d=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",d.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(d.ReferenceGrammars),this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),c,a)}stopContinuousRecognitionAsync(c,a){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),c,a)}startKeywordRecognitionAsync(c,a,d){r.Contracts.throwIfNull(c,"model"),d&&d("Not yet implemented.")}stopKeywordRecognitionAsync(c,a){if(c)try{c()}catch(d){a&&a(d)}}addIntent(c,a){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),r.Contracts.throwIfNullOrWhitespace(a,"intentId"),r.Contracts.throwIfNullOrWhitespace(c,"simplePhrase"),this.privAddedIntents.push([a,c])}addIntentWithLanguageModel(c,a,d){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),r.Contracts.throwIfNullOrWhitespace(c,"intentId"),r.Contracts.throwIfNull(a,"model");const h=a;r.Contracts.throwIfNullOrWhitespace(h.appId,"model.appId"),this.privAddedLmIntents[c]=new e.AddedLmIntent(h,d)}addAllIntents(c,a){r.Contracts.throwIfNull(c,"model");const d=c;r.Contracts.throwIfNullOrWhitespace(d.appId,"model.appId"),this.privUmbrellaIntent=new e.AddedLmIntent(d,a)}close(c,a){r.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),c,a)}createRecognizerConfig(c){return new e.RecognizerConfig(c,this.privProperties)}createServiceRecognizer(c,a,d,h){const f=d;return new e.IntentServiceRecognizer(c,a,f,h,this)}async dispose(c){this.privDisposedIntentRecognizer||c&&(this.privDisposedIntentRecognizer=!0,await super.dispose(c))}buildSpeechContext(){let c,a,d;const h=[];this.privUmbrellaIntent!==void 0&&(c=this.privUmbrellaIntent.modelImpl.appId,a=this.privUmbrellaIntent.modelImpl.region,d=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(const f of Object.keys(this.privAddedLmIntents)){const v=this.privAddedLmIntents[f];if(c===void 0)c=v.modelImpl.appId;else if(c!==v.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(a===void 0)a=v.modelImpl.region;else if(a!==v.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(d===void 0)d=v.modelImpl.subscriptionKey;else if(d!==v.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");const m="luis/"+c+"-PRODUCTION#"+f;h.push(m)}return{Intent:{id:c,key:d===void 0?this.privProperties.getProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_Key]):d,provider:"LUIS"},ReferenceGrammars:this.privUmbrellaIntent===void 0?h:["luis/"+c+"-PRODUCTION"]}}};return hl.IntentRecognizer=o,hl}var Tg={},Yw;function rB(){return Yw||(Yw=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoiceProfileType=void 0,function(t){t[t.TextIndependentIdentification=0]="TextIndependentIdentification",t[t.TextDependentVerification=1]="TextDependentVerification",t[t.TextIndependentVerification=2]="TextIndependentVerification"}(e.VoiceProfileType||(e.VoiceProfileType={}))}(Tg)),Tg}var pl={},fl={},Ps={},Qw;function N6(){if(Qw)return Ps;Qw=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.ConnectionMessageImpl=Ps.ConnectionMessage=void 0;const e=xr(),t=Ne(),r=_6(),i=uS();let o=class{};Ps.ConnectionMessage=o;class l{constructor(a){this.privConnectionMessage=a,this.privProperties=new r.PropertyCollection,this.privConnectionMessage.headers[e.HeaderNames.ConnectionId]&&this.privProperties.setProperty(i.PropertyId.Speech_SessionId,this.privConnectionMessage.headers[e.HeaderNames.ConnectionId]),Object.keys(this.privConnectionMessage.headers).forEach(d=>{this.privProperties.setProperty(d,this.privConnectionMessage.headers[d])})}get path(){return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find(a=>a.toLowerCase()==="path".toLowerCase())]}get isTextMessage(){return this.privConnectionMessage.messageType===t.MessageType.Text}get isBinaryMessage(){return this.privConnectionMessage.messageType===t.MessageType.Binary}get TextMessage(){return this.privConnectionMessage.textBody}get binaryMessage(){return this.privConnectionMessage.binaryBody}get properties(){return this.privProperties}toString(){return""}}return Ps.ConnectionMessageImpl=l,Ps}var Xw;function I6(){if(Xw)return fl;Xw=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.Connection=void 0;const e=ge(),t=Ne(),r=N6(),i=Ve(),o=ne();let l=class Wy{static fromRecognizer(a){const d=a.internalData,h=new Wy;return h.privInternalData=d,h.setupEvents(),h}static fromSynthesizer(a){const d=a.internalData,h=new Wy;return h.privInternalData=d,h.setupEvents(),h}openConnection(a,d){t.marshalPromiseToCallbacks(this.privInternalData.connect(),a,d)}closeConnection(a,d){if(this.privInternalData instanceof e.SynthesisAdapterBase)throw new Error("Disconnecting a synthesizer's connection is currently not supported");t.marshalPromiseToCallbacks(this.privInternalData.disconnect(),a,d)}setMessageProperty(a,d,h){if(i.Contracts.throwIfNullOrWhitespace(d,"propertyName"),this.privInternalData instanceof e.ServiceRecognizerBase){if(a.toLowerCase()!=="speech.context")throw new Error("Only speech.context message property sets are currently supported for recognizer");this.privInternalData.speechContext.setSection(d,h)}else if(this.privInternalData instanceof e.SynthesisAdapterBase){if(a.toLowerCase()!=="synthesis.context")throw new Error("Only synthesis.context message property sets are currently supported for synthesizer");this.privInternalData.synthesisContext.setSection(d,h)}}sendMessageAsync(a,d,h,f){t.marshalPromiseToCallbacks(this.privInternalData.sendNetworkMessage(a,d),h,f)}close(){}setupEvents(){this.privEventListener=this.privInternalData.connectionEvents.attach(a=>{a.name==="ConnectionEstablishedEvent"?this.connected&&this.connected(new o.ConnectionEventArgs(a.connectionId)):a.name==="ConnectionClosedEvent"?this.disconnected&&this.disconnected(new o.ConnectionEventArgs(a.connectionId)):a.name==="ConnectionMessageSentEvent"?this.messageSent&&this.messageSent(new o.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(a.message))):a.name==="ConnectionMessageReceivedEvent"&&this.messageReceived&&this.messageReceived(new o.ConnectionMessageEventArgs(new r.ConnectionMessageImpl(a.message)))}),this.privServiceEventListener=this.privInternalData.serviceEvents.attach(a=>{this.receivedServiceMessage&&this.receivedServiceMessage(new o.ServiceEventArgs(a.jsonString,a.name))})}};return fl.Connection=l,fl}var Zw;function nB(){if(Zw)return pl;Zw=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.TranslationRecognizer=void 0;const e=ge(),t=Ne(),r=I6(),i=Ve(),o=ne();let l=class j6 extends o.Recognizer{constructor(a,d,h){const f=a;i.Contracts.throwIfNull(f,"speechConfig"),super(d,f.properties,h||new e.TranslationConnectionFactory),this.privDisposedTranslationRecognizer=!1,this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)!==void 0&&i.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice),o.PropertyId[o.PropertyId.SpeechServiceConnection_TranslationVoice]),i.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages),o.PropertyId[o.PropertyId.SpeechServiceConnection_TranslationToLanguages]),i.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage),o.PropertyId[o.PropertyId.SpeechServiceConnection_RecoLanguage])}static FromConfig(a,d,h){const f=a;return d.properties.mergeTo(f.properties),new j6(a,h)}get speechRecognitionLanguage(){return i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage)}get targetLanguages(){return i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")}get voiceName(){return i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(o.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){this.properties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,a)}recognizeOnceAsync(a,d){i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),t.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(e.RecognitionMode.Interactive),a,d)}startContinuousRecognitionAsync(a,d){t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),a,d)}stopContinuousRecognitionAsync(a,d){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),a,d)}removeTargetLanguage(a){if(i.Contracts.throwIfNullOrUndefined(a,"language to be removed"),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0){const d=this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),h=d.indexOf(a);h>-1&&(d.splice(h,1),this.properties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,d.join(",")),this.updateLanguages(d))}}addTargetLanguage(a){i.Contracts.throwIfNullOrUndefined(a,"language to be added");let d=[];this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0?(d=this.properties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),d.includes(a)||(d.push(a),this.properties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,d.join(",")))):(this.properties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,a),d=[a]),this.updateLanguages(d)}close(a,d){i.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),a,d)}onConnection(){}async dispose(a){this.privDisposedTranslationRecognizer||(this.privDisposedTranslationRecognizer=!0,a&&(await this.implRecognizerStop(),await super.dispose(a)))}createRecognizerConfig(a){return new e.RecognizerConfig(a,this.privProperties)}createServiceRecognizer(a,d,h,f){const v=h;return new e.TranslationServiceRecognizer(a,d,v,f,this)}updateLanguages(a){const d=r.Connection.fromRecognizer(this);d&&(d.setMessageProperty("speech.context","translationcontext",{to:a}),d.sendMessageAsync("event",JSON.stringify({id:"translation",name:"updateLanguage",to:a})))}};return pl.TranslationRecognizer=l,pl}var vl={},eE;function iB(){if(eE)return vl;eE=1,Object.defineProperty(vl,"__esModule",{value:!0}),vl.Translations=void 0;const e=ne();let t=class{constructor(){this.privMap=new e.PropertyCollection}get languages(){return this.privMap.keys}get(i,o){return this.privMap.getProperty(i,o)}set(i,o){this.privMap.setProperty(i,o)}};return vl.Translations=t,vl}var Pg={},tE;function sB(){return tE||(tE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NoMatchReason=void 0,function(t){t[t.NotRecognized=0]="NotRecognized",t[t.InitialSilenceTimeout=1]="InitialSilenceTimeout",t[t.InitialBabbleTimeout=2]="InitialBabbleTimeout"}(e.NoMatchReason||(e.NoMatchReason={}))}(Pg)),Pg}var ml={},rE;function oB(){if(rE)return ml;rE=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.NoMatchDetails=void 0;const e=ge(),t=ne();let r=class O6{constructor(o){this.privReason=o}static fromResult(o){const l=e.SimpleSpeechPhrase.fromJSON(o.json,0);let c=t.NoMatchReason.NotRecognized;switch(l.RecognitionStatus){case e.RecognitionStatus.BabbleTimeout:c=t.NoMatchReason.InitialBabbleTimeout;break;case e.RecognitionStatus.InitialSilenceTimeout:c=t.NoMatchReason.InitialSilenceTimeout;break;default:c=t.NoMatchReason.NotRecognized;break}return new O6(c)}get reason(){return this.privReason}};return ml.NoMatchDetails=r,ml}var gl={},nE;function aB(){if(nE)return gl;nE=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.TranslationRecognitionCanceledEventArgs=void 0;let e=class{constructor(r,i,o,l,c){this.privCancelReason=i,this.privErrorDetails=o,this.privResult=c,this.privSessionId=r,this.privErrorCode=l}get result(){return this.privResult}get sessionId(){return this.privSessionId}get reason(){return this.privCancelReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return gl.TranslationRecognitionCanceledEventArgs=e,gl}var yl={},iE;function cB(){if(iE)return yl;iE=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.IntentRecognitionCanceledEventArgs=void 0;const e=ne();let t=class extends e.IntentRecognitionEventArgs{constructor(i,o,l,c,a,d){super(c,a,d),this.privReason=i,this.privErrorDetails=o,this.privErrorCode=l}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}};return yl.IntentRecognitionCanceledEventArgs=t,yl}var Sl={},sE;function D6(){if(sE)return Sl;sE=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.CancellationDetailsBase=void 0;let e=class{constructor(r,i,o){this.privReason=r,this.privErrorDetails=i,this.privErrorCode=o}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get ErrorCode(){return this.privErrorCode}};return Sl.CancellationDetailsBase=e,Sl}var bl={},oE;function lB(){if(oE)return bl;oE=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.CancellationDetails=void 0;const e=ge(),t=D6(),r=ne();let i=class z6 extends t.CancellationDetailsBase{constructor(l,c,a){super(l,c,a)}static fromResult(l){let c=r.CancellationReason.Error,a=r.CancellationErrorCode.NoError;if(l instanceof r.RecognitionResult&&l.json){const d=e.SimpleSpeechPhrase.fromJSON(l.json,0);c=e.EnumTranslation.implTranslateCancelResult(d.RecognitionStatus)}return l.properties&&(a=r.CancellationErrorCode[l.properties.getProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new z6(c,l.errorDetails||e.EnumTranslation.implTranslateErrorDetails(a),a)}};return bl.CancellationDetails=i,bl}var Ag={},aE;function uB(){return aE||(aE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationErrorCode=void 0,function(t){t[t.NoError=0]="NoError",t[t.AuthenticationFailure=1]="AuthenticationFailure",t[t.BadRequestParameters=2]="BadRequestParameters",t[t.TooManyRequests=3]="TooManyRequests",t[t.ConnectionFailure=4]="ConnectionFailure",t[t.ServiceTimeout=5]="ServiceTimeout",t[t.ServiceError=6]="ServiceError",t[t.RuntimeError=7]="RuntimeError",t[t.Forbidden=8]="Forbidden"}(e.CancellationErrorCode||(e.CancellationErrorCode={}))}(Ag)),Ag}var Cl={},cE;function dB(){if(cE)return Cl;cE=1,Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.ConnectionEventArgs=void 0;const e=ne();let t=class extends e.SessionEventArgs{};return Cl.ConnectionEventArgs=t,Cl}var xl={},lE;function hB(){if(lE)return xl;lE=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.ServiceEventArgs=void 0;const e=ne();let t=class extends e.SessionEventArgs{constructor(i,o,l){super(l),this.privJsonResult=i,this.privEventName=o}get jsonString(){return this.privJsonResult}get eventName(){return this.privEventName}};return xl.ServiceEventArgs=t,xl}var Rl={},uE;function pB(){if(uE)return Rl;uE=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.PhraseListGrammar=void 0;let e=class L6{constructor(r){this.privGrammerBuilder=r.dynamicGrammar}static fromRecognizer(r){const i=r.internalData;return new L6(i)}addPhrase(r){this.privGrammerBuilder.addPhrase(r)}addPhrases(r){this.privGrammerBuilder.addPhrase(r)}clear(){this.privGrammerBuilder.clearPhrases()}};return Rl.PhraseListGrammar=e,Rl}var As={},dE;function dS(){if(dE)return As;dE=1,Object.defineProperty(As,"__esModule",{value:!0}),As.DialogServiceConfigImpl=As.DialogServiceConfig=void 0;const e=Ve(),t=ne();let r=class{constructor(){}set applicationId(l){}static get DialogTypes(){return{BotFramework:"bot_framework",CustomCommands:"custom_commands"}}};As.DialogServiceConfig=r;class i extends r{constructor(){super(),this.privSpeechConfig=new t.SpeechConfigImpl}get properties(){return this.privSpeechConfig.properties}get speechRecognitionLanguage(){return this.privSpeechConfig.speechRecognitionLanguage}set speechRecognitionLanguage(l){e.Contracts.throwIfNullOrWhitespace(l,"value"),this.privSpeechConfig.speechRecognitionLanguage=l}get outputFormat(){return this.privSpeechConfig.outputFormat}set outputFormat(l){this.privSpeechConfig.outputFormat=l}setProperty(l,c){this.privSpeechConfig.setProperty(l,c)}getProperty(l,c){return this.privSpeechConfig.getProperty(l)}setProxy(l,c,a,d){this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyHostName,l),this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyPort,`${c}`),a&&this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyUserName,a),d&&this.setProperty(t.PropertyId.SpeechServiceConnection_ProxyPassword,d)}setServiceProperty(l,c,a){this.privSpeechConfig.setServiceProperty(l,c)}close(){}}return As.DialogServiceConfigImpl=i,As}var wl={},hE;function fB(){if(hE)return wl;hE=1,Object.defineProperty(wl,"__esModule",{value:!0}),wl.BotFrameworkConfig=void 0;const e=Ve(),t=dS(),r=ne();let i=class extends t.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(l,c,a){e.Contracts.throwIfNullOrWhitespace(l,"subscription"),e.Contracts.throwIfNullOrWhitespace(c,"region");const d=new t.DialogServiceConfigImpl;return d.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),d.setProperty(r.PropertyId.SpeechServiceConnection_Key,l),d.setProperty(r.PropertyId.SpeechServiceConnection_Region,c),a&&d.setProperty(r.PropertyId.Conversation_ApplicationId,a),d}static fromAuthorizationToken(l,c,a){e.Contracts.throwIfNullOrWhitespace(l,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(c,"region");const d=new t.DialogServiceConfigImpl;return d.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),d.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,l),d.setProperty(r.PropertyId.SpeechServiceConnection_Region,c),a&&d.setProperty(r.PropertyId.Conversation_ApplicationId,a),d}static fromHost(l,c,a){e.Contracts.throwIfNullOrUndefined(l,"host");const d=l instanceof URL?l:new URL(`wss://${l}.convai.speech.azure.us`);e.Contracts.throwIfNullOrUndefined(d,"resolvedHost");const h=new t.DialogServiceConfigImpl;return h.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),h.setProperty(r.PropertyId.SpeechServiceConnection_Host,d.toString()),c!==void 0&&h.setProperty(r.PropertyId.SpeechServiceConnection_Key,c),h}static fromEndpoint(l,c){e.Contracts.throwIfNull(l,"endpoint");const a=new t.DialogServiceConfigImpl;return a.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.BotFramework),a.setProperty(r.PropertyId.SpeechServiceConnection_Endpoint,l.toString()),c!==void 0&&a.setProperty(r.PropertyId.SpeechServiceConnection_Key,c),a}};return wl.BotFrameworkConfig=i,wl}var El={},pE;function vB(){if(pE)return El;pE=1,Object.defineProperty(El,"__esModule",{value:!0}),El.CustomCommandsConfig=void 0;const e=Ve(),t=dS(),r=ne();let i=class extends t.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(l,c,a){e.Contracts.throwIfNullOrWhitespace(l,"applicationId"),e.Contracts.throwIfNullOrWhitespace(c,"subscription"),e.Contracts.throwIfNullOrWhitespace(a,"region");const d=new t.DialogServiceConfigImpl;return d.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.CustomCommands),d.setProperty(r.PropertyId.Conversation_ApplicationId,l),d.setProperty(r.PropertyId.SpeechServiceConnection_Key,c),d.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d}static fromAuthorizationToken(l,c,a){e.Contracts.throwIfNullOrWhitespace(l,"applicationId"),e.Contracts.throwIfNullOrWhitespace(c,"authorizationToken"),e.Contracts.throwIfNullOrWhitespace(a,"region");const d=new t.DialogServiceConfigImpl;return d.setProperty(r.PropertyId.Conversation_DialogType,t.DialogServiceConfig.DialogTypes.CustomCommands),d.setProperty(r.PropertyId.Conversation_ApplicationId,l),d.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,c),d.setProperty(r.PropertyId.SpeechServiceConnection_Region,a),d}set applicationId(l){e.Contracts.throwIfNullOrWhitespace(l,"value"),this.setProperty(r.PropertyId.Conversation_ApplicationId,l)}get applicationId(){return this.getProperty(r.PropertyId.Conversation_ApplicationId)}};return El.CustomCommandsConfig=i,El}var Tl={},Pl={},Al={},_l={},fE;function Gi(){if(fE)return _l;fE=1,Object.defineProperty(_l,"__esModule",{value:!0}),_l.QueryParameterNames=void 0;let e=class{};return _l.QueryParameterNames=e,e.BotId="botid",e.CustomSpeechDeploymentId="cid",e.CustomVoiceDeploymentId="deploymentId",e.EnableAudioLogging="storeAudio",e.EnableLanguageId="lidEnabled",e.EnableWordLevelTimestamps="wordLevelTimestamps",e.EndSilenceTimeoutMs="endSilenceTimeoutMs",e.SegmentationSilenceTimeoutMs="segmentationSilenceTimeoutMs",e.SegmentationMaximumTimeMs="segmentationMaximumTimeMs",e.SegmentationStrategy="segmentationStrategy",e.Format="format",e.InitialSilenceTimeoutMs="initialSilenceTimeoutMs",e.Language="language",e.Profanity="profanity",e.RequestBotStatusMessages="enableBotMessageStatus",e.StableIntermediateThreshold="stableIntermediateThreshold",e.StableTranslation="stableTranslation",e.TestHooks="testhooks",e.Postprocessing="postprocessing",e.CtsMeetingId="meetingId",e.CtsDeviceId="deviceId",e.CtsIsParticipant="isParticipant",e.EnableAvatar="enableTalkingAvatar",_l}var vE;function En(){if(vE)return Al;vE=1,Object.defineProperty(Al,"__esModule",{value:!0}),Al.ConnectionFactoryBase=void 0;const e=ge(),t=ne(),r=Gi();let i=class{static getHostSuffix(l){if(l){if(l.toLowerCase().startsWith("china"))return".azure.cn";if(l.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}setCommonUrlParams(l,c,a){new Map([[t.PropertyId.Speech_SegmentationSilenceTimeoutMs,r.QueryParameterNames.SegmentationSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_EnableAudioLogging,r.QueryParameterNames.EnableAudioLogging],[t.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,r.QueryParameterNames.EndSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,r.QueryParameterNames.InitialSilenceTimeoutMs],[t.PropertyId.SpeechServiceResponse_PostProcessingOption,r.QueryParameterNames.Postprocessing],[t.PropertyId.SpeechServiceResponse_ProfanityOption,r.QueryParameterNames.Profanity],[t.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,r.QueryParameterNames.EnableWordLevelTimestamps],[t.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,r.QueryParameterNames.StableIntermediateThreshold]]).forEach((f,v)=>{this.setUrlParameter(v,f,l,c,a)});const h=JSON.parse(l.parameters.getProperty(e.ServicePropertiesPropertyName,"{}"));Object.keys(h).forEach(f=>{c[f]=h[f]})}setUrlParameter(l,c,a,d,h){const f=a.parameters.getProperty(l,void 0);f&&(!h||h.search(c)===-1)&&(d[c]=f.toLocaleLowerCase())}};return Al.ConnectionFactoryBase=i,Al}var mE;function mB(){if(mE)return Pl;mE=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.DialogConnectionFactory=void 0;const e=er(),t=ge(),r=ne(),i=En(),o=ge(),l=xr(),c=Gi();class a extends i.ConnectionFactoryBase{create(h,f,v){const m=h.parameters.getProperty(r.PropertyId.Conversation_ApplicationId,""),S=h.parameters.getProperty(r.PropertyId.Conversation_DialogType),C=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),x=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),R=h.parameters.getProperty(r.PropertyId.Conversation_Request_Bot_Status_Messages,"true"),w={};w[l.HeaderNames.ConnectionId]=v,w[c.QueryParameterNames.Format]=h.parameters.getProperty(t.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase(),w[c.QueryParameterNames.Language]=x,w[c.QueryParameterNames.RequestBotStatusMessages]=R,m&&(w[c.QueryParameterNames.BotId]=m,S===r.DialogServiceConfig.DialogTypes.CustomCommands&&(w[l.HeaderNames.CustomCommandsAppId]=m));const T=S===r.DialogServiceConfig.DialogTypes.CustomCommands?"commands/":"",P=S===r.DialogServiceConfig.DialogTypes.CustomCommands?"v1":S===r.DialogServiceConfig.DialogTypes.BotFramework?"v3":"v0",j={};f.token!=null&&f.token!==""&&(j[f.headerName]=f.token);let k=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,"");if(!k){const F=i.ConnectionFactoryBase.getHostSuffix(C),q=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,`wss://${C}.${a.BaseUrl}${F}`);k=`${q.endsWith("/")?q:q+"/"}${T}${a.ApiKey}/${P}`}this.setCommonUrlParams(h,w,k);const B=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(k,w,j,new o.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),B,v)}}return Pl.DialogConnectionFactory=a,a.ApiKey="api",a.BaseUrl="convai.speech",Pl}var gE;function gB(){if(gE)return Tl;gE=1,Object.defineProperty(Tl,"__esModule",{value:!0}),Tl.DialogServiceConnector=void 0;const e=mB(),t=ge(),r=Ne(),i=Ve(),o=ne(),l=uS();let c=class extends o.Recognizer{constructor(d,h){const f=d;i.Contracts.throwIfNull(d,"dialogConfig"),super(h,f.properties,new e.DialogConnectionFactory),this.isTurnComplete=!0,this.privIsDisposed=!1,this.privProperties=f.properties.clone();const v=this.buildAgentConfig();this.privReco.agentConfig.set(v)}connect(d,h){r.marshalPromiseToCallbacks(this.privReco.connect(),d,h)}disconnect(d,h){r.marshalPromiseToCallbacks(this.privReco.disconnect(),d,h)}get authorizationToken(){return this.properties.getProperty(l.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(d){i.Contracts.throwIfNullOrWhitespace(d,"token"),this.properties.setProperty(l.PropertyId.SpeechServiceAuthorization_Token,d)}get properties(){return this.privProperties}get speechActivityTemplate(){return this.properties.getProperty(l.PropertyId.Conversation_Speech_Activity_Template)}set speechActivityTemplate(d){this.properties.setProperty(l.PropertyId.Conversation_Speech_Activity_Template,d)}listenOnceAsync(d,h){if(this.isTurnComplete){i.Contracts.throwIfDisposed(this.privIsDisposed);const v=(async()=>{await this.privReco.connect(),await this.implRecognizerStop(),this.isTurnComplete=!1;const m=new r.Deferred;await this.privReco.recognize(t.RecognitionMode.Conversation,m.resolve,m.reject);const S=await m.promise;return await this.implRecognizerStop(),S})();v.catch(()=>{this.dispose(!0).catch(()=>{})}),r.marshalPromiseToCallbacks(v.finally(()=>{this.isTurnComplete=!0}),d,h)}}sendActivityAsync(d,h,f){r.marshalPromiseToCallbacks(this.privReco.sendMessage(d),h,f)}close(d,h){i.Contracts.throwIfDisposed(this.privIsDisposed),r.marshalPromiseToCallbacks(this.dispose(!0),d,h)}async dispose(d){this.privIsDisposed||d&&(this.privIsDisposed=!0,await this.implRecognizerStop(),await super.dispose(d))}createRecognizerConfig(d){return new t.RecognizerConfig(d,this.privProperties)}createServiceRecognizer(d,h,f,v){const m=f;return new t.DialogServiceAdapter(d,h,m,v,this)}buildAgentConfig(){return{botInfo:{commType:this.properties.getProperty("Conversation_Communication_Type","Default"),commandsCulture:void 0,connectionId:this.properties.getProperty(l.PropertyId.Conversation_Agent_Connection_Id),conversationId:this.properties.getProperty(l.PropertyId.Conversation_Conversation_Id,void 0),fromId:this.properties.getProperty(l.PropertyId.Conversation_From_Id,void 0),ttsAudioFormat:this.properties.getProperty(l.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)},version:.2}}};return Tl.DialogServiceConnector=c,Tl}var kl={},yE;function yB(){if(yE)return kl;yE=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.ActivityReceivedEventArgs=void 0;let e=class{constructor(r,i){this.privActivity=r,this.privAudioStream=i}get activity(){return this.privActivity}get audioStream(){return this.privAudioStream}};return kl.ActivityReceivedEventArgs=e,kl}var Ml={},Nl={},SE;function SB(){if(SE)return Nl;SE=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.TurnStatusResponsePayload=void 0;class e{constructor(r){this.privMessageStatusResponse=JSON.parse(r)}static fromJSON(r){return new e(r)}get interactionId(){return this.privMessageStatusResponse.interactionId}get conversationId(){return this.privMessageStatusResponse.conversationId}get statusCode(){switch(this.privMessageStatusResponse.statusCode){case"Success":return 200;case"Failed":return 400;case"TimedOut":return 429;default:return this.privMessageStatusResponse.statusCode}}}return Nl.TurnStatusResponsePayload=e,Nl}var bE;function bB(){if(bE)return Ml;bE=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.TurnStatusReceivedEventArgs=void 0;const e=SB();let t=class{constructor(i){this.privTurnStatus=e.TurnStatusResponsePayload.fromJSON(i)}get interactionId(){return this.privTurnStatus.interactionId}get conversationId(){return this.privTurnStatus.conversationId}get statusCode(){return this.privTurnStatus.statusCode}};return Ml.TurnStatusReceivedEventArgs=t,Ml}var _g={},CE;function CB(){return CE||(CE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ServicePropertyChannel=void 0,function(t){t[t.UriQueryParameter=0]="UriQueryParameter"}(e.ServicePropertyChannel||(e.ServicePropertyChannel={}))}(_g)),_g}var kg={},xE;function xB(){return xE||(xE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProfanityOption=void 0,function(t){t[t.Masked=0]="Masked",t[t.Removed=1]="Removed",t[t.Raw=2]="Raw"}(e.ProfanityOption||(e.ProfanityOption={}))}(kg)),kg}var Il={},RE;function RB(){if(RE)return Il;RE=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.BaseAudioPlayer=void 0;const e=qn(),t=ne(),r=io();let i=class{constructor(l){this.audioContext=null,this.gainNode=null,this.autoUpdateBufferTimer=0,l===void 0&&(l=t.AudioStreamFormat.getDefaultInputFormat()),this.init(l)}playAudioSample(l,c,a){try{this.ensureInitializedContext();const d=this.formatAudioData(l),h=new Float32Array(this.samples.length+d.length);h.set(this.samples,0),h.set(d,this.samples.length),this.samples=h,c&&c()}catch(d){a&&a(d)}}stopAudio(l,c){this.audioContext!==null&&(this.samples=new Float32Array,clearInterval(this.autoUpdateBufferTimer),this.audioContext.close().then(()=>{l&&l()},a=>{c&&c(a)}),this.audioContext=null)}init(l){this.audioFormat=l,this.samples=new Float32Array}ensureInitializedContext(){if(this.audioContext===null){this.createAudioContext();const l=200;this.autoUpdateBufferTimer=setInterval(()=>{this.updateAudioBuffer()},l)}}createAudioContext(){this.audioContext=r.AudioStreamFormatImpl.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.startTime=this.audioContext.currentTime}formatAudioData(l){switch(this.audioFormat.bitsPerSample){case 8:return this.formatArrayBuffer(new Int8Array(l),128);case 16:return this.formatArrayBuffer(new Int16Array(l),32768);case 32:return this.formatArrayBuffer(new Int32Array(l),2147483648);default:throw new e.InvalidOperationError("Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time")}}formatArrayBuffer(l,c){const a=new Float32Array(l.length);for(let d=0;d<l.length;d++)a[d]=l[d]/c;return a}updateAudioBuffer(){if(this.samples.length===0)return;const l=this.audioFormat.channels,c=this.audioContext.createBufferSource(),a=this.samples.length/l,d=this.audioContext.createBuffer(l,a,this.audioFormat.samplesPerSec);for(let h=0;h<l;h++){let f=h;const v=d.getChannelData(h);for(let m=0;m<this.samples.length;m++,f+=l)v[m]=this.samples[f]}this.startTime<this.audioContext.currentTime&&(this.startTime=this.audioContext.currentTime),c.buffer=d,c.connect(this.gainNode),c.start(this.startTime),this.startTime+=d.duration,this.samples=new Float32Array}async playAudio(l){this.audioContext===null&&this.createAudioContext();const c=this.audioContext.createBufferSource(),a=this.audioContext.destination;await this.audioContext.decodeAudioData(l,d=>{c.buffer=d,c.connect(a),c.start(0)})}};return Il.BaseAudioPlayer=i,Il}var jl={},wE;function wB(){if(wE)return jl;wE=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.ConnectionMessageEventArgs=void 0;let e=class{constructor(r){this.privConnectionMessage=r}get message(){return this.privConnectionMessage}toString(){return"Message: "+this.privConnectionMessage.toString()}};return jl.ConnectionMessageEventArgs=e,jl}var Ol={},EE;function EB(){if(EE)return Ol;EE=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.VoiceProfile=void 0;let e=class{constructor(r,i){this.privId=r,this.privProfileType=i}get profileId(){return this.privId}get profileType(){return this.privProfileType}};return Ol.VoiceProfile=e,Ol}var _s={},TE;function TB(){if(TE)return _s;TE=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.VoiceProfileEnrollmentCancellationDetails=_s.VoiceProfileEnrollmentResult=void 0;const e=ge(),t=ne();let r=class Gy{constructor(l,c,a){this.privReason=l,this.privProperties=new t.PropertyCollection,this.privReason!==t.ResultReason.Canceled?c&&(this.privDetails=JSON.parse(c),this.privDetails.enrollmentStatus.toLowerCase()==="enrolling"&&(this.privReason=t.ResultReason.EnrollingVoiceProfile)):(this.privErrorDetails=a,this.privProperties.setProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[t.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get enrollmentsCount(){return this.privDetails.enrollmentsCount}get enrollmentsLength(){return this.privDetails.enrollmentsLength}get properties(){return this.privProperties}get enrollmentResultDetails(){return this.privDetails}get errorDetails(){return this.privErrorDetails}static FromIdentificationProfileList(l){const c=[];for(const a of l.value){const d=a.enrollmentStatus.toLowerCase()==="enrolling"?t.ResultReason.EnrollingVoiceProfile:a.enrollmentStatus.toLowerCase()==="enrolled"?t.ResultReason.EnrolledVoiceProfile:t.ResultReason.Canceled,h=new Gy(d,null,null);h.privDetails=this.getIdentificationDetails(a),c.push(h)}return c}static FromVerificationProfileList(l){const c=[];for(const a of l.value){const d=a.enrollmentStatus.toLowerCase()==="enrolling"?t.ResultReason.EnrollingVoiceProfile:a.enrollmentStatus.toLowerCase()==="enrolled"?t.ResultReason.EnrolledVoiceProfile:t.ResultReason.Canceled,h=new Gy(d,null,null);h.privDetails=this.getVerificationDetails(a),c.push(h)}return c}static getIdentificationDetails(l){return{audioLength:l.audioLength?parseFloat(l.audioLength):0,audioSpeechLength:l.audioSpeechLength?parseFloat(l.audioSpeechLength):0,enrollmentStatus:l.enrollmentStatus,enrollmentsCount:l.enrollmentsCount||0,enrollmentsLength:l.enrollmentsLength?parseFloat(l.enrollmentsLength):0,enrollmentsSpeechLength:l.enrollmentsSpeechLength?parseFloat(l.enrollmentsSpeechLength):0,profileId:l.profileId||l.identificationProfileId,remainingEnrollmentsSpeechLength:l.remainingEnrollmentsSpeechLength?parseFloat(l.remainingEnrollmentsSpeechLength):0}}static getVerificationDetails(l){return{audioLength:l.audioLength?parseFloat(l.audioLength):0,audioSpeechLength:l.audioSpeechLength?parseFloat(l.audioSpeechLength):0,enrollmentStatus:l.enrollmentStatus,enrollmentsCount:l.enrollmentsCount,enrollmentsLength:l.enrollmentsLength?parseFloat(l.enrollmentsLength):0,enrollmentsSpeechLength:l.enrollmentsSpeechLength?parseFloat(l.enrollmentsSpeechLength):0,profileId:l.profileId||l.verificationProfileId,remainingEnrollmentsCount:l.remainingEnrollments||l.remainingEnrollmentsCount,remainingEnrollmentsSpeechLength:l.remainingEnrollmentsSpeechLength?parseFloat(l.remainingEnrollmentsSpeechLength):0}}};_s.VoiceProfileEnrollmentResult=r;class i extends t.CancellationDetailsBase{constructor(l,c,a){super(l,c,a)}static fromResult(l){const c=t.CancellationReason.Error;let a=t.CancellationErrorCode.NoError;return l.properties&&(a=t.CancellationErrorCode[l.properties.getProperty(e.CancellationErrorCodePropertyName,t.CancellationErrorCode[t.CancellationErrorCode.NoError])]),new i(c,l.errorDetails,a)}}return _s.VoiceProfileEnrollmentCancellationDetails=i,_s}var ks={},PE;function PB(){if(PE)return ks;PE=1,Object.defineProperty(ks,"__esModule",{value:!0}),ks.VoiceProfileCancellationDetails=ks.VoiceProfileResult=void 0;const e=ge(),t=Ve(),r=ne();let i=class{constructor(c,a){this.privReason=c,this.privProperties=new r.PropertyCollection,c===r.ResultReason.Canceled&&(t.Contracts.throwIfNullOrUndefined(a,"statusText"),this.privErrorDetails=a,this.privProperties.setProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get properties(){return this.privProperties}get errorDetails(){return this.privErrorDetails}};ks.VoiceProfileResult=i;class o extends r.CancellationDetailsBase{constructor(c,a,d){super(c,a,d)}static fromResult(c){const a=r.CancellationReason.Error;let d=r.CancellationErrorCode.NoError;return c.properties&&(d=r.CancellationErrorCode[c.properties.getProperty(e.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new o(a,c.errorDetails,d)}}return ks.VoiceProfileCancellationDetails=o,ks}var Dl={},AE;function AB(){if(AE)return Dl;AE=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.VoiceProfilePhraseResult=void 0;const e=Ve(),t=ne();let r=class extends t.VoiceProfileResult{constructor(o,l,c,a){super(o,l),this.privPhrases=[],e.Contracts.throwIfNullOrUndefined(a,"phrase array"),this.privType=c,a&&a[0]&&(this.privPhrases=a)}get phrases(){return this.privPhrases}get type(){return this.privType}};return Dl.VoiceProfilePhraseResult=r,Dl}var zl={},_E;function _B(){if(_E)return zl;_E=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.VoiceProfileClient=void 0;const e=ge(),t=E6(),r=Ve(),i=ne();let o=class extends i.Recognizer{constructor(c){r.Contracts.throwIfNullOrUndefined(c,"speechConfig");const a=c;r.Contracts.throwIfNull(a,"speechConfig"),super(t.AudioConfig.fromStreamInput(i.AudioInputStream.createPushStream()),a.properties,new e.VoiceProfileConnectionFactory),this.privProperties=a.properties.clone(),this.privVoiceAdapter=this.privReco,this.privDisposedVoiceAdapter=!1}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){r.Contracts.throwIfNullOrWhitespace(c,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,c)}async createProfileAsync(c,a){const d=await this.privVoiceAdapter.createProfile(c,a);return new i.VoiceProfile(d[0],c)}async retrieveEnrollmentResultAsync(c){return this.privVoiceAdapter.retrieveEnrollmentResult(c)}async getAllProfilesAsync(c){return this.privVoiceAdapter.getAllProfiles(c)}async getActivationPhrasesAsync(c,a){return this.privVoiceAdapter.getActivationPhrases(c,a)}async enrollProfileAsync(c,a){const d=a;return r.Contracts.throwIfNullOrUndefined(d,"audioConfig"),this.audioConfig=a,this.privVoiceAdapter.SpeakerAudioSource=d,this.privVoiceAdapter.enrollProfile(c)}async deleteProfileAsync(c){return this.privVoiceAdapter.deleteProfile(c)}async resetProfileAsync(c){return this.privVoiceAdapter.resetProfile(c)}async close(){await this.dispose(!0)}createServiceRecognizer(c,a,d,h){const f=d;return new e.VoiceServiceRecognizer(c,a,f,h,this)}async dispose(c){this.privDisposedVoiceAdapter||(this.privDisposedVoiceAdapter=!0,c&&await super.dispose(c))}createRecognizerConfig(c){return new e.RecognizerConfig(c,this.properties)}getResult(c,a){return new i.VoiceProfileResult(c.ok?a:i.ResultReason.Canceled,c.statusText)}};return zl.VoiceProfileClient=o,zl}var Ll={},kE;function kB(){if(kE)return Ll;kE=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.SpeakerRecognizer=void 0;const e=ge(),t=Ve(),r=ne();let i=class extends r.Recognizer{constructor(l,c){t.Contracts.throwIfNullOrUndefined(l,"speechConfig");const a=l;t.Contracts.throwIfNullOrUndefined(a,"speechConfig"),super(c,a.properties,new e.SpeakerRecognitionConnectionFactory),this.privAudioConfigImpl=c,t.Contracts.throwIfNull(this.privAudioConfigImpl,"audioConfig"),this.privDisposedSpeakerRecognizer=!1,this.privProperties=a.properties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(l){t.Contracts.throwIfNullOrWhitespace(l,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,l)}get properties(){return this.privProperties}async recognizeOnceAsync(l){return t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),this.recognizeSpeakerOnceAsyncImpl(l)}async close(){t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.dispose(!0)}async recognizeSpeakerOnceAsyncImpl(l){t.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.implRecognizerStop();const c=await this.privReco.recognizeSpeaker(l);return await this.implRecognizerStop(),c}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}createRecognizerConfig(l){return new e.RecognizerConfig(l,this.privProperties)}createServiceRecognizer(l,c,a,d){const h=a;return new e.SpeakerServiceRecognizer(l,c,h,d,this)}async dispose(l){this.privDisposedSpeakerRecognizer||l&&(this.privDisposedSpeakerRecognizer=!0,await super.dispose(l))}};return Ll.SpeakerRecognizer=i,Ll}var Bl={},ME;function MB(){if(ME)return Bl;ME=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.SpeakerIdentificationModel=void 0;const e=Ve(),t=ne();let r=class B6{constructor(o){if(this.privVoiceProfiles=[],this.privProfileIds=[],e.Contracts.throwIfNullOrUndefined(o,"VoiceProfiles"),o.length===0)throw new Error("Empty Voice Profiles array");for(const l of o){if(l.profileType!==t.VoiceProfileType.TextIndependentIdentification)throw new Error("Identification model can only be created from Identification profile: "+l.profileId);this.privVoiceProfiles.push(l),this.privProfileIds.push(l.profileId)}}static fromProfiles(o){return new B6(o)}get voiceProfileIds(){return this.privProfileIds.join(",")}get profileIds(){return this.privProfileIds}get scenario(){return"TextIndependentIdentification"}};return Bl.SpeakerIdentificationModel=r,Bl}var ql={},NE;function NB(){if(NE)return ql;NE=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.SpeakerVerificationModel=void 0;const e=Ve(),t=ne();let r=class q6{constructor(o){if(e.Contracts.throwIfNullOrUndefined(o,"VoiceProfile"),o.profileType===t.VoiceProfileType.TextIndependentIdentification)throw new Error("Verification model cannot be created from Identification profile");this.privVoiceProfile=o}static fromProfile(o){return new q6(o)}get voiceProfile(){return this.privVoiceProfile}get profileIds(){return[this.voiceProfile.profileId]}get scenario(){return this.voiceProfile.profileType===t.VoiceProfileType.TextDependentVerification?"TextDependentVerification":"TextIndependentVerification"}};return ql.SpeakerVerificationModel=r,ql}var Ul={},Mg={},IE;function U6(){return IE||(IE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageIdMode=void 0,function(t){t[t.AtStart=0]="AtStart",t[t.Continuous=1]="Continuous"}(e.LanguageIdMode||(e.LanguageIdMode={}))}(Mg)),Mg}var jE;function IB(){if(jE)return Ul;jE=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.AutoDetectSourceLanguageConfig=void 0;const e=ge(),t=Ve(),r=ne(),i=U6();let o=class Pp{constructor(){this.privProperties=new r.PropertyCollection,this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart"),this.privLanguageIdMode=i.LanguageIdMode.AtStart}static fromOpenRange(){const c=new Pp;return c.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,e.AutoDetectSourceLanguagesOpenRangeOptionName),c}static fromLanguages(c){t.Contracts.throwIfArrayEmptyOrWhitespace(c,"languages");const a=new Pp;return a.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,c.join()),a}static fromSourceLanguageConfigs(c){if(c.length<1)throw new Error("Expected non-empty SourceLanguageConfig array.");const a=new Pp,d=[];return c.forEach(h=>{if(d.push(h.language),h.endpointId!==void 0&&h.endpointId!==""){const f=h.language+r.PropertyId.SpeechServiceConnection_EndpointId.toString();a.properties.setProperty(f,h.endpointId)}}),a.properties.setProperty(r.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,d.join()),a}get properties(){return this.privProperties}set mode(c){c===i.LanguageIdMode.Continuous?(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"Continuous")):(this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"1"),this.privProperties.setProperty(r.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart")),this.privLanguageIdMode=c}};return Ul.AutoDetectSourceLanguageConfig=o,Ul}var Vl={},OE;function jB(){if(OE)return Vl;OE=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.AutoDetectSourceLanguageResult=void 0;const e=Ve();let t=class Jy{constructor(i,o){e.Contracts.throwIfNullOrUndefined(i,"language"),e.Contracts.throwIfNullOrUndefined(o,"languageDetectionConfidence"),this.privLanguage=i,this.privLanguageDetectionConfidence=o}static fromResult(i){return new Jy(i.language,i.languageDetectionConfidence)}static fromConversationTranscriptionResult(i){return new Jy(i.language,i.languageDetectionConfidence)}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}};return Vl.AutoDetectSourceLanguageResult=t,Vl}var Fl={},DE;function OB(){if(DE)return Fl;DE=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.SourceLanguageConfig=void 0;const e=Ve();let t=class V6{constructor(i,o){e.Contracts.throwIfNullOrUndefined(i,"language"),this.privLanguage=i,this.privEndpointId=o}static fromLanguage(i,o){return new V6(i,o)}get language(){return this.privLanguage}get endpointId(){return this.privEndpointId}};return Fl.SourceLanguageConfig=t,Fl}var Ng={},zE;function DB(){return zE||(zE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeakerRecognitionCancellationDetails=e.SpeakerRecognitionResult=e.SpeakerRecognitionResultType=void 0;const t=ge(),r=ne();var i;(function(c){c[c.Verify=0]="Verify",c[c.Identify=1]="Identify"})(i=e.SpeakerRecognitionResultType||(e.SpeakerRecognitionResultType={}));class o{constructor(a,d=r.ResultReason.RecognizedSpeaker,h=r.CancellationErrorCode.NoError,f=""){this.privProperties=new r.PropertyCollection;const v=a.scenario==="TextIndependentIdentification"?i.Identify:i.Verify;this.privReason=d,this.privReason!==r.ResultReason.Canceled?v===i.Identify?(this.privProfileId=a.identificationResult.identifiedProfile.profileId,this.privScore=a.identificationResult.identifiedProfile.score,this.privReason=r.ResultReason.RecognizedSpeakers):(this.privScore=a.verificationResult.score,a.verificationResult.recognitionResult.toLowerCase()!=="accept"&&(this.privReason=r.ResultReason.NoMatch),a.verificationResult.profileId!==void 0&&a.verificationResult.profileId!==""&&(this.privProfileId=a.verificationResult.profileId)):(this.privErrorDetails=f,this.privProperties.setProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[h])),this.privProperties.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,JSON.stringify(a))}get properties(){return this.privProperties}get reason(){return this.privReason}get profileId(){return this.privProfileId}get errorDetails(){return this.privErrorDetails}get score(){return this.privScore}}e.SpeakerRecognitionResult=o;class l extends r.CancellationDetailsBase{constructor(a,d,h){super(a,d,h)}static fromResult(a){const d=r.CancellationReason.Error;let h=r.CancellationErrorCode.NoError;return a.properties&&(h=r.CancellationErrorCode[a.properties.getProperty(t.CancellationErrorCodePropertyName,r.CancellationErrorCode[r.CancellationErrorCode.NoError])]),new l(d,a.errorDetails,h)}}e.SpeakerRecognitionCancellationDetails=l}(Ng)),Ng}var Ig={},Ms={},LE;function F6(){if(LE)return Ms;LE=1,Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.ConversationImpl=Ms.Conversation=void 0;const e=ge(),t=Ne(),r=Ve(),i=ne();let o=class{constructor(){}static createConversationAsync(a,d,h,f){r.Contracts.throwIfNullOrUndefined(a,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(a.region,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),!a.subscriptionKey&&!a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(a.subscriptionKey,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));let v,m,S;return typeof d=="string"?(v=new l(a,d),t.marshalPromiseToCallbacks((async()=>{})(),h,f)):(v=new l(a),m=d,S=h,v.createConversationAsync(()=>{m&&m()},C=>{S&&S(C)})),v}};Ms.Conversation=o;class l extends o{constructor(a,d){if(super(),this.privErrors=e.ConversationConnectionConfig.restErrors,this.onConnected=v=>{var m;this.privIsConnected=!0;try{(m=this.privConversationTranslator)!=null&&m.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,v)}catch{}},this.onDisconnected=v=>{var m;try{(m=this.privConversationTranslator)!=null&&m.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,v)}catch{}finally{this.close(!1)}},this.onCanceled=(v,m)=>{var S;try{(S=this.privConversationTranslator)!=null&&S.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,m)}catch{}},this.onParticipantUpdateCommandReceived=(v,m)=>{try{const S=this.privParticipants.getParticipant(m.id);if(S!==void 0){switch(m.key){case e.ConversationTranslatorCommandTypes.changeNickname:S.displayName=m.value;break;case e.ConversationTranslatorCommandTypes.setUseTTS:S.isUsingTts=m.value;break;case e.ConversationTranslatorCommandTypes.setProfanityFiltering:S.profanity=m.value;break;case e.ConversationTranslatorCommandTypes.setMute:S.isMuted=m.value;break;case e.ConversationTranslatorCommandTypes.setTranslateToLanguages:S.translateToLanguages=m.value;break}this.privParticipants.addOrUpdateParticipant(S),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.Updated,[this.toParticipant(S)],m.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(v,m)=>{try{this.privParticipants.participants.forEach(S=>S.isMuted=S.isHost?!1:m.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.Updated,this.toParticipants(!1),m.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(v,m)=>{try{const S=this.privParticipants.addOrUpdateParticipant(m.participant);S!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.JoinedConversation,[this.toParticipant(S)],m.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(v,m)=>{try{const S=this.privParticipants.getParticipant(m.participant.id);S!==void 0&&(this.privParticipants.deleteParticipant(m.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.LeftConversation,[this.toParticipant(S)],m.sessionId)))}catch{}},this.onTranslationReceived=(v,m)=>{try{switch(m.command){case e.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break;case e.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break;case e.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break}}catch{}},this.onParticipantsListReceived=(v,m)=>{var S;try{if(m.sessionToken!==void 0&&m.sessionToken!==null&&(this.privRoom.token=m.sessionToken),this.privParticipants.participants=[...m.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),m.sessionId)),this.me.isHost){const C=(S=this.privConversationTranslator)==null?void 0:S.properties.getProperty(i.PropertyId.ConversationTranslator_Name);C!==void 0&&C.length>0&&C!==this.me.displayName&&this.changeNicknameAsync(C)}}catch{}},this.onConversationExpiration=(v,m)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,m)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new i.PropertyCollection,this.privManager=new e.ConversationManager,a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage])||a.setProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage],e.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage]),d)this.privConversationId=d;else{a.targetLanguages.length===0&&a.addTargetLanguage(this.privLanguage),a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceResponse_ProfanityOption])||a.setProfanity(i.ProfanityOption.Masked);let m=a.getProperty(i.PropertyId[i.PropertyId.ConversationTranslator_Name]);m==null&&(m="Host"),r.Contracts.throwIfNullOrTooLong(m,"nickname",50),r.Contracts.throwIfNullOrTooShort(m,"nickname",2),a.setProperty(i.PropertyId[i.PropertyId.ConversationTranslator_Name],m)}this.privConfig=a;const f=a;r.Contracts.throwIfNull(f,"speechConfig"),this.privProperties=f.properties.clone(),this.privIsConnected=!1,this.privParticipants=new e.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get conversationId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var a,d;return(a=this.privParticipants.me)!=null&&a.isHost?!1:(d=this.privParticipants.me)==null?void 0:d.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get conversationInfo(){const a=this.conversationId,d=this.participants.map(v=>({id:v.id,preferredLanguage:v.preferredLanguage,voice:v.voice})),h={};for(const v of e.ConversationConnectionConfig.transcriptionEventKeys){const m=this.properties.getProperty(v,"");m!==""&&(h[v]=m)}return{id:a,participants:d,conversationProperties:h}}get canSend(){var a;return this.privIsConnected&&!((a=this.privParticipants.me)!=null&&a.isMuted)}get canSendAsHost(){var a;return this.privIsConnected&&((a=this.privParticipants.me)==null?void 0:a.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),this.privToken=a}set conversationTranslator(a){this.privConversationTranslator=a}onToken(a){this.privConversationTranslator.onToken(a)}createConversationAsync(a,d){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),d),this.privManager.createOrJoin(this.privProperties,void 0,h=>{h||this.handleError(new Error(this.privErrors.permissionDeniedConnect),d),this.privRoom=h,this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}startConversationAsync(a,d){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),d),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer=e.ConversationRecognizerFactory.fromConfig(this,this.privConfig),this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}addParticipantAsync(a,d,h){r.Contracts.throwIfNullOrUndefined(a,"Participant"),t.marshalPromiseToCallbacks(this.addParticipantImplAsync(a),d,h)}joinConversationAsync(a,d,h,f,v){try{r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(d,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(h,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,a,m=>{r.Contracts.throwIfNullOrUndefined(m,this.privErrors.permissionDeniedConnect),this.privRoom=m,this.privConfig.authorizationToken=m.cognitiveSpeechAuthToken,f&&f(m.cognitiveSpeechAuthToken)},m=>{this.handleError(m,v)})}catch(m){this.handleError(m,v)}}deleteConversationAsync(a,d){t.marshalPromiseToCallbacks(this.deleteConversationImplAsync(),a,d)}async deleteConversationImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endConversationAsync(a,d){t.marshalPromiseToCallbacks(this.endConversationImplAsync(),a,d)}endConversationImplAsync(){return this.close(!0)}lockConversationAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}muteAllParticipantsAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}muteParticipantAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),h),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!0),()=>{this.handleCallback(d,h)},v=>{this.handleError(v,h)})}catch(f){this.handleError(f,h)}}removeParticipantAsync(a,d,h){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&a.hasOwnProperty("id"))t.marshalPromiseToCallbacks(this.removeParticipantImplAsync(a),d,h);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),h);let f="";typeof a=="string"?f=a:a.hasOwnProperty("id")?f=a.id:a.hasOwnProperty("userId")&&(f=a.userId),r.Contracts.throwIfNullOrWhitespace(f,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(m=>m.id===f)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(f),()=>{this.handleCallback(d,h)},m=>{this.handleError(m,h)})}}catch(f){this.handleError(f,h)}}unlockConversationAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}unmuteAllParticipantsAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}unmuteParticipantAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),h),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!1),()=>{this.handleCallback(d,h)},v=>{this.handleError(v,h)})}catch(f){this.handleError(f,h)}}sendTextMessageAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),a.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(a),()=>{this.handleCallback(d,h)},f=>{this.handleError(f,h)})}catch(f){this.handleError(f,h)}}setTranslatedLanguagesAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(a),()=>{this.handleCallback(d,h)},f=>{this.handleError(f,h)})}catch(f){this.handleError(f,h)}}changeNicknameAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(a),()=>{this.handleCallback(d,h)},f=>{this.handleError(f,h)})}catch(f){this.handleError(f,h)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(a){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await a.enforceAudioGating(),this.privTranscriberRecognizer=a,this.privTranscriberRecognizer.conversation=this}getKeepAlive(){const a=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:a,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(a){if(this.privParticipants.addOrUpdateParticipant(a)!==void 0&&this.privTranscriberRecognizer){const h=this.conversationInfo;return h.participants=[a],this.privTranscriberRecognizer.pushConversationEvent(h,"join")}}removeParticipantImplAsync(a){this.privParticipants.deleteParticipant(a.id);const d=this.conversationInfo;return d.participants=[a],this.privTranscriberRecognizer.pushConversationEvent(d,"leave")}async close(a){var d;try{this.privIsConnected=!1,await((d=this.privConversationRecognizer)==null?void 0:d.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(h){throw h}a&&this.dispose()}handleCallback(a,d){if(a){try{a()}catch(h){d&&d(h)}a=void 0}}handleError(a,d){if(d)if(a instanceof Error){const h=a;d(h.name+": "+h.message)}else d(a)}toParticipants(a){const d=this.privParticipants.participants.map(h=>this.toParticipant(h));return a?d:d.filter(h=>h.isHost===!1)}toParticipant(a){return new i.Participant(a.id,a.avatar,a.displayName,a.isHost,a.isMuted,a.isUsingTts,a.preferredLanguage,a.voice)}getMuteAllCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMuteCommand(a,d){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMute,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:d})}getLockCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getEjectCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.ejectParticipant,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getChangeNicknameCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.changeNickname,nickname:a,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMessageCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(a,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:a,type:e.ConversationTranslatorMessageTypes.instantMessage})}}return Ms.ConversationImpl=l,Ms}var Hl={},BE;function zB(){if(BE)return Hl;BE=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.ConversationCommon=void 0;let e=class{constructor(r){this.privAudioConfig=r}handleCallback(r,i){if(r){try{r()}catch(o){i&&i(o)}r=void 0}}handleError(r,i){if(i)if(r instanceof Error){const o=r;i(o.name+": "+o.message)}else i(r)}};return Hl.ConversationCommon=e,Hl}var $l={},qE;function LB(){if(qE)return $l;qE=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.ConversationExpirationEventArgs=void 0;const e=ne();let t=class extends e.SessionEventArgs{constructor(i,o){super(o),this.privExpirationTime=i}get expirationTime(){return this.privExpirationTime}};return $l.ConversationExpirationEventArgs=t,$l}var Kl={},UE;function BB(){if(UE)return Kl;UE=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.ConversationParticipantsChangedEventArgs=void 0;const e=ne();let t=class extends e.SessionEventArgs{constructor(i,o,l){super(l),this.privReason=i,this.privParticipant=o}get reason(){return this.privReason}get participants(){return this.privParticipant}};return Kl.ConversationParticipantsChangedEventArgs=t,Kl}var Wl={},VE;function qB(){if(VE)return Wl;VE=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.ConversationTranslationCanceledEventArgs=void 0;const e=Xd();let t=class extends e.CancellationEventArgsBase{};return Wl.ConversationTranslationCanceledEventArgs=t,Wl}var Gl={},FE;function UB(){if(FE)return Gl;FE=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.ConversationTranslationEventArgs=void 0;const e=ne();let t=class extends e.RecognitionEventArgs{constructor(i,o,l){super(o,l),this.privResult=i}get result(){return this.privResult}};return Gl.ConversationTranslationEventArgs=t,Gl}var Jl={},HE;function VB(){if(HE)return Jl;HE=1,Object.defineProperty(Jl,"__esModule",{value:!0}),Jl.ConversationTranslationResult=void 0;const e=P6();let t=class extends e.TranslationRecognitionResult{constructor(i,o,l,c,a,d,h,f,v,m,S){super(o,c,a,d,h,f,void 0,void 0,v,m,S),this.privId=i,this.privOrigLang=l}get participantId(){return this.privId}get originalLang(){return this.privOrigLang}};return Jl.ConversationTranslationResult=t,Jl}var jg={},Yl={},Ql={},$E;function H6(){if($E)return Ql;$E=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.StringUtils=void 0;let e=class{static formatString(r,i){if(!r)return"";if(!i)return r;let o="",l="";const c=h=>{o+=h},a=h=>{l+=h};let d=c;for(let h=0;h<r.length;h++){const f=r[h],v=h+1<r.length?r[h+1]:"";switch(f){case"{":v==="{"?(d("{"),h++):d=a;break;case"}":v==="}"?(d("}"),h++):(i.hasOwnProperty(l)&&(o+=i[l]),d=c,l="");break;default:d(f);break}}return o}};return Ql.StringUtils=e,Ql}var KE;function FB(){if(KE)return Yl;KE=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.ConversationTranslatorConnectionFactory=void 0;const e=er(),t=H6(),r=Ve(),i=ne(),o=xr(),l=Gi(),c=En(),a=ge();let d=class $6 extends c.ConnectionFactoryBase{constructor(f){super(),r.Contracts.throwIfNullOrUndefined(f,"convGetter"),this.privConvGetter=f}create(f,v,m){const S=f.parameters.getProperty("ConversationTranslator_MultiChannelAudio","").toUpperCase()==="TRUE",C=this.privConvGetter().room,x=C.cognitiveSpeechRegion||f.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Region,""),R={hostSuffix:c.ConnectionFactoryBase.getHostSuffix(x),path:$6.CTS_VIRT_MIC_PATH,region:encodeURIComponent(x)};R[l.QueryParameterNames.Language]=encodeURIComponent(f.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage,"")),R[l.QueryParameterNames.CtsMeetingId]=encodeURIComponent(C.roomId),R[l.QueryParameterNames.CtsDeviceId]=encodeURIComponent(C.participantId),R[l.QueryParameterNames.CtsIsParticipant]=C.isHost?"":"&"+l.QueryParameterNames.CtsIsParticipant;let w="";const T={},P={};if(S){w=f.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Endpoint),w||(w="wss://"+f.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Host,"transcribe.{region}.cts.speech{hostSuffix}")+"{path}"),w=t.StringUtils.formatString(w,R);const k=new URL(w);k.searchParams.forEach((F,q)=>{T[q]=F}),new a.TranscriberConnectionFactory().setQueryParams(T,f,w),T[l.QueryParameterNames.CtsMeetingId]=R[l.QueryParameterNames.CtsMeetingId],T[l.QueryParameterNames.CtsDeviceId]=R[l.QueryParameterNames.CtsDeviceId],C.isHost||(T[l.QueryParameterNames.CtsIsParticipant]=""),l.QueryParameterNames.Format in T||(T[l.QueryParameterNames.Format]="simple"),k.searchParams.forEach((F,q)=>{k.searchParams.set(q,T[q]),delete T[q]}),w=k.toString()}else{const k=new a.TranslationConnectionFactory;w=k.getEndpointUrl(f,!0),w=t.StringUtils.formatString(w,R),k.setQueryParams(T,f,w)}P[o.HeaderNames.ConnectionId]=m,P[e.RestConfigBase.configParams.token]=C.token,v.token&&(P[v.headerName]=v.token);const j=f.parameters.getProperty("SPEECH-EnableWebsocketCompression","").toUpperCase()==="TRUE";return new e.WebsocketConnection(w,T,P,new a.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(f),j,m)}};return Yl.ConversationTranslatorConnectionFactory=d,d.CTS_VIRT_MIC_PATH="/speech/recognition/dynamicaudio",Yl}var WE;function HB(){return WE||(WE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConversationTranslator=e.SpeechState=void 0;const t=ge(),r=FB(),i=Ne(),o=Ve(),l=ne(),c=F6(),a=hS();var d;(function(v){v[v.Inactive=0]="Inactive",v[v.Connecting=1]="Connecting",v[v.Connected=2]="Connected"})(d=e.SpeechState||(e.SpeechState={}));class h extends l.TranslationRecognizer{constructor(m,S,C,x){super(m,S,new r.ConversationTranslatorConnectionFactory(x)),this.privSpeechState=d.Inactive,C&&(this.privTranslator=C,this.sessionStarted=()=>{this.privSpeechState=d.Connected},this.sessionStopped=()=>{this.privSpeechState=d.Inactive},this.recognizing=(R,w)=>{this.privTranslator.recognizing&&this.privTranslator.recognizing(this.privTranslator,w)},this.recognized=async(R,w)=>{var T;(T=w.result)!=null&&T.errorDetails?(await this.cancelSpeech(),this.fireCancelEvent(w.result.errorDetails)):this.privTranslator.recognized&&this.privTranslator.recognized(this.privTranslator,w)},this.canceled=async()=>{if(this.privSpeechState!==d.Inactive)try{await this.cancelSpeech()}catch{this.privSpeechState=d.Inactive}})}get state(){return this.privSpeechState}set state(m){this.privSpeechState=m}set authentication(m){this.privReco.authentication=m}onConnection(){this.privSpeechState=d.Connected}async onCancelSpeech(){this.privSpeechState=d.Inactive,await this.cancelSpeech()}fireCancelEvent(m){try{if(this.privTranslator.canceled){const S=new a.ConversationTranslationCanceledEventArgs(l.CancellationReason.Error,m,l.CancellationErrorCode.RuntimeError);this.privTranslator.canceled(this.privTranslator,S)}}catch{}}async cancelSpeech(){var m;try{this.stopContinuousRecognitionAsync(),await((m=this.privReco)==null?void 0:m.disconnect()),this.privSpeechState=d.Inactive}catch{}}}class f extends a.ConversationCommon{constructor(m){super(m),this.privErrors=t.ConversationConnectionConfig.restErrors,this.privIsDisposed=!1,this.privIsSpeaking=!1,this.privPlaceholderKey="abcdefghijklmnopqrstuvwxyz012345",this.privPlaceholderRegion="westus",this.privProperties=new l.PropertyCollection}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get participants(){var m;return(m=this.privConversation)==null?void 0:m.participants}get canSpeak(){return!(!this.privConversation.isConnected||!this.privCTRecognizer||this.privIsSpeaking||this.privCTRecognizer.state===d.Connected||this.privCTRecognizer.state===d.Connecting||this.privConversation.isMutedByHost)}onToken(m){this.privCTRecognizer.authentication=m}setServiceProperty(m,S){const C=JSON.parse(this.privProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));C[m]=S,this.privProperties.setProperty(t.ServicePropertiesPropertyName,JSON.stringify(C))}joinConversationAsync(m,S,C,x,R){try{if(typeof m=="string"){o.Contracts.throwIfNullOrUndefined(m,this.privErrors.invalidArgs.replace("{arg}","conversation id")),o.Contracts.throwIfNullOrWhitespace(S,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privConversation&&this.handleError(new Error(this.privErrors.permissionDeniedStart),R);let w=C;(w==null||w==="")&&(w=t.ConversationConnectionConfig.defaultLanguageCode),this.privSpeechTranslationConfig=l.SpeechTranslationConfig.fromSubscription(this.privPlaceholderKey,this.privPlaceholderRegion),this.privSpeechTranslationConfig.setProfanity(l.ProfanityOption.Masked),this.privSpeechTranslationConfig.addTargetLanguage(w),this.privSpeechTranslationConfig.setProperty(l.PropertyId[l.PropertyId.SpeechServiceConnection_RecoLanguage],w),this.privSpeechTranslationConfig.setProperty(l.PropertyId[l.PropertyId.ConversationTranslator_Name],S);const T=[l.PropertyId.SpeechServiceConnection_Host,l.PropertyId.ConversationTranslator_Host,l.PropertyId.SpeechServiceConnection_Endpoint,l.PropertyId.SpeechServiceConnection_ProxyHostName,l.PropertyId.SpeechServiceConnection_ProxyPassword,l.PropertyId.SpeechServiceConnection_ProxyPort,l.PropertyId.SpeechServiceConnection_ProxyUserName,"ConversationTranslator_MultiChannelAudio","ConversationTranslator_Region"];for(const j of T){const k=this.privProperties.getProperty(j);if(k){const B=typeof j=="string"?j:l.PropertyId[j];this.privSpeechTranslationConfig.setProperty(B,k)}}const P=JSON.parse(this.privProperties.getProperty(t.ServicePropertiesPropertyName,"{}"));for(const j of Object.keys(P))this.privSpeechTranslationConfig.setServiceProperty(j,P[j],l.ServicePropertyChannel.UriQueryParameter);this.privConversation=new c.ConversationImpl(this.privSpeechTranslationConfig),this.privConversation.conversationTranslator=this,this.privConversation.joinConversationAsync(m,S,w,j=>{j||this.handleError(new Error(this.privErrors.permissionDeniedConnect),R),this.privSpeechTranslationConfig.authorizationToken=j,this.privConversation.room.isHost=!1,this.privConversation.startConversationAsync(()=>{this.handleCallback(x,R)},k=>{this.handleError(k,R)})},j=>{this.handleError(j,R)})}else typeof m=="object"?(o.Contracts.throwIfNullOrUndefined(m,this.privErrors.invalidArgs.replace("{arg}","conversation id")),o.Contracts.throwIfNullOrWhitespace(S,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privProperties.setProperty(l.PropertyId.ConversationTranslator_Name,S),this.privConversation=m,this.privConversation.conversationTranslator=this,this.privConversation.room.isHost=!0,o.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedConnect),o.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privSpeechTranslationConfig=m.config,this.handleCallback(C,x)):this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","invalid conversation type")),x)}catch(w){this.handleError(w,typeof C=="string"?R:x)}}leaveConversationAsync(m,S){i.marshalPromiseToCallbacks((async()=>{await this.cancelSpeech(),await this.privConversation.endConversationImplAsync(),await this.privConversation.deleteConversationImplAsync(),this.dispose()})(),m,S)}sendTextMessageAsync(m,S,C){try{o.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),o.Contracts.throwIfNullOrWhitespace(m,this.privErrors.invalidArgs.replace("{arg}",m)),this.privConversation.sendTextMessageAsync(m,S,C)}catch(x){this.handleError(x,C)}}startTranscribingAsync(m,S){i.marshalPromiseToCallbacks((async()=>{try{o.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),o.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privCTRecognizer===void 0&&await this.connectTranslatorRecognizer(),o.Contracts.throwIfNullOrUndefined(this.privCTRecognizer,this.privErrors.permissionDeniedSend),this.canSpeak||this.handleError(new Error(this.privErrors.permissionDeniedSend),S),await this.startContinuousRecognition(),this.privIsSpeaking=!0}catch(C){throw this.privIsSpeaking=!1,await this.cancelSpeech(),C}})(),m,S)}stopTranscribingAsync(m,S){i.marshalPromiseToCallbacks((async()=>{try{if(!this.privIsSpeaking){await this.cancelSpeech();return}this.privIsSpeaking=!1,await new Promise((C,x)=>{this.privCTRecognizer.stopContinuousRecognitionAsync(C,x)})}catch{await this.cancelSpeech()}})(),m,S)}isDisposed(){return this.privIsDisposed}dispose(m,S,C){i.marshalPromiseToCallbacks((async()=>{this.isDisposed&&!this.privIsSpeaking||(await this.cancelSpeech(),this.privIsDisposed=!0,this.privSpeechTranslationConfig.close(),this.privSpeechRecognitionLanguage=void 0,this.privProperties=void 0,this.privAudioConfig=void 0,this.privSpeechTranslationConfig=void 0,this.privConversation.dispose(),this.privConversation=void 0)})(),S,C)}async cancelSpeech(){var m;try{this.privIsSpeaking=!1,await((m=this.privCTRecognizer)==null?void 0:m.onCancelSpeech()),this.privCTRecognizer=void 0}catch{}}async connectTranslatorRecognizer(){try{this.privAudioConfig===void 0&&(this.privAudioConfig=l.AudioConfig.fromDefaultMicrophoneInput()),this.privSpeechTranslationConfig.getProperty(l.PropertyId[l.PropertyId.SpeechServiceConnection_Key])===this.privPlaceholderKey&&this.privSpeechTranslationConfig.setProperty(l.PropertyId[l.PropertyId.SpeechServiceConnection_Key],"");const m=()=>this.privConversation;this.privCTRecognizer=new h(this.privSpeechTranslationConfig,this.privAudioConfig,this,m)}catch(m){throw await this.cancelSpeech(),m}}startContinuousRecognition(){return new Promise((m,S)=>{this.privCTRecognizer.startContinuousRecognitionAsync(m,S)})}}e.ConversationTranslator=f}(jg)),jg}var Xl={},GE;function $B(){if(GE)return Xl;GE=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.ConversationTranscriber=void 0;const e=ge(),t=Ne(),r=Ve(),i=ne();let o=class K6 extends i.Recognizer{constructor(c,a){const d=c;r.Contracts.throwIfNull(d,"speechConfig"),r.Contracts.throwIfNullOrWhitespace(d.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage),i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,d.properties,new e.ConversationTranscriberConnectionFactory),this.privProperties.setProperty(i.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privDisposedRecognizer=!1}static FromConfig(c,a,d){const h=c;return a.properties.mergeTo(h.properties),new K6(c,d)}get endpointId(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){r.Contracts.throwIfNullOrWhitespace(c,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,c)}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(e.OutputFormatPropertyName,i.OutputFormat[i.OutputFormat.Simple])===i.OutputFormat[i.OutputFormat.Simple]?i.OutputFormat.Simple:i.OutputFormat.Detailed}get properties(){return this.privProperties}startTranscribingAsync(c,a){t.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(e.RecognitionMode.Conversation),c,a)}stopTranscribingAsync(c,a){t.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),c,a)}close(c,a){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),c,a)}async dispose(c){this.privDisposedRecognizer||(c&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(c))}createRecognizerConfig(c){return new e.RecognizerConfig(c,this.privProperties)}createServiceRecognizer(c,a,d,h){const f=d;return h.isSpeakerDiarizationEnabled=!0,new e.ConversationTranscriptionServiceRecognizer(c,a,f,h,this)}};return Xl.ConversationTranscriber=o,Xl}var Ns={},JE;function KB(){if(JE)return Ns;JE=1,Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.Participant=Ns.User=void 0;const e=ne();class t{constructor(o){this.privUserId=o}get userId(){return this.privUserId}}Ns.User=t;class r{constructor(o,l,c,a,d,h,f,v){this.privId=o,this.privAvatar=l,this.privDisplayName=c,this.privIsHost=a,this.privIsMuted=d,this.privIsUsingTts=h,this.privPreferredLanguage=f,this.privVoice=v,this.privProperties=new e.PropertyCollection}get avatar(){return this.privAvatar}get displayName(){return this.privDisplayName}get id(){return this.privId}get preferredLanguage(){return this.privPreferredLanguage}get isHost(){return this.privIsHost}get isMuted(){return this.privIsMuted}get isUsingTts(){return this.privIsUsingTts}get voice(){return this.privVoice}get properties(){return this.privProperties}static From(o,l,c){return new r(o,"",o,!1,!1,!1,l,c)}}return Ns.Participant=r,Ns}var Og={},YE;function WB(){return YE||(YE=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParticipantChangedReason=void 0,function(t){t[t.JoinedConversation=0]="JoinedConversation",t[t.LeftConversation=1]="LeftConversation",t[t.Updated=2]="Updated"}(e.ParticipantChangedReason||(e.ParticipantChangedReason={}))}(Og)),Og}var Is={},QE;function GB(){if(QE)return Is;QE=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.MeetingImpl=Is.Meeting=void 0;const e=ge(),t=Ne(),r=Ve(),i=ne();let o=class{constructor(){}static createMeetingAsync(a,d,h,f){if(r.Contracts.throwIfNullOrUndefined(a,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),r.Contracts.throwIfNullOrUndefined(a.region,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),r.Contracts.throwIfNull(d,"meetingId"),d.length===0)throw new Error("meetingId cannot be empty");!a.subscriptionKey&&!a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceAuthorization_Token])&&r.Contracts.throwIfNullOrUndefined(a.subscriptionKey,e.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));const v=new l(a,d);return t.marshalPromiseToCallbacks((async()=>{})(),h,f),v}};Is.Meeting=o;class l extends o{constructor(a,d){super(),this.privErrors=e.ConversationConnectionConfig.restErrors,this.onConnected=v=>{var m;this.privIsConnected=!0;try{(m=this.privConversationTranslator)!=null&&m.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,v)}catch{}},this.onDisconnected=v=>{var m;try{(m=this.privConversationTranslator)!=null&&m.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,v)}catch{}finally{this.close(!1)}},this.onCanceled=(v,m)=>{var S;try{(S=this.privConversationTranslator)!=null&&S.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,m)}catch{}},this.onParticipantUpdateCommandReceived=(v,m)=>{try{const S=this.privParticipants.getParticipant(m.id);if(S!==void 0){switch(m.key){case e.ConversationTranslatorCommandTypes.changeNickname:S.displayName=m.value;break;case e.ConversationTranslatorCommandTypes.setUseTTS:S.isUsingTts=m.value;break;case e.ConversationTranslatorCommandTypes.setProfanityFiltering:S.profanity=m.value;break;case e.ConversationTranslatorCommandTypes.setMute:S.isMuted=m.value;break;case e.ConversationTranslatorCommandTypes.setTranslateToLanguages:S.translateToLanguages=m.value;break}this.privParticipants.addOrUpdateParticipant(S),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.Updated,[this.toParticipant(S)],m.sessionId))}}catch{}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(v,m)=>{try{this.privParticipants.participants.forEach(S=>S.isMuted=S.isHost?!1:m.isMuted),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.Updated,this.toParticipants(!1),m.sessionId))}catch{}},this.onParticipantJoinCommandReceived=(v,m)=>{try{const S=this.privParticipants.addOrUpdateParticipant(m.participant);S!==void 0&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.JoinedConversation,[this.toParticipant(S)],m.sessionId))}catch{}},this.onParticipantLeaveCommandReceived=(v,m)=>{try{const S=this.privParticipants.getParticipant(m.participant.id);S!==void 0&&(this.privParticipants.deleteParticipant(m.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.LeftConversation,[this.toParticipant(S)],m.sessionId)))}catch{}},this.onTranslationReceived=(v,m)=>{try{switch(m.command){case e.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break;case e.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break;case e.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new i.ConversationTranslationEventArgs(m.payload,void 0,m.sessionId));break}}catch{}},this.onParticipantsListReceived=(v,m)=>{var S;try{if(m.sessionToken!==void 0&&m.sessionToken!==null&&(this.privRoom.token=m.sessionToken),this.privParticipants.participants=[...m.participants],this.privParticipants.me!==void 0&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new i.ConversationParticipantsChangedEventArgs(i.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),m.sessionId)),this.me.isHost){const C=(S=this.privConversationTranslator)==null?void 0:S.properties.getProperty(i.PropertyId.ConversationTranslator_Name);C!==void 0&&C.length>0&&C!==this.me.displayName&&this.changeNicknameAsync(C)}}catch{}},this.onConversationExpiration=(v,m)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,m)}catch{}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new i.PropertyCollection,this.privManager=new e.ConversationManager,a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage])||a.setProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage],e.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=a.getProperty(i.PropertyId[i.PropertyId.SpeechServiceConnection_RecoLanguage]),this.privConversationId=d,this.privConfig=a;const f=a;r.Contracts.throwIfNull(f,"speechConfig"),this.privProperties=f.properties.clone(),this.privIsConnected=!1,this.privParticipants=new e.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get meetingId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){var a,d;return(a=this.privParticipants.me)!=null&&a.isHost?!1:(d=this.privParticipants.me)==null?void 0:d.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get meetingInfo(){const a=this.meetingId,d=this.participants.map(v=>({id:v.id,preferredLanguage:v.preferredLanguage,voice:v.voice})),h={};for(const v of e.ConversationConnectionConfig.transcriptionEventKeys){const m=this.properties.getProperty(v,"");m!==""&&(h[v]=m)}return{id:a,participants:d,meetingProperties:h}}get canSend(){var a;return this.privIsConnected&&!((a=this.privParticipants.me)!=null&&a.isMuted)}get canSendAsHost(){var a;return this.privIsConnected&&((a=this.privParticipants.me)==null?void 0:a.isHost)}get authorizationToken(){return this.privToken}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"authorizationToken"),this.privToken=a}createMeetingAsync(a,d){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),d),this.privManager.createOrJoin(this.privProperties,void 0,h=>{h||this.handleError(new Error(this.privErrors.permissionDeniedConnect),d),this.privRoom=h,this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}startMeetingAsync(a,d){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),d),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}addParticipantAsync(a,d,h){r.Contracts.throwIfNullOrUndefined(a,"Participant"),t.marshalPromiseToCallbacks(this.addParticipantImplAsync(a),d,h)}joinMeetingAsync(a,d,h,f,v){try{r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","conversationId")),r.Contracts.throwIfNullOrWhitespace(d,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrWhitespace(h,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,a,m=>{r.Contracts.throwIfNullOrUndefined(m,this.privErrors.permissionDeniedConnect),this.privRoom=m,this.privConfig.authorizationToken=m.cognitiveSpeechAuthToken,f&&f(m.cognitiveSpeechAuthToken)},m=>{this.handleError(m,v)})}catch(m){this.handleError(m,v)}}deleteMeetingAsync(a,d){t.marshalPromiseToCallbacks(this.deleteMeetingImplAsync(),a,d)}async deleteMeetingImplAsync(){r.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),r.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endMeetingAsync(a,d){t.marshalPromiseToCallbacks(this.endMeetingImplAsync(),a,d)}endMeetingImplAsync(){return this.close(!0)}lockMeetingAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}muteAllParticipantsAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}muteParticipantAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),h),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!0),()=>{this.handleCallback(d,h)},v=>{this.handleError(v,h)})}catch(f){this.handleError(f,h)}}removeParticipantAsync(a,d,h){try{if(r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&a.hasOwnProperty("id"))t.marshalPromiseToCallbacks(this.removeParticipantImplAsync(a),d,h);else{r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),h);let f="";typeof a=="string"?f=a:a.hasOwnProperty("id")?f=a.id:a.hasOwnProperty("userId")&&(f=a.userId),r.Contracts.throwIfNullOrWhitespace(f,this.privErrors.invalidArgs.replace("{arg}","userId")),this.participants.findIndex(m=>m.id===f)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(f),()=>{this.handleCallback(d,h)},m=>{this.handleError(m,h)})}}catch(f){this.handleError(f,h)}}unlockMeetingAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}unmuteAllParticipantsAsync(a,d){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),d),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),()=>{this.handleCallback(a,d)},h=>{this.handleError(h,d)})}catch(h){this.handleError(h,d)}}unmuteParticipantAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","userId")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),!this.me.isHost&&this.me.id!==a&&this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),h),this.privParticipants.getParticipantIndex(a)===-1&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(a,!1),()=>{this.handleCallback(d,h)},v=>{this.handleError(v,h)})}catch(f){this.handleError(f,h)}}sendTextMessageAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","message")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),a.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(a),()=>{this.handleCallback(d,h)},f=>{this.handleError(f,h)})}catch(f){this.handleError(f,h)}}setTranslatedLanguagesAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfArrayEmptyOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","languages")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(a),()=>{this.handleCallback(d,h)},f=>{this.handleError(f,h)})}catch(f){this.handleError(f,h)}}changeNicknameAsync(a,d,h){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),r.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","nickname")),r.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),h),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(a),()=>{this.handleCallback(d,h)},f=>{this.handleError(f,h)})}catch(f){this.handleError(f,h)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(a){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await a.enforceAudioGating(),this.privTranscriberRecognizer=a,this.privTranscriberRecognizer.meeting=this}getKeepAlive(){const a=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:a,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(a){if(this.privParticipants.addOrUpdateParticipant(a)!==void 0&&this.privTranscriberRecognizer){const h=this.meetingInfo;return h.participants=[a],this.privTranscriberRecognizer.pushMeetingEvent(h,"join")}}removeParticipantImplAsync(a){this.privParticipants.deleteParticipant(a.id);const d=this.meetingInfo;return d.participants=[a],this.privTranscriberRecognizer.pushMeetingEvent(d,"leave")}async close(a){var d;try{this.privIsConnected=!1,await((d=this.privConversationRecognizer)==null?void 0:d.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(h){throw h}a&&this.dispose()}handleCallback(a,d){if(a){try{a()}catch(h){d&&d(h)}a=void 0}}handleError(a,d){if(d)if(a instanceof Error){const h=a;d(h.name+": "+h.message)}else d(a)}toParticipants(a){const d=this.privParticipants.participants.map(h=>this.toParticipant(h));return a?d:d.filter(h=>h.isHost===!1)}toParticipant(a){return new i.Participant(a.id,a.avatar,a.displayName,a.isHost,a.isMuted,a.isUsingTts,a.preferredLanguage,a.voice)}getMuteAllCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingd"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMuteCommand(a,d){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setMute,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:d})}getLockCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getEjectCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(a,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.ejectParticipant,participantId:a,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getChangeNicknameCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(a,"nickname"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:e.ConversationTranslatorCommandTypes.changeNickname,nickname:a,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:e.ConversationTranslatorMessageTypes.participantCommand,value:a})}getMessageCommand(a){return r.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),r.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),r.Contracts.throwIfNullOrWhitespace(a,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:a,type:e.ConversationTranslatorMessageTypes.instantMessage})}}return Is.MeetingImpl=l,Is}var Zl={},XE;function JB(){if(XE)return Zl;XE=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.MeetingTranscriptionCanceledEventArgs=void 0;const e=Xd();class t extends e.CancellationEventArgsBase{}return Zl.MeetingTranscriptionCanceledEventArgs=t,Zl}var eu={},ZE;function YB(){if(ZE)return eu;ZE=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.MeetingTranscriber=void 0;const e=ge(),t=Ne(),r=Ve(),i=ne(),o=hS();let l=class{constructor(a){this.privAudioConfig=a,this.privProperties=new i.PropertyCollection,this.privRecognizer=void 0,this.privDisposedRecognizer=!1}get speechRecognitionLanguage(){return r.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get internalData(){return this.privRecognizer.internalData}get connection(){return i.Connection.fromRecognizer(this.privRecognizer)}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,a)}joinMeetingAsync(a,d,h){const f=a;r.Contracts.throwIfNullOrUndefined(o.MeetingImpl,"Meeting"),this.privRecognizer=new e.TranscriberRecognizer(a.config,this.privAudioConfig),r.Contracts.throwIfNullOrUndefined(this.privRecognizer,"Recognizer"),this.privRecognizer.connectMeetingCallbacks(this),t.marshalPromiseToCallbacks(f.connectTranscriberRecognizer(this.privRecognizer),d,h)}startTranscribingAsync(a,d){this.privRecognizer.startContinuousRecognitionAsync(a,d)}stopTranscribingAsync(a,d){this.privRecognizer.stopContinuousRecognitionAsync(a,d)}leaveMeetingAsync(a,d){this.privRecognizer.disconnectCallbacks(),t.marshalPromiseToCallbacks((async()=>{})(),a,d)}close(a,d){r.Contracts.throwIfDisposed(this.privDisposedRecognizer),t.marshalPromiseToCallbacks(this.dispose(!0),a,d)}async dispose(a){this.privDisposedRecognizer||(this.privRecognizer&&(await this.privRecognizer.close(),this.privRecognizer=void 0),a&&(this.privDisposedRecognizer=!0))}};return eu.MeetingTranscriber=l,eu}var tu={},eT;function QB(){if(eT)return tu;eT=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.ConversationTranscriptionResult=void 0;const e=ne();let t=class extends e.RecognitionResult{constructor(i,o,l,c,a,d,h,f,v,m,S){super(i,o,l,c,a,d,h,v,m,S),this.privSpeakerId=f}get speakerId(){return this.privSpeakerId}};return tu.ConversationTranscriptionResult=t,tu}var tT;function hS(){return tT||(tT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=F6();Object.defineProperty(e,"Conversation",{enumerable:!0,get:function(){return t.Conversation}}),Object.defineProperty(e,"ConversationImpl",{enumerable:!0,get:function(){return t.ConversationImpl}});var r=zB();Object.defineProperty(e,"ConversationCommon",{enumerable:!0,get:function(){return r.ConversationCommon}});var i=LB();Object.defineProperty(e,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return i.ConversationExpirationEventArgs}});var o=BB();Object.defineProperty(e,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return o.ConversationParticipantsChangedEventArgs}});var l=qB();Object.defineProperty(e,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return l.ConversationTranslationCanceledEventArgs}});var c=UB();Object.defineProperty(e,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return c.ConversationTranslationEventArgs}});var a=VB();Object.defineProperty(e,"ConversationTranslationResult",{enumerable:!0,get:function(){return a.ConversationTranslationResult}});var d=HB();Object.defineProperty(e,"ConversationTranslator",{enumerable:!0,get:function(){return d.ConversationTranslator}});var h=$B();Object.defineProperty(e,"ConversationTranscriber",{enumerable:!0,get:function(){return h.ConversationTranscriber}});var f=KB();Object.defineProperty(e,"Participant",{enumerable:!0,get:function(){return f.Participant}}),Object.defineProperty(e,"User",{enumerable:!0,get:function(){return f.User}});var v=WB();Object.defineProperty(e,"ParticipantChangedReason",{enumerable:!0,get:function(){return v.ParticipantChangedReason}});var m=GB();Object.defineProperty(e,"Meeting",{enumerable:!0,get:function(){return m.Meeting}}),Object.defineProperty(e,"MeetingImpl",{enumerable:!0,get:function(){return m.MeetingImpl}});var S=JB();Object.defineProperty(e,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return S.MeetingTranscriptionCanceledEventArgs}});var C=YB();Object.defineProperty(e,"MeetingTranscriber",{enumerable:!0,get:function(){return C.MeetingTranscriber}});var x=QB();Object.defineProperty(e,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return x.ConversationTranscriptionResult}})}(Ig)),Ig}var js={},rT;function pS(){if(rT)return js;rT=1,Object.defineProperty(js,"__esModule",{value:!0}),js.SynthesisRequest=js.Synthesizer=void 0;const e=ge(),t=Ne(),r=Ve(),i=ne();let o=class W6{constructor(a){const d=a;r.Contracts.throwIfNull(d,"speechConfig"),this.privProperties=d.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.synthesisRequestQueue=new t.Queue}get authorizationToken(){return this.properties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(a){r.Contracts.throwIfNullOrWhitespace(a,"token"),this.properties.setProperty(i.PropertyId.SpeechServiceAuthorization_Token,a)}get properties(){return this.privProperties}get autoDetectSourceLanguage(){return this.properties.getProperty(i.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)===e.AutoDetectSourceLanguagesOpenRangeOptionName}buildSsml(a){const d={"af-ZA":"af-ZA-AdriNeural","am-ET":"am-ET-AmehaNeural","ar-AE":"ar-AE-FatimaNeural","ar-BH":"ar-BH-AliNeural","ar-DZ":"ar-DZ-AminaNeural","ar-EG":"ar-EG-SalmaNeural","ar-IQ":"ar-IQ-BasselNeural","ar-JO":"ar-JO-SanaNeural","ar-KW":"ar-KW-FahedNeural","ar-LY":"ar-LY-ImanNeural","ar-MA":"ar-MA-JamalNeural","ar-QA":"ar-QA-AmalNeural","ar-SA":"ar-SA-HamedNeural","ar-SY":"ar-SY-AmanyNeural","ar-TN":"ar-TN-HediNeural","ar-YE":"ar-YE-MaryamNeural","bg-BG":"bg-BG-BorislavNeural","bn-BD":"bn-BD-NabanitaNeural","bn-IN":"bn-IN-BashkarNeural","ca-ES":"ca-ES-JoanaNeural","cs-CZ":"cs-CZ-AntoninNeural","cy-GB":"cy-GB-AledNeural","da-DK":"da-DK-ChristelNeural","de-AT":"de-AT-IngridNeural","de-CH":"de-CH-JanNeural","de-DE":"de-DE-KatjaNeural","el-GR":"el-GR-AthinaNeural","en-AU":"en-AU-NatashaNeural","en-CA":"en-CA-ClaraNeural","en-GB":"en-GB-LibbyNeural","en-HK":"en-HK-SamNeural","en-IE":"en-IE-ConnorNeural","en-IN":"en-IN-NeerjaNeural","en-KE":"en-KE-AsiliaNeural","en-NG":"en-NG-AbeoNeural","en-NZ":"en-NZ-MitchellNeural","en-PH":"en-PH-JamesNeural","en-SG":"en-SG-LunaNeural","en-TZ":"en-TZ-ElimuNeural","en-US":"en-US-AvaMultilingualNeural","en-ZA":"en-ZA-LeahNeural","es-AR":"es-AR-ElenaNeural","es-BO":"es-BO-MarceloNeural","es-CL":"es-CL-CatalinaNeural","es-CO":"es-CO-GonzaloNeural","es-CR":"es-CR-JuanNeural","es-CU":"es-CU-BelkysNeural","es-DO":"es-DO-EmilioNeural","es-EC":"es-EC-AndreaNeural","es-ES":"es-ES-AlvaroNeural","es-GQ":"es-GQ-JavierNeural","es-GT":"es-GT-AndresNeural","es-HN":"es-HN-CarlosNeural","es-MX":"es-MX-DaliaNeural","es-NI":"es-NI-FedericoNeural","es-PA":"es-PA-MargaritaNeural","es-PE":"es-PE-AlexNeural","es-PR":"es-PR-KarinaNeural","es-PY":"es-PY-MarioNeural","es-SV":"es-SV-LorenaNeural","es-US":"es-US-AlonsoNeural","es-UY":"es-UY-MateoNeural","es-VE":"es-VE-PaolaNeural","et-EE":"et-EE-AnuNeural","fa-IR":"fa-IR-DilaraNeural","fi-FI":"fi-FI-SelmaNeural","fil-PH":"fil-PH-AngeloNeural","fr-BE":"fr-BE-CharlineNeural","fr-CA":"fr-CA-SylvieNeural","fr-CH":"fr-CH-ArianeNeural","fr-FR":"fr-FR-DeniseNeural","ga-IE":"ga-IE-ColmNeural","gl-ES":"gl-ES-RoiNeural","gu-IN":"gu-IN-DhwaniNeural","he-IL":"he-IL-AvriNeural","hi-IN":"hi-IN-MadhurNeural","hr-HR":"hr-HR-GabrijelaNeural","hu-HU":"hu-HU-NoemiNeural","id-ID":"id-ID-ArdiNeural","is-IS":"is-IS-GudrunNeural","it-IT":"it-IT-IsabellaNeural","ja-JP":"ja-JP-NanamiNeural","jv-ID":"jv-ID-DimasNeural","kk-KZ":"kk-KZ-AigulNeural","km-KH":"km-KH-PisethNeural","kn-IN":"kn-IN-GaganNeural","ko-KR":"ko-KR-SunHiNeural","lo-LA":"lo-LA-ChanthavongNeural","lt-LT":"lt-LT-LeonasNeural","lv-LV":"lv-LV-EveritaNeural","mk-MK":"mk-MK-AleksandarNeural","ml-IN":"ml-IN-MidhunNeural","mr-IN":"mr-IN-AarohiNeural","ms-MY":"ms-MY-OsmanNeural","mt-MT":"mt-MT-GraceNeural","my-MM":"my-MM-NilarNeural","nb-NO":"nb-NO-PernilleNeural","nl-BE":"nl-BE-ArnaudNeural","nl-NL":"nl-NL-ColetteNeural","pl-PL":"pl-PL-AgnieszkaNeural","ps-AF":"ps-AF-GulNawazNeural","pt-BR":"pt-BR-FranciscaNeural","pt-PT":"pt-PT-DuarteNeural","ro-RO":"ro-RO-AlinaNeural","ru-RU":"ru-RU-SvetlanaNeural","si-LK":"si-LK-SameeraNeural","sk-SK":"sk-SK-LukasNeural","sl-SI":"sl-SI-PetraNeural","so-SO":"so-SO-MuuseNeural","sr-RS":"sr-RS-NicholasNeural","su-ID":"su-ID-JajangNeural","sv-SE":"sv-SE-SofieNeural","sw-KE":"sw-KE-RafikiNeural","sw-TZ":"sw-TZ-DaudiNeural","ta-IN":"ta-IN-PallaviNeural","ta-LK":"ta-LK-KumarNeural","ta-SG":"ta-SG-AnbuNeural","te-IN":"te-IN-MohanNeural","th-TH":"th-TH-PremwadeeNeural","tr-TR":"tr-TR-AhmetNeural","uk-UA":"uk-UA-OstapNeural","ur-IN":"ur-IN-GulNeural","ur-PK":"ur-PK-AsadNeural","uz-UZ":"uz-UZ-MadinaNeural","vi-VN":"vi-VN-HoaiMyNeural","zh-CN":"zh-CN-XiaoxiaoNeural","zh-HK":"zh-HK-HiuMaanNeural","zh-TW":"zh-TW-HsiaoChenNeural","zu-ZA":"zu-ZA-ThandoNeural"};let h=this.properties.getProperty(i.PropertyId.SpeechServiceConnection_SynthLanguage,"en-US"),f=this.properties.getProperty(i.PropertyId.SpeechServiceConnection_SynthVoice,""),v=W6.XMLEncode(a);return this.autoDetectSourceLanguage?h="en-US":f=f||d[h],f&&(v=`<voice name='${f}'>${v}</voice>`),v=`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='${h}'>${v}</speak>`,v}async dispose(a){this.privDisposed||(a&&this.privAdapter&&await this.privAdapter.dispose(),this.privDisposed=!0)}async adapterSpeak(){if(!this.privDisposed&&!this.privSynthesizing){this.privSynthesizing=!0;const a=await this.synthesisRequestQueue.dequeue();return this.privAdapter.Speak(a.text,a.isSSML,a.requestId,a.cb,a.err,a.dataStream)}}createSynthesizerConfig(a){return new e.SynthesizerConfig(a,this.privProperties)}implCommonSynthesizeSetup(){let a=typeof window<"u"?"Browser":"Node",d="unknown",h="unknown";typeof navigator<"u"&&(a=a+"/"+navigator.platform,d=navigator.userAgent,h=navigator.appVersion);const f=this.createSynthesizerConfig(new e.SpeechServiceConfig(new e.Context(new e.OS(a,d,h)))),v=this.privProperties.getProperty(i.PropertyId.SpeechServiceConnection_Key,void 0),m=v&&v!==""?new e.CognitiveSubscriptionKeyAuthentication(v):new e.CognitiveTokenAuthentication(()=>{const S=this.privProperties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(S)},()=>{const S=this.privProperties.getProperty(i.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(S)});this.privAdapter=this.createSynthesisAdapter(m,this.privConnectionFactory,f),this.privRestAdapter=this.createRestSynthesisAdapter(m,f)}static XMLEncode(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}};js.Synthesizer=o;class l{constructor(a,d,h,f,v,m){this.requestId=a,this.text=d,this.isSSML=h,this.cb=f,this.err=v,this.dataStream=m}}return js.SynthesisRequest=l,js}var ru={},nT;function XB(){if(nT)return ru;nT=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.SpeechSynthesizer=void 0;const e=ge(),t=Ne(),r=C6(),i=Qd(),o=aa(),l=Ve(),c=ne(),a=pS();let d=class G6 extends c.Synthesizer{constructor(f,v){super(f),v!==null&&(v===void 0?this.audioConfig=typeof window>"u"?void 0:c.AudioConfig.fromDefaultSpeakerOutput():this.audioConfig=v),this.privConnectionFactory=new e.SpeechSynthesisConnectionFactory,this.implCommonSynthesizeSetup()}static FromConfig(f,v,m){const S=f;return v.properties.mergeTo(S.properties),new G6(f,m)}speakTextAsync(f,v,m,S){this.speakImpl(f,!1,v,m,S)}speakSsmlAsync(f,v,m,S){this.speakImpl(f,!0,v,m,S)}async getVoicesAsync(f=""){return this.getVoices(f)}close(f,v){l.Contracts.throwIfDisposed(this.privDisposed),t.marshalPromiseToCallbacks(this.dispose(!0),f,v)}get internalData(){return this.privAdapter}createSynthesisAdapter(f,v,m){return new e.SpeechSynthesisAdapter(f,v,m,this,this.audioConfig)}createRestSynthesisAdapter(f,v){return new e.SynthesisRestAdapter(v,f)}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=i.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(c.SpeechSynthesisOutputFormat[this.properties.getProperty(c.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)])}speakImpl(f,v,m,S,C){try{l.Contracts.throwIfDisposed(this.privDisposed);const x=t.createNoDashGuid();let R;C instanceof c.PushAudioOutputStreamCallback?R=new o.PushAudioOutputStreamImpl(C):C instanceof c.PullAudioOutputStream?R=C:C!==void 0?R=new r.AudioFileWriter(C):R=void 0,this.synthesisRequestQueue.enqueue(new a.SynthesisRequest(x,f,v,w=>{if(this.privSynthesizing=!1,m)try{m(w)}catch(T){S&&S(T)}m=void 0,this.adapterSpeak().catch(()=>{})},w=>{S&&S(w)},R)),this.adapterSpeak().catch(()=>{})}catch(x){if(S)if(x instanceof Error){const R=x;S(R.name+": "+R.message)}else S(x);this.dispose(!0).catch(()=>{})}}async getVoices(f){const v=t.createNoDashGuid(),m=await this.privRestAdapter.getVoicesList(v);if(m.ok&&Array.isArray(m.json)){let S=m.json;return f&&f.length>0&&(S=S.filter(C=>!!C.Locale&&C.Locale.toLowerCase()===f.toLowerCase())),new c.SynthesisVoicesResult(v,S,void 0)}else return new c.SynthesisVoicesResult(v,void 0,`Error: ${m.status}: ${m.statusText}`)}};return ru.SpeechSynthesizer=d,ru}var nu={},iT;function ZB(){if(iT)return nu;iT=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.SynthesisResult=void 0;let e=class{constructor(r,i,o,l){this.privResultId=r,this.privReason=i,this.privErrorDetails=o,this.privProperties=l}get resultId(){return this.privResultId}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}};return nu.SynthesisResult=e,nu}var iu={},sT;function eq(){if(sT)return iu;sT=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.SpeechSynthesisResult=void 0;const e=ne();let t=class extends e.SynthesisResult{constructor(i,o,l,c,a,d){super(i,o,c,a),this.privAudioData=l,this.privAudioDuration=d}get audioData(){return this.privAudioData}get audioDuration(){return this.privAudioDuration}};return iu.SpeechSynthesisResult=t,iu}var su={},oT;function tq(){if(oT)return su;oT=1,Object.defineProperty(su,"__esModule",{value:!0}),su.SpeechSynthesisEventArgs=void 0;let e=class{constructor(r){this.privResult=r}get result(){return this.privResult}};return su.SpeechSynthesisEventArgs=e,su}var ou={},aT;function rq(){if(aT)return ou;aT=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.SpeechSynthesisWordBoundaryEventArgs=void 0;let e=class{constructor(r,i,o,l,c,a){this.privAudioOffset=r,this.privDuration=i,this.privText=o,this.privWordLength=l,this.privTextOffset=c,this.privBoundaryType=a}get audioOffset(){return this.privAudioOffset}get duration(){return this.privDuration}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}get boundaryType(){return this.privBoundaryType}};return ou.SpeechSynthesisWordBoundaryEventArgs=e,ou}var au={},cT;function nq(){if(cT)return au;cT=1,Object.defineProperty(au,"__esModule",{value:!0}),au.SpeechSynthesisBookmarkEventArgs=void 0;let e=class{constructor(r,i){this.privAudioOffset=r,this.privText=i}get audioOffset(){return this.privAudioOffset}get text(){return this.privText}};return au.SpeechSynthesisBookmarkEventArgs=e,au}var cu={},lT;function iq(){if(lT)return cu;lT=1,Object.defineProperty(cu,"__esModule",{value:!0}),cu.SpeechSynthesisVisemeEventArgs=void 0;let e=class{constructor(r,i,o){this.privAudioOffset=r,this.privVisemeId=i,this.privAnimation=o}get audioOffset(){return this.privAudioOffset}get visemeId(){return this.privVisemeId}get animation(){return this.privAnimation}};return cu.SpeechSynthesisVisemeEventArgs=e,cu}var Dg={},uT;function sq(){return uT||(uT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SpeechSynthesisBoundaryType=void 0,function(t){t.Word="WordBoundary",t.Punctuation="PunctuationBoundary",t.Sentence="SentenceBoundary"}(e.SpeechSynthesisBoundaryType||(e.SpeechSynthesisBoundaryType={}))}(Dg)),Dg}var lu={},dT;function oq(){if(dT)return lu;dT=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.SynthesisVoicesResult=void 0;const e=ne();let t=class extends e.SynthesisResult{constructor(i,o,l){if(Array.isArray(o)){super(i,e.ResultReason.VoicesListRetrieved,void 0,new e.PropertyCollection),this.privVoices=[];for(const c of o)this.privVoices.push(new e.VoiceInfo(c))}else super(i,e.ResultReason.Canceled,l||"Error information unavailable",new e.PropertyCollection)}get voices(){return this.privVoices}};return lu.SynthesisVoicesResult=t,lu}var zg={},hT;function aq(){return hT||(hT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.VoiceInfo=e.SynthesisVoiceType=e.SynthesisVoiceGender=void 0;var t;(function(l){l[l.Unknown=0]="Unknown",l[l.Female=1]="Female",l[l.Male=2]="Male",l[l.Neutral=3]="Neutral"})(t=e.SynthesisVoiceGender||(e.SynthesisVoiceGender={}));var r;(function(l){l[l.OnlineNeural=1]="OnlineNeural",l[l.OnlineStandard=2]="OnlineStandard",l[l.OfflineNeural=3]="OfflineNeural",l[l.OfflineStandard=4]="OfflineStandard"})(r=e.SynthesisVoiceType||(e.SynthesisVoiceType={}));const i={[t[t.Neutral]]:t.Neutral,[t[t.Male]]:t.Male,[t[t.Female]]:t.Female};class o{constructor(c){if(this.privStyleList=[],c){if(this.privName=c.Name,this.privLocale=c.Locale,this.privShortName=c.ShortName,this.privLocaleName=c.LocaleName,this.privDisplayName=c.DisplayName,this.privLocalName=c.LocalName,this.privVoiceType=c.VoiceType.endsWith("Standard")?r.OnlineStandard:r.OnlineNeural,this.privGender=i[c.Gender]||t.Unknown,c.StyleList&&Array.isArray(c.StyleList))for(const a of c.StyleList)this.privStyleList.push(a);this.privSampleRateHertz=c.SampleRateHertz,this.privStatus=c.Status,c.ExtendedPropertyMap&&(this.privExtendedPropertyMap=c.ExtendedPropertyMap),this.privWordsPerMinute=c.WordsPerMinute,Array.isArray(c.SecondaryLocaleList)&&(this.privSecondaryLocaleList=[...c.SecondaryLocaleList]),Array.isArray(c.RolePlayList)&&(this.privRolePlayList=[...c.RolePlayList])}}get name(){return this.privName}get locale(){return this.privLocale}get shortName(){return this.privShortName}get displayName(){return this.privDisplayName}get localName(){return this.privLocalName}get localeName(){return this.privLocaleName}get gender(){return this.privGender}get voiceType(){return this.privVoiceType}get styleList(){return this.privStyleList}get sampleRateHertz(){return this.privSampleRateHertz}get status(){return this.privStatus}get extendedPropertyMap(){return this.privExtendedPropertyMap}get wordsPerMinute(){return this.privWordsPerMinute}get secondaryLocaleList(){return this.privSecondaryLocaleList}get rolePlayList(){return this.privRolePlayList}}e.VoiceInfo=o}(zg)),zg}var uu={},pT;function cq(){if(pT)return uu;pT=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.SpeakerAudioDestination=void 0;const e=Ne(),t=aa(),r=io(),i=60*30,o={[r.AudioFormatTag.PCM]:"audio/wav",[r.AudioFormatTag.MuLaw]:"audio/x-wav",[r.AudioFormatTag.MP3]:"audio/mpeg",[r.AudioFormatTag.OGG_OPUS]:"audio/ogg",[r.AudioFormatTag.WEBM_OPUS]:"audio/webm; codecs=opus",[r.AudioFormatTag.ALaw]:"audio/x-wav",[r.AudioFormatTag.FLAC]:"audio/flac",[r.AudioFormatTag.AMR_WB]:"audio/amr-wb",[r.AudioFormatTag.G722]:"audio/G722"};let l=class{constructor(a){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=a||e.createNoDashGuid(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(a,d,h){this.privAudioBuffer!==void 0?(this.privAudioBuffer.push(a),this.updateSourceBuffer().then(()=>{d&&d()},f=>{h&&h(f)})):this.privAudioOutputStream!==void 0&&(this.privAudioOutputStream.write(a),this.privBytesReceived+=a.byteLength)}close(a,d){if(this.privIsClosed=!0,this.privSourceBuffer!==void 0)this.handleSourceBufferUpdateEnd().then(()=>{a&&a()},h=>{d&&d(h)});else if(this.privAudioOutputStream!==void 0&&typeof window<"u")if((this.privFormat.formatTag===r.AudioFormatTag.PCM||this.privFormat.formatTag===r.AudioFormatTag.MuLaw||this.privFormat.formatTag===r.AudioFormatTag.ALaw)&&this.privFormat.hasHeader===!1)console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else{let h=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(h).then(()=>{h=this.privFormat.addHeader(h);const f=new Blob([h],{type:o[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(f),this.notifyPlayback().then(()=>{a&&a()},v=>{d&&d(v)})},f=>{d&&d(f)})}else this.onAudioEnd&&this.onAudioEnd(this)}set format(a){if(typeof AudioContext<"u"||typeof window<"u"&&typeof window.webkitAudioContext<"u"){this.privFormat=a;const d=o[this.privFormat.formatTag];d===void 0?console.warn(`Unknown mimeType for format ${r.AudioFormatTag[this.privFormat.formatTag]}; playback is not supported.`):typeof MediaSource<"u"&&MediaSource.isTypeSupported(d)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=()=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=i,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(d),this.privSourceBuffer.onupdate=()=>{this.updateSourceBuffer().catch(h=>{e.Events.instance.onEvent(new e.BackgroundEvent(h))})},this.privSourceBuffer.onupdateend=()=>{this.handleSourceBufferUpdateEnd().catch(h=>{e.Events.instance.onEvent(new e.BackgroundEvent(h))})},this.privSourceBuffer.onupdatestart=()=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch(h=>{e.Events.instance.onEvent(new e.BackgroundEvent(h))})):(console.warn(`Format ${r.AudioFormatTag[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`),this.privAudioOutputStream=new t.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get volume(){var a;return((a=this.privAudio)==null?void 0:a.volume)??-1}set volume(a){this.privAudio&&(this.privAudio.volume=a)}mute(){this.privAudio&&(this.privAudio.muted=!0)}unmute(){this.privAudio&&(this.privAudio.muted=!1)}get isClosed(){return this.privIsClosed}get currentTime(){return this.privAudio!==void 0?this.privAudio.currentTime:-1}pause(){!this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.pause(),this.privIsPaused=!0)}resume(a,d){this.privIsPaused&&this.privAudio!==void 0&&(this.privAudio.play().then(()=>{a&&a()},h=>{d&&d(h)}),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}async updateSourceBuffer(){if(this.privAudioBuffer!==void 0&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const a=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(a)}catch{this.privAudioBuffer.unshift(a),console.log("buffer filled, pausing addition of binaries until space is made");return}await this.notifyPlayback()}else this.canEndStream()&&await this.handleSourceBufferUpdateEnd()}async handleSourceBufferUpdateEnd(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),await this.notifyPlayback())}async notifyPlayback(){!this.privPlaybackStarted&&this.privAudio!==void 0&&(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||await this.privAudio.play())}canEndStream(){return this.isClosed&&this.privSourceBuffer!==void 0&&this.privAudioBuffer.length===0&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&this.privMediaSource.readyState==="open"}sourceBufferAvailable(){return this.privSourceBuffer!==void 0&&!this.privSourceBuffer.updating}};return uu.SpeakerAudioDestination=l,uu}var du={},fT;function lq(){if(fT)return du;fT=1,Object.defineProperty(du,"__esModule",{value:!0}),du.ConversationTranscriptionCanceledEventArgs=void 0;const e=Xd();let t=class extends e.CancellationEventArgsBase{};return du.ConversationTranscriptionCanceledEventArgs=t,du}var hu={},vT;function uq(){if(vT)return hu;vT=1,Object.defineProperty(hu,"__esModule",{value:!0}),hu.MeetingTranscriptionCanceledEventArgs=void 0;const e=Xd();let t=class extends e.CancellationEventArgsBase{};return hu.MeetingTranscriptionCanceledEventArgs=t,hu}var Lg={},mT;function dq(){return mT||(mT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PronunciationAssessmentGradingSystem=void 0,function(t){t[t.FivePoint=1]="FivePoint",t[t.HundredMark=2]="HundredMark"}(e.PronunciationAssessmentGradingSystem||(e.PronunciationAssessmentGradingSystem={}))}(Lg)),Lg}var Bg={},gT;function hq(){return gT||(gT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PronunciationAssessmentGranularity=void 0,function(t){t[t.Phoneme=1]="Phoneme",t[t.Word=2]="Word",t[t.FullText=3]="FullText"}(e.PronunciationAssessmentGranularity||(e.PronunciationAssessmentGranularity={}))}(Bg)),Bg}var pu={},yT;function pq(){if(yT)return pu;yT=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.PronunciationAssessmentConfig=void 0;const e=Ve(),t=ne();let r=class J6{constructor(o,l=t.PronunciationAssessmentGradingSystem.FivePoint,c=t.PronunciationAssessmentGranularity.Phoneme,a=!1){e.Contracts.throwIfNullOrUndefined(o,"referenceText"),this.privProperties=new t.PropertyCollection,this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_ReferenceText,o),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_GradingSystem,t.PronunciationAssessmentGradingSystem[l]),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_Granularity,t.PronunciationAssessmentGranularity[c]),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,String(a))}static fromJSON(o){e.Contracts.throwIfNullOrUndefined(o,"json");const l=new J6("");return l.privProperties=new t.PropertyCollection,l.properties.setProperty(t.PropertyId.PronunciationAssessment_Json,o),l}toJSON(){return this.updateJson(),this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Params)}applyTo(o){this.updateJson();const l=o.internalData;l.expectContentAssessmentResponse=!!this.privContentAssessmentTopic,l.speechContext.setPronunciationAssessmentParams(this.properties.getProperty(t.PropertyId.PronunciationAssessment_Params),this.privContentAssessmentTopic,l.isSpeakerDiarizationEnabled)}get referenceText(){return this.properties.getProperty(t.PropertyId.PronunciationAssessment_ReferenceText)}set referenceText(o){e.Contracts.throwIfNullOrWhitespace(o,"referenceText"),this.properties.setProperty(t.PropertyId.PronunciationAssessment_ReferenceText,o)}set phonemeAlphabet(o){e.Contracts.throwIfNullOrWhitespace(o,"phonemeAlphabet"),this.privPhonemeAlphabet=o}set enableMiscue(o){const l=o?"true":"false";this.properties.setProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,l)}get enableMiscue(){return this.properties.getProperty(t.PropertyId.PronunciationAssessment_EnableMiscue,"false").toLowerCase()==="true"}set nbestPhonemeCount(o){this.privNBestPhonemeCount=o}set enableProsodyAssessment(o){this.privEnableProsodyAssessment=o}enableContentAssessmentWithTopic(o){this.privContentAssessmentTopic=o}get properties(){return this.privProperties}updateJson(){const o=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Json,"{}"),l=JSON.parse(o),c=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_ReferenceText);c&&(l.referenceText=c);const a=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_GradingSystem);a&&(l.gradingSystem=a);const d=this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_Granularity);d&&(l.granularity=d),this.privPhonemeAlphabet&&(l.phonemeAlphabet=this.privPhonemeAlphabet),this.privNBestPhonemeCount&&(l.nbestPhonemeCount=this.privNBestPhonemeCount),l.enableProsodyAssessment=this.privEnableProsodyAssessment,l.dimension="Comprehensive",this.privProperties.getProperty(t.PropertyId.PronunciationAssessment_EnableMiscue)&&(l.enableMiscue=this.enableMiscue),this.privProperties.setProperty(t.PropertyId.PronunciationAssessment_Params,JSON.stringify(l))}};return pu.PronunciationAssessmentConfig=r,pu}var Os={},ST;function fq(){if(ST)return Os;ST=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.PronunciationAssessmentResult=Os.ContentAssessmentResult=void 0;const e=Ve(),t=ne();class r{constructor(l){this.privPronJson=l}get grammarScore(){return this.privPronJson.ContentAssessment.GrammarScore}get vocabularyScore(){return this.privPronJson.ContentAssessment.VocabularyScore}get topicScore(){return this.privPronJson.ContentAssessment.TopicScore}}Os.ContentAssessmentResult=r;let i=class Y6{constructor(l){const c=JSON.parse(l);e.Contracts.throwIfNullOrUndefined(c.NBest[0],"NBest"),this.privPronJson=c.NBest[0]}static fromResult(l){e.Contracts.throwIfNullOrUndefined(l,"result");const c=l.properties.getProperty(t.PropertyId.SpeechServiceResponse_JsonResult);return e.Contracts.throwIfNullOrUndefined(c,"json"),new Y6(c)}get detailResult(){return this.privPronJson}get accuracyScore(){var l;return(l=this.detailResult.PronunciationAssessment)==null?void 0:l.AccuracyScore}get pronunciationScore(){var l;return(l=this.detailResult.PronunciationAssessment)==null?void 0:l.PronScore}get completenessScore(){var l;return(l=this.detailResult.PronunciationAssessment)==null?void 0:l.CompletenessScore}get fluencyScore(){var l;return(l=this.detailResult.PronunciationAssessment)==null?void 0:l.FluencyScore}get prosodyScore(){var l;return(l=this.detailResult.PronunciationAssessment)==null?void 0:l.ProsodyScore}get contentAssessmentResult(){if(this.detailResult.ContentAssessment!==void 0)return new r(this.detailResult)}};return Os.PronunciationAssessmentResult=i,Os}var fu={},bT;function vq(){if(bT)return fu;bT=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.AvatarConfig=void 0;const e=Ve(),t=ne();let r=class{constructor(o,l,c){this.privCustomized=!1,e.Contracts.throwIfNullOrWhitespace(o,"character"),this.character=o,this.style=l,c===void 0&&(c=new t.AvatarVideoFormat),this.videoFormat=c}get customized(){return this.privCustomized}set customized(o){this.privCustomized=o}get backgroundColor(){return this.privBackgroundColor}set backgroundColor(o){this.privBackgroundColor=o}get backgroundImage(){return this.privBackgroundImage}set backgroundImage(o){this.privBackgroundImage=o}get remoteIceServers(){return this.privRemoteIceServers}set remoteIceServers(o){this.privRemoteIceServers=o}};return fu.AvatarConfig=r,fu}var qg={},CT;function mq(){return CT||(CT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AvatarEventArgs=e.AvatarEventTypes=void 0,function(r){r.SwitchedToSpeaking="SwitchedToSpeaking",r.SwitchedToIdle="SwitchedToIdle",r.SessionClosed="SessionClosed"}(e.AvatarEventTypes||(e.AvatarEventTypes={}));class t{constructor(i,o){this.privOffset=i,this.privDescription=o}get type(){return this.privType}get offset(){return this.privOffset}get description(){return this.privDescription}}e.AvatarEventArgs=t}(qg)),qg}var vu={},mu={},xT;function Q6(){if(xT)return mu;xT=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.SpeechSynthesisConnectionFactory=void 0;const e=er(),t=ne(),r=En(),i=ge(),o=xr(),l=Gi();let c=class{constructor(){this.synthesisUri="/cognitiveservices/websocket/v1"}create(d,h,f){let v=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const m=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,void 0),S=r.ConnectionFactoryBase.getHostSuffix(m),C=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),x=C===void 0?"tts":"voice",R=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+m+"."+x+".speech"+S),w={},T={};h.token!==void 0&&h.token!==""&&(T[h.headerName]=h.token),T[o.HeaderNames.ConnectionId]=f,C!==void 0&&C!==""&&(!v||v.search(l.QueryParameterNames.CustomVoiceDeploymentId)===-1)&&(w[l.QueryParameterNames.CustomVoiceDeploymentId]=C),d.avatarEnabled&&(!v||v.search(l.QueryParameterNames.EnableAvatar)===-1)&&(w[l.QueryParameterNames.EnableAvatar]="true"),v||(v=R+this.synthesisUri),d.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,v);const P=d.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(v,w,T,new i.WebsocketMessageFormatter,e.ProxyInfo.fromParameters(d.parameters),P,f)}};return mu.SpeechSynthesisConnectionFactory=c,mu}var RT;function gq(){if(RT)return vu;RT=1,Object.defineProperty(vu,"__esModule",{value:!0}),vu.AvatarSynthesizer=void 0;const e=Q6(),t=ge(),r=Ne(),i=Qd(),o=ne(),l=Ve(),c=pS();let a=class extends o.Synthesizer{constructor(h,f){super(h),l.Contracts.throwIfNullOrUndefined(f,"avatarConfig"),this.privConnectionFactory=new e.SpeechSynthesisConnectionFactory,this.privAvatarConfig=f,this.implCommonSynthesizeSetup()}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=i.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(o.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm)}async startAvatarAsync(h){l.Contracts.throwIfNullOrUndefined(h,"peerConnection"),this.privIceServers=h.getConfiguration().iceServers,l.Contracts.throwIfNullOrUndefined(this.privIceServers,"Ice servers must be set.");const f=new r.Deferred;h.onicegatheringstatechange=()=>{r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering state: "+h.iceGatheringState,r.EventType.Debug)),h.iceGatheringState==="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering complete.",r.EventType.Info)),f.resolve())},h.onicecandidate=x=>{x.candidate?r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: "+x.candidate.candidate,r.EventType.Debug)):(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice candidate: complete",r.EventType.Debug)),f.resolve())},setTimeout(()=>{h.iceGatheringState!=="complete"&&(r.Events.instance.onEvent(new r.PlatformEvent("peer connection: ice gathering timeout.",r.EventType.Warning)),f.resolve())},2e3);const v=await h.createOffer();await h.setLocalDescription(v),await f.promise,r.Events.instance.onEvent(new r.PlatformEvent("peer connection: got local SDP.",r.EventType.Info)),this.privProperties.setProperty(o.PropertyId.TalkingAvatarService_WebRTC_SDP,JSON.stringify(h.localDescription));const m=await this.speak("",!1);if(m.reason!==o.ResultReason.SynthesizingAudioCompleted)return new o.SynthesisResult(m.resultId,m.reason,m.errorDetails,m.properties);const S=atob(m.properties.getProperty(o.PropertyId.TalkingAvatarService_WebRTC_SDP)),C=new RTCSessionDescription(JSON.parse(S));return await h.setRemoteDescription(C),new o.SynthesisResult(m.resultId,m.reason,void 0,m.properties)}async speakTextAsync(h){const f=await this.speak(h,!1);return new o.SynthesisResult(f.resultId,f.reason,f.errorDetails,f.properties)}async speakSsmlAsync(h){const f=await this.speak(h,!0);return new o.SynthesisResult(f.resultId,f.reason,f.errorDetails,f.properties)}async stopSpeakingAsync(){for(;this.synthesisRequestQueue.length()>0;)(await this.synthesisRequestQueue.dequeue()).err("Synthesis is canceled by user.");return this.privAdapter.stopSpeaking()}async stopAvatarAsync(){return l.Contracts.throwIfDisposed(this.privDisposed),this.dispose(!0)}async close(){if(!this.privDisposed)return this.dispose(!0)}get iceServers(){return this.privIceServers}createSynthesisAdapter(h,f,v){return new t.AvatarSynthesisAdapter(h,f,v,this,this.privAvatarConfig)}createRestSynthesisAdapter(h,f){}createSynthesizerConfig(h){const f=super.createSynthesizerConfig(h);return f.avatarEnabled=!0,f}async speak(h,f){const v=r.createNoDashGuid(),m=new r.Deferred;return this.synthesisRequestQueue.enqueue(new c.SynthesisRequest(v,h,f,S=>{m.resolve(S),this.privSynthesizing=!1,this.adapterSpeak()},S=>{m.reject(S),this.privSynthesizing=!1})),this.adapterSpeak(),m.promise}};return vu.AvatarSynthesizer=a,vu}var Ds={},wT;function yq(){if(wT)return Ds;wT=1,Object.defineProperty(Ds,"__esModule",{value:!0}),Ds.AvatarVideoFormat=Ds.Coordinate=void 0;class e{constructor(i,o){this.x=i,this.y=o}}Ds.Coordinate=e;let t=class{constructor(i="H264",o=2e6,l=1920,c=1080){this.codec=i,this.bitrate=o,this.width=l,this.height=c}setCropRange(i,o){this.cropRange={bottomRight:o,topLeft:i}}};return Ds.AvatarVideoFormat=t,Ds}var gu={},ET;function Sq(){if(ET)return gu;ET=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.AvatarWebRTCConnectionResult=void 0;const e=ne();let t=class extends e.SynthesisResult{constructor(i,o,l,c,a){super(o,l,c,a),this.privSDPAnswer=i}get SDPAnswer(){return this.privSDPAnswer}};return gu.AvatarWebRTCConnectionResult=t,gu}var yu={},TT;function bq(){if(TT)return yu;TT=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.Diagnostics=void 0;const e=er(),t=Ne();let r=class{static SetLoggingLevel(o){this.privListener=new e.ConsoleLoggingListener(o),t.Events.instance.attachConsoleListener(this.privListener)}static StartConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!0)}static StopConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!1)}static SetLogOutputPath(o){if(typeof window>"u")this.privListener&&(this.privListener.logPath=o);else throw new Error("File system logging not available in browser.")}static set onLogOutput(o){this.privListener&&(this.privListener.logCallback=o)}};return yu.Diagnostics=r,r.privListener=void 0,yu}var PT;function ne(){return PT||(PT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=E6();Object.defineProperty(e,"AudioConfig",{enumerable:!0,get:function(){return t.AudioConfig}});var r=io();Object.defineProperty(e,"AudioStreamFormat",{enumerable:!0,get:function(){return r.AudioStreamFormat}}),Object.defineProperty(e,"AudioFormatTag",{enumerable:!0,get:function(){return r.AudioFormatTag}});var i=x6();Object.defineProperty(e,"AudioInputStream",{enumerable:!0,get:function(){return i.AudioInputStream}}),Object.defineProperty(e,"PullAudioInputStream",{enumerable:!0,get:function(){return i.PullAudioInputStream}}),Object.defineProperty(e,"PushAudioInputStream",{enumerable:!0,get:function(){return i.PushAudioInputStream}});var o=aa();Object.defineProperty(e,"AudioOutputStream",{enumerable:!0,get:function(){return o.AudioOutputStream}}),Object.defineProperty(e,"PullAudioOutputStream",{enumerable:!0,get:function(){return o.PullAudioOutputStream}}),Object.defineProperty(e,"PushAudioOutputStream",{enumerable:!0,get:function(){return o.PushAudioOutputStream}});var l=I7();Object.defineProperty(e,"CancellationReason",{enumerable:!0,get:function(){return l.CancellationReason}});var c=j7();Object.defineProperty(e,"PullAudioInputStreamCallback",{enumerable:!0,get:function(){return c.PullAudioInputStreamCallback}});var a=O7();Object.defineProperty(e,"PushAudioOutputStreamCallback",{enumerable:!0,get:function(){return a.PushAudioOutputStreamCallback}});var d=D7();Object.defineProperty(e,"KeywordRecognitionModel",{enumerable:!0,get:function(){return d.KeywordRecognitionModel}});var h=z7();Object.defineProperty(e,"SessionEventArgs",{enumerable:!0,get:function(){return h.SessionEventArgs}});var f=L7();Object.defineProperty(e,"RecognitionEventArgs",{enumerable:!0,get:function(){return f.RecognitionEventArgs}});var v=B7();Object.defineProperty(e,"OutputFormat",{enumerable:!0,get:function(){return v.OutputFormat}});var m=q7();Object.defineProperty(e,"IntentRecognitionEventArgs",{enumerable:!0,get:function(){return m.IntentRecognitionEventArgs}});var S=U7();Object.defineProperty(e,"RecognitionResult",{enumerable:!0,get:function(){return S.RecognitionResult}});var C=V7();Object.defineProperty(e,"SpeechRecognitionResult",{enumerable:!0,get:function(){return C.SpeechRecognitionResult}});var x=F7();Object.defineProperty(e,"IntentRecognitionResult",{enumerable:!0,get:function(){return x.IntentRecognitionResult}});var R=H7();Object.defineProperty(e,"LanguageUnderstandingModel",{enumerable:!0,get:function(){return R.LanguageUnderstandingModel}});var w=$7();Object.defineProperty(e,"SpeechRecognitionEventArgs",{enumerable:!0,get:function(){return w.SpeechRecognitionEventArgs}}),Object.defineProperty(e,"ConversationTranscriptionEventArgs",{enumerable:!0,get:function(){return w.ConversationTranscriptionEventArgs}}),Object.defineProperty(e,"MeetingTranscriptionEventArgs",{enumerable:!0,get:function(){return w.MeetingTranscriptionEventArgs}});var T=K7();Object.defineProperty(e,"SpeechRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return T.SpeechRecognitionCanceledEventArgs}});var P=W7();Object.defineProperty(e,"TranslationRecognitionEventArgs",{enumerable:!0,get:function(){return P.TranslationRecognitionEventArgs}});var j=G7();Object.defineProperty(e,"TranslationSynthesisEventArgs",{enumerable:!0,get:function(){return j.TranslationSynthesisEventArgs}});var k=P6();Object.defineProperty(e,"TranslationRecognitionResult",{enumerable:!0,get:function(){return k.TranslationRecognitionResult}});var B=J7();Object.defineProperty(e,"TranslationSynthesisResult",{enumerable:!0,get:function(){return B.TranslationSynthesisResult}});var F=Y7();Object.defineProperty(e,"ResultReason",{enumerable:!0,get:function(){return F.ResultReason}});var q=Q7();Object.defineProperty(e,"SpeechConfig",{enumerable:!0,get:function(){return q.SpeechConfig}}),Object.defineProperty(e,"SpeechConfigImpl",{enumerable:!0,get:function(){return q.SpeechConfigImpl}});var H=X7();Object.defineProperty(e,"SpeechTranslationConfig",{enumerable:!0,get:function(){return H.SpeechTranslationConfig}}),Object.defineProperty(e,"SpeechTranslationConfigImpl",{enumerable:!0,get:function(){return H.SpeechTranslationConfigImpl}});var $=_6();Object.defineProperty(e,"PropertyCollection",{enumerable:!0,get:function(){return $.PropertyCollection}});var pe=uS();Object.defineProperty(e,"PropertyId",{enumerable:!0,get:function(){return pe.PropertyId}});var de=Z7();Object.defineProperty(e,"Recognizer",{enumerable:!0,get:function(){return de.Recognizer}});var fe=eB();Object.defineProperty(e,"SpeechRecognizer",{enumerable:!0,get:function(){return fe.SpeechRecognizer}});var Ee=tB();Object.defineProperty(e,"IntentRecognizer",{enumerable:!0,get:function(){return Ee.IntentRecognizer}});var Oe=rB();Object.defineProperty(e,"VoiceProfileType",{enumerable:!0,get:function(){return Oe.VoiceProfileType}});var te=nB();Object.defineProperty(e,"TranslationRecognizer",{enumerable:!0,get:function(){return te.TranslationRecognizer}});var se=iB();Object.defineProperty(e,"Translations",{enumerable:!0,get:function(){return se.Translations}});var ce=sB();Object.defineProperty(e,"NoMatchReason",{enumerable:!0,get:function(){return ce.NoMatchReason}});var ke=oB();Object.defineProperty(e,"NoMatchDetails",{enumerable:!0,get:function(){return ke.NoMatchDetails}});var N=aB();Object.defineProperty(e,"TranslationRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return N.TranslationRecognitionCanceledEventArgs}});var X=cB();Object.defineProperty(e,"IntentRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return X.IntentRecognitionCanceledEventArgs}});var ee=D6();Object.defineProperty(e,"CancellationDetailsBase",{enumerable:!0,get:function(){return ee.CancellationDetailsBase}});var le=lB();Object.defineProperty(e,"CancellationDetails",{enumerable:!0,get:function(){return le.CancellationDetails}});var Z=uB();Object.defineProperty(e,"CancellationErrorCode",{enumerable:!0,get:function(){return Z.CancellationErrorCode}});var xe=dB();Object.defineProperty(e,"ConnectionEventArgs",{enumerable:!0,get:function(){return xe.ConnectionEventArgs}});var Ce=hB();Object.defineProperty(e,"ServiceEventArgs",{enumerable:!0,get:function(){return Ce.ServiceEventArgs}});var rt=I6();Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return rt.Connection}});var Fe=pB();Object.defineProperty(e,"PhraseListGrammar",{enumerable:!0,get:function(){return Fe.PhraseListGrammar}});var Qe=dS();Object.defineProperty(e,"DialogServiceConfig",{enumerable:!0,get:function(){return Qe.DialogServiceConfig}});var Ie=fB();Object.defineProperty(e,"BotFrameworkConfig",{enumerable:!0,get:function(){return Ie.BotFrameworkConfig}});var Et=vB();Object.defineProperty(e,"CustomCommandsConfig",{enumerable:!0,get:function(){return Et.CustomCommandsConfig}});var pr=gB();Object.defineProperty(e,"DialogServiceConnector",{enumerable:!0,get:function(){return pr.DialogServiceConnector}});var Kt=yB();Object.defineProperty(e,"ActivityReceivedEventArgs",{enumerable:!0,get:function(){return Kt.ActivityReceivedEventArgs}});var fr=bB();Object.defineProperty(e,"TurnStatusReceivedEventArgs",{enumerable:!0,get:function(){return fr.TurnStatusReceivedEventArgs}});var Br=CB();Object.defineProperty(e,"ServicePropertyChannel",{enumerable:!0,get:function(){return Br.ServicePropertyChannel}});var mt=xB();Object.defineProperty(e,"ProfanityOption",{enumerable:!0,get:function(){return mt.ProfanityOption}});var ln=RB();Object.defineProperty(e,"BaseAudioPlayer",{enumerable:!0,get:function(){return ln.BaseAudioPlayer}});var I=wB();Object.defineProperty(e,"ConnectionMessageEventArgs",{enumerable:!0,get:function(){return I.ConnectionMessageEventArgs}});var U=N6();Object.defineProperty(e,"ConnectionMessage",{enumerable:!0,get:function(){return U.ConnectionMessage}});var W=EB();Object.defineProperty(e,"VoiceProfile",{enumerable:!0,get:function(){return W.VoiceProfile}});var ue=TB();Object.defineProperty(e,"VoiceProfileEnrollmentResult",{enumerable:!0,get:function(){return ue.VoiceProfileEnrollmentResult}}),Object.defineProperty(e,"VoiceProfileEnrollmentCancellationDetails",{enumerable:!0,get:function(){return ue.VoiceProfileEnrollmentCancellationDetails}});var ae=PB();Object.defineProperty(e,"VoiceProfileResult",{enumerable:!0,get:function(){return ae.VoiceProfileResult}}),Object.defineProperty(e,"VoiceProfileCancellationDetails",{enumerable:!0,get:function(){return ae.VoiceProfileCancellationDetails}});var ie=AB();Object.defineProperty(e,"VoiceProfilePhraseResult",{enumerable:!0,get:function(){return ie.VoiceProfilePhraseResult}});var ve=_B();Object.defineProperty(e,"VoiceProfileClient",{enumerable:!0,get:function(){return ve.VoiceProfileClient}});var oe=kB();Object.defineProperty(e,"SpeakerRecognizer",{enumerable:!0,get:function(){return oe.SpeakerRecognizer}});var Te=MB();Object.defineProperty(e,"SpeakerIdentificationModel",{enumerable:!0,get:function(){return Te.SpeakerIdentificationModel}});var Pe=NB();Object.defineProperty(e,"SpeakerVerificationModel",{enumerable:!0,get:function(){return Pe.SpeakerVerificationModel}});var Xe=IB();Object.defineProperty(e,"AutoDetectSourceLanguageConfig",{enumerable:!0,get:function(){return Xe.AutoDetectSourceLanguageConfig}});var Wt=jB();Object.defineProperty(e,"AutoDetectSourceLanguageResult",{enumerable:!0,get:function(){return Wt.AutoDetectSourceLanguageResult}});var ut=OB();Object.defineProperty(e,"SourceLanguageConfig",{enumerable:!0,get:function(){return ut.SourceLanguageConfig}});var vr=DB();Object.defineProperty(e,"SpeakerRecognitionResult",{enumerable:!0,get:function(){return vr.SpeakerRecognitionResult}}),Object.defineProperty(e,"SpeakerRecognitionResultType",{enumerable:!0,get:function(){return vr.SpeakerRecognitionResultType}}),Object.defineProperty(e,"SpeakerRecognitionCancellationDetails",{enumerable:!0,get:function(){return vr.SpeakerRecognitionCancellationDetails}});var gt=hS();Object.defineProperty(e,"Conversation",{enumerable:!0,get:function(){return gt.Conversation}}),Object.defineProperty(e,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return gt.ConversationExpirationEventArgs}}),Object.defineProperty(e,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return gt.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(e,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return gt.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(e,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return gt.ConversationTranslationEventArgs}}),Object.defineProperty(e,"ConversationTranslationResult",{enumerable:!0,get:function(){return gt.ConversationTranslationResult}}),Object.defineProperty(e,"ConversationTranslator",{enumerable:!0,get:function(){return gt.ConversationTranslator}}),Object.defineProperty(e,"ConversationTranscriber",{enumerable:!0,get:function(){return gt.ConversationTranscriber}}),Object.defineProperty(e,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return gt.ConversationTranscriptionResult}}),Object.defineProperty(e,"Meeting",{enumerable:!0,get:function(){return gt.Meeting}}),Object.defineProperty(e,"MeetingTranscriber",{enumerable:!0,get:function(){return gt.MeetingTranscriber}}),Object.defineProperty(e,"Participant",{enumerable:!0,get:function(){return gt.Participant}}),Object.defineProperty(e,"ParticipantChangedReason",{enumerable:!0,get:function(){return gt.ParticipantChangedReason}}),Object.defineProperty(e,"User",{enumerable:!0,get:function(){return gt.User}});var ar=pS();Object.defineProperty(e,"Synthesizer",{enumerable:!0,get:function(){return ar.Synthesizer}});var jt=R6();Object.defineProperty(e,"SpeechSynthesisOutputFormat",{enumerable:!0,get:function(){return jt.SpeechSynthesisOutputFormat}});var _r=XB();Object.defineProperty(e,"SpeechSynthesizer",{enumerable:!0,get:function(){return _r.SpeechSynthesizer}});var Gt=ZB();Object.defineProperty(e,"SynthesisResult",{enumerable:!0,get:function(){return Gt.SynthesisResult}});var Ot=eq();Object.defineProperty(e,"SpeechSynthesisResult",{enumerable:!0,get:function(){return Ot.SpeechSynthesisResult}});var so=tq();Object.defineProperty(e,"SpeechSynthesisEventArgs",{enumerable:!0,get:function(){return so.SpeechSynthesisEventArgs}});var Ji=rq();Object.defineProperty(e,"SpeechSynthesisWordBoundaryEventArgs",{enumerable:!0,get:function(){return Ji.SpeechSynthesisWordBoundaryEventArgs}});var ua=nq();Object.defineProperty(e,"SpeechSynthesisBookmarkEventArgs",{enumerable:!0,get:function(){return ua.SpeechSynthesisBookmarkEventArgs}});var mi=iq();Object.defineProperty(e,"SpeechSynthesisVisemeEventArgs",{enumerable:!0,get:function(){return mi.SpeechSynthesisVisemeEventArgs}});var Y=sq();Object.defineProperty(e,"SpeechSynthesisBoundaryType",{enumerable:!0,get:function(){return Y.SpeechSynthesisBoundaryType}});var he=oq();Object.defineProperty(e,"SynthesisVoicesResult",{enumerable:!0,get:function(){return he.SynthesisVoicesResult}});var ze=aq();Object.defineProperty(e,"VoiceInfo",{enumerable:!0,get:function(){return ze.VoiceInfo}});var je=cq();Object.defineProperty(e,"SpeakerAudioDestination",{enumerable:!0,get:function(){return je.SpeakerAudioDestination}});var me=lq();Object.defineProperty(e,"ConversationTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return me.ConversationTranscriptionCanceledEventArgs}});var be=uq();Object.defineProperty(e,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return be.MeetingTranscriptionCanceledEventArgs}});var we=dq();Object.defineProperty(e,"PronunciationAssessmentGradingSystem",{enumerable:!0,get:function(){return we.PronunciationAssessmentGradingSystem}});var Be=hq();Object.defineProperty(e,"PronunciationAssessmentGranularity",{enumerable:!0,get:function(){return Be.PronunciationAssessmentGranularity}});var at=pq();Object.defineProperty(e,"PronunciationAssessmentConfig",{enumerable:!0,get:function(){return at.PronunciationAssessmentConfig}});var bt=fq();Object.defineProperty(e,"PronunciationAssessmentResult",{enumerable:!0,get:function(){return bt.PronunciationAssessmentResult}});var Jt=U6();Object.defineProperty(e,"LanguageIdMode",{enumerable:!0,get:function(){return Jt.LanguageIdMode}});var Un=vq();Object.defineProperty(e,"AvatarConfig",{enumerable:!0,get:function(){return Un.AvatarConfig}});var tr=mq();Object.defineProperty(e,"AvatarEventArgs",{enumerable:!0,get:function(){return tr.AvatarEventArgs}});var qr=gq();Object.defineProperty(e,"AvatarSynthesizer",{enumerable:!0,get:function(){return qr.AvatarSynthesizer}});var Tn=yq();Object.defineProperty(e,"AvatarVideoFormat",{enumerable:!0,get:function(){return Tn.AvatarVideoFormat}}),Object.defineProperty(e,"Coordinate",{enumerable:!0,get:function(){return Tn.Coordinate}});var Rr=Sq();Object.defineProperty(e,"AvatarWebRTCConnectionResult",{enumerable:!0,get:function(){return Rr.AvatarWebRTCConnectionResult}});var Dt=bq();Object.defineProperty(e,"Diagnostics",{enumerable:!0,get:function(){return Dt.Diagnostics}});var cr=S6();Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return cr.LogLevel}})}(bg)),bg}var AT;function Cq(){if(AT)return Kc;AT=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.ProxyInfo=void 0;const e=ne();let t=class X6{constructor(i,o,l,c){this.privProxyHostName=i,this.privProxyPort=o,this.privProxyUserName=l,this.privProxyPassword=c}static fromParameters(i){return new X6(i.getProperty(e.PropertyId.SpeechServiceConnection_ProxyHostName),parseInt(i.getProperty(e.PropertyId.SpeechServiceConnection_ProxyPort),10),i.getProperty(e.PropertyId.SpeechServiceConnection_ProxyUserName),i.getProperty(e.PropertyId.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(i){return this.fromParameters(i.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}};return Kc.ProxyInfo=t,Kc}var Su={},Ug,_T;function xq(){if(_T)return Ug;_T=1;const e=new Set(["json","buffer","string"]);return Ug=t=>(...r)=>{const i=new Set;let o,l,c,a="";return r.forEach(d=>{if(typeof d=="string")if(d.toUpperCase()===d)if(o){const h=`Can't set method to ${d}, already set to ${o}.`;throw new Error(h)}else o=d;else if(d.startsWith("http:")||d.startsWith("https:"))a=d;else if(e.has(d))l=d;else throw new Error(`Unknown encoding, ${d}`);else if(typeof d=="number")i.add(d);else if(typeof d=="object")if(Array.isArray(d)||d instanceof Set)d.forEach(h=>i.add(h));else{if(c)throw new Error("Cannot set headers twice.");c=d}else throw new Error(`Unknown type: ${typeof d}`)}),o||(o="GET"),i.size===0&&i.add(200),t(i,o,l,c,a)},Ug}var Vg,kT;function Rq(){if(kT)return Vg;kT=1;const e=xq();class t extends Error{constructor(o,...l){super(...l),Error.captureStackTrace&&Error.captureStackTrace(this,t),this.name="StatusError",this.message=o.statusMessage,this.statusCode=o.status,this.res=o,this.json=o.json.bind(o),this.text=o.text.bind(o),this.arrayBuffer=o.arrayBuffer.bind(o);let c;Object.defineProperty(this,"responseBody",{get:()=>(c||(c=this.arrayBuffer()),c)}),this.headers={};for(const[d,h]of o.headers.entries())this.headers[d.toLowerCase()]=h}}return Vg=e((i,o,l,c,a)=>async(d,h,f={})=>{d=a+(d||"");let v=new URL(d);if(c||(c={}),v.username&&(c.Authorization="Basic "+btoa(v.username+":"+v.password),v=new URL(v.protocol+"//"+v.host+v.pathname+v.search)),v.protocol!=="https:"&&v.protocol!=="http:")throw new Error(`Unknown protocol, ${v.protocol}`);if(h&&!(h instanceof ArrayBuffer||ArrayBuffer.isView(h)||typeof h=="string"))if(typeof h=="object")h=JSON.stringify(h),c["Content-Type"]="application/json";else throw new Error("Unknown body type.");f=new Headers({...c||{},...f});const m=await fetch(v,{method:o,headers:f,body:h});if(m.statusCode=m.status,!i.has(m.status))throw new t(m);return l==="json"?m.json():l==="buffer"?m.arrayBuffer():l==="string"?m.text():m}),Vg}var MT;function wq(){return MT||(MT=1,function(e){var t=Su&&Su.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.RestMessageAdapter=e.RestRequestType=void 0;const r=t(Rq()),i=Ne();var o;(function(c){c.Get="GET",c.Post="POST",c.Delete="DELETE",c.File="file"})(o=e.RestRequestType||(e.RestRequestType={}));let l=class{constructor(a){if(!a)throw new i.ArgumentNullError("configParams");this.privHeaders=a.headers,this.privIgnoreCache=a.ignoreCache}static extractHeaderValue(a,d){let h="";try{const f=d.trim().split(/[\r\n]+/),v={};f.forEach(m=>{const S=m.split(": "),C=S.shift().toLowerCase(),x=S.join(": ");v[C]=x}),h=v[a.toLowerCase()]}catch{}return h}set options(a){this.privHeaders=a.headers,this.privIgnoreCache=a.ignoreCache}setHeaders(a,d){this.privHeaders[a]=d}request(a,d,h={},f=null){const v=new i.Deferred,m=a===o.File?"POST":a,S=(x,R={})=>{const w=x;return{data:JSON.stringify(R),headers:JSON.stringify(x.headers),json:R,ok:x.statusCode>=200&&x.statusCode<300,status:x.statusCode,statusText:R.error?R.error.message:w.statusText?w.statusText:w.statusMessage}},C=x=>{const R=r.default(d,m,this.privHeaders,200,201,202,204,400,401,402,403,404),w=this.queryParams(h)===""?"":`?${this.queryParams(h)}`;R(w,x).then(async T=>{if(a===o.Delete||T.statusCode===204)v.resolve(S(T));else try{const P=await T.json();v.resolve(S(T,P))}catch{v.resolve(S(T))}}).catch(T=>{v.reject(T)})};return this.privIgnoreCache&&(this.privHeaders["Cache-Control"]="no-cache"),a===o.Post&&f&&(this.privHeaders["content-type"]="application/json",this.privHeaders["Content-Type"]="application/json"),C(f),v.promise}queryParams(a={}){return Object.keys(a).map(d=>encodeURIComponent(d)+"="+encodeURIComponent(a[d])).join("&")}};e.RestMessageAdapter=l}(Su)),Su}var bu={},NT;function Z6(){if(NT)return bu;NT=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.RestConfigBase=void 0;let e=class Ap{static get requestOptions(){return Ap.privDefaultRequestOptions}static get configParams(){return Ap.privDefaultParams}static get restErrors(){return Ap.privRestErrors}};return bu.RestConfigBase=e,e.privDefaultRequestOptions={headers:{Accept:"application/json"},ignoreCache:!1,timeout:1e4},e.privRestErrors={authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."},e.privDefaultParams={apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",contentTypeKey:"Content-Type",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"},bu}var IT;function er(){return IT||(IT=1,function(e){var t=Rs&&Rs.__createBinding||(Object.create?function(i,o,l,c){c===void 0&&(c=l),Object.defineProperty(i,c,{enumerable:!0,get:function(){return o[l]}})}:function(i,o,l,c){c===void 0&&(c=l),i[c]=o[l]}),r=Rs&&Rs.__exportStar||function(i,o){for(var l in i)l!=="default"&&!o.hasOwnProperty(l)&&t(o,i,l)};Object.defineProperty(e,"__esModule",{value:!0}),r(T7(),e),r(P7(),e),r(A7(),e),r(_7(),e),r(k7(),e),r(M7(),e),r(b6(),e),r(N7(),e),r(Cq(),e),r(wq(),e),r(Z6(),e)}(Rs)),Rs}var jT;function Eq(){if(jT)return qc;jT=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.IntentConnectionFactory=void 0;const e=er(),t=ne(),r=En(),i=ge(),o=xr();let l=class extends r.ConnectionFactoryBase{create(a,d,h){let f=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint);if(!f){const C=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_IntentRegion),x=r.ConnectionFactoryBase.getHostSuffix(C);f=a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+C+".sr.speech"+x)+"/speech/recognition/interactive/cognitiveservices/v1"}const v={format:"simple",language:a.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(a,v,f);const m={};d.token!==void 0&&d.token!==""&&(m[d.headerName]=d.token),m[o.HeaderNames.ConnectionId]=h,a.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,f);const S=a.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(f,v,m,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(a),S,h)}getSpeechRegionFromIntentRegion(a){switch(a){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return a}}};return qc.IntentConnectionFactory=l,qc}var zs={},OT;function Tq(){if(OT)return zs;OT=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.VoiceProfileConnectionFactory=zs.SpeakerRecognitionConnectionFactory=void 0;const e=er(),t=ne(),r=En(),i=ge(),o=xr();class l extends r.ConnectionFactoryBase{create(h,f,v,m){let S=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint);if(!S){const w=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region),T=r.ConnectionFactoryBase.getHostSuffix(w),P=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,`wss://${w}.spr-frontend.speech${T}`),j=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_SpeakerIdMode,"TextIndependentIdentification");S=`${P}/speaker/ws/${this.scenarioToPath(j)}/${v}`}const C={format:"simple",language:h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(h,C,S);const x={};f.token!==void 0&&f.token!==""&&(x[f.headerName]=f.token),x[o.HeaderNames.ConnectionId]=m,x[o.HeaderNames.SpIDAuthKey]=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Key),h.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,S);const R=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(S,C,x,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),R,m)}scenarioToPath(h){switch(h){case"TextIndependentVerification":case"2":return"verification/text-independent";case"TextDependentVerification":case"1":return"verification/text-dependent";default:return"identification/text-independent"}}}let c=class extends l{create(h,f,v){return super.create(h,f,"recognition",v)}};zs.SpeakerRecognitionConnectionFactory=c;class a extends l{create(h,f,v){return super.create(h,f,"profile",v)}}return zs.VoiceProfileConnectionFactory=a,zs}var Fg={},DT;function fS(){return DT||(DT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionEndedEvent=e.RecognitionCompletionStatus=e.RecognitionStartedEvent=e.ConnectingToServiceEvent=e.ListeningStartedEvent=e.RecognitionTriggeredEvent=e.SpeechRecognitionEvent=void 0;const t=Ne();class r extends t.PlatformEvent{constructor(f,v,m,S=t.EventType.Info){super(f,S),this.privRequestId=v,this.privSessionId=m}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}e.SpeechRecognitionEvent=r;class i extends r{constructor(f,v,m,S){super("RecognitionTriggeredEvent",f,v),this.privAudioSourceId=m,this.privAudioNodeId=S}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}e.RecognitionTriggeredEvent=i;class o extends r{constructor(f,v,m,S){super("ListeningStartedEvent",f,v),this.privAudioSourceId=m,this.privAudioNodeId=S}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}}e.ListeningStartedEvent=o;class l extends r{constructor(f,v,m){super("ConnectingToServiceEvent",f,m),this.privAuthFetchEventid=v}get authFetchEventid(){return this.privAuthFetchEventid}}e.ConnectingToServiceEvent=l;class c extends r{constructor(f,v,m,S,C){super("RecognitionStartedEvent",f,C),this.privAudioSourceId=v,this.privAudioNodeId=m,this.privAuthFetchEventId=S}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}}e.RecognitionStartedEvent=c;var a;(function(h){h[h.Success=0]="Success",h[h.AudioSourceError=1]="AudioSourceError",h[h.AudioSourceTimeout=2]="AudioSourceTimeout",h[h.AuthTokenFetchError=3]="AuthTokenFetchError",h[h.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",h[h.UnAuthorized=5]="UnAuthorized",h[h.ConnectTimeout=6]="ConnectTimeout",h[h.ConnectError=7]="ConnectError",h[h.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",h[h.UnknownError=9]="UnknownError"})(a=e.RecognitionCompletionStatus||(e.RecognitionCompletionStatus={}));class d extends r{constructor(f,v,m,S,C,x,R,w){super("RecognitionEndedEvent",f,C,R===a.Success?t.EventType.Info:t.EventType.Error),this.privAudioSourceId=v,this.privAudioNodeId=m,this.privAuthFetchEventId=S,this.privStatus=R,this.privError=w,this.privServiceTag=x}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}get serviceTag(){return this.privServiceTag}get status(){return this.privStatus}get error(){return this.privError}}e.RecognitionEndedEvent=d}(Fg)),Fg}var Cu={},xu={},zT;function ca(){if(zT)return xu;zT=1,Object.defineProperty(xu,"__esModule",{value:!0}),xu.SpeechConnectionMessage=void 0;const e=Ne(),t=xr();class r extends e.ConnectionMessage{constructor(o,l,c,a,d,h,f,v){if(!l)throw new e.ArgumentNullError("path");if(!c)throw new e.ArgumentNullError("requestId");const m={};if(m[t.HeaderNames.Path]=l,m[t.HeaderNames.RequestId]=c,m[t.HeaderNames.RequestTimestamp]=new Date().toISOString(),a&&(m[t.HeaderNames.ContentType]=a),h&&(m[t.HeaderNames.RequestStreamId]=h),f)for(const S in f)S&&(m[S]=f[S]);v?super(o,d,m,v):super(o,d,m),this.privPath=l,this.privRequestId=c,this.privContentType=a,this.privStreamId=h,this.privAdditionalHeaders=f}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}static fromConnectionMessage(o){let l=null,c=null,a=null,d=null;const h={};if(o.headers)for(const f in o.headers)f&&(f.toLowerCase()===t.HeaderNames.Path.toLowerCase()?l=o.headers[f]:f.toLowerCase()===t.HeaderNames.RequestId.toLowerCase()?c=o.headers[f]:f.toLowerCase()===t.HeaderNames.ContentType.toLowerCase()?a=o.headers[f]:f.toLowerCase()===t.HeaderNames.RequestStreamId.toLowerCase()?d=o.headers[f]:h[f]=o.headers[f]);return new r(o.messageType,l,c,a,o.body,d,h,o.id)}}return xu.SpeechConnectionMessage=r,xu}var LT;function Pq(){if(LT)return Cu;LT=1,Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.ServiceRecognizerBase=void 0;const e=er(),t=Ne(),r=ne(),i=ge(),o=ca();let l=class Sd{constructor(a,d,h,f,v){if(this.privConnectionConfigurationPromise=void 0,this.privConnectionPromise=void 0,this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.privAverageBytesPerMs=0,this.privEnableSpeakerId=!1,this.privExpectContentAssessmentResponse=!1,this.recognizeOverride=void 0,this.recognizeSpeaker=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.handleSpeechPhraseMessage=void 0,this.handleSpeechHypothesisMessage=void 0,!a)throw new t.ArgumentNullError("authentication");if(!d)throw new t.ArgumentNullError("connectionFactory");if(!h)throw new t.ArgumentNullError("audioSource");if(!f)throw new t.ArgumentNullError("recognizerConfig");this.privEnableSpeakerId=f.isSpeakerDiarizationEnabled,this.privMustReportEndOfStream=!1,this.privAuthentication=a,this.privConnectionFactory=d,this.privAudioSource=h,this.privRecognizerConfig=f,this.privIsDisposed=!1,this.privRecognizer=v,this.privRequestSession=new i.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new t.EventSource,this.privServiceEvents=new t.EventSource,this.privDynamicGrammar=new i.DynamicGrammarBuilder,this.privSpeechContext=new i.SpeechContext(this.privDynamicGrammar),this.privAgentConfig=new i.AgentConfig,this.privRecognizerConfig.parameters.getProperty(r.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?this.privSetTimeout=t.Timeout.setTimeout:(typeof window<"u"&&(this.privSetTimeout=window.setTimeout.bind(window)),typeof globalThis<"u"&&(this.privSetTimeout=globalThis.setTimeout.bind(globalThis))),this.connectionEvents.attach(S=>{if(S.name==="ConnectionClosedEvent"){const C=S;(C.statusCode===1003||C.statusCode===1007||C.statusCode===1002||C.statusCode===4e3||this.privRequestSession.numConnectionAttempts>this.privRecognizerConfig.maxRetryCount)&&this.cancelRecognitionLocal(r.CancellationReason.Error,C.statusCode===1007?r.CancellationErrorCode.BadRequestParameters:r.CancellationErrorCode.ConnectionFailure,`${C.reason} websocket error code: ${C.statusCode}`)}}),this.privEnableSpeakerId&&(this.privDiarizationSessionId=t.createNoDashGuid()),this.setLanguageIdJson(),this.setOutputDetailLevelJson()}setTranslationJson(){const a=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0);if(a!==void 0){const d=a.split(","),h=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0),f=h!==void 0?"Synthesize":"None";if(this.privSpeechContext.setSection("translation",{onSuccess:{action:f},output:{interimResults:{mode:"Always"}},targetLanguages:d}),h!==void 0){const v={};for(const m of d)v[m]=h;this.privSpeechContext.setSection("synthesis",{defaultVoices:v})}}}setSpeechSegmentationTimeoutJson(){const a=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationSilenceTimeoutMs,void 0),d=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationMaximumTimeMs,void 0),h=this.privRecognizerConfig.parameters.getProperty(r.PropertyId.Speech_SegmentationStrategy,void 0),f={segmentation:{mode:""}};let v=!1;if(h!==void 0){v=!0;let m="";switch(h.toLowerCase()){case"default":break;case"time":m="Custom";break;case"semantic":m="Semantic";break}f.segmentation.mode=m}if(a!==void 0){v=!0;const m=parseInt(a,10);f.segmentation.mode="Custom",f.segmentation.segmentationSilenceTimeoutMs=m}if(d!==void 0){v=!0;const m=parseInt(d,10);f.segmentation.mode="Custom",f.segmentation.segmentationForcedTimeoutMs=m}if(v){const m=this.recognitionMode===i.RecognitionMode.Conversation?"CONVERSATION":this.recognitionMode===i.RecognitionMode.Dictation?"DICTATION":"INTERACTIVE",S=this.privSpeechContext.getSection("phraseDetection");S.mode=m,S[m]=f,this.privSpeechContext.setSection("phraseDetection",S)}}setLanguageIdJson(){const a=this.privSpeechContext.getSection("phraseDetection");if(this.privRecognizerConfig.autoDetectSourceLanguages!==void 0){const h=this.privRecognizerConfig.autoDetectSourceLanguages.split(",");let f;this.privRecognizerConfig.languageIdMode==="Continuous"?f="DetectContinuous":f="DetectAtAudioStart",this.privSpeechContext.setSection("languageId",{Priority:"PrioritizeLatency",languages:h,mode:f,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}});const v=this.privRecognizerConfig.sourceLanguageModels;v!==void 0&&(a.customModels=v,a.onInterim={action:"None"},a.onSuccess={action:"None"})}this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)!==void 0&&(a.onInterim={action:"Translate"},a.onSuccess={action:"Translate"},this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"None"},phraseResults:{resultType:"None"}})),this.privSpeechContext.setSection("phraseDetection",a)}setOutputDetailLevelJson(){this.privEnableSpeakerId&&(this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true"?this.privSpeechContext.setWordLevelTimings():this.privRecognizerConfig.parameters.getProperty(i.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()===r.OutputFormat[r.OutputFormat.Detailed].toLocaleLowerCase()&&this.privSpeechContext.setDetailedOutputFormat())}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(a){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.ConversationTranslator_Token,a)}set voiceProfileType(a){this.privRecognizerConfig.parameters.setProperty(r.PropertyId.SpeechServiceConnection_SpeakerIdMode,a)}set authentication(a){this.privAuthentication=a}isDisposed(){return this.privIsDisposed}async dispose(a){if(this.privIsDisposed=!0,this.privConnectionConfigurationPromise!==void 0)try{await(await this.privConnectionConfigurationPromise).dispose(a)}catch{return}}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}async recognize(a,d,h){if(this.recognizeOverride!==void 0){await this.recognizeOverride(a,d,h);return}this.privConnectionConfigurationPromise=void 0,this.privRecognizerConfig.recognitionMode=a,this.setSpeechSegmentationTimeoutJson(),this.setTranslationJson(),this.privSuccessCallback=d,this.privErrorCallback=h,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);const f=this.connectImpl();let v;try{const C=await this.audioSource.attach(this.privRequestSession.audioNodeId),x=await this.audioSource.format,R=await this.audioSource.deviceInfo;this.privIsLiveAudio=R.type&&R.type===i.type.Microphones,v=new e.ReplayableAudioNode(C,x.avgBytesPerSec),await this.privRequestSession.onAudioSourceAttachCompleted(v,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:R}}catch(C){throw await this.privRequestSession.onStopRecognizing(),C}try{await f}catch(C){await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,C);return}const m=new r.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,m),this.receiveMessage(),this.sendAudio(v).catch(async C=>{await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,C)})}async stopRecognizing(){if(this.privRequestSession.isRecognizing)try{await this.audioSource.turnOff(),await this.sendFinalAudio(),await this.privRequestSession.onStopRecognizing(),await this.privRequestSession.turnCompletionPromise}finally{await this.privRequestSession.dispose()}}async connect(){return await this.connectImpl(),Promise.resolve()}connectAsync(a,d){this.connectImpl().then(()=>{try{a&&a()}catch(h){d&&d(h)}},h=>{try{d&&d(h)}catch{}})}async disconnect(){if(await this.cancelRecognitionLocal(r.CancellationReason.Error,r.CancellationErrorCode.NoError,"Disconnecting"),this.disconnectOverride!==void 0&&await this.disconnectOverride(),this.privConnectionPromise!==void 0)try{await(await this.privConnectionPromise).dispose()}catch{}this.privConnectionPromise=void 0}sendMessage(a){}async sendNetworkMessage(a,d){const h=typeof d=="string"?t.MessageType.Text:t.MessageType.Binary,f=typeof d=="string"?"application/json":"";return(await this.fetchConnection()).send(new o.SpeechConnectionMessage(h,a,this.privRequestSession.requestId,f,d))}set activityTemplate(a){this.privActivityTemplate=a}get activityTemplate(){return this.privActivityTemplate}set expectContentAssessmentResponse(a){this.privExpectContentAssessmentResponse=a}async sendTelemetryData(){const a=this.privRequestSession.getTelemetry();if(Sd.telemetryDataEnabled!==!0||this.privIsDisposed||a===null)return;if(Sd.telemetryData)try{Sd.telemetryData(a)}catch{}await(await this.fetchConnection()).send(new o.SpeechConnectionMessage(t.MessageType.Text,"telemetry",this.privRequestSession.requestId,"application/json",a))}async cancelRecognitionLocal(a,d,h){this.privRequestSession.isRecognizing&&(await this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a,d,h))}async receiveMessage(){try{if(this.privIsDisposed)return;let a=await this.fetchConnection();const d=await a.read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(!d)return this.receiveMessage();this.privServiceHasSentMessage=!0;const h=o.SpeechConnectionMessage.fromConnectionMessage(d);if(h.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(h.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const f=i.SpeechDetected.fromJSON(h.textBody,this.privRequestSession.currentTurnAudioOffset),v=new r.RecognitionEventArgs(f.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,v);break;case"speech.enddetected":let m;h.textBody.length>0?m=h.textBody:m="{ Offset: 0 }";const S=i.SpeechDetected.fromJSON(m,this.privRequestSession.currentTurnAudioOffset),C=new r.RecognitionEventArgs(S.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,C);break;case"turn.end":await this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,await this.cancelRecognitionLocal(r.CancellationReason.EndOfStream,r.CancellationErrorCode.NoError,void 0));const x=new r.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing){this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,x);return}else a=await this.fetchConnection(),await this.sendPrePayloadJSON(a);break;default:await this.processTypeSpecificMessages(h)||this.privServiceEvents&&this.serviceEvents.onEvent(new t.ServiceEvent(h.path.toLowerCase(),h.textBody))}return this.receiveMessage()}catch{return null}}updateSpeakerDiarizationAudioOffset(){const a=this.privRequestSession.recognitionBytesSent,d=this.privAverageBytesPerMs!==0?a/this.privAverageBytesPerMs:0;this.privSpeechContext.setSpeakerDiarizationAudioOffsetMs(d)}sendSpeechContext(a,d){this.privEnableSpeakerId&&this.updateSpeakerDiarizationAudioOffset();const h=this.speechContext.toJSON();if(d&&this.privRequestSession.onSpeechContext(),h)return a.send(new o.SpeechConnectionMessage(t.MessageType.Text,"speech.context",this.privRequestSession.requestId,"application/json",h))}noOp(){}async sendPrePayloadJSON(a,d=!0){if(this.sendPrePayloadJSONOverride!==void 0)return this.sendPrePayloadJSONOverride(a);await this.sendSpeechContext(a,d),await this.sendWaveHeader(a)}async sendWaveHeader(a){const d=await this.audioSource.format;return a.send(new o.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",d.header))}connectImpl(){return this.privConnectionPromise!==void 0?this.privConnectionPromise.then(a=>a.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl())):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch(()=>{}),this.postConnectImplOverride!==void 0?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}sendSpeechServiceConfig(a,d,h){if(d.onSpeechContext(),Sd.telemetryDataEnabled!==!0){const v={context:{system:JSON.parse(h).context.system}};h=JSON.stringify(v)}if(this.privRecognizerConfig.parameters.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()==="true"){const f=JSON.parse(h);f.context.DisableReferenceChannel="True",f.context.MicSpec="1_0_0",h=JSON.stringify(f)}if(h)return a.send(new o.SpeechConnectionMessage(t.MessageType.Text,"speech.config",d.requestId,"application/json",h))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(a=>a.state()===t.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async sendAudio(a){const d=await this.audioSource.format;this.privAverageBytesPerMs=d.avgBytesPerSec/1e3;let h=Date.now();const f=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),v=d.avgBytesPerSec/1e3*parseInt(f,10),m=this.privRequestSession.recogNumber,S=async()=>{if(!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===m){const C=await this.fetchConnection(),x=await a.read();if(this.privRequestSession.isSpeechEnded)return;let R,w;if(!x||x.isEnd?(R=null,w=0):(R=x.buffer,this.privRequestSession.onAudioSent(R.byteLength),v>=this.privRequestSession.bytesSent?w=0:w=Math.max(0,h-Date.now())),w!==0&&await this.delay(w),R!==null&&(h=Date.now()+R.byteLength*1e3/(d.avgBytesPerSec*2)),!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===m)if(C.send(new o.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,null,R)).catch(()=>{this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch(()=>{})}),x!=null&&x.isEnd)this.privIsLiveAudio||this.privRequestSession.onSpeechEnded();else return S()}};return S()}async retryableConnect(){let a=!1;this.privAuthFetchEventId=t.createNoDashGuid();const d=this.privRequestSession.sessionId;this.privConnectionId=d!==void 0?d:t.createNoDashGuid(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);let h=0,f="";for(;this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount;){const m=await(a?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId));await this.privRequestSession.onAuthCompleted(!1);const S=this.privConnectionFactory.create(this.privRecognizerConfig,m,this.privConnectionId);this.privRequestSession.listenForServiceTelemetry(S.events),S.events.attach(x=>{this.connectionEvents.onEvent(x)});const C=await S.open();if(C.statusCode===200)return await this.privRequestSession.onConnectionEstablishCompleted(C.statusCode),Promise.resolve(S);C.statusCode===1006&&(a=!0),h=C.statusCode,f=C.reason,this.privRequestSession.onRetryConnection()}return await this.privRequestSession.onConnectionEstablishCompleted(h,f),Promise.reject(`Unable to contact server. StatusCode: ${h}, ${this.privRecognizerConfig.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint)} Reason: ${f}`)}delay(a){return new Promise(d=>this.privSetTimeout(d,a))}writeBufferToConsole(a){let d="Buffer Size: ";if(a===null)d+="null";else{const h=new Uint8Array(a);d+=`${a.byteLength}\r
`;for(let f=0;f<a.byteLength;f++)d+=h[f].toString(16).padStart(2,"0")+" ",(f+1)%16===0&&(console.info(d),d="")}console.info(d)}async sendFinalAudio(){await(await this.fetchConnection()).send(new o.SpeechConnectionMessage(t.MessageType.Binary,"audio",this.privRequestSession.requestId,null,null))}async configureConnection(){const a=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(a):(await this.sendSpeechServiceConfig(a,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendPrePayloadJSON(a,!1),a)}};return Cu.ServiceRecognizerBase=l,l.telemetryDataEnabled=!0,Cu}var Ru={},BT;function Aq(){if(BT)return Ru;BT=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.ConversationServiceRecognizer=void 0;const e=ne(),t=ge();let r=class extends t.ServiceRecognizerBase{constructor(o,l,c,a,d){super(o,l,c,a,d),this.handleSpeechPhraseMessage=async h=>this.handleSpeechPhrase(h),this.handleSpeechHypothesisMessage=h=>this.handleSpeechHypothesis(h)}processTypeSpecificMessages(o){}handleRecognizedCallback(o,l,c){}handleRecognizingCallback(o,l,c){}async processSpeechMessages(o){let l=!1;switch(o.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":this.handleSpeechHypothesisMessage&&this.handleSpeechHypothesisMessage(o.textBody),l=!0;break;case"speech.phrase":this.handleSpeechPhraseMessage&&await this.handleSpeechPhraseMessage(o.textBody),l=!0;break}return l}cancelRecognition(o,l,c,a,d){}async handleSpeechPhrase(o){const l=t.SimpleSpeechPhrase.fromJSON(o,this.privRequestSession.currentTurnAudioOffset),c=t.EnumTranslation.implTranslateRecognitionResult(l.RecognitionStatus);let a;const d=new e.PropertyCollection;if(d.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,o),this.privRequestSession.onPhraseRecognized(l.Offset+l.Duration),e.ResultReason.Canceled===c){const h=t.EnumTranslation.implTranslateCancelResult(l.RecognitionStatus),f=t.EnumTranslation.implTranslateCancelErrorCode(l.RecognitionStatus);await this.cancelRecognitionLocal(h,f,t.EnumTranslation.implTranslateErrorDetails(f))}else if(l.RecognitionStatus!==t.RecognitionStatus.EndOfDictation){if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])a=new e.SpeechRecognitionResult(this.privRequestSession.requestId,c,l.DisplayText,l.Duration,l.Offset,l.Language,l.LanguageDetectionConfidence,l.SpeakerId,void 0,l.asJson(),d);else{const h=t.DetailedSpeechPhrase.fromJSON(o,this.privRequestSession.currentTurnAudioOffset);a=new e.SpeechRecognitionResult(this.privRequestSession.requestId,c,h.Text,h.Duration,h.Offset,h.Language,h.LanguageDetectionConfidence,h.SpeakerId,void 0,h.asJson(),d)}this.handleRecognizedCallback(a,a.offset,this.privRequestSession.sessionId)}}handleSpeechHypothesis(o){const l=t.SpeechHypothesis.fromJSON(o,this.privRequestSession.currentTurnAudioOffset),c=new e.PropertyCollection;c.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,o);const a=new e.SpeechRecognitionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,l.Text,l.Duration,l.Offset,l.Language,l.LanguageDetectionConfidence,l.SpeakerId,void 0,l.asJson(),c);this.privRequestSession.onHypothesis(l.Offset),this.handleRecognizingCallback(a,l.Duration,this.privRequestSession.sessionId)}};return Ru.ConversationServiceRecognizer=r,Ru}var Hg={},qT;function _q(){return qT||(qT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognizerConfig=e.SpeechResultFormat=e.RecognitionMode=void 0;const t=ne(),r=ge();var i;(function(l){l[l.Interactive=0]="Interactive",l[l.Conversation=1]="Conversation",l[l.Dictation=2]="Dictation"})(i=e.RecognitionMode||(e.RecognitionMode={})),function(l){l[l.Simple=0]="Simple",l[l.Detailed=1]="Detailed"}(e.SpeechResultFormat||(e.SpeechResultFormat={}));class o{constructor(c,a){this.privSpeechServiceConfig=c||new r.SpeechServiceConfig(new r.Context(null)),this.privParameters=a,this.privMaxRetryCount=parseInt(a.getProperty("SPEECH-Error-MaxRetryCount","4"),10),this.privLanguageIdMode=a.getProperty(t.PropertyId.SpeechServiceConnection_LanguageIdMode,void 0),this.privEnableSpeakerId=!1}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(c){this.privRecognitionMode=c,this.privRecognitionActivityTimeout=c===i.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=i[c]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==i.Interactive}get languageIdMode(){return this.privLanguageIdMode}get autoDetectSourceLanguages(){return this.parameters.getProperty(t.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}get recognitionEndpointVersion(){return this.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,void 0)}get sourceLanguageModels(){const c=[];let a=!1;if(this.autoDetectSourceLanguages!==void 0)for(const d of this.autoDetectSourceLanguages.split(",")){const h=d+t.PropertyId.SpeechServiceConnection_EndpointId.toString(),f=this.parameters.getProperty(h,void 0);f!==void 0?(c.push({language:d,endpoint:f}),a=!0):c.push({language:d,endpoint:""})}return a?c:void 0}get maxRetryCount(){return this.privMaxRetryCount}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}set isSpeakerDiarizationEnabled(c){this.privEnableSpeakerId=c}}e.RecognizerConfig=o}(Hg)),Hg}var $g={},UT;function kq(){return UT||(UT=1,Object.defineProperty($g,"__esModule",{value:!0})),$g}var wu={},VT;function Mq(){if(VT)return wu;VT=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.WebsocketMessageFormatter=void 0;const e=Ne(),t=`\r
`;let r=class{toConnectionMessage(o){const l=new e.Deferred;try{if(o.messageType===e.MessageType.Text){const c=o.textContent;let a={},d=null;if(c){const h=c.split(`\r
\r
`);h&&h.length>0&&(a=this.parseHeaders(h[0]),h.length>1&&(d=h[1]))}l.resolve(new e.ConnectionMessage(o.messageType,d,a,o.id))}else if(o.messageType===e.MessageType.Binary){const c=o.binaryContent;let a={},d=null;if(!c||c.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const h=new DataView(c),f=h.getInt16(0);if(c.byteLength<f+2)throw new Error("Invalid binary message format. Header content missing.");let v="";for(let m=0;m<f;m++)v+=String.fromCharCode(h.getInt8(m+2));a=this.parseHeaders(v),c.byteLength>f+2&&(d=c.slice(2+f)),l.resolve(new e.ConnectionMessage(o.messageType,d,a,o.id))}}catch(c){l.reject(`Error formatting the message. Error: ${c}`)}return l.promise}fromConnectionMessage(o){const l=new e.Deferred;try{if(o.messageType===e.MessageType.Text){const c=`${this.makeHeaders(o)}${t}${o.textBody?o.textBody:""}`;l.resolve(new e.RawWebsocketMessage(e.MessageType.Text,c,o.id))}else if(o.messageType===e.MessageType.Binary){const c=this.makeHeaders(o),a=o.binaryBody,d=this.stringToArrayBuffer(c),h=new Int8Array(d),f=h.byteLength,v=new Int8Array(2+f+(a?a.byteLength:0));if(v[0]=f>>8&255,v[1]=f&255,v.set(h,2),a){const S=new Int8Array(a);v.set(S,2+f)}const m=v.buffer;l.resolve(new e.RawWebsocketMessage(e.MessageType.Binary,m,o.id))}}catch(c){l.reject(`Error formatting the message. ${c}`)}return l.promise}makeHeaders(o){let l="";if(o.headers)for(const c in o.headers)c&&(l+=`${c}: ${o.headers[c]}${t}`);return l}parseHeaders(o){const l={};if(o){const c=o.match(/[^\r\n]+/g);if(l){for(const a of c)if(a){const d=a.indexOf(":"),h=d>0?a.substr(0,d).trim().toLowerCase():a,f=d>0&&a.length>d+1?a.substr(d+1).trim():"";l[h]=f}}}return l}stringToArrayBuffer(o){const l=new ArrayBuffer(o.length),c=new DataView(l);for(let a=0;a<o.length;a++)c.setUint8(a,o.charCodeAt(a));return l}};return wu.WebsocketMessageFormatter=r,wu}var Eu={},FT;function Nq(){if(FT)return Eu;FT=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.SpeechConnectionFactory=void 0;const e=er(),t=ge(),r=ne(),i=En(),o=ge(),l=xr(),c=Gi();let a=class extends i.ConnectionFactoryBase{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.universalUri="/speech/universal/v"}create(h,f,v){let m=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);const S=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region,void 0),C=i.ConnectionFactoryBase.getHostSuffix(S),x=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://"+S+".stt.speech"+C),R={},w=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_EndpointId,void 0),T=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(w?(!m||m.search(c.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(R[c.QueryParameterNames.CustomSpeechDeploymentId]=w):T&&(!m||m.search(c.QueryParameterNames.Language)===-1)&&(R[c.QueryParameterNames.Language]=T),(!m||m.search(c.QueryParameterNames.Format)===-1)&&(R[c.QueryParameterNames.Format]=h.parameters.getProperty(t.OutputFormatPropertyName,r.OutputFormat[r.OutputFormat.Simple]).toLowerCase()),h.autoDetectSourceLanguages!==void 0&&(R[c.QueryParameterNames.EnableLanguageId]="true"),this.setCommonUrlParams(h,R,m),!m)switch(h.recognitionMode){case o.RecognitionMode.Conversation:h.parameters.getProperty(t.ForceDictationPropertyName,"false")==="true"?m=x+this.dictationRelativeUri:h.recognitionEndpointVersion!==void 0&&parseInt(h.recognitionEndpointVersion,10)>1?m=`${x}${this.universalUri}${h.recognitionEndpointVersion}`:m=x+this.conversationRelativeUri;break;case o.RecognitionMode.Dictation:m=x+this.dictationRelativeUri;break;default:h.recognitionEndpointVersion!==void 0&&parseInt(h.recognitionEndpointVersion,10)>1?m=`${x}${this.universalUri}${h.recognitionEndpointVersion}`:m=x+this.interactiveRelativeUri;break}const P={};f.token!==void 0&&f.token!==""&&(P[f.headerName]=f.token),P[l.HeaderNames.ConnectionId]=v;const j=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",k=new e.WebsocketConnection(m,R,P,new o.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),j,v),B=k.uri;return h.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,B),k}};return Eu.SpeechConnectionFactory=a,Eu}var Tu={},HT;function Iq(){if(HT)return Tu;HT=1,Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.ConversationTranscriberConnectionFactory=void 0;const e=er(),t=ne(),r=ge(),i=En(),o=ge(),l=xr(),c=Gi();let a=class extends i.ConnectionFactoryBase{constructor(){super(...arguments),this.universalUri="/speech/universal/v2"}create(h,f,v){let m=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const S=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,void 0),C=i.ConnectionFactoryBase.getHostSuffix(S),x=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,"wss://"+S+".stt.speech"+C),R={},w=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),T=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);w?(!m||m.search(c.QueryParameterNames.CustomSpeechDeploymentId)===-1)&&(R[c.QueryParameterNames.CustomSpeechDeploymentId]=w):T&&(!m||m.search(c.QueryParameterNames.Language)===-1)&&(R[c.QueryParameterNames.Language]=T),h.autoDetectSourceLanguages!==void 0&&(R[c.QueryParameterNames.EnableLanguageId]="true"),this.setV2UrlParams(h,R,m),m||(m=`${x}${this.universalUri}`);const P={};f.token!==void 0&&f.token!==""&&(P[f.headerName]=f.token),P[l.HeaderNames.ConnectionId]=v;const j=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true",k=new e.WebsocketConnection(m,R,P,new o.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),j,v),B=k.uri;return h.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,B),k}setV2UrlParams(h,f,v){new Map([[t.PropertyId.Speech_SegmentationSilenceTimeoutMs,c.QueryParameterNames.SegmentationSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_EnableAudioLogging,c.QueryParameterNames.EnableAudioLogging],[t.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,c.QueryParameterNames.EndSilenceTimeoutMs],[t.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,c.QueryParameterNames.InitialSilenceTimeoutMs],[t.PropertyId.SpeechServiceResponse_PostProcessingOption,c.QueryParameterNames.Postprocessing],[t.PropertyId.SpeechServiceResponse_ProfanityOption,c.QueryParameterNames.Profanity],[t.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,c.QueryParameterNames.StableIntermediateThreshold]]).forEach((C,x)=>{this.setUrlParameter(x,C,h,f,v)});const S=JSON.parse(h.parameters.getProperty(r.ServicePropertiesPropertyName,"{}"));Object.keys(S).forEach(C=>{f[C]=S[C]})}};return Tu.ConversationTranscriberConnectionFactory=a,Tu}var Pu={},$T;function jq(){if($T)return Pu;$T=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.TranscriberConnectionFactory=void 0;const e=er(),t=ne(),r=En(),i=ge(),o=xr(),l=Gi();let c=class extends r.ConnectionFactoryBase{constructor(){super(...arguments),this.multiaudioRelativeUri="/speech/recognition/multiaudio"}create(d,h,f){let v=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);const m=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,"centralus"),S=r.ConnectionFactoryBase.getHostSuffix(m),C="wss://transcribe."+m+".cts.speech"+S+this.multiaudioRelativeUri,x=d.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,C),R={};this.setQueryParams(R,d,v),v||(v=x);const w={};h.token!==void 0&&h.token!==""&&(w[h.headerName]=h.token),w[o.HeaderNames.ConnectionId]=f,d.parameters.setProperty(t.PropertyId.SpeechServiceConnection_Url,v);const T=d.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(v,R,w,new i.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(d),T,f)}setQueryParams(d,h,f){const v=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_EndpointId,void 0),m=h.parameters.getProperty(t.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);v&&!(l.QueryParameterNames.CustomSpeechDeploymentId in d)&&(d[l.QueryParameterNames.CustomSpeechDeploymentId]=v),m&&!(l.QueryParameterNames.Language in d)&&(d[l.QueryParameterNames.Language]=m);const S=h.parameters.getProperty(t.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase()==="true",C=h.parameters.getProperty(i.OutputFormatPropertyName,t.OutputFormat[t.OutputFormat.Simple])!==t.OutputFormat[t.OutputFormat.Simple];(S||C)&&(d[l.QueryParameterNames.Format]=t.OutputFormat[t.OutputFormat.Detailed].toLowerCase()),this.setCommonUrlParams(h,d,f)}};return Pu.TranscriberConnectionFactory=c,Pu}var Au={},KT;function Oq(){if(KT)return Au;KT=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.TranslationConnectionFactory=void 0;const e=er(),t=H6(),r=ne(),i=En(),o=ge(),l=xr(),c=Gi();let a=class extends i.ConnectionFactoryBase{create(h,f,v){const m=this.getEndpointUrl(h),S={};h.autoDetectSourceLanguages!==void 0&&(S[c.QueryParameterNames.EnableLanguageId]="true"),this.setQueryParams(S,h,m);const C={};f.token!==void 0&&f.token!==""&&(C[f.headerName]=f.token),C[l.HeaderNames.ConnectionId]=v,h.parameters.setProperty(r.PropertyId.SpeechServiceConnection_Url,m);const x=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(m,S,C,new o.WebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),x,v)}getEndpointUrl(h,f){const v=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Region),m=i.ConnectionFactoryBase.getHostSuffix(v);let S=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Endpoint,void 0);return S||(h.autoDetectSourceLanguages!==void 0?S=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.stt.speech"+m)+"/speech/universal/v2":S=h.parameters.getProperty(r.PropertyId.SpeechServiceConnection_Host,"wss://{region}.s2s.speech"+m)+"/speech/translation/cognitiveservices/v1"),f===!0?S:t.StringUtils.formatString(S,{region:v})}setQueryParams(h,f,v){h.from=f.parameters.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage),h.to=f.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationToLanguages),h.scenario=f.recognitionMode===o.RecognitionMode.Interactive?"interactive":f.recognitionMode===o.RecognitionMode.Conversation?"conversation":"",this.setCommonUrlParams(f,h,v),this.setUrlParameter(r.PropertyId.SpeechServiceResponse_TranslationRequestStablePartialResult,c.QueryParameterNames.StableTranslation,f,h,v);const m=f.parameters.getProperty(r.PropertyId.SpeechServiceConnection_TranslationVoice,void 0);m!==void 0&&(h.voice=m,h.features="texttospeech")}};return Au.TranslationConnectionFactory=a,Au}var _u={},WT;function Dq(){if(WT)return _u;WT=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.EnumTranslation=void 0;const e=ne(),t=ge();let r=class{static implTranslateRecognitionResult(o,l=!1){let c=e.ResultReason.Canceled;switch(o){case t.RecognitionStatus.Success:c=e.ResultReason.RecognizedSpeech;break;case t.RecognitionStatus.EndOfDictation:c=l?e.ResultReason.RecognizedSpeech:e.ResultReason.NoMatch;break;case t.RecognitionStatus.NoMatch:case t.RecognitionStatus.InitialSilenceTimeout:case t.RecognitionStatus.BabbleTimeout:c=e.ResultReason.NoMatch;break;case t.RecognitionStatus.Error:case t.RecognitionStatus.BadRequest:case t.RecognitionStatus.Forbidden:default:c=e.ResultReason.Canceled;break}return c}static implTranslateCancelResult(o){let l=e.CancellationReason.EndOfStream;switch(o){case t.RecognitionStatus.Success:case t.RecognitionStatus.EndOfDictation:case t.RecognitionStatus.NoMatch:l=e.CancellationReason.EndOfStream;break;case t.RecognitionStatus.InitialSilenceTimeout:case t.RecognitionStatus.BabbleTimeout:case t.RecognitionStatus.Error:case t.RecognitionStatus.BadRequest:case t.RecognitionStatus.Forbidden:default:l=e.CancellationReason.Error;break}return l}static implTranslateCancelErrorCode(o){let l=e.CancellationErrorCode.NoError;switch(o){case t.RecognitionStatus.Error:l=e.CancellationErrorCode.ServiceError;break;case t.RecognitionStatus.TooManyRequests:l=e.CancellationErrorCode.TooManyRequests;break;case t.RecognitionStatus.BadRequest:l=e.CancellationErrorCode.BadRequestParameters;break;case t.RecognitionStatus.Forbidden:l=e.CancellationErrorCode.Forbidden;break;default:l=e.CancellationErrorCode.NoError;break}return l}static implTranslateErrorDetails(o){let l="The speech service encountered an internal error and could not continue.";switch(o){case e.CancellationErrorCode.Forbidden:l="The recognizer is using a free subscription that ran out of quota.";break;case e.CancellationErrorCode.BadRequestParameters:l="Invalid parameter or unsupported audio format in the request.";break;case e.CancellationErrorCode.TooManyRequests:l="The number of parallel requests exceeded the number of allowed concurrent transcriptions.";break}return l}};return _u.EnumTranslation=r,_u}var Kg={},GT;function zq(){return GT||(GT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RecognitionStatus=e.SynthesisStatus=void 0,function(t){t[t.Success=0]="Success",t[t.SynthesisEnd=1]="SynthesisEnd",t[t.Error=2]="Error"}(e.SynthesisStatus||(e.SynthesisStatus={})),function(t){t[t.Success=0]="Success",t[t.NoMatch=1]="NoMatch",t[t.InitialSilenceTimeout=2]="InitialSilenceTimeout",t[t.BabbleTimeout=3]="BabbleTimeout",t[t.Error=4]="Error",t[t.EndOfDictation=5]="EndOfDictation",t[t.TooManyRequests=6]="TooManyRequests",t[t.BadRequest=7]="BadRequest",t[t.Forbidden=8]="Forbidden"}(e.RecognitionStatus||(e.RecognitionStatus={}))}(Kg)),Kg}var ku={},JT;function Lq(){if(JT)return ku;JT=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.TranslationSynthesisEnd=void 0;const e=ge();let t=class ek{constructor(i){this.privSynthesisEnd=JSON.parse(i),this.privSynthesisEnd.SynthesisStatus&&(this.privSynthesisEnd.SynthesisStatus=e.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus]),this.privSynthesisEnd.Status&&(this.privSynthesisEnd.SynthesisStatus=e.SynthesisStatus[this.privSynthesisEnd.Status])}static fromJSON(i){return new ek(i)}get SynthesisStatus(){return this.privSynthesisEnd.SynthesisStatus}get FailureReason(){return this.privSynthesisEnd.FailureReason}};return ku.TranslationSynthesisEnd=t,ku}var Mu={},YT;function Bq(){if(YT)return Mu;YT=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.TranslationHypothesis=void 0;const e=Ve(),t=cS();let r=class Yy{constructor(o,l){this.privTranslationHypothesis=o,this.privTranslationHypothesis.Offset+=l,this.privTranslationHypothesis.Translation.TranslationStatus=this.mapTranslationStatus(this.privTranslationHypothesis.Translation.TranslationStatus)}static fromJSON(o,l){return new Yy(JSON.parse(o),l)}static fromTranslationResponse(o,l){e.Contracts.throwIfNullOrUndefined(o,"translationHypothesis");const c=o.SpeechHypothesis;return o.SpeechHypothesis=void 0,c.Translation=o,new Yy(c,l)}get Duration(){return this.privTranslationHypothesis.Duration}get Offset(){return this.privTranslationHypothesis.Offset}get Text(){return this.privTranslationHypothesis.Text}get Translation(){return this.privTranslationHypothesis.Translation}get Language(){var o;return(o=this.privTranslationHypothesis.PrimaryLanguage)==null?void 0:o.Language}asJson(){const o={...this.privTranslationHypothesis};return o.Translation!==void 0?JSON.stringify({...o,TranslationStatus:t.TranslationStatus[o.Translation.TranslationStatus]}):JSON.stringify(o)}mapTranslationStatus(o){if(typeof o=="string")return t.TranslationStatus[o];if(typeof o=="number")return o}};return Mu.TranslationHypothesis=r,Mu}var Nu={},QT;function qq(){if(QT)return Nu;QT=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.TranslationPhrase=void 0;const e=Ve(),t=ge(),r=cS();let i=class Qy{constructor(l,c){this.privTranslationPhrase=l,this.privTranslationPhrase.Offset+=c,this.privTranslationPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privTranslationPhrase.RecognitionStatus),this.privTranslationPhrase.Translation!==void 0&&(this.privTranslationPhrase.Translation.TranslationStatus=this.mapTranslationStatus(this.privTranslationPhrase.Translation.TranslationStatus))}static fromJSON(l,c){return new Qy(JSON.parse(l),c)}static fromTranslationResponse(l,c){e.Contracts.throwIfNullOrUndefined(l,"translationResponse");const a=l.SpeechPhrase;return l.SpeechPhrase=void 0,a.Translation=l,a.Text=a.DisplayText,new Qy(a,c)}get RecognitionStatus(){return this.privTranslationPhrase.RecognitionStatus}get Offset(){return this.privTranslationPhrase.Offset}get Duration(){return this.privTranslationPhrase.Duration}get Text(){return this.privTranslationPhrase.Text}get Language(){var l;return(l=this.privTranslationPhrase.PrimaryLanguage)==null?void 0:l.Language}get Confidence(){var l;return(l=this.privTranslationPhrase.PrimaryLanguage)==null?void 0:l.Confidence}get Translation(){return this.privTranslationPhrase.Translation}asJson(){const l={...this.privTranslationPhrase},c={...l,RecognitionStatus:t.RecognitionStatus[l.RecognitionStatus]};return l.Translation&&(c.Translation={...l.Translation,TranslationStatus:r.TranslationStatus[l.Translation.TranslationStatus]}),JSON.stringify(c)}mapRecognitionStatus(l){if(typeof l=="string")return t.RecognitionStatus[l];if(typeof l=="number")return l}mapTranslationStatus(l){if(typeof l=="string")return r.TranslationStatus[l];if(typeof l=="number")return l}};return Nu.TranslationPhrase=i,Nu}var Iu={},XT;function Uq(){if(XT)return Iu;XT=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.TranslationServiceRecognizer=void 0;const e=Ne(),t=ne(),r=ge();let i=class extends r.ConversationServiceRecognizer{constructor(l,c,a,d,h){super(l,c,a,d,h),this.privTranslationRecognizer=h,this.connectionEvents.attach(f=>{f.name==="ConnectionEstablishedEvent"&&this.privTranslationRecognizer.onConnection()})}async processTypeSpecificMessages(l){const c=new t.PropertyCollection;let a=await this.processSpeechMessages(l);if(a)return!0;const d=async f=>{if(c.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,f.asJson()),this.privRequestSession.onPhraseRecognized(f.Offset+f.Duration),f.RecognitionStatus===r.RecognitionStatus.Success){const v=this.fireEventForResult(f,c);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,v)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(v.result)}catch(m){this.privErrorCallback&&this.privErrorCallback(m)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}else{const v=r.EnumTranslation.implTranslateRecognitionResult(f.RecognitionStatus),m=new t.TranslationRecognitionResult(void 0,this.privRequestSession.requestId,v,f.Text,f.Duration,f.Offset,f.Language,f.Confidence,void 0,f.asJson(),c);if(v===t.ResultReason.Canceled){const S=r.EnumTranslation.implTranslateCancelResult(f.RecognitionStatus),C=r.EnumTranslation.implTranslateCancelErrorCode(f.RecognitionStatus);await this.cancelRecognitionLocal(S,C,r.EnumTranslation.implTranslateErrorDetails(C))}else if(f.RecognitionStatus!==r.RecognitionStatus.EndOfDictation){const S=new t.TranslationRecognitionEventArgs(m,m.offset,this.privRequestSession.sessionId);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,S)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(m)}catch(C){this.privErrorCallback&&this.privErrorCallback(C)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}a=!0}},h=f=>{c.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,f.asJson());const v=this.fireEventForResult(f,c);if(this.privRequestSession.onHypothesis(v.offset),this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,v)}catch{}a=!0};switch(l.messageType===e.MessageType.Text&&c.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,l.textBody),l.path.toLowerCase()){case"translation.hypothesis":h(r.TranslationHypothesis.fromJSON(l.textBody,this.privRequestSession.currentTurnAudioOffset));break;case"translation.response":const f=JSON.parse(l.textBody);if(f.SpeechPhrase)await d(r.TranslationPhrase.fromTranslationResponse(f,this.privRequestSession.currentTurnAudioOffset));else{const m=JSON.parse(l.textBody);m.SpeechHypothesis&&h(r.TranslationHypothesis.fromTranslationResponse(m,this.privRequestSession.currentTurnAudioOffset))}break;case"translation.phrase":await d(r.TranslationPhrase.fromJSON(l.textBody,this.privRequestSession.currentTurnAudioOffset));break;case"translation.synthesis":this.sendSynthesisAudio(l.binaryBody,this.privRequestSession.sessionId),a=!0;break;case"audio.end":case"translation.synthesis.end":const v=r.TranslationSynthesisEnd.fromJSON(l.textBody);switch(v.SynthesisStatus){case r.SynthesisStatus.Error:if(this.privTranslationRecognizer.synthesizing){const m=new t.TranslationSynthesisResult(t.ResultReason.Canceled,void 0),S=new t.TranslationSynthesisEventArgs(m,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,S)}catch{}}if(this.privTranslationRecognizer.canceled){const m=new t.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,t.CancellationReason.Error,v.FailureReason,t.CancellationErrorCode.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,m)}catch{}}break;case r.SynthesisStatus.Success:this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId);break}a=!0;break}return a}cancelRecognition(l,c,a,d,h){const f=new t.PropertyCollection;if(f.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[d]),this.privTranslationRecognizer.canceled){const v=new t.TranslationRecognitionCanceledEventArgs(l,a,h,d,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,v)}catch{}}if(this.privSuccessCallback){const v=new t.TranslationRecognitionResult(void 0,c,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,h,void 0,f);try{this.privSuccessCallback(v),this.privSuccessCallback=void 0}catch{}}}handleRecognizingCallback(l,c,a){try{const d=new t.TranslationRecognitionEventArgs(t.TranslationRecognitionResult.fromSpeechRecognitionResult(l),c,a);this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,d)}catch{}}handleRecognizedCallback(l,c,a){try{const d=new t.TranslationRecognitionEventArgs(t.TranslationRecognitionResult.fromSpeechRecognitionResult(l),c,a);this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,d)}catch{}}fireEventForResult(l,c){let a;if(l.Translation.Translations!==void 0){a=new t.Translations;for(const S of l.Translation.Translations)a.set(S.Language,S.Text||S.DisplayText)}let d,h;l instanceof r.TranslationPhrase?(l.Translation&&l.Translation.TranslationStatus===e.TranslationStatus.Success?d=t.ResultReason.TranslatedSpeech:d=t.ResultReason.RecognizedSpeech,h=l.Confidence):d=t.ResultReason.TranslatingSpeech;const f=l.Language,v=new t.TranslationRecognitionResult(a,this.privRequestSession.requestId,d,l.Text,l.Duration,l.Offset,f,h,l.Translation.FailureReason,l.asJson(),c);return new t.TranslationRecognitionEventArgs(v,l.Offset,this.privRequestSession.sessionId)}sendSynthesisAudio(l,c){const a=l===void 0?t.ResultReason.SynthesizingAudioCompleted:t.ResultReason.SynthesizingAudio,d=new t.TranslationSynthesisResult(a,l),h=new t.TranslationSynthesisEventArgs(d,c);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,h)}catch{}}};return Iu.TranslationServiceRecognizer=i,Iu}var ju={},ZT;function Vq(){if(ZT)return ju;ZT=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.SpeechDetected=void 0;let e=class tk{constructor(r,i){this.privSpeechStartDetected=JSON.parse(r),this.privSpeechStartDetected.Offset+=i}static fromJSON(r,i){return new tk(r,i)}get Offset(){return this.privSpeechStartDetected.Offset}};return ju.SpeechDetected=e,ju}var Ou={},eP;function Fq(){if(eP)return Ou;eP=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.SpeechHypothesis=void 0;let e=class rk{constructor(r,i){this.privSpeechHypothesis=JSON.parse(r),this.updateOffset(i)}static fromJSON(r,i){return new rk(r,i)}updateOffset(r){this.privSpeechHypothesis.Offset+=r}asJson(){return JSON.stringify(this.privSpeechHypothesis)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}get Language(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSpeechHypothesis.PrimaryLanguage===void 0?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSpeechHypothesis.SpeakerId}};return Ou.SpeechHypothesis=e,Ou}var Du={},tP;function Hq(){if(tP)return Du;tP=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.SpeechKeyword=void 0;let e=class nk{constructor(r,i){this.privSpeechKeyword=JSON.parse(r),this.privSpeechKeyword.Offset+=i}static fromJSON(r,i){return new nk(r,i)}get Status(){return this.privSpeechKeyword.Status}get Text(){return this.privSpeechKeyword.Text}get Offset(){return this.privSpeechKeyword.Offset}get Duration(){return this.privSpeechKeyword.Duration}asJson(){return JSON.stringify(this.privSpeechKeyword)}};return Du.SpeechKeyword=e,Du}var zu={},rP;function $q(){if(rP)return zu;rP=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.SpeechServiceRecognizer=void 0;const e=ne(),t=ge();let r=class extends t.ServiceRecognizerBase{constructor(o,l,c,a,d){super(o,l,c,a,d),this.privSpeechRecognizer=d}async processTypeSpecificMessages(o){let l;const c=new e.PropertyCollection;let a=!1;switch(o.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const d=t.SpeechHypothesis.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);c.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,d.asJson()),l=new e.SpeechRecognitionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,d.Text,d.Duration,d.Offset,d.Language,d.LanguageDetectionConfidence,void 0,void 0,d.asJson(),c),this.privRequestSession.onHypothesis(d.Offset);const h=new e.SpeechRecognitionEventArgs(l,d.Offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,h)}catch{}a=!0;break;case"speech.phrase":const f=t.SimpleSpeechPhrase.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);c.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,f.asJson());const v=t.EnumTranslation.implTranslateRecognitionResult(f.RecognitionStatus,this.privExpectContentAssessmentResponse);if(this.privRequestSession.onPhraseRecognized(f.Offset+f.Duration),e.ResultReason.Canceled===v){const m=t.EnumTranslation.implTranslateCancelResult(f.RecognitionStatus),S=t.EnumTranslation.implTranslateCancelErrorCode(f.RecognitionStatus);await this.cancelRecognitionLocal(m,S,t.EnumTranslation.implTranslateErrorDetails(S))}else{if(f.RecognitionStatus===t.RecognitionStatus.EndOfDictation)break;if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])l=new e.SpeechRecognitionResult(this.privRequestSession.requestId,v,f.DisplayText,f.Duration,f.Offset,f.Language,f.LanguageDetectionConfidence,void 0,void 0,f.asJson(),c);else{const S=t.DetailedSpeechPhrase.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);c.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,S.asJson()),l=new e.SpeechRecognitionResult(this.privRequestSession.requestId,v,S.RecognitionStatus===t.RecognitionStatus.Success?S.NBest[0].Display:"",S.Duration,S.Offset,S.Language,S.LanguageDetectionConfidence,void 0,void 0,S.asJson(),c)}const m=new e.SpeechRecognitionEventArgs(l,l.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,m)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(l)}catch(S){this.privErrorCallback&&this.privErrorCallback(S)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}a=!0;break}return a}cancelRecognition(o,l,c,a,d){const h=new e.PropertyCollection;if(h.setProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[a]),this.privSpeechRecognizer.canceled){const f=new e.SpeechRecognitionCanceledEventArgs(c,d,a,void 0,o);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,f)}catch{}}if(this.privSuccessCallback){const f=new e.SpeechRecognitionResult(l,e.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,d,void 0,h);try{this.privSuccessCallback(f),this.privSuccessCallback=void 0}catch{}}}};return zu.SpeechServiceRecognizer=r,zu}var Lu={},nP;function Kq(){if(nP)return Lu;nP=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.ConversationTranscriptionServiceRecognizer=void 0;const e=ne(),t=ge();let r=class extends t.ServiceRecognizerBase{constructor(o,l,c,a,d){super(o,l,c,a,d),this.privConversationTranscriber=d,this.setSpeakerDiarizationJson()}setSpeakerDiarizationJson(){if(this.privEnableSpeakerId){const o=this.privSpeechContext.getSection("phraseDetection");o.mode="Conversation";const l={};l.mode="Anonymous",l.audioSessionId=this.privDiarizationSessionId,l.audioOffsetMs=0,l.diarizeIntermediates=this.privRecognizerConfig.parameters.getProperty(e.PropertyId.SpeechServiceResponse_DiarizeIntermediateResults,"false")==="true",o.speakerDiarization=l,this.privSpeechContext.setSection("phraseDetection",o)}}async processTypeSpecificMessages(o){let l;const c=new e.PropertyCollection;c.setProperty(e.PropertyId.SpeechServiceResponse_JsonResult,o.textBody);let a=!1;switch(o.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const d=t.SpeechHypothesis.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);l=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,e.ResultReason.RecognizingSpeech,d.Text,d.Duration,d.Offset,d.Language,d.LanguageDetectionConfidence,d.SpeakerId,void 0,d.asJson(),c),this.privRequestSession.onHypothesis(d.Offset);const h=new e.ConversationTranscriptionEventArgs(l,d.Duration,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribing)try{this.privConversationTranscriber.transcribing(this.privConversationTranscriber,h)}catch{}a=!0;break;case"speech.phrase":const f=t.SimpleSpeechPhrase.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset),v=t.EnumTranslation.implTranslateRecognitionResult(f.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(f.Offset+f.Duration),e.ResultReason.Canceled===v){const m=t.EnumTranslation.implTranslateCancelResult(f.RecognitionStatus),S=t.EnumTranslation.implTranslateCancelErrorCode(f.RecognitionStatus);await this.cancelRecognitionLocal(m,S,t.EnumTranslation.implTranslateErrorDetails(S))}else if(!(this.privRequestSession.isSpeechEnded&&v===e.ResultReason.NoMatch&&f.RecognitionStatus!==t.RecognitionStatus.InitialSilenceTimeout)){if(this.privRecognizerConfig.parameters.getProperty(t.OutputFormatPropertyName)===e.OutputFormat[e.OutputFormat.Simple])l=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,v,f.DisplayText,f.Duration,f.Offset,f.Language,f.LanguageDetectionConfidence,f.SpeakerId,void 0,f.asJson(),c);else{const S=t.DetailedSpeechPhrase.fromJSON(o.textBody,this.privRequestSession.currentTurnAudioOffset);l=new e.ConversationTranscriptionResult(this.privRequestSession.requestId,v,S.RecognitionStatus===t.RecognitionStatus.Success?S.NBest[0].Display:void 0,S.Duration,S.Offset,S.Language,S.LanguageDetectionConfidence,f.SpeakerId,void 0,S.asJson(),c)}const m=new e.ConversationTranscriptionEventArgs(l,l.offset,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribed)try{this.privConversationTranscriber.transcribed(this.privConversationTranscriber,m)}catch{}}a=!0;break}return a}cancelRecognition(o,l,c,a,d){if(new e.PropertyCollection().setProperty(t.CancellationErrorCodePropertyName,e.CancellationErrorCode[a]),this.privConversationTranscriber.canceled){const f=new e.ConversationTranscriptionCanceledEventArgs(c,d,a,void 0,o);try{this.privConversationTranscriber.canceled(this.privConversationTranscriber,f)}catch{}}}};return Lu.ConversationTranscriptionServiceRecognizer=r,Lu}var Bu={},iP;function Wq(){if(iP)return Bu;iP=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.TranscriptionServiceRecognizer=void 0;const e=Ne(),t=ne(),r=ge(),i=ca();let o=class extends r.ConversationServiceRecognizer{constructor(c,a,d,h,f){super(c,a,d,h,f),this.privTranscriberRecognizer=f,this.sendPrePayloadJSONOverride=v=>this.sendTranscriptionStartJSON(v),this.privRecognizerConfig.parameters.getProperty(t.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps)==="true"&&this.privSpeechContext.setWordLevelTimings()}async sendSpeechEventAsync(c,a){if(this.privRequestSession.isRecognizing){const d=await this.fetchConnection();await this.sendSpeechEvent(d,this.createSpeechEventPayload(c,a))}}async sendMeetingSpeechEventAsync(c,a){if(this.privRequestSession.isRecognizing){const d=await this.fetchConnection();await this.sendSpeechEvent(d,this.createMeetingSpeechEventPayload(c,a))}}processTypeSpecificMessages(c){return this.processSpeechMessages(c)}handleRecognizedCallback(c,a,d){try{const h=new t.SpeechRecognitionEventArgs(c,a,d);if(this.privTranscriberRecognizer.recognized(this.privTranscriberRecognizer,h),this.privSuccessCallback){try{this.privSuccessCallback(c)}catch(f){this.privErrorCallback&&this.privErrorCallback(f)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}catch{}}handleRecognizingCallback(c,a,d){try{const h=new t.SpeechRecognitionEventArgs(c,a,d);this.privTranscriberRecognizer.recognizing(this.privTranscriberRecognizer,h)}catch{}}cancelRecognition(c,a,d,h,f){const v=new t.PropertyCollection;if(v.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[h]),this.privTranscriberRecognizer.IsMeetingRecognizer()){if(this.privTranscriberRecognizer.canceled){const m=new t.MeetingTranscriptionCanceledEventArgs(d,f,h,void 0,c);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,m)}catch{}}}else if(this.privTranscriberRecognizer.canceled){const m=new t.ConversationTranscriptionCanceledEventArgs(d,f,h,void 0,c);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,m)}catch{}}if(this.privSuccessCallback){const m=new t.SpeechRecognitionResult(a,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,f,void 0,v);try{this.privSuccessCallback(m),this.privSuccessCallback=void 0}catch{}}}async sendTranscriptionStartJSON(c){if(await this.sendSpeechContext(c,!0),this.privTranscriberRecognizer.IsMeetingRecognizer()){const a=this.privTranscriberRecognizer.getMeetingInfo(),d=this.createMeetingSpeechEventPayload(a,"start");await this.sendSpeechEvent(c,d)}else{const a=this.privTranscriberRecognizer.getConversationInfo(),d=this.createSpeechEventPayload(a,"start");await this.sendSpeechEvent(c,d)}await this.sendWaveHeader(c)}sendSpeechEvent(c,a){const d=JSON.stringify(a);if(d)return c.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speech.event",this.privRequestSession.requestId,"application/json",d))}createSpeechEventPayload(c,a){const d={id:"meeting",name:a,meeting:c.conversationProperties};return d.meeting.id=c.id,d.meeting.attendees=c.participants,d}createMeetingSpeechEventPayload(c,a){const d={id:"meeting",name:a,meeting:c.meetingProperties};return d.meeting.id=c.id,d.meeting.attendees=c.participants,d}};return Bu.TranscriptionServiceRecognizer=o,Bu}var qu={},sP;function Gq(){if(sP)return qu;sP=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.DetailedSpeechPhrase=void 0;const e=ge();let t=class ik{constructor(i,o){this.privDetailedSpeechPhrase=JSON.parse(i),this.privDetailedSpeechPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privDetailedSpeechPhrase.RecognitionStatus),this.updateOffsets(o)}static fromJSON(i,o){return new ik(i,o)}updateOffsets(i){if(this.privDetailedSpeechPhrase.Offset+=i,this.privDetailedSpeechPhrase.NBest)for(const o of this.privDetailedSpeechPhrase.NBest){if(o.Words)for(const l of o.Words)l.Offset+=i;if(o.DisplayWords)for(const l of o.DisplayWords)l.Offset+=i}}asJson(){const i={...this.privDetailedSpeechPhrase};return JSON.stringify({...i,RecognitionStatus:e.RecognitionStatus[i.RecognitionStatus]})}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}get Language(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privDetailedSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}get Text(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display||this.privDetailedSpeechPhrase.NBest[0].DisplayText:this.privDetailedSpeechPhrase.DisplayText}get SpeakerId(){return this.privDetailedSpeechPhrase.SpeakerId}mapRecognitionStatus(i){if(typeof i=="string")return e.RecognitionStatus[i];if(typeof i=="number")return i}};return qu.DetailedSpeechPhrase=t,qu}var Uu={},oP;function Jq(){if(oP)return Uu;oP=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.SimpleSpeechPhrase=void 0;const e=ge();let t=class sk{constructor(i,o=0){this.privSimpleSpeechPhrase=JSON.parse(i),this.privSimpleSpeechPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privSimpleSpeechPhrase.RecognitionStatus),this.updateOffset(o)}static fromJSON(i,o){return new sk(i,o)}updateOffset(i){this.privSimpleSpeechPhrase.Offset+=i}asJson(){const i={...this.privSimpleSpeechPhrase};return JSON.stringify({...i,RecognitionStatus:e.RecognitionStatus[i.RecognitionStatus]})}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}get Language(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return this.privSimpleSpeechPhrase.PrimaryLanguage===void 0?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSimpleSpeechPhrase.SpeakerId}mapRecognitionStatus(i){if(typeof i=="string")return e.RecognitionStatus[i];if(typeof i=="number")return i}};return Uu.SimpleSpeechPhrase=t,Uu}var Vu={},aP;function Yq(){if(aP)return Vu;aP=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.AddedLmIntent=void 0;let e=class{constructor(r,i){this.modelImpl=r,this.intentName=i}};return Vu.AddedLmIntent=e,Vu}var Fu={},cP;function Qq(){if(cP)return Fu;cP=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.IntentServiceRecognizer=void 0;const e=Ne(),t=ne(),r=ge();let i=class extends r.ServiceRecognizerBase{constructor(l,c,a,d,h){super(l,c,a,d,h),this.privIntentRecognizer=h,this.privIntentDataSent=!1}setIntents(l,c){this.privAddedLmIntents=l,this.privUmbrellaIntent=c,this.privIntentDataSent=!0}processTypeSpecificMessages(l){let c,a,d=!1;const h=new t.PropertyCollection;switch(l.messageType===e.MessageType.Text&&h.setProperty(t.PropertyId.SpeechServiceResponse_JsonResult,l.textBody),l.path.toLowerCase()){case"speech.hypothesis":const v=r.SpeechHypothesis.fromJSON(l.textBody,this.privRequestSession.currentTurnAudioOffset);if(c=new t.IntentRecognitionResult(void 0,this.privRequestSession.requestId,t.ResultReason.RecognizingIntent,v.Text,v.Duration,v.Offset,v.Language,v.LanguageDetectionConfidence,void 0,v.asJson(),h),this.privRequestSession.onHypothesis(c.offset),a=new t.IntentRecognitionEventArgs(c,v.Offset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,a)}catch{}d=!0;break;case"speech.phrase":const m=r.SimpleSpeechPhrase.fromJSON(l.textBody,this.privRequestSession.currentTurnAudioOffset);c=new t.IntentRecognitionResult(void 0,this.privRequestSession.requestId,r.EnumTranslation.implTranslateRecognitionResult(m.RecognitionStatus),m.DisplayText,m.Duration,m.Offset,m.Language,m.LanguageDetectionConfidence,void 0,m.asJson(),h),a=new t.IntentRecognitionEventArgs(c,c.offset,this.privRequestSession.sessionId);const S=()=>{if(this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,a)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(c)}catch(x){this.privErrorCallback&&this.privErrorCallback(x)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}};this.privIntentDataSent===!1||t.ResultReason.NoMatch===a.result.reason?(this.privRequestSession.onPhraseRecognized(a.offset+a.result.duration),S()):this.privPendingIntentArgs=a,d=!0;break;case"response":if(a=this.privPendingIntentArgs,this.privPendingIntentArgs=void 0,a===void 0){if(l.textBody==="")return;a=new t.IntentRecognitionEventArgs(new t.IntentRecognitionResult,0,this.privRequestSession.sessionId)}const C=r.IntentResponse.fromJSON(l.textBody);if(C!==null&&C.topScoringIntent&&C.topScoringIntent.intent){let x=this.privAddedLmIntents[C.topScoringIntent.intent];if(this.privUmbrellaIntent!==void 0&&(x=this.privUmbrellaIntent),x){const R=x===void 0||x.intentName===void 0?C.topScoringIntent.intent:x.intentName;let w=a.result.reason;R!==void 0&&(w=t.ResultReason.RecognizedIntent);const T=a.result.properties!==void 0?a.result.properties:new t.PropertyCollection;T.setProperty(t.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,l.textBody),a=new t.IntentRecognitionEventArgs(new t.IntentRecognitionResult(R,a.result.resultId,w,a.result.text,a.result.duration,a.result.offset,void 0,void 0,a.result.errorDetails,a.result.json,T),a.offset,a.sessionId)}}if(this.privRequestSession.onPhraseRecognized(a.offset+a.result.duration),this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,a)}catch{}if(this.privSuccessCallback){try{this.privSuccessCallback(a.result)}catch(x){this.privErrorCallback&&this.privErrorCallback(x)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}d=!0;break}const f=new e.Deferred;return f.resolve(d),f.promise}cancelRecognition(l,c,a,d,h){const f=new t.PropertyCollection;if(f.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[d]),this.privIntentRecognizer.canceled){const v=new t.IntentRecognitionCanceledEventArgs(a,h,d,void 0,void 0,l);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,v)}catch{}}if(this.privSuccessCallback){const v=new t.IntentRecognitionResult(void 0,c,t.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,h,void 0,f);try{this.privSuccessCallback(v),this.privSuccessCallback=void 0}catch{}}}};return Fu.IntentServiceRecognizer=i,Fu}var Hu={},lP;function Xq(){if(lP)return Hu;lP=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.IntentResponse=void 0;let e=class ok{constructor(r){r===""?this.privIntentResponse={}:this.privIntentResponse=JSON.parse(r)}static fromJSON(r){return new ok(r)}get query(){return this.privIntentResponse.query}get topScoringIntent(){return this.privIntentResponse.topScoringIntent}get entities(){return this.privIntentResponse.entities}};return Hu.IntentResponse=e,Hu}var Wg={},uP;function Zq(){return uP||(uP=1,Object.defineProperty(Wg,"__esModule",{value:!0})),Wg}var $u={},Ku={},dP;function eU(){if(dP)return Ku;dP=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.ServiceTelemetryListener=void 0;const e=Ne(),t=fS();class r{constructor(o,l,c){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privRequestId=o,this.privAudioSourceId=l,this.privAudioNodeId=c,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(o){o>0&&this.privPhraseLatencies.push(Date.now()-o)}hypothesisReceived(o){o>0&&this.privHypothesisLatencies.push(Date.now()-o)}onEvent(o){this.privIsDisposed||(o instanceof t.RecognitionTriggeredEvent&&o.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:o.eventTime,Name:"ListeningTrigger",Start:o.eventTime}),o instanceof e.AudioStreamNodeAttachingEvent&&o.audioSourceId===this.privAudioSourceId&&o.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=o.eventTime),o instanceof e.AudioStreamNodeAttachedEvent&&o.audioSourceId===this.privAudioSourceId&&o.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=o.eventTime),o instanceof e.AudioSourceErrorEvent&&o.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:o.eventTime,Error:o.error,Name:"Microphone",Start:this.privMicStartTime})),o instanceof e.AudioStreamNodeErrorEvent&&o.audioSourceId===this.privAudioSourceId&&o.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:o.eventTime,Error:o.error,Name:"Microphone",Start:this.privMicStartTime})),o instanceof e.AudioStreamNodeDetachedEvent&&o.audioSourceId===this.privAudioSourceId&&o.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:o.eventTime,Name:"Microphone",Start:this.privMicStartTime})),o instanceof t.ConnectingToServiceEvent&&o.requestId===this.privRequestId&&(this.privConnectionId=o.sessionId),o instanceof e.ConnectionStartEvent&&o.connectionId===this.privConnectionId&&(this.privConnectionStartTime=o.eventTime),o instanceof e.ConnectionEstablishedEvent&&o.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:o.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),o instanceof e.ConnectionEstablishErrorEvent&&o.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:o.eventTime,Error:this.getConnectionError(o.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),o instanceof e.ConnectionMessageReceivedEvent&&o.connectionId===this.privConnectionId&&o.message&&o.message.headers&&o.message.headers.path&&(this.privReceivedMessages[o.message.headers.path]||(this.privReceivedMessages[o.message.headers.path]=new Array),this.privReceivedMessages[o.message.headers.path].length<50&&this.privReceivedMessages[o.message.headers.path].push(o.networkReceivedTime)))}getTelemetry(){const o=new Array;this.privListeningTriggerMetric&&o.push(this.privListeningTriggerMetric),this.privMicMetric&&o.push(this.privMicMetric),this.privConnectionEstablishMetric&&o.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&o.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&o.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const l={Metrics:o,ReceivedMessages:this.privReceivedMessages},c=JSON.stringify(l);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],c}get hasTelemetry(){return Object.keys(this.privReceivedMessages).length!==0||this.privListeningTriggerMetric!==null||this.privMicMetric!==null||this.privConnectionEstablishMetric!==null||this.privPhraseLatencies.length!==0||this.privHypothesisLatencies.length!==0}dispose(){this.privIsDisposed=!0}getConnectionError(o){switch(o){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+o.toString()}}}return Ku.ServiceTelemetryListener=r,Ku}var hP;function tU(){if(hP)return $u;hP=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.RequestSession=void 0;const e=Ne(),t=fS(),r=eU();let i=class{constructor(l){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecognitionBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.privAudioSourceId=l,this.privRequestId=e.createNoDashGuid(),this.privAudioNodeId=e.createNoDashGuid(),this.privTurnDeferral=new e.Deferred,this.privTurnDeferral.resolve()}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get numConnectionAttempts(){return this.privConnectionAttempts}get bytesSent(){return this.privBytesSent}get recognitionBytesSent(){return this.privRecognitionBytesSent}listenForServiceTelemetry(l){this.privServiceTelemetryListener&&this.privDetachables.push(l.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privRecognitionBytesSent=0,this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new r.ServiceTelemetryListener(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new t.RecognitionTriggeredEvent(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}async onAudioSourceAttachCompleted(l,c){this.privAudioNode=l,this.privIsAudioNodeDetached=!1,c?await this.onComplete():this.onEvent(new t.ListeningStartedEvent(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onPreConnectionStart(l,c){this.privAuthFetchEventId=l,this.privSessionId=c,this.onEvent(new t.ConnectingToServiceEvent(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))}async onAuthCompleted(l){l&&await this.onComplete()}async onConnectionEstablishCompleted(l,c){if(l===200){this.onEvent(new t.RecognitionStartedEvent(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privBytesSent=0;return}else l===403&&await this.onComplete()}async onServiceTurnEndResponse(l){this.privTurnDeferral.resolve(),!l||this.isSpeechEnded?(await this.onComplete(),this.privInTurn=!1):(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay())}onSpeechContext(){this.privRequestId=e.createNoDashGuid()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new e.Deferred}onHypothesis(l){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(l)))}onPhraseRecognized(l){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(l)),this.onServiceRecognized(l)}onServiceRecognized(l){this.privLastRecoOffset=l,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(l),this.privConnectionAttempts=0}onAudioSent(l){this.privBytesSent+=l,this.privRecognitionBytesSent+=l}onRetryConnection(){this.privConnectionAttempts++}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const l of this.privDetachables)await l.detach();this.privServiceTelemetryListener&&this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1}}getTelemetry(){return this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null}async onStopRecognizing(){await this.onComplete()}onSpeechEnded(){this.privIsSpeechEnded=!0}onEvent(l){this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(l),e.Events.instance.onEvent(l)}async onComplete(){this.privIsRecognizing&&(this.privIsRecognizing=!1,await this.detachAudioNode())}async detachAudioNode(){this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&await this.privAudioNode.detach())}};return $u.RequestSession=i,$u}var Wu={},pP;function rU(){if(pP)return Wu;pP=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.SpeechContext=void 0;let e=class{constructor(r){this.privContext={},this.privDynamicGrammar=r}getSection(r){return this.privContext[r]||{}}setSection(r,i){this.privContext[r]=i}setPronunciationAssessmentParams(r,i,o=!1){this.privContext.phraseDetection===void 0&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),this.privContext.phraseDetection.enrichment===void 0&&(this.privContext.phraseDetection.enrichment={pronunciationAssessment:{}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(r),o&&(this.privContext.phraseDetection.mode="Conversation"),this.setWordLevelTimings(),this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),this.privContext.phraseOutput.detailed.options.indexOf("SNR")===-1&&this.privContext.phraseOutput.detailed.options.push("SNR"),i&&(this.privContext.phraseDetection.enrichment.contentAssessment={topic:i},this.privContext.phraseOutput.detailed.options.push("ContentAssessment"))}setDetailedOutputFormat(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed"}setWordLevelTimings(){this.privContext.phraseOutput===void 0&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),this.privContext.phraseOutput.detailed===void 0&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed",this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")===-1&&this.privContext.phraseOutput.detailed.options.push("WordTimings")}setSpeakerDiarizationAudioOffsetMs(r){this.privContext.phraseDetection.speakerDiarization.audioOffsetMs=r}toJSON(){const r=this.privDynamicGrammar.generateGrammarObject();return this.setSection("dgi",r),JSON.stringify(this.privContext)}};return Wu.SpeechContext=e,Wu}var Gu={},fP;function nU(){if(fP)return Gu;fP=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.DynamicGrammarBuilder=void 0;let e=class{addPhrase(r){this.privPhrases||(this.privPhrases=[]),r instanceof Array?this.privPhrases=this.privPhrases.concat(r):this.privPhrases.push(r)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(r){this.privGrammars||(this.privGrammars=[]),r instanceof Array?this.privGrammars=this.privGrammars.concat(r):this.privGrammars.push(r)}clearGrammars(){this.privGrammars=void 0}generateGrammarObject(){if(this.privGrammars===void 0&&this.privPhrases===void 0)return;const r={};if(r.ReferenceGrammars=this.privGrammars,this.privPhrases!==void 0&&this.privPhrases.length!==0){const i=[];this.privPhrases.forEach(o=>{i.push({Text:o})}),r.Groups=[{Type:"Generic",Items:i}]}return r}};return Gu.DynamicGrammarBuilder=e,Gu}var Gg={},vP;function iU(){return vP||(vP=1,Object.defineProperty(Gg,"__esModule",{value:!0})),Gg}var Ju={},Yu={},Qu={},Jg={},mP;function ak(){return mP||(mP=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MessageDataStreamType=e.ActivityPayloadResponse=void 0;class t{constructor(i){this.privActivityResponse=JSON.parse(i)}static fromJSON(i){return new t(i)}get conversationId(){return this.privActivityResponse.conversationId}get messageDataStreamType(){return this.privActivityResponse.messageDataStreamType}get messagePayload(){return this.privActivityResponse.messagePayload}get version(){return this.privActivityResponse.version}}e.ActivityPayloadResponse=t,function(r){r[r.None=0]="None",r[r.TextToSpeechAudio=1]="TextToSpeechAudio"}(e.MessageDataStreamType||(e.MessageDataStreamType={}))}(Jg)),Jg}var gP;function sU(){if(gP)return Qu;gP=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.DialogServiceTurnState=void 0;const e=Qd(),t=aa(),r=ak();let i=class{constructor(l,c){this.privRequestId=c,this.privIsCompleted=!1,this.privAudioStream=null,this.privTurnManager=l,this.resetTurnEndTimeout()}get audioStream(){return this.resetTurnEndTimeout(),this.privAudioStream}processActivityPayload(l,c){return l.messageDataStreamType===r.MessageDataStreamType.TextToSpeechAudio&&(this.privAudioStream=t.AudioOutputStream.createPullStream(),this.privAudioStream.format=c!==void 0?c:e.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privAudioStream}endAudioStream(){this.privAudioStream!==null&&!this.privAudioStream.isClosed&&this.privAudioStream.close()}complete(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.endAudioStream()}resetTurnEndTimeout(){this.privTimeoutToken!==void 0&&clearTimeout(this.privTimeoutToken),this.privTimeoutToken=setTimeout(()=>{this.privTurnManager.CompleteTurn(this.privRequestId)},2e3)}};return Qu.DialogServiceTurnState=i,Qu}var yP;function oU(){if(yP)return Yu;yP=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.DialogServiceTurnStateManager=void 0;const e=qn(),t=sU();let r=class{constructor(){this.privTurnMap=new Map}StartTurn(o){if(this.privTurnMap.has(o))throw new e.InvalidOperationError("Service error: There is already a turn with id:"+o);const l=new t.DialogServiceTurnState(this,o);return this.privTurnMap.set(o,l),this.privTurnMap.get(o)}GetTurn(o){return this.privTurnMap.get(o)}CompleteTurn(o){if(!this.privTurnMap.has(o))throw new e.InvalidOperationError("Service error: Received turn end for an unknown turn id:"+o);const l=this.privTurnMap.get(o);return l.complete(),this.privTurnMap.delete(o),l}};return Yu.DialogServiceTurnStateManager=r,Yu}var SP;function aU(){if(SP)return Ju;SP=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.DialogServiceAdapter=void 0;const e=er(),t=f6(),r=Ne(),i=Qd(),o=ne(),l=oU(),c=ge(),a=ak(),d=ca();let h=class extends c.ServiceRecognizerBase{constructor(v,m,S,C,x){super(v,m,S,C,x),this.privEvents=new r.EventSource,this.privDialogServiceConnector=x,this.receiveMessageOverride=()=>this.receiveDialogMessageOverride(),this.privTurnStateManager=new l.DialogServiceTurnStateManager,this.recognizeOverride=(R,w,T)=>this.listenOnce(R,w,T),this.postConnectImplOverride=R=>this.dialogConnectImpl(R),this.configConnectionOverride=R=>this.configConnection(R),this.disconnectOverride=()=>this.privDisconnect(),this.privDialogAudioSource=S,this.agentConfigSent=!1,this.privLastResult=null,this.connectionEvents.attach(R=>{R.name==="ConnectionClosedEvent"&&(this.terminateMessageLoop=!0)})}async sendMessage(v){const m=r.createGuid(),S=r.createNoDashGuid(),C={context:{interactionId:m},messagePayload:JSON.parse(v),version:.5},x=JSON.stringify(C);await(await this.fetchConnection()).send(new d.SpeechConnectionMessage(r.MessageType.Text,"agent",S,"application/json",x))}async privDisconnect(){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,this.agentConfigSent=!1}processTypeSpecificMessages(v){const m=new o.PropertyCollection;v.messageType===r.MessageType.Text&&m.setProperty(o.PropertyId.SpeechServiceResponse_JsonResult,v.textBody);let S,C;switch(v.path.toLowerCase()){case"speech.phrase":const R=c.SimpleSpeechPhrase.fromJSON(v.textBody,this.privRequestSession.currentTurnAudioOffset);if(this.privRequestSession.onPhraseRecognized(R.Offset+R.Duration),R.RecognitionStatus!==c.RecognitionStatus.TooManyRequests&&R.RecognitionStatus!==c.RecognitionStatus.Error){const k=this.fireEventForResult(R,m);if(this.privLastResult=k.result,this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,k)}catch{}}C=!0;break;case"speech.hypothesis":const w=c.SpeechHypothesis.fromJSON(v.textBody,this.privRequestSession.currentTurnAudioOffset);S=new o.SpeechRecognitionResult(this.privRequestSession.requestId,o.ResultReason.RecognizingSpeech,w.Text,w.Duration,w.Offset,w.Language,w.LanguageDetectionConfidence,void 0,void 0,w.asJson(),m),this.privRequestSession.onHypothesis(w.Offset);const T=new o.SpeechRecognitionEventArgs(S,w.Offset,this.privRequestSession.sessionId);if(this.privDialogServiceConnector.recognizing)try{this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector,T)}catch{}C=!0;break;case"speech.keyword":const P=c.SpeechKeyword.fromJSON(v.textBody,this.privRequestSession.currentTurnAudioOffset);S=new o.SpeechRecognitionResult(this.privRequestSession.requestId,P.Status==="Accepted"?o.ResultReason.RecognizedKeyword:o.ResultReason.NoMatch,P.Text,P.Duration,P.Offset,void 0,void 0,void 0,void 0,P.asJson(),m),P.Status!=="Accepted"&&(this.privLastResult=S);const j=new o.SpeechRecognitionEventArgs(S,S.duration,S.resultId);if(this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,j)}catch{}C=!0;break;case"audio":{const k=v.requestId.toUpperCase(),B=this.privTurnStateManager.GetTurn(k);try{v.binaryBody?B.audioStream.write(v.binaryBody):B.endAudioStream()}catch{}}C=!0;break;case"response":this.handleResponseMessage(v),C=!0;break}const x=new r.Deferred;return x.resolve(C),x.promise}async cancelRecognition(v,m,S,C,x){if(this.terminateMessageLoop=!0,this.privRequestSession.isRecognizing&&await this.privRequestSession.onStopRecognizing(),this.privDialogServiceConnector.canceled){const R=new o.PropertyCollection;R.setProperty(c.CancellationErrorCodePropertyName,o.CancellationErrorCode[C]);const w=new o.SpeechRecognitionCanceledEventArgs(S,x,C,void 0,v);try{this.privDialogServiceConnector.canceled(this.privDialogServiceConnector,w)}catch{}if(this.privSuccessCallback){const T=new o.SpeechRecognitionResult(void 0,o.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,x,void 0,R);try{this.privSuccessCallback(T),this.privSuccessCallback=void 0}catch{}}}}async listenOnce(v,m,S){this.privRecognizerConfig.recognitionMode=v,this.privSuccessCallback=m,this.privErrorCallback=S,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privDialogAudioSource.events),this.privRecognizerConfig.parameters.setProperty(o.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const C=this.connectImpl(),x=this.sendPreAudioMessages(),R=await this.privDialogAudioSource.attach(this.privRequestSession.audioNodeId),w=await this.privDialogAudioSource.format,T=await this.privDialogAudioSource.deviceInfo,P=new e.ReplayableAudioNode(R,w.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(P,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:T};try{await C,await x}catch(B){return await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.ConnectionFailure,B),Promise.resolve()}const j=new o.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,j),this.sendAudio(P).then(()=>{},async B=>{await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,B)})}dialogConnectImpl(v){return this.privConnectionLoop=this.startMessageLoop(),v}receiveDialogMessageOverride(){const v=new r.Deferred,m=async()=>{try{const S=this.isDisposed(),C=!this.isDisposed()&&this.terminateMessageLoop;if(S||C){v.resolve(void 0);return}const R=await(await this.fetchConnection()).read();if(!R)return m();const w=d.SpeechConnectionMessage.fromConnectionMessage(R);switch(w.path.toLowerCase()){case"turn.start":{const q=w.requestId.toUpperCase(),H=this.privRequestSession.requestId.toUpperCase();q!==H?this.privTurnStateManager.StartTurn(q):this.privRequestSession.onServiceTurnStartResponse()}break;case"speech.startdetected":const P=c.SpeechDetected.fromJSON(w.textBody,this.privRequestSession.currentTurnAudioOffset),j=new o.RecognitionEventArgs(P.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,j);break;case"speech.enddetected":let k;w.textBody.length>0?k=w.textBody:k="{ Offset: 0 }";const B=c.SpeechDetected.fromJSON(k,this.privRequestSession.currentTurnAudioOffset);this.privRequestSession.onServiceRecognized(B.Offset);const F=new o.RecognitionEventArgs(B.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,F);break;case"turn.end":{const q=w.requestId.toUpperCase(),H=this.privRequestSession.requestId.toUpperCase();if(q!==H)this.privTurnStateManager.CompleteTurn(q);else{const $=new o.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(!1),(!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing)&&this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,$),this.privSuccessCallback&&this.privLastResult){try{this.privSuccessCallback(this.privLastResult),this.privLastResult=null}catch(pe){this.privErrorCallback&&this.privErrorCallback(pe)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}}break;default:try{await this.processTypeSpecificMessages(w)||this.serviceEvents&&this.serviceEvents.onEvent(new r.ServiceEvent(w.path.toLowerCase(),w.textBody))}catch{}}return m()}catch{this.terminateMessageLoop=!0,v.resolve()}};return m().catch(S=>{r.Events.instance.onEvent(new r.BackgroundEvent(S))}),v.promise}async startMessageLoop(){this.terminateMessageLoop=!1;try{await this.receiveDialogMessageOverride()}catch(v){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,v)}return Promise.resolve()}async configConnection(v){return this.terminateMessageLoop?(this.terminateMessageLoop=!1,Promise.reject("Connection to service terminated.")):(await this.sendSpeechServiceConfig(v,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendAgentConfig(v),v)}async sendPreAudioMessages(){const v=await this.fetchConnection();this.addKeywordContextData(),await this.sendSpeechContext(v,!0),await this.sendAgentContext(v),await this.sendWaveHeader(v)}sendAgentConfig(v){if(this.agentConfig&&!this.agentConfigSent){if(this.privRecognizerConfig.parameters.getProperty(o.PropertyId.Conversation_DialogType)===o.DialogServiceConfig.DialogTypes.CustomCommands){const S=this.agentConfig.get();S.botInfo.commandsCulture=this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,"en-us"),this.agentConfig.set(S)}this.onEvent(new t.SendingAgentContextMessageEvent(this.agentConfig));const m=this.agentConfig.toJsonString();return this.agentConfigSent=!0,v.send(new d.SpeechConnectionMessage(r.MessageType.Text,"agent.config",this.privRequestSession.requestId,"application/json",m))}}sendAgentContext(v){const m=r.createGuid(),S=this.privDialogServiceConnector.properties.getProperty(o.PropertyId.Conversation_Speech_Activity_Template),x=JSON.stringify({channelData:"",context:{interactionId:m},messagePayload:typeof S===void 0?void 0:S,version:.5});return v.send(new d.SpeechConnectionMessage(r.MessageType.Text,"speech.agent.context",this.privRequestSession.requestId,"application/json",x))}fireEventForResult(v,m){const S=c.EnumTranslation.implTranslateRecognitionResult(v.RecognitionStatus),C=new o.SpeechRecognitionResult(this.privRequestSession.requestId,S,v.DisplayText,v.Duration,v.Offset,v.Language,v.LanguageDetectionConfidence,void 0,void 0,v.asJson(),m);return new o.SpeechRecognitionEventArgs(C,v.Offset,this.privRequestSession.sessionId)}handleResponseMessage(v){const m=JSON.parse(v.textBody);switch(m.messageType.toLowerCase()){case"message":const S=v.requestId.toUpperCase(),C=a.ActivityPayloadResponse.fromJSON(v.textBody),x=this.privTurnStateManager.GetTurn(S);if(C.conversationId){const T=this.agentConfig.get();T.botInfo.conversationId=C.conversationId,this.agentConfig.set(T)}const R=x.processActivityPayload(C,i.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(this.privDialogServiceConnector.properties.getProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0))),w=new o.ActivityReceivedEventArgs(C.messagePayload,R);if(this.privDialogServiceConnector.activityReceived)try{this.privDialogServiceConnector.activityReceived(this.privDialogServiceConnector,w)}catch{}break;case"messagestatus":if(this.privDialogServiceConnector.turnStatusReceived)try{this.privDialogServiceConnector.turnStatusReceived(this.privDialogServiceConnector,new o.TurnStatusReceivedEventArgs(v.textBody))}catch{}break;default:r.Events.instance.onEvent(new r.BackgroundEvent(`Unexpected response of type ${m.messageType}. Ignoring.`));break}}onEvent(v){this.privEvents.onEvent(v),r.Events.instance.onEvent(v)}addKeywordContextData(){const v=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect");if(v===void 0)return;const m=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Offsets"),S=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Durations"),C=v.split(";"),x=m===void 0?[]:m.split(";"),R=S===void 0?[]:S.split(";"),w=[];for(let T=0;T<C.length;T++){const P={};P.text=C[T],T<x.length&&(P.offset=Number(x[T])),T<R.length&&(P.duration=Number(R[T])),w.push(P)}this.speechContext.setSection("invocationSource","VoiceActivationWithKeyword"),this.speechContext.setSection("keywordDetection",[{clientDetectedKeywords:w,onReject:{action:"EndOfTurn"},type:"startTrigger"}])}};return Ju.DialogServiceAdapter=h,Ju}var Xu={},bP;function cU(){if(bP)return Xu;bP=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.AgentConfig=void 0;let e=class{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(r){this.iPrivConfig=r}};return Xu.AgentConfig=e,Xu}var Yg={},Zu={},ed={},CP;function vS(){if(CP)return ed;CP=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.ConversationConnectionConfig=void 0;const e=Z6();let t=class Ui extends e.RestConfigBase{static get host(){return Ui.privHost}static get apiVersion(){return Ui.privApiVersion}static get clientAppId(){return Ui.privClientAppId}static get defaultLanguageCode(){return Ui.privDefaultLanguageCode}static get restPath(){return Ui.privRestPath}static get webSocketPath(){return Ui.privWebSocketPath}static get transcriptionEventKeys(){return Ui.privTranscriptionEventKeys}};return ed.ConversationConnectionConfig=t,t.privHost="dev.microsofttranslator.com",t.privRestPath="/capito/room",t.privApiVersion="2.0",t.privDefaultLanguageCode="en-US",t.privClientAppId="FC539C22-1767-4F1F-84BC-B4D811114F15",t.privWebSocketPath="/capito/translate",t.privTranscriptionEventKeys=["iCalUid","callId","organizer","FLAC","MTUri","DifferentiateGuestSpeakers","audiorecording","Threadid","OrganizerMri","OrganizerTenantId","UserToken"],ed}var xP;function lU(){if(xP)return Zu;xP=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.ConversationManager=void 0;const e=er(),t=Ve(),r=ne(),i=vS();let o=class{constructor(){this.privRequestParams=i.ConversationConnectionConfig.configParams,this.privErrors=i.ConversationConnectionConfig.restErrors,this.privHost=i.ConversationConnectionConfig.host,this.privApiVersion=i.ConversationConnectionConfig.apiVersion,this.privRestPath=i.ConversationConnectionConfig.restPath,this.privRestAdapter=new e.RestMessageAdapter({})}createOrJoin(c,a,d,h){try{t.Contracts.throwIfNullOrUndefined(c,"args");const f=c.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage,i.ConversationConnectionConfig.defaultLanguageCode),v=c.getProperty(r.PropertyId.ConversationTranslator_Name,"conversation_host"),m=c.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),S=c.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),C=c.getProperty(r.PropertyId.SpeechServiceConnection_Key),x=c.getProperty(r.PropertyId.SpeechServiceConnection_Region),R=c.getProperty(r.PropertyId.SpeechServiceAuthorization_Token);t.Contracts.throwIfNullOrWhitespace(f,"languageCode"),t.Contracts.throwIfNullOrWhitespace(v,"nickname"),t.Contracts.throwIfNullOrWhitespace(m,"endpointHost");const w={};w[this.privRequestParams.apiVersion]=this.privApiVersion,w[this.privRequestParams.languageCode]=f,w[this.privRequestParams.nickname]=v;const T={};S&&(T[this.privRequestParams.correlationId]=S),T[this.privRequestParams.clientAppId]=i.ConversationConnectionConfig.clientAppId,a!==void 0?w[this.privRequestParams.roomId]=a:(t.Contracts.throwIfNullOrUndefined(x,this.privErrors.authInvalidSubscriptionRegion),T[this.privRequestParams.subscriptionRegion]=x,C?T[this.privRequestParams.subscriptionKey]=C:R?T[this.privRequestParams.authorization]=`Bearer ${R}`:t.Contracts.throwIfNullOrUndefined(C,this.privErrors.authInvalidSubscriptionKey));const P={};P.headers=T,this.privRestAdapter.options=P;const j=`https://${m}${this.privRestPath}`;this.privRestAdapter.request(e.RestRequestType.Post,j,w,null).then(k=>{const B=e.RestMessageAdapter.extractHeaderValue(this.privRequestParams.requestId,k.headers);if(!k.ok){if(h){let q=this.privErrors.invalidCreateJoinConversationResponse.replace("{status}",k.status.toString()),H;try{H=JSON.parse(k.data),q+=` [${H.error.code}: ${H.error.message}]`}catch{q+=` [${k.data}]`}B&&(q+=` ${B}`),h(q)}return}const F=JSON.parse(k.data);if(F&&(F.requestId=B),d){try{d(F)}catch(q){h&&h(q)}d=void 0}}).catch(()=>{})}catch(f){if(h)if(f instanceof Error){const v=f;h(v.name+": "+v.message)}else h(f)}}leave(c,a){return new Promise((d,h)=>{try{t.Contracts.throwIfNullOrUndefined(c,this.privErrors.invalidArgs.replace("{arg}","config")),t.Contracts.throwIfNullOrWhitespace(a,this.privErrors.invalidArgs.replace("{arg}","token"));const f=c.getProperty(r.PropertyId.ConversationTranslator_Host,this.privHost),v=c.getProperty(r.PropertyId.ConversationTranslator_CorrelationId),m={};m[this.privRequestParams.apiVersion]=this.privApiVersion,m[this.privRequestParams.sessionToken]=a;const S={};v&&(S[this.privRequestParams.correlationId]=v);const C={};C.headers=S,this.privRestAdapter.options=C;const x=`https://${f}${this.privRestPath}`;this.privRestAdapter.request(e.RestRequestType.Delete,x,m,null).then(R=>{R.ok,d()}).catch(()=>{})}catch(f){if(f instanceof Error){const v=f;h(v.name+": "+v.message)}else h(f)}})}};return Zu.ConversationManager=o,Zu}var Ls={},td={},rd={},nd={},RP;function ck(){if(RP)return nd;RP=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.ConversationConnectionMessage=void 0;const e=Ne();let t=class extends e.ConnectionMessage{constructor(i,o,l,c){super(i,o,l,c);const a=JSON.parse(this.textBody);a.type!==void 0&&(this.privConversationMessageType=a.type)}get conversationMessageType(){return this.privConversationMessageType}};return nd.ConversationConnectionMessage=t,nd}var wP;function uU(){if(wP)return rd;wP=1,Object.defineProperty(rd,"__esModule",{value:!0}),rd.ConversationWebsocketMessageFormatter=void 0;const e=Ne(),t=ck();let r=class{toConnectionMessage(o){const l=new e.Deferred;try{if(o.messageType===e.MessageType.Text){const c=new t.ConversationConnectionMessage(o.messageType,o.textContent,{},o.id);l.resolve(c)}else o.messageType===e.MessageType.Binary&&l.resolve(new t.ConversationConnectionMessage(o.messageType,o.binaryContent,void 0,o.id))}catch(c){l.reject(`Error formatting the message. Error: ${c}`)}return l.promise}fromConnectionMessage(o){const l=new e.Deferred;try{if(o.messageType===e.MessageType.Text){const c=`${o.textBody?o.textBody:""}`;l.resolve(new e.RawWebsocketMessage(e.MessageType.Text,c,o.id))}}catch(c){l.reject(`Error formatting the message. ${c}`)}return l.promise}};return rd.ConversationWebsocketMessageFormatter=r,rd}var EP;function dU(){if(EP)return td;EP=1,Object.defineProperty(td,"__esModule",{value:!0}),td.ConversationConnectionFactory=void 0;const e=er(),t=Ne(),r=Ve(),i=ne(),o=En(),l=vS(),c=uU();let a=class extends o.ConnectionFactoryBase{create(h,f,v){const m=h.parameters.getProperty(i.PropertyId.ConversationTranslator_Host,l.ConversationConnectionConfig.host),S=h.parameters.getProperty(i.PropertyId.ConversationTranslator_CorrelationId,t.createGuid()),C=`wss://${m}${l.ConversationConnectionConfig.webSocketPath}`,x=h.parameters.getProperty(i.PropertyId.ConversationTranslator_Token,void 0);r.Contracts.throwIfNullOrUndefined(x,"token");const R={};R[l.ConversationConnectionConfig.configParams.apiVersion]=l.ConversationConnectionConfig.apiVersion,R[l.ConversationConnectionConfig.configParams.token]=x,R[l.ConversationConnectionConfig.configParams.correlationId]=S;const w=h.parameters.getProperty("SPEECH-EnableWebsocketCompression","false")==="true";return new e.WebsocketConnection(C,R,{},new c.ConversationWebsocketMessageFormatter,e.ProxyInfo.fromRecognizerConfig(h),w,v)}};return td.ConversationConnectionFactory=a,td}var id={},sd={},TP;function hU(){if(TP)return sd;TP=1,Object.defineProperty(sd,"__esModule",{value:!0}),sd.ConversationRequestSession=void 0;const e=Ne();let t=class{constructor(i){this.privIsDisposed=!1,this.privDetachables=new Array,this.privSessionId=i,this.privRequestId=e.createNoDashGuid(),this.privRequestCompletionDeferral=new e.Deferred}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get completionPromise(){return this.privRequestCompletionDeferral.promise}onPreConnectionStart(i,o){this.privSessionId=o}onAuthCompleted(i){i&&this.onComplete()}onConnectionEstablishCompleted(i){i!==200&&i===403&&this.onComplete()}onServiceTurnEndResponse(i){i?this.privRequestId=e.createNoDashGuid():this.onComplete()}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const i of this.privDetachables)await i.detach()}}onComplete(){}};return sd.ConversationRequestSession=t,sd}var yr={},PP;function lk(){if(PP)return yr;PP=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.ConversationReceivedTranslationEventArgs=yr.ParticipantsListEventArgs=yr.ParticipantAttributeEventArgs=yr.ParticipantEventArgs=yr.LockRoomEventArgs=yr.MuteAllEventArgs=void 0;const e=ne();class t extends e.SessionEventArgs{constructor(d,h){super(h),this.privIsMuted=d}get isMuted(){return this.privIsMuted}}yr.MuteAllEventArgs=t;class r extends e.SessionEventArgs{constructor(d,h){super(h),this.privIsLocked=d}get isMuted(){return this.privIsLocked}}yr.LockRoomEventArgs=r;class i extends e.SessionEventArgs{constructor(d,h){super(h),this.privParticipant=d}get participant(){return this.privParticipant}}yr.ParticipantEventArgs=i;class o extends e.SessionEventArgs{constructor(d,h,f,v){super(v),this.privKey=h,this.privValue=f,this.privParticipantId=d}get value(){return this.privValue}get key(){return this.privKey}get id(){return this.privParticipantId}}yr.ParticipantAttributeEventArgs=o;class l extends e.SessionEventArgs{constructor(d,h,f,v,m,S,C,x,R){super(R),this.privRoomId=d,this.privSessionToken=h,this.privTranslateTo=f,this.privProfanityFilter=v,this.privRoomProfanityFilter=m,this.privIsRoomLocked=S,this.privIsRoomLocked=C,this.privParticipants=x}get sessionToken(){return this.privSessionToken}get conversationId(){return this.privRoomId}get translateTo(){return this.privTranslateTo}get profanityFilter(){return this.privProfanityFilter}get roomProfanityFilter(){return this.privRoomProfanityFilter}get isRoomLocked(){return this.privIsRoomLocked}get isMuteAll(){return this.privIsMuteAll}get participants(){return this.privParticipants}}yr.ParticipantsListEventArgs=l;class c{constructor(d,h,f){this.privPayload=h,this.privCommand=d,this.privSessionId=f}get payload(){return this.privPayload}get command(){return this.privCommand}get sessionId(){return this.privSessionId}}return yr.ConversationReceivedTranslationEventArgs=c,yr}var li={},AP;function uk(){if(AP)return li;AP=1,Object.defineProperty(li,"__esModule",{value:!0}),li.ConversationTranslatorCommandTypes=li.ConversationTranslatorMessageTypes=li.InternalParticipants=void 0;class e{constructor(r=[],i){this.participants=r,this.meId=i}addOrUpdateParticipant(r){if(r===void 0)return;const i=this.getParticipantIndex(r.id);return i>-1?this.participants.splice(i,1,r):this.participants.push(r),this.getParticipant(r.id)}getParticipantIndex(r){return this.participants.findIndex(i=>i.id===r)}getParticipant(r){return this.participants.find(i=>i.id===r)}deleteParticipant(r){this.participants=this.participants.filter(i=>i.id!==r)}get host(){return this.participants.find(r=>r.isHost===!0)}get me(){return this.getParticipant(this.meId)}}return li.InternalParticipants=e,li.ConversationTranslatorMessageTypes={command:"command",final:"final",info:"info",instantMessage:"instant_message",keepAlive:"keep_alive",partial:"partial",participantCommand:"participant_command",translatedMessage:"translated_message"},li.ConversationTranslatorCommandTypes={changeNickname:"ChangeNickname",disconnectSession:"DisconnectSession",ejectParticipant:"EjectParticipant",instant_message:"instant_message",joinSession:"JoinSession",leaveSession:"LeaveSession",participantList:"ParticipantList",roomExpirationWarning:"RoomExpirationWarning",setLockState:"SetLockState",setMute:"SetMute",setMuteAll:"SetMuteAll",setProfanityFiltering:"SetProfanityFiltering",setTranslateToLanguages:"SetTranslateToLanguages",setUseTTS:"SetUseTTS"},li}var Qg={},od={},_P;function pU(){if(_P)return od;_P=1,Object.defineProperty(od,"__esModule",{value:!0}),od.CommandResponsePayload=void 0;const e=r=>JSON.parse(r);let t=class dk{constructor(i){this.privCommandResponse=e(i)}get type(){return this.privCommandResponse.type}get command(){return this.privCommandResponse.command}get id(){return this.privCommandResponse.id}get nickname(){return this.privCommandResponse.nickname}get participantId(){return this.privCommandResponse.participantId}get roomid(){return this.privCommandResponse.roomid}get value(){return this.privCommandResponse.value}get token(){return this.privCommandResponse.token}static fromJSON(i){return new dk(i)}};return od.CommandResponsePayload=t,od}var Bs={},kP;function fU(){if(kP)return Bs;kP=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.ParticipantPayloadResponse=Bs.ParticipantsListPayloadResponse=void 0;const e=o=>JSON.parse(o),t=o=>JSON.parse(o);class r{constructor(l){this.privParticipantsPayloadResponse=e(l)}get roomid(){return this.privParticipantsPayloadResponse.roomid}get id(){return this.privParticipantsPayloadResponse.id}get command(){return this.privParticipantsPayloadResponse.command}get participants(){return this.privParticipantsPayloadResponse.participants}get token(){return this.privParticipantsPayloadResponse.token}get translateTo(){return this.privParticipantsPayloadResponse.translateTo}get profanityFilter(){return this.privParticipantsPayloadResponse.profanityFilter}get roomProfanityFilter(){return this.privParticipantsPayloadResponse.roomProfanityFilter}get roomLocked(){return this.privParticipantsPayloadResponse.roomLocked}get muteAll(){return this.privParticipantsPayloadResponse.muteAll}get type(){return this.privParticipantsPayloadResponse.type}static fromJSON(l){return new r(l)}}Bs.ParticipantsListPayloadResponse=r;class i{constructor(l){this.privParticipantPayloadResponse=t(l)}get nickname(){return this.privParticipantPayloadResponse.nickname}get locale(){return this.privParticipantPayloadResponse.locale}get usetts(){return this.privParticipantPayloadResponse.usetts}get ismuted(){return this.privParticipantPayloadResponse.ismuted}get ishost(){return this.privParticipantPayloadResponse.ishost}get participantId(){return this.privParticipantPayloadResponse.participantId}get avatar(){return this.privParticipantPayloadResponse.avatar}static fromJSON(l){return new i(l)}}return Bs.ParticipantPayloadResponse=i,Bs}var qs={},MP;function vU(){if(MP)return qs;MP=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.TextResponsePayload=qs.SpeechResponsePayload=void 0;const e=o=>JSON.parse(o),t=o=>JSON.parse(o);class r{constructor(l){this.privSpeechResponse=e(l)}get recognition(){return this.privSpeechResponse.recognition}get translations(){return this.privSpeechResponse.translations}get id(){return this.privSpeechResponse.id}get language(){return this.privSpeechResponse.language}get nickname(){return this.privSpeechResponse.nickname}get participantId(){return this.privSpeechResponse.participantId}get roomid(){return this.privSpeechResponse.roomid}get timestamp(){return this.privSpeechResponse.timestamp}get type(){return this.privSpeechResponse.type}get isFinal(){return this.privSpeechResponse.type==="final"}static fromJSON(l){return new r(l)}}qs.SpeechResponsePayload=r;class i{constructor(l){this.privTextResponse=t(l)}get originalText(){return this.privTextResponse.originalText}get translations(){return this.privTextResponse.translations}get id(){return this.privTextResponse.id}get language(){return this.privTextResponse.language}get nickname(){return this.privTextResponse.nickname}get participantId(){return this.privTextResponse.participantId}get roomid(){return this.privTextResponse.roomid}get timestamp(){return this.privTextResponse.timestamp}get type(){return this.privTextResponse.type}static fromJSON(l){return new i(l)}}return qs.TextResponsePayload=i,qs}var NP;function mU(){return NP||(NP=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=pU();Object.defineProperty(e,"CommandResponsePayload",{enumerable:!0,get:function(){return t.CommandResponsePayload}});var r=fU();Object.defineProperty(e,"ParticipantsListPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantsListPayloadResponse}}),Object.defineProperty(e,"ParticipantPayloadResponse",{enumerable:!0,get:function(){return r.ParticipantPayloadResponse}});var i=vU();Object.defineProperty(e,"SpeechResponsePayload",{enumerable:!0,get:function(){return i.SpeechResponsePayload}}),Object.defineProperty(e,"TextResponsePayload",{enumerable:!0,get:function(){return i.TextResponsePayload}})}(Qg)),Qg}var IP;function gU(){if(IP)return id;IP=1,Object.defineProperty(id,"__esModule",{value:!0}),id.ConversationServiceAdapter=void 0;const e=Ne(),t=ne(),r=ge(),i=ck(),o=hU(),l=lk(),c=uk(),a=mU();let d=class extends r.ServiceRecognizerBase{constructor(f,v,m,S,C){super(f,v,m,S,C),this.privConnectionConfigPromise=void 0,this.privLastPartialUtteranceId="",this.privConversationServiceConnector=C,this.privConversationAuthentication=f,this.receiveMessageOverride=()=>this.receiveConversationMessageOverride(),this.recognizeOverride=()=>this.noOp(),this.postConnectImplOverride=x=>this.conversationConnectImpl(x),this.configConnectionOverride=()=>this.configConnection(),this.disconnectOverride=()=>this.privDisconnect(),this.privConversationRequestSession=new o.ConversationRequestSession(e.createNoDashGuid()),this.privConversationConnectionFactory=v,this.privConversationIsDisposed=!1}isDisposed(){return super.isDisposed()||this.privConversationIsDisposed}async dispose(f){this.privConversationIsDisposed=!0,this.privConnectionConfigPromise!==void 0&&await(await this.privConnectionConfigPromise).dispose(f),await super.dispose(f)}async sendMessage(f){return(await this.fetchConnection()).send(new i.ConversationConnectionMessage(e.MessageType.Text,f))}async sendMessageAsync(f){await(await this.fetchConnection()).send(new i.ConversationConnectionMessage(e.MessageType.Text,f))}privDisconnect(){if(!this.terminateMessageLoop)return this.cancelRecognition(this.privConversationRequestSession.sessionId,this.privConversationRequestSession.requestId,t.CancellationReason.Error,t.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,Promise.resolve()}async processTypeSpecificMessages(){return!0}cancelRecognition(f,v,m,S,C){this.terminateMessageLoop=!0;const x=new t.ConversationTranslationCanceledEventArgs(m,C,S,void 0,f);try{this.privConversationServiceConnector.canceled&&this.privConversationServiceConnector.canceled(this.privConversationServiceConnector,x)}catch{}}async conversationConnectImpl(f){return this.privConnectionLoop=this.startMessageLoop(),f}async receiveConversationMessageOverride(){if(this.isDisposed()||this.terminateMessageLoop)return Promise.resolve();const f=new e.Deferred;try{const m=await(await this.fetchConnection()).read();if(this.isDisposed()||this.terminateMessageLoop)return f.resolve(),Promise.resolve();if(!m)return this.receiveConversationMessageOverride();const S=this.privConversationRequestSession.sessionId,C=m.conversationMessageType.toLowerCase();let x=!1;try{switch(C){case"info":case"participant_command":case"command":const R=a.CommandResponsePayload.fromJSON(m.textBody);switch(R.command.toLowerCase()){case"participantlist":const B=a.ParticipantsListPayloadResponse.fromJSON(m.textBody),F=B.participants.map(fe=>({avatar:fe.avatar,displayName:fe.nickname,id:fe.participantId,isHost:fe.ishost,isMuted:fe.ismuted,isUsingTts:fe.usetts,preferredLanguage:fe.locale}));this.privConversationServiceConnector.participantsListReceived&&this.privConversationServiceConnector.participantsListReceived(this.privConversationServiceConnector,new l.ParticipantsListEventArgs(B.roomid,B.token,B.translateTo,B.profanityFilter,B.roomProfanityFilter,B.roomLocked,B.muteAll,F,S));break;case"settranslatetolanguages":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new l.ParticipantAttributeEventArgs(R.participantId,c.ConversationTranslatorCommandTypes.setTranslateToLanguages,R.value,S));break;case"setprofanityfiltering":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new l.ParticipantAttributeEventArgs(R.participantId,c.ConversationTranslatorCommandTypes.setProfanityFiltering,R.value,S));break;case"setmute":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new l.ParticipantAttributeEventArgs(R.participantId,c.ConversationTranslatorCommandTypes.setMute,R.value,S));break;case"setmuteall":this.privConversationServiceConnector.muteAllCommandReceived&&this.privConversationServiceConnector.muteAllCommandReceived(this.privConversationServiceConnector,new l.MuteAllEventArgs(R.value,S));break;case"roomexpirationwarning":this.privConversationServiceConnector.conversationExpiration&&this.privConversationServiceConnector.conversationExpiration(this.privConversationServiceConnector,new t.ConversationExpirationEventArgs(R.value,this.privConversationRequestSession.sessionId));break;case"setusetts":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new l.ParticipantAttributeEventArgs(R.participantId,c.ConversationTranslatorCommandTypes.setUseTTS,R.value,S));break;case"setlockstate":this.privConversationServiceConnector.lockRoomCommandReceived&&this.privConversationServiceConnector.lockRoomCommandReceived(this.privConversationServiceConnector,new l.LockRoomEventArgs(R.value,S));break;case"changenickname":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new l.ParticipantAttributeEventArgs(R.participantId,c.ConversationTranslatorCommandTypes.changeNickname,R.value,S));break;case"joinsession":const q=a.ParticipantPayloadResponse.fromJSON(m.textBody),H={avatar:q.avatar,displayName:q.nickname,id:q.participantId,isHost:q.ishost,isMuted:q.ismuted,isUsingTts:q.usetts,preferredLanguage:q.locale};this.privConversationServiceConnector.participantJoinCommandReceived&&this.privConversationServiceConnector.participantJoinCommandReceived(this.privConversationServiceConnector,new l.ParticipantEventArgs(H,S));break;case"leavesession":const $={id:R.participantId};this.privConversationServiceConnector.participantLeaveCommandReceived&&this.privConversationServiceConnector.participantLeaveCommandReceived(this.privConversationServiceConnector,new l.ParticipantEventArgs($,S));break;case"disconnectsession":const pe={id:R.participantId};break;case"token":const de=new r.CognitiveTokenAuthentication(()=>{const fe=R.token;return Promise.resolve(fe)},()=>{const fe=R.token;return Promise.resolve(fe)});this.authentication=de,this.privConversationServiceConnector.onToken(de);break;default:break}break;case"partial":case"final":const w=a.SpeechResponsePayload.fromJSON(m.textBody),T=C==="final"?t.ResultReason.TranslatedParticipantSpeech:t.ResultReason.TranslatingParticipantSpeech,P=new t.ConversationTranslationResult(w.participantId,this.getTranslations(w.translations),w.language,w.id,T,w.recognition,void 0,void 0,m.textBody,void 0);w.isFinal?((P.text!==void 0&&P.text.length>0||w.id===this.privLastPartialUtteranceId)&&(x=!0),x&&this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new l.ConversationReceivedTranslationEventArgs(c.ConversationTranslatorMessageTypes.final,P,S))):P.text!==void 0&&(this.privLastPartialUtteranceId=w.id,this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new l.ConversationReceivedTranslationEventArgs(c.ConversationTranslatorMessageTypes.partial,P,S)));break;case"translated_message":const j=a.TextResponsePayload.fromJSON(m.textBody),k=new t.ConversationTranslationResult(j.participantId,this.getTranslations(j.translations),j.language,void 0,void 0,j.originalText,void 0,void 0,void 0,m.textBody,void 0);this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new l.ConversationReceivedTranslationEventArgs(c.ConversationTranslatorMessageTypes.instantMessage,k,S));break;default:break}}catch{}return this.receiveConversationMessageOverride()}catch{this.terminateMessageLoop=!0}return f.promise}async startMessageLoop(){if(this.isDisposed())return Promise.resolve();this.terminateMessageLoop=!1;const f=this.receiveConversationMessageOverride();try{return await f}catch(v){return this.cancelRecognition(this.privRequestSession?this.privRequestSession.sessionId:"",this.privRequestSession?this.privRequestSession.requestId:"",t.CancellationReason.Error,t.CancellationErrorCode.RuntimeError,v),null}}configConnection(){return this.isDisposed()?Promise.resolve(void 0):this.privConnectionConfigPromise!==void 0?this.privConnectionConfigPromise.then(f=>f.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection()):this.privConnectionConfigPromise,()=>(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection())):this.terminateMessageLoop?Promise.resolve(void 0):(this.privConnectionConfigPromise=this.connectImpl().then(f=>f),this.privConnectionConfigPromise)}getTranslations(f){let v;if(f!==void 0){v=new t.Translations;for(const m of f)v.set(m.lang,m.translation)}return v}};return id.ConversationServiceAdapter=d,id}var jP;function yU(){if(jP)return Ls;jP=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.ConversationTranslatorRecognizer=Ls.ConversationRecognizerFactory=void 0;const e=ge(),t=Ne(),r=Ve(),i=ne(),o=dU(),l=gU();class c{static fromConfig(h,f,v){return new a(h,f,v)}}Ls.ConversationRecognizerFactory=c;let a=class extends i.Recognizer{constructor(h,f,v){const m=f;r.Contracts.throwIfNull(m,"speechConfig");const S=h;r.Contracts.throwIfNull(S,"conversationImpl"),super(v,m.properties,new o.ConversationConnectionFactory),this.privConversation=S,this.privIsDisposed=!1,this.privProperties=m.properties.clone(),this.privConnection=i.Connection.fromRecognizer(this),this.privProperties.getProperty(i.PropertyId.WebWorkerLoadType,"on").toLowerCase()==="on"&&typeof Blob<"u"&&typeof Worker<"u"?(this.privSetTimeout=t.Timeout.setTimeout,this.privClearTimeout=t.Timeout.clearTimeout):typeof window<"u"?(this.privSetTimeout=window.setTimeout.bind(window),this.privClearTimeout=window.clearTimeout.bind(window)):(this.privSetTimeout=setTimeout,this.privClearTimeout=clearTimeout)}set connected(h){this.privConnection.connected=h}set disconnected(h){this.privConnection.disconnected=h}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get properties(){return this.privProperties}isDisposed(){return this.privIsDisposed}connect(h,f,v){try{r.Contracts.throwIfDisposed(this.privIsDisposed),r.Contracts.throwIfNullOrWhitespace(h,"token"),this.privReco.conversationTranslatorToken=h,this.resetConversationTimeout(),this.privReco.connectAsync(f,v)}catch(m){if(v)if(m instanceof Error){const S=m;v(S.name+": "+S.message)}else v(m)}}disconnect(h,f){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privReco.disconnect().then(()=>{h&&h()},v=>{f&&f(v)})}catch(v){if(f)if(v instanceof Error){const m=v;f(m.name+": "+m.message)}else f(v);this.dispose(!0).catch(m=>{t.Events.instance.onEvent(new t.BackgroundEvent(m))})}}sendRequest(h,f,v){try{r.Contracts.throwIfDisposed(this.privIsDisposed),this.sendMessage(h,f,v)}catch(m){if(v)if(m instanceof Error){const S=m;v(S.name+": "+S.message)}else v(m);this.dispose(!0).catch(S=>{t.Events.instance.onEvent(new t.BackgroundEvent(S))})}}onToken(h){this.privConversation.onToken(h)}async close(){this.privIsDisposed||(this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close()),this.privConnection=void 0,await this.dispose(!0))}async dispose(h){this.privIsDisposed||h&&(this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privIsDisposed=!0,this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close(),this.privConnection=void 0),await super.dispose(h))}createRecognizerConfig(h){return new e.RecognizerConfig(h,this.privProperties)}createServiceRecognizer(h,f,v,m){const S=v;return new l.ConversationServiceAdapter(h,f,S,m,this)}sendMessage(h,f,v){const m=this.privReco;((C,x,R)=>{C!==void 0?C.then(()=>{try{x&&x()}catch(w){R&&R(`'Unhandled error on promise callback: ${w}'`)}},w=>{try{R&&R(w)}catch{}}):R&&R("Null promise")})(m.sendMessageAsync(h),f,v),this.resetConversationTimeout()}resetConversationTimeout(){this.privTimeoutToken!==void 0&&this.privClearTimeout(this.privTimeoutToken),this.privTimeoutToken=this.privSetTimeout(()=>{this.sendRequest(this.privConversation.getKeepAlive())},6e4)}};return Ls.ConversationTranslatorRecognizer=a,Ls}var ad={},OP;function SU(){if(OP)return ad;OP=1,Object.defineProperty(ad,"__esModule",{value:!0}),ad.TranscriberRecognizer=void 0;const e=Ne(),t=Ve(),r=ne(),i=ge();let o=class extends r.Recognizer{constructor(c,a){const d=c;t.Contracts.throwIfNull(d,"speechTranslationConfig");const h=a;t.Contracts.throwIfNull(h,"audioConfigImpl"),t.Contracts.throwIfNullOrWhitespace(d.speechRecognitionLanguage,r.PropertyId[r.PropertyId.SpeechServiceConnection_RecoLanguage]),super(a,d.properties,new i.TranscriberConnectionFactory),this.privDisposedRecognizer=!1,this.isMeetingRecognizer=!1}get speechRecognitionLanguage(){return t.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(r.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(r.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(c){t.Contracts.throwIfNullOrWhitespace(c,"token"),this.properties.setProperty(r.PropertyId.SpeechServiceAuthorization_Token,c)}set conversation(c){t.Contracts.throwIfNullOrUndefined(c,"Conversation"),this.isMeetingRecognizer=!1,this.privConversation=c}getConversationInfo(){return t.Contracts.throwIfNullOrUndefined(this.privConversation,"Conversation"),this.privConversation.conversationInfo}set meeting(c){t.Contracts.throwIfNullOrUndefined(c,"Meeting"),this.isMeetingRecognizer=!0,this.privMeeting=c}getMeetingInfo(){return t.Contracts.throwIfNullOrUndefined(this.privMeeting,"Meeting"),this.privMeeting.meetingInfo}IsMeetingRecognizer(){return this.isMeetingRecognizer}startContinuousRecognitionAsync(c,a){e.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(i.RecognitionMode.Conversation),c,a)}stopContinuousRecognitionAsync(c,a){e.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),c,a)}async close(){this.privDisposedRecognizer||await this.dispose(!0)}async pushConversationEvent(c,a){const d=this.privReco;t.Contracts.throwIfNullOrUndefined(d,"serviceRecognizer"),await d.sendSpeechEventAsync(c,a)}async pushMeetingEvent(c,a){const d=this.privReco;t.Contracts.throwIfNullOrUndefined(d,"serviceRecognizer"),await d.sendMeetingSpeechEventAsync(c,a)}async enforceAudioGating(){const d=(await this.audioConfig.format).channels;if(d===1){if(this.properties.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()!=="true")throw new Error("Single channel audio configuration for MeetingTranscriber is currently under private preview, please contact diarizationrequest@microsoft.com for more details")}else if(d!==8)throw new Error(`Unsupported audio configuration: Detected ${d}-channel audio`)}connectMeetingCallbacks(c){this.isMeetingRecognizer=!0,this.canceled=(a,d)=>{c.canceled&&c.canceled(c,d)},this.recognizing=(a,d)=>{c.transcribing&&c.transcribing(c,d)},this.recognized=(a,d)=>{c.transcribed&&c.transcribed(c,d)},this.sessionStarted=(a,d)=>{c.sessionStarted&&c.sessionStarted(c,d)},this.sessionStopped=(a,d)=>{c.sessionStopped&&c.sessionStopped(c,d)}}disconnectCallbacks(){this.canceled=void 0,this.recognizing=void 0,this.recognized=void 0,this.sessionStarted=void 0,this.sessionStopped=void 0}async dispose(c){this.privDisposedRecognizer||(c&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(c))}createRecognizerConfig(c){return new i.RecognizerConfig(c,this.properties)}createServiceRecognizer(c,a,d,h){const f=d;return new i.TranscriptionServiceRecognizer(c,a,f,h,this)}};return ad.TranscriberRecognizer=o,ad}var DP;function bU(){return DP||(DP=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=lU();Object.defineProperty(e,"ConversationManager",{enumerable:!0,get:function(){return t.ConversationManager}});var r=vS();Object.defineProperty(e,"ConversationConnectionConfig",{enumerable:!0,get:function(){return r.ConversationConnectionConfig}});var i=yU();Object.defineProperty(e,"ConversationRecognizerFactory",{enumerable:!0,get:function(){return i.ConversationRecognizerFactory}});var o=SU();Object.defineProperty(e,"TranscriberRecognizer",{enumerable:!0,get:function(){return o.TranscriberRecognizer}});var l=lk();Object.defineProperty(e,"ConversationReceivedTranslationEventArgs",{enumerable:!0,get:function(){return l.ConversationReceivedTranslationEventArgs}}),Object.defineProperty(e,"LockRoomEventArgs",{enumerable:!0,get:function(){return l.LockRoomEventArgs}}),Object.defineProperty(e,"MuteAllEventArgs",{enumerable:!0,get:function(){return l.MuteAllEventArgs}}),Object.defineProperty(e,"ParticipantAttributeEventArgs",{enumerable:!0,get:function(){return l.ParticipantAttributeEventArgs}}),Object.defineProperty(e,"ParticipantEventArgs",{enumerable:!0,get:function(){return l.ParticipantEventArgs}}),Object.defineProperty(e,"ParticipantsListEventArgs",{enumerable:!0,get:function(){return l.ParticipantsListEventArgs}});var c=uk();Object.defineProperty(e,"ConversationTranslatorCommandTypes",{enumerable:!0,get:function(){return c.ConversationTranslatorCommandTypes}}),Object.defineProperty(e,"ConversationTranslatorMessageTypes",{enumerable:!0,get:function(){return c.ConversationTranslatorMessageTypes}}),Object.defineProperty(e,"InternalParticipants",{enumerable:!0,get:function(){return c.InternalParticipants}})}(Yg)),Yg}var Xg={},zP;function hk(){return zP||(zP=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SynthesisAudioMetadata=e.MetadataType=void 0,function(r){r.WordBoundary="WordBoundary",r.Bookmark="Bookmark",r.Viseme="Viseme",r.SentenceBoundary="SentenceBoundary",r.SessionEnd="SessionEnd",r.AvatarSignal="TalkingAvatarSignal"}(e.MetadataType||(e.MetadataType={}));class t{constructor(i){this.privSynthesisAudioMetadata=JSON.parse(i)}static fromJSON(i){return new t(i)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}e.SynthesisAudioMetadata=t}(Xg)),Xg}var cd={},mn={},LP;function CU(){if(LP)return mn;LP=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.SynthesisStartedEvent=mn.ConnectingToSynthesisServiceEvent=mn.SynthesisTriggeredEvent=mn.SpeechSynthesisEvent=void 0;const e=Ne();class t extends e.PlatformEvent{constructor(c,a,d=e.EventType.Info){super(c,d),this.privRequestId=a}get requestId(){return this.privRequestId}}mn.SpeechSynthesisEvent=t;class r extends t{constructor(c,a,d){super("SynthesisTriggeredEvent",c),this.privSessionAudioDestinationId=a,this.privTurnAudioDestinationId=d}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}}mn.SynthesisTriggeredEvent=r;class i extends t{constructor(c,a){super("ConnectingToSynthesisServiceEvent",c),this.privAuthFetchEventId=a}get authFetchEventId(){return this.privAuthFetchEventId}}mn.ConnectingToSynthesisServiceEvent=i;class o extends t{constructor(c,a){super("SynthesisStartedEvent",c),this.privAuthFetchEventId=a}get authFetchEventId(){return this.privAuthFetchEventId}}return mn.SynthesisStartedEvent=o,mn}var BP;function xU(){if(BP)return cd;BP=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.SynthesisTurn=void 0;const e=Ne(),t=aa(),r=ne(),i=hk(),o=CU();let l=class Xy{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privRequestId=e.createNoDashGuid(),this.privTurnDeferral=new e.Deferred,this.privTurnDeferral.resolve()}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(a){this.privStreamId=a}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(a){this.privAudioOutputFormat=a}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get currentSentenceOffset(){return this.privSentenceOffset}get bytesReceived(){return this.privBytesReceived}get audioDuration(){return this.privAudioDuration}get extraProperties(){if(this.privWebRTCSDP){const a=new r.PropertyCollection;return a.setProperty(r.PropertyId.TalkingAvatarService_WebRTC_SDP,this.privWebRTCSDP),a}}async getAllReceivedAudio(){return this.privReceivedAudio?Promise.resolve(this.privReceivedAudio):this.privIsSynthesisEnded?(await this.readAllAudioFromStream(),Promise.resolve(this.privReceivedAudio)):null}async getAllReceivedAudioWithHeader(){if(this.privReceivedAudioWithHeader)return this.privReceivedAudioWithHeader;if(!this.privIsSynthesisEnded)return null;if(this.audioOutputFormat.hasHeader){const a=await this.getAllReceivedAudio();return this.privReceivedAudioWithHeader=this.audioOutputFormat.addHeader(a),this.privReceivedAudioWithHeader}else return this.getAllReceivedAudio()}startNewSynthesis(a,d,h,f){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=a,this.privRawText=d,this.privIsSSML=h,this.privAudioOutputStream=new t.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privPartialVisemeAnimation="",this.privWebRTCSDP="",f!==void 0&&(this.privTurnAudioDestination=f,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new o.SynthesisTriggeredEvent(this.requestId,void 0,f===void 0?void 0:f.id()))}onPreConnectionStart(a){this.privAuthFetchEventId=a,this.onEvent(new o.ConnectingToSynthesisServiceEvent(this.privRequestId,this.privAuthFetchEventId))}onAuthCompleted(a){a&&this.onComplete()}onConnectionEstablishCompleted(a){if(a===200){this.onEvent(new o.SynthesisStartedEvent(this.requestId,this.privAuthFetchEventId)),this.privBytesReceived=0;return}else a===403&&this.onComplete()}onServiceResponseMessage(a){const d=JSON.parse(a);this.streamId=d.audio.streamId}onServiceTurnEndResponse(){this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()}onServiceTurnStartResponse(a){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch(()=>{})),this.privInTurn=!0,this.privTurnDeferral=new e.Deferred;const d=JSON.parse(a);d.webrtc&&(this.privWebRTCSDP=d.webrtc.connectionString)}onAudioChunkReceived(a){this.isSynthesizing&&(this.privAudioOutputStream.write(a),this.privBytesReceived+=a.byteLength,this.privTurnAudioDestination!==void 0&&this.privTurnAudioDestination.write(a))}onTextBoundaryEvent(a){this.updateTextOffset(a.Data.text.Text,a.Type)}onVisemeMetadataReceived(a){a.Data.AnimationChunk!==void 0&&(this.privPartialVisemeAnimation+=a.Data.AnimationChunk)}onSessionEnd(a){this.privAudioDuration=a.Data.Offset}async constructSynthesisResult(){const a=await this.getAllReceivedAudioWithHeader();return new r.SpeechSynthesisResult(this.requestId,r.ResultReason.SynthesizingAudioCompleted,a,void 0,this.extraProperties,this.audioDuration)}dispose(){this.privIsDisposed||(this.privIsDisposed=!0)}onStopSynthesizing(){this.onComplete()}getAndClearVisemeAnimation(){const a=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",a}onEvent(a){e.Events.instance.onEvent(a)}static isXmlTag(a){return a.length>=2&&a[0]==="<"&&a[a.length-1]===">"}updateTextOffset(a,d){d===i.MetadataType.WordBoundary?(this.privTextOffset=this.privRawText.indexOf(a,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+a.length,this.privIsSSML&&this.withinXmlTag(this.privTextOffset)&&!Xy.isXmlTag(a)&&this.updateTextOffset(a,d))):(this.privSentenceOffset=this.privRawText.indexOf(a,this.privNextSearchSentenceIndex),this.privSentenceOffset>=0&&(this.privNextSearchSentenceIndex=this.privSentenceOffset+a.length,this.privIsSSML&&this.withinXmlTag(this.privSentenceOffset)&&!Xy.isXmlTag(a)&&this.updateTextOffset(a,d)))}onComplete(){this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,this.privTurnAudioDestination!==void 0&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))}async readAllAudioFromStream(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{await this.privAudioOutputStream.read(this.privReceivedAudio)}catch{this.privReceivedAudio=new ArrayBuffer(0)}}}withinXmlTag(a){return this.privRawText.indexOf("<",a+1)>this.privRawText.indexOf(">",a+1)}};return cd.SynthesisTurn=l,cd}var ld={},qP;function RU(){if(qP)return ld;qP=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.SynthesisAdapterBase=void 0;const e=Ne(),t=ne(),r=ge(),i=ca();let o=class{constructor(c,a,d,h){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.privConnectionConfigurationPromise=void 0,!c)throw new e.ArgumentNullError("authentication");if(!a)throw new e.ArgumentNullError("connectionFactory");if(!d)throw new e.ArgumentNullError("synthesizerConfig");this.privAuthentication=c,this.privConnectionFactory=a,this.privSynthesizerConfig=d,this.privIsDisposed=!1,this.privSessionAudioDestination=h,this.privSynthesisTurn=new r.SynthesisTurn,this.privConnectionEvents=new e.EventSource,this.privServiceEvents=new e.EventSource,this.privSynthesisContext=new r.SynthesisContext,this.privAgentConfig=new r.AgentConfig,this.connectionEvents.attach(f=>{if(f.name==="ConnectionClosedEvent"){const v=f;v.statusCode!==1e3&&this.cancelSynthesisLocal(t.CancellationReason.Error,v.statusCode===1007?t.CancellationErrorCode.BadRequestParameters:t.CancellationErrorCode.ConnectionFailure,`${v.reason} websocket error code: ${v.statusCode}`)}})}get synthesisContext(){return this.privSynthesisContext}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(c){this.privActivityTemplate=c}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(c){this.privAudioOutputFormat=c,this.privSynthesisTurn.audioOutputFormat=c,this.privSessionAudioDestination!==void 0&&(this.privSessionAudioDestination.format=c),this.synthesisContext!==void 0&&(this.synthesisContext.audioOutputFormat=c)}isDisposed(){return this.privIsDisposed}async dispose(c){this.privIsDisposed=!0,this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.close(),this.privConnectionConfigurationPromise!==void 0&&await(await this.privConnectionConfigurationPromise).dispose(c)}async connect(){await this.connectImpl()}async sendNetworkMessage(c,a){const d=typeof a=="string"?e.MessageType.Text:e.MessageType.Binary,h=typeof a=="string"?"application/json":"";return(await this.fetchConnection()).send(new i.SpeechConnectionMessage(d,c,this.privSynthesisTurn.requestId,h,a))}async Speak(c,a,d,h,f,v){let m;if(a?m=c:m=this.privSynthesizer.buildSsml(c),this.speakOverride!==void 0)return this.speakOverride(m,d,h,f);this.privSuccessCallback=h,this.privErrorCallback=f,this.privSynthesisTurn.startNewSynthesis(d,c,a,v);try{await this.connectImpl();const S=await this.fetchConnection();await this.sendSynthesisContext(S),await this.sendSsmlMessage(S,m,d),this.onSynthesisStarted(d),this.receiveMessage()}catch(S){return this.cancelSynthesisLocal(t.CancellationReason.Error,t.CancellationErrorCode.ConnectionFailure,S),Promise.reject(S)}}async stopSpeaking(){return await this.connectImpl(),(await this.fetchConnection()).send(new i.SpeechConnectionMessage(e.MessageType.Text,"synthesis.control",this.privSynthesisTurn.requestId,"application/json",JSON.stringify({action:"stop"})))}cancelSynthesis(c,a,d,h){const f=new t.PropertyCollection;f.setProperty(r.CancellationErrorCodePropertyName,t.CancellationErrorCode[d]);const v=new t.SpeechSynthesisResult(c,t.ResultReason.Canceled,void 0,h,f);if(this.onSynthesisCancelled(v),this.privSuccessCallback)try{this.privSuccessCallback(v)}catch{}}cancelSynthesisLocal(c,a,d){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,c,a,d))}processTypeSpecificMessages(c){return!0}async receiveMessage(){try{const a=await(await this.fetchConnection()).read();if(this.receiveMessageOverride!==void 0)return this.receiveMessageOverride();if(this.privIsDisposed)return;if(!a)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():void 0;const d=i.SpeechConnectionMessage.fromConnectionMessage(a);if(d.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(d.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse(d.textBody);break;case"response":this.privSynthesisTurn.onServiceResponseMessage(d.textBody);break;case"audio":this.privSynthesisTurn.streamId.toLowerCase()===d.streamId.toLowerCase()&&d.binaryBody&&(this.privSynthesisTurn.onAudioChunkReceived(d.binaryBody),this.onSynthesizing(d.binaryBody),this.privSessionAudioDestination!==void 0&&this.privSessionAudioDestination.write(d.binaryBody));break;case"audio.metadata":const h=r.SynthesisAudioMetadata.fromJSON(d.textBody).Metadata;for(const v of h)switch(v.Type){case r.MetadataType.WordBoundary:case r.MetadataType.SentenceBoundary:this.privSynthesisTurn.onTextBoundaryEvent(v);const m=new t.SpeechSynthesisWordBoundaryEventArgs(v.Data.Offset,v.Data.Duration,v.Data.text.Text,v.Data.text.Length,v.Type===r.MetadataType.WordBoundary?this.privSynthesisTurn.currentTextOffset:this.privSynthesisTurn.currentSentenceOffset,v.Data.text.BoundaryType);this.onWordBoundary(m);break;case r.MetadataType.Bookmark:const S=new t.SpeechSynthesisBookmarkEventArgs(v.Data.Offset,v.Data.Bookmark);this.onBookmarkReached(S);break;case r.MetadataType.Viseme:if(this.privSynthesisTurn.onVisemeMetadataReceived(v),v.Data.IsLastAnimation){const C=new t.SpeechSynthesisVisemeEventArgs(v.Data.Offset,v.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation());this.onVisemeReceived(C)}break;case r.MetadataType.AvatarSignal:this.onAvatarEvent(v);break;case r.MetadataType.SessionEnd:this.privSynthesisTurn.onSessionEnd(v);break}break;case"turn.end":this.privSynthesisTurn.onServiceTurnEndResponse();let f;try{f=await this.privSynthesisTurn.constructSynthesisResult(),this.privSuccessCallback&&this.privSuccessCallback(f)}catch(v){this.privErrorCallback&&this.privErrorCallback(v)}this.onSynthesisCompleted(f);break;default:this.processTypeSpecificMessages(d)||this.privServiceEvents&&this.serviceEvents.onEvent(new e.ServiceEvent(d.path.toLowerCase(),d.textBody))}return this.receiveMessage()}catch{}}sendSynthesisContext(c){this.setSynthesisContextSynthesisSection();const a=this.synthesisContext.toJSON();if(a)return c.send(new i.SpeechConnectionMessage(e.MessageType.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",a))}setSpeechConfigSynthesisSection(){}connectImpl(c=!1){if(this.privConnectionPromise!=null)return this.privConnectionPromise.then(d=>d.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()):this.privConnectionPromise,()=>(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()));this.privAuthFetchEventId=e.createNoDashGuid(),this.privConnectionId=e.createNoDashGuid(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);const a=c?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=a.then(async d=>{this.privSynthesisTurn.onAuthCompleted(!1);const h=this.privConnectionFactory.create(this.privSynthesizerConfig,d,this.privConnectionId);h.events.attach(v=>{this.connectionEvents.onEvent(v)});const f=await h.open();return f.statusCode===200?(this.privSynthesisTurn.onConnectionEstablishCompleted(f.statusCode),Promise.resolve(h)):f.statusCode===403&&!c?this.connectImpl(!0):(this.privSynthesisTurn.onConnectionEstablishCompleted(f.statusCode),Promise.reject(`Unable to contact server. StatusCode: ${f.statusCode},
                    ${this.privSynthesizerConfig.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Url)} Reason: ${f.reason}`))},d=>{throw this.privSynthesisTurn.onAuthCompleted(!0),new Error(d)}),this.privConnectionPromise.catch(()=>{}),this.privConnectionPromise}sendSpeechServiceConfig(c,a){if(a)return c.send(new i.SpeechConnectionMessage(e.MessageType.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",a))}sendSsmlMessage(c,a,d){return c.send(new i.SpeechConnectionMessage(e.MessageType.Text,"ssml",d,"application/ssml+xml",a))}async fetchConnection(){return this.privConnectionConfigurationPromise!==void 0?this.privConnectionConfigurationPromise.then(c=>c.state()===e.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()):this.privConnectionConfigurationPromise,()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection())):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async configureConnection(){const c=await this.connectImpl();return this.configConnectionOverride!==void 0?this.configConnectionOverride(c):(this.setSpeechConfigSynthesisSection(),await this.sendSpeechServiceConfig(c,this.privSynthesizerConfig.SpeechServiceConfig.serialize()),c)}onAvatarEvent(c){}onSynthesisStarted(c){}onSynthesizing(c){}onSynthesisCancelled(c){}onSynthesisCompleted(c){}onWordBoundary(c){}onVisemeReceived(c){}onBookmarkReached(c){}};return ld.SynthesisAdapterBase=o,o.telemetryDataEnabled=!0,ld}var ud={},UP;function wU(){if(UP)return ud;UP=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.AvatarSynthesisAdapter=void 0;const e=ne(),t=ge();let r=class extends t.SynthesisAdapterBase{constructor(o,l,c,a,d){super(o,l,c,void 0),this.privAvatarSynthesizer=a,this.privSynthesizer=a,this.privAvatarConfig=d}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(void 0)}setSpeechConfigSynthesisSection(){var o,l,c,a,d,h,f,v,m,S,C,x,R,w,T,P,j;this.privSynthesizerConfig.synthesisVideoSection={format:{bitrate:(o=this.privAvatarConfig.videoFormat)==null?void 0:o.bitrate,codec:(l=this.privAvatarConfig.videoFormat)==null?void 0:l.codec,crop:{bottomRight:{x:(d=(a=(c=this.privAvatarConfig.videoFormat)==null?void 0:c.cropRange)==null?void 0:a.bottomRight)==null?void 0:d.x,y:(v=(f=(h=this.privAvatarConfig.videoFormat)==null?void 0:h.cropRange)==null?void 0:f.bottomRight)==null?void 0:v.y},topLeft:{x:(C=(S=(m=this.privAvatarConfig.videoFormat)==null?void 0:m.cropRange)==null?void 0:S.topLeft)==null?void 0:C.x,y:(w=(R=(x=this.privAvatarConfig.videoFormat)==null?void 0:x.cropRange)==null?void 0:R.topLeft)==null?void 0:w.y}},resolution:{height:(T=this.privAvatarConfig.videoFormat)==null?void 0:T.height,width:(P=this.privAvatarConfig.videoFormat)==null?void 0:P.width}},protocol:{name:"WebRTC",webrtcConfig:{clientDescription:btoa(this.privSynthesizerConfig.parameters.getProperty(e.PropertyId.TalkingAvatarService_WebRTC_SDP)),iceServers:this.privAvatarConfig.remoteIceServers??this.privAvatarSynthesizer.iceServers}},talkingAvatar:{background:{color:this.privAvatarConfig.backgroundColor,image:{url:(j=this.privAvatarConfig.backgroundImage)==null?void 0:j.toString()}},character:this.privAvatarConfig.character,customized:this.privAvatarConfig.customized,style:this.privAvatarConfig.style}}}onAvatarEvent(o){if(this.privAvatarSynthesizer.avatarEventReceived){const l=new e.AvatarEventArgs(o.Data.Offset,o.Data.Name);try{this.privAvatarSynthesizer.avatarEventReceived(this.privAvatarSynthesizer,l)}catch{}}}};return ud.AvatarSynthesisAdapter=r,ud}var dd={},VP;function EU(){if(VP)return dd;VP=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.SpeechSynthesisAdapter=void 0;const e=ne(),t=ge();let r=class extends t.SynthesisAdapterBase{constructor(o,l,c,a,d){super(o,l,c,d),this.privSpeechSynthesizer=a,this.privSynthesizer=a}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(this.privSpeechSynthesizer)}onSynthesisStarted(o){const l=new e.SpeechSynthesisEventArgs(new e.SpeechSynthesisResult(o,e.ResultReason.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,l)}onSynthesizing(o){if(this.privSpeechSynthesizer.synthesizing)try{const l=this.privSynthesisTurn.audioOutputFormat.addHeader(o),c=new e.SpeechSynthesisEventArgs(new e.SpeechSynthesisResult(this.privSynthesisTurn.requestId,e.ResultReason.SynthesizingAudio,l));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,c)}catch{}}onSynthesisCancelled(o){if(this.privSpeechSynthesizer.SynthesisCanceled){const l=new e.SpeechSynthesisEventArgs(o);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,l)}catch{}}}onSynthesisCompleted(o){if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new e.SpeechSynthesisEventArgs(o))}catch{}}onWordBoundary(o){if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,o)}catch{}}onVisemeReceived(o){if(this.privSpeechSynthesizer.visemeReceived)try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,o)}catch{}}onBookmarkReached(o){if(this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,o)}catch{}}};return dd.SpeechSynthesisAdapter=r,dd}var hd={},FP;function TU(){if(FP)return hd;FP=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.SynthesisRestAdapter=void 0;const e=er(),t=ne(),r=En(),i=xr();let o=class{constructor(c,a){let d=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!d){const f=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Region,"westus"),v=r.ConnectionFactoryBase.getHostSuffix(f);d=c.parameters.getProperty(t.PropertyId.SpeechServiceConnection_Host,`https://${f}.tts.speech${v}`)}this.privUri=`${d}/cognitiveservices/voices/list`;const h=e.RestConfigBase.requestOptions;this.privRestAdapter=new e.RestMessageAdapter(h),this.privAuthentication=a}getVoicesList(c){return this.privRestAdapter.setHeaders(i.HeaderNames.ConnectionId,c),this.privAuthentication.fetch(c).then(a=>(this.privRestAdapter.setHeaders(a.headerName,a.token),this.privRestAdapter.request(e.RestRequestType.Get,this.privUri)))}};return hd.SynthesisRestAdapter=o,hd}var Zg={},HP;function PU(){return HP||(HP=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SynthesizerConfig=e.SynthesisServiceType=void 0;const t=ge();var r;(function(o){o[o.Standard=0]="Standard",o[o.Custom=1]="Custom"})(r=e.SynthesisServiceType||(e.SynthesisServiceType={}));class i{constructor(l,c){this.privSynthesisServiceType=r.Standard,this.avatarEnabled=!1,this.privSpeechServiceConfig=l||new t.SpeechServiceConfig(new t.Context(null)),this.privParameters=c}get parameters(){return this.privParameters}get synthesisServiceType(){return this.privSynthesisServiceType}set synthesisServiceType(l){this.privSynthesisServiceType=l}set synthesisVideoSection(l){this.privSpeechServiceConfig.Context.synthesis={video:l}}get SpeechServiceConfig(){return this.privSpeechServiceConfig}}e.SynthesizerConfig=i}(Zg)),Zg}var pd={},$P;function AU(){if($P)return pd;$P=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.SynthesisContext=void 0;const e=ne();let t=class{constructor(){this.privContext={}}setSection(i,o){this.privContext[i]=o}set audioOutputFormat(i){this.privAudioOutputFormat=i}toJSON(){return JSON.stringify(this.privContext)}setSynthesisSection(i){const o=this.buildSynthesisContext(i);this.setSection("synthesis",o)}buildSynthesisContext(i){return{audio:{metadataOptions:{bookmarkEnabled:!!(i!=null&&i.bookmarkReached),punctuationBoundaryEnabled:i==null?void 0:i.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestPunctuationBoundary,!!(i!=null&&i.wordBoundary)),sentenceBoundaryEnabled:i==null?void 0:i.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestSentenceBoundary,!1),sessionEndEnabled:!0,visemeEnabled:!!(i!=null&&i.visemeReceived),wordBoundaryEnabled:i==null?void 0:i.properties.getProperty(e.PropertyId.SpeechServiceResponse_RequestWordBoundary,!!(i!=null&&i.wordBoundary))},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:i==null?void 0:i.autoDetectSourceLanguage}}}};return pd.SynthesisContext=t,pd}var fd={},KP;function _U(){if(KP)return fd;KP=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.SpeakerRecognitionConfig=void 0;const e=ge();let t=class{constructor(i,o){this.privContext=i||new e.Context(null),this.privParameters=o}get parameters(){return this.privParameters}get Context(){return this.privContext}};return fd.SpeakerRecognitionConfig=t,fd}var vd={},WP;function kU(){if(WP)return vd;WP=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.SpeakerServiceRecognizer=void 0;const e=er(),t=Ne(),r=ne(),i=ge(),o=ca();let l=class extends i.ServiceRecognizerBase{constructor(a,d,h,f,v){super(a,d,h,f,v),this.privSpeakerRecognizer=v,this.privSpeakerAudioSource=h,this.recognizeSpeaker=m=>this.recognizeSpeakerOnce(m),this.sendPrePayloadJSONOverride=()=>this.noOp()}processTypeSpecificMessages(a){let d=!1;const h=new r.PropertyCollection;switch(a.messageType===t.MessageType.Text&&h.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,a.textBody),a.path.toLowerCase()){case"speaker.response":const v=JSON.parse(a.textBody);let m;v.status.statusCode.toLowerCase()!=="success"?m=new r.SpeakerRecognitionResult(v,r.ResultReason.Canceled,r.CancellationErrorCode.ServiceError,v.status.reason):m=new r.SpeakerRecognitionResult(v,r.ResultReason.RecognizedSpeaker),this.privResultDeferral&&this.privResultDeferral.resolve(m),d=!0;break}const f=new t.Deferred;return f.resolve(d),f.promise}cancelRecognition(a,d,h,f,v){if(new r.PropertyCollection().setProperty(i.CancellationErrorCodePropertyName,r.CancellationErrorCode[f]),this.privResultDeferral){const S=new r.SpeakerRecognitionResult({scenario:this.privSpeakerModel.scenario,status:{statusCode:v,reason:v}},r.ResultReason.Canceled,f,v);try{this.privResultDeferral.resolve(S)}catch(C){this.privResultDeferral.reject(C)}}}async recognizeSpeakerOnce(a){this.privSpeakerModel=a,this.voiceProfileType=a.scenario,this.privResultDeferral||(this.privResultDeferral=new t.Deferred),this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const d=this.connectImpl(),h=this.sendPreAudioMessages(this.extractSpeakerContext(a)),f=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),v=await this.privSpeakerAudioSource.format,m=await this.privSpeakerAudioSource.deviceInfo,S=new e.ReplayableAudioNode(f,v.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(S,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:m};try{await d,await h}catch(R){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,R)}const C=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,C),this.receiveMessage(),this.sendAudio(S).then(()=>{},R=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,R)}),this.privResultDeferral.promise}async sendPreAudioMessages(a){const d=await this.fetchConnection();await this.sendSpeakerRecognition(d,a)}async sendSpeakerRecognition(a,d){const h=JSON.stringify(d);return a.send(new o.SpeechConnectionMessage(t.MessageType.Text,"speaker.context",this.privRequestSession.requestId,"application/json; charset=utf-8",h))}extractSpeakerContext(a){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:a.profileIds,scenario:a.scenario}}};return vd.SpeakerServiceRecognizer=l,vd}var md={},GP;function MU(){if(GP)return md;GP=1,Object.defineProperty(md,"__esModule",{value:!0}),md.VoiceServiceRecognizer=void 0;const e=er(),t=Ne(),r=ne(),i=ge(),o=ca();let l=class extends i.ServiceRecognizerBase{constructor(a,d,h,f,v){super(a,d,h,f,v),this.privDeferralMap=new t.DeferralMap,this.privSpeakerAudioSource=h,this.sendPrePayloadJSONOverride=()=>this.noOp()}set SpeakerAudioSource(a){this.privSpeakerAudioSource=a}processTypeSpecificMessages(a){let d=!1;const h=new r.PropertyCollection;switch(a.messageType===t.MessageType.Text&&h.setProperty(r.PropertyId.SpeechServiceResponse_JsonResult,a.textBody),a.path.toLowerCase()){case"speaker.profiles":const v=JSON.parse(a.textBody);switch(v.operation.toLowerCase()){case"create":this.handleCreateResponse(v,a.requestId);break;case"delete":case"reset":this.handleResultResponse(v,a.requestId);break;case"fetch":const x=JSON.parse(a.textBody);this.handleFetchResponse(x,a.requestId);break}d=!0;break;case"speaker.phrases":const m=JSON.parse(a.textBody);this.handlePhrasesResponse(m,a.requestId),d=!0;break;case"speaker.profile.enrollment":const S=JSON.parse(a.textBody),C=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(S.enrollment?S.enrollment.enrollmentStatus:S.status.statusCode),S.enrollment?JSON.stringify(S.enrollment):void 0,S.status.reason);this.privDeferralMap.getId(a.requestId)&&this.privDeferralMap.complete(a.requestId,C),this.privRequestSession.onSpeechEnded(),d=!0;break}const f=new t.Deferred;return f.resolve(d),f.promise}cancelRecognition(a,d,h,f,v){new r.PropertyCollection().setProperty(i.CancellationErrorCodePropertyName,r.CancellationErrorCode[f]);const S=new r.VoiceProfileEnrollmentResult(r.ResultReason.Canceled,v,v);this.privDeferralMap.getId(d)&&this.privDeferralMap.complete(d,S)}async createProfile(a,d){this.voiceProfileType=a.toString();const h=this.connectImpl();try{const f=new t.Deferred;return await h,await this.sendCreateProfile(f,a,d),this.receiveMessage(),f.promise}catch(f){throw f}}async resetProfile(a){return this.voiceProfileType=a.profileType.toString(),this.sendCommonRequest("reset",a.profileType,a)}async deleteProfile(a){return this.voiceProfileType=a.profileType.toString(),this.sendCommonRequest("delete",a.profileType,a)}async retrieveEnrollmentResult(a){return this.voiceProfileType=a.profileType.toString(),this.privExpectedProfileId=a.profileId,this.sendCommonRequest("fetch",a.profileType,a)}async getAllProfiles(a){return this.voiceProfileType=a.toString(),this.sendCommonRequest("fetch",a)}async getActivationPhrases(a,d){this.voiceProfileType=a.toString();const h=this.connectImpl();try{const f=new t.Deferred;return await h,await this.sendPhrasesRequest(f,a,d),this.receiveMessage(),f.promise}catch(f){throw f}}async enrollProfile(a){this.voiceProfileType=a.profileType.toString();const d=new t.Deferred;this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(r.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const h=this.connectImpl(),f=this.sendPreAudioMessages(a,d),v=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),m=await this.privSpeakerAudioSource.format,S=await this.privSpeakerAudioSource.deviceInfo,C=new e.ReplayableAudioNode(v,m.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(C,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:S};try{await h,await f}catch(w){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.ConnectionFailure,w)}const x=new r.SessionEventArgs(this.privRequestSession.sessionId);return this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,x),this.receiveMessage(),this.sendAudio(C).then(()=>{},w=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,r.CancellationReason.Error,r.CancellationErrorCode.RuntimeError,w)}),d.promise}async sendPreAudioMessages(a,d){const h=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,d),await this.sendBaseRequest(h,"enroll",this.scenarioFrom(a.profileType),a)}async sendPhrasesRequest(a,d,h){const f=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,a);const v=this.scenarioFrom(d),m={locale:h,scenario:v};return f.send(new o.SpeechConnectionMessage(t.MessageType.Text,"speaker.profile.phrases",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(m)))}async sendCreateProfile(a,d,h){const f=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,a);const v=d===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":d===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification",m={locale:h,number:"1",scenario:v};return f.send(new o.SpeechConnectionMessage(t.MessageType.Text,"speaker.profile.create",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(m)))}async sendCommonRequest(a,d,h=void 0){const f=this.connectImpl();try{const v=new t.Deferred;this.privRequestSession.onSpeechContext(),await f;const m=await this.fetchConnection();return this.privDeferralMap.add(this.privRequestSession.requestId,v),await this.sendBaseRequest(m,a,this.scenarioFrom(d),h),this.receiveMessage(),v.promise}catch(v){throw v}}async sendBaseRequest(a,d,h,f){const v={scenario:h};return f?v.profileIds=[f.profileId]:v.maxPageSize=-1,a.send(new o.SpeechConnectionMessage(t.MessageType.Text,`speaker.profile.${d}`,this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(v)))}extractSpeakerContext(a){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:a.profileIds,scenario:a.scenario}}handlePhrasesResponse(a,d){if(this.privDeferralMap.getId(d))if(a.status.statusCode.toLowerCase()!=="success"){const h=r.ResultReason.Canceled,f=new r.VoiceProfilePhraseResult(h,a.status.statusCode,a.passPhraseType,[]);this.privDeferralMap.complete(d,f)}else if(a.phrases&&a.phrases.length>0){const h=r.ResultReason.EnrollingVoiceProfile,f=new r.VoiceProfilePhraseResult(h,a.status.statusCode,a.passPhraseType,a.phrases);this.privDeferralMap.complete(d,f)}else throw new Error("Voice Profile get activation phrases failed, no phrases received");else throw new Error(`Voice Profile get activation phrases request for requestID ${d} not found`)}handleCreateResponse(a,d){if(a.profiles&&a.profiles.length>0)if(this.privDeferralMap.getId(d)){const h=a.profiles.map(f=>f.profileId);this.privDeferralMap.complete(d,h)}else throw new Error(`Voice Profile create request for requestID ${d} not found`);else throw new Error("Voice Profile create failed, no profile id received")}handleResultResponse(a,d){if(this.privDeferralMap.getId(d)){const h=a.operation.toLowerCase()==="delete"?r.ResultReason.DeletedVoiceProfile:r.ResultReason.ResetVoiceProfile,f=a.status.statusCode.toLowerCase()==="success"?h:r.ResultReason.Canceled,v=new r.VoiceProfileResult(f,`statusCode: ${a.status.statusCode}, errorDetails: ${a.status.reason}`);this.privDeferralMap.complete(d,v)}else throw new Error(`Voice Profile create request for requestID ${d} not found`)}handleFetchResponse(a,d){if(this.privDeferralMap.getId(d)&&a.profiles[0]){if(this.privExpectedProfileId&&a.profiles.length===1&&a.profiles[0].profileId===this.privExpectedProfileId){this.privExpectedProfileId=void 0;const h=a.profiles[0],f=new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(h.enrollmentStatus),JSON.stringify(h),a.status.reason);this.privDeferralMap.complete(d,f)}else if(a.profiles.length>0){const h=a.profiles,f=[];for(const v of h)f.push(new r.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(v.enrollmentStatus),JSON.stringify(v),a.status.reason));this.privDeferralMap.complete(d,f)}}else throw new Error(`Voice Profile fetch request for requestID ${d} not found`)}enrollmentReasonFrom(a){switch(a.toLowerCase()){case"enrolled":return r.ResultReason.EnrolledVoiceProfile;case"invalidlocale":case"invalidphrase":case"invalidaudioformat":case"invalidscenario":case"invalidprofilecount":case"invalidoperation":case"audiotooshort":case"audiotoolong":case"toomanyenrollments":case"storageconflict":case"profilenotfound":case"incompatibleprofiles":case"incompleteenrollment":return r.ResultReason.Canceled;default:return r.ResultReason.EnrollingVoiceProfile}}scenarioFrom(a){return a===r.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":a===r.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification"}};return md.VoiceServiceRecognizer=l,md}var ey={},JP;function NU(){return JP||(JP=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.type=e.connectivity=e.Device=e.OS=e.System=e.Context=e.SpeechServiceConfig=void 0;class t{constructor(a){this.context=a}serialize(){return JSON.stringify(this,(a,d)=>{if(d&&typeof d=="object"&&!Array.isArray(d)){const h={};for(const f in d)Object.hasOwnProperty.call(d,f)&&(h[f&&f.charAt(0).toLowerCase()+f.substring(1)]=d[f]);return h}return d})}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(a){this.recognition=a.toLowerCase()}}e.SpeechServiceConfig=t;class r{constructor(a){this.system=new i,this.os=a}}e.Context=r;class i{constructor(){const a="1.42.0";this.name="SpeechSDK",this.version=a,this.build="JavaScript",this.lang="JavaScript"}}e.System=i;class o{constructor(a,d,h){this.platform=a,this.name=d,this.version=h}}e.OS=o;class l{constructor(a,d,h){this.manufacturer=a,this.model=d,this.version=h}}e.Device=l,function(c){c.Bluetooth="Bluetooth",c.Wired="Wired",c.WiFi="WiFi",c.Cellular="Cellular",c.InBuilt="InBuilt",c.Unknown="Unknown"}(e.connectivity||(e.connectivity={})),function(c){c.Phone="Phone",c.Speaker="Speaker",c.Car="Car",c.Headset="Headset",c.Thermostat="Thermostat",c.Microphones="Microphones",c.Deskphone="Deskphone",c.RemoteControl="RemoteControl",c.Unknown="Unknown",c.File="File",c.Stream="Stream"}(e.type||(e.type={}))}(ey)),ey}var YP;function ge(){return YP||(YP=1,function(e){var t=Ss&&Ss.__createBinding||(Object.create?function(l,c,a,d){d===void 0&&(d=a),Object.defineProperty(l,d,{enumerable:!0,get:function(){return c[a]}})}:function(l,c,a,d){d===void 0&&(d=a),l[d]=c[a]}),r=Ss&&Ss.__exportStar||function(l,c){for(var a in l)a!=="default"&&!c.hasOwnProperty(a)&&t(c,l,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.AutoDetectSourceLanguagesOpenRangeOptionName=e.ForceDictationPropertyName=e.ServicePropertiesPropertyName=e.CancellationErrorCodePropertyName=e.OutputFormatPropertyName=void 0,r(b7(),e),r(C7(),e),r(lS(),e),r(x7(),e),r(R7(),e),r(Eq(),e),r(Tq(),e),r(fS(),e),r(Pq(),e),r(Aq(),e),r(_q(),e),r(kq(),e),r(Mq(),e),r(Nq(),e),r(Iq(),e),r(jq(),e),r(Oq(),e),r(Q6(),e),r(Dq(),e),r(zq(),e),r(Lq(),e),r(Bq(),e),r(qq(),e),r(Uq(),e),r(Vq(),e),r(Fq(),e),r(Hq(),e),r($q(),e),r(Kq(),e),r(Wq(),e),r(Gq(),e),r(Jq(),e),r(Yq(),e),r(Qq(),e),r(Xq(),e),r(Zq(),e),r(tU(),e),r(rU(),e),r(nU(),e),r(iU(),e),r(aU(),e),r(cU(),e),r(bU(),e),r(hk(),e),r(xU(),e),r(RU(),e);var i=wU();Object.defineProperty(e,"AvatarSynthesisAdapter",{enumerable:!0,get:function(){return i.AvatarSynthesisAdapter}});var o=EU();Object.defineProperty(e,"SpeechSynthesisAdapter",{enumerable:!0,get:function(){return o.SpeechSynthesisAdapter}}),r(TU(),e),r(PU(),e),r(AU(),e),r(_U(),e),r(kU(),e),r(MU(),e),r(NU(),e),e.OutputFormatPropertyName="OutputFormat",e.CancellationErrorCodePropertyName="CancellationErrorCode",e.ServicePropertiesPropertyName="ServiceProperties",e.ForceDictationPropertyName="ForceDictation",e.AutoDetectSourceLanguagesOpenRangeOptionName="OpenRange"}(Ss)),Ss}var QP;function IU(){return QP||(QP=1,function(e){var t=ys&&ys.__createBinding||(Object.create?function(o,l,c,a){a===void 0&&(a=c),Object.defineProperty(o,a,{enumerable:!0,get:function(){return l[c]}})}:function(o,l,c,a){a===void 0&&(a=c),o[a]=l[c]}),r=ys&&ys.__exportStar||function(o,l){for(var c in o)c!=="default"&&!l.hasOwnProperty(c)&&t(l,o,c)};Object.defineProperty(e,"__esModule",{value:!0});const i=ge();new i.AgentConfig,r(ne(),e)}(ys)),ys}var ty=IU();const jU=["","","","","","","",""],OU=({message:e,currentUserId:t,onReact:r,onEdit:i,onDelete:o,onForward:l,onReply:c,showReadReceipts:a})=>{const[d,h]=A.useState(!1),[f,v]=A.useState(!1),m=(e==null?void 0:e.created_by)===t,S=C=>{r&&r(e.id,C),h(!1),v(!1)};return g.jsxs("div",{className:"relative",children:[g.jsx(nt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>v(!f),className:"p-1.5 rounded-full hover:bg-neutral-100 dark:hover:bg-brand-grey-light text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors opacity-0 group-hover:opacity-100",title:"Message actions",children:g.jsx(py,{size:14})}),g.jsxs(lf,{children:[f&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>v(!1)}),g.jsxs(nt.div,{initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},className:"absolute bottom-full mb-2 right-0 bg-white dark:bg-brand-grey-medium rounded-xl shadow-xl border border-neutral-200 dark:border-brand-grey-light z-50 py-2 min-w-[180px]",children:[g.jsxs("button",{onClick:()=>{h(!0),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-neutral-50 dark:hover:bg-brand-grey-dark flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300 transition-colors",children:[g.jsx(py,{})," Add Reaction"]}),!m&&g.jsxs("button",{onClick:()=>{c&&c(e),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-neutral-50 dark:hover:bg-brand-grey-dark flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300 transition-colors",children:[g.jsx(zA,{})," Reply"]}),m&&g.jsxs(g.Fragment,{children:[g.jsxs("button",{onClick:()=>{i&&i(e),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-neutral-50 dark:hover:bg-brand-grey-dark flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300 transition-colors",children:[g.jsx(v0,{})," Edit"]}),g.jsxs("button",{onClick:()=>{o&&o(e.id),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2 text-sm text-red-600 dark:text-red-400 transition-colors",children:[g.jsx(fy,{})," Delete"]})]}),g.jsxs("button",{onClick:()=>{l&&l(e),v(!1)},className:"w-full px-4 py-2 text-left hover:bg-neutral-50 dark:hover:bg-brand-grey-dark flex items-center gap-2 text-sm text-neutral-700 dark:text-neutral-300 transition-colors",children:[g.jsx(kj,{})," Forward"]}),m&&a&&g.jsx("div",{className:"px-4 py-2 border-t border-neutral-200 dark:border-brand-grey-light mt-1",children:g.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500 dark:text-neutral-400",children:[g.jsx(jA,{className:"text-brand-yellow"}),g.jsx("span",{children:"Read by all"})]})})]})]}),d&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)}),g.jsx(nt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"absolute bottom-full mb-2 right-0 bg-white dark:bg-brand-grey-medium rounded-xl shadow-xl border border-neutral-200 dark:border-brand-grey-light z-50 p-2",children:g.jsx("div",{className:"flex gap-2",children:jU.map(C=>g.jsx(nt.button,{whileHover:{scale:1.3},whileTap:{scale:.9},onClick:()=>S(C),className:"text-2xl hover:scale-125 transition-transform cursor-pointer",children:C},C))})})]})]})]})},DU=({messages:e,onSelectMessage:t,isOpen:r,onClose:i})=>{const[o,l]=A.useState(""),c=A.useMemo(()=>{if(!o.trim())return[];const d=o.toLowerCase();return e.filter(h=>{var f,v,m;return((f=h.content)==null?void 0:f.toLowerCase().includes(d))||((m=(v=h.sender)==null?void 0:v.given_name)==null?void 0:m.toLowerCase().includes(d))})},[e,o]),a=d=>{t(d),l(""),i()};return r?g.jsx(lf,{children:g.jsxs(nt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute top-0 left-0 right-0 z-50 bg-white dark:bg-brand-grey-medium border-b border-neutral-200 dark:border-brand-grey-light shadow-lg",children:[g.jsxs("div",{className:"p-4 flex items-center gap-3",children:[g.jsxs("div",{className:"relative flex-1",children:[g.jsx(Zp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400"}),g.jsx("input",{type:"text",placeholder:"Search messages...",value:o,onChange:d=>l(d.target.value),className:"w-full pl-10 pr-10 py-2 border border-neutral-200 dark:border-brand-grey-light rounded-lg bg-neutral-50 dark:bg-brand-grey-dark text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow font-['Inter']",autoFocus:!0}),o&&g.jsx("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300",children:g.jsx(an,{})})]}),g.jsx("button",{onClick:i,className:"px-4 py-2 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-brand-grey-light rounded-lg transition-colors font-['Inter']",children:"Cancel"})]}),o&&g.jsx("div",{className:"max-h-64 overflow-y-auto border-t border-neutral-200 dark:border-brand-grey-light",children:c.length>0?g.jsxs("div",{className:"p-2",children:[g.jsxs("p",{className:"px-3 py-2 text-xs text-neutral-500 dark:text-neutral-400 font-['Inter']",children:[c.length," result",c.length!==1?"s":""]}),c.map(d=>{var h;return g.jsxs(nt.div,{whileHover:{backgroundColor:"rgba(249, 237, 50, 0.1)"},onClick:()=>a(d),className:"px-3 py-2 cursor-pointer rounded-lg hover:bg-brand-yellow/10 dark:hover:bg-brand-yellow/20 transition-colors",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"text-sm font-semibold text-brand-grey-dark dark:text-brand-white font-['Inter']",children:(h=d.sender)==null?void 0:h.given_name}),g.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-['Inter']",children:new Date(d.created_at).toLocaleString()})]}),g.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 font-['Inter'] line-clamp-2",children:d.content})]},d.id)})]}):g.jsx("div",{className:"p-8 text-center",children:g.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 font-['Inter']",children:"No messages found"})})})]})}):null},XP={"Smileys & People":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Animals & Nature":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Food & Drink":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"Travel & Places":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Activities:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Objects:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Symbols:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Flags:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},zU=({onSelectEmoji:e,isOpen:t,onClose:r})=>{const[i,o]=A.useState("Smileys & People");return t?g.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full mb-2 right-0 bg-white dark:bg-brand-grey-medium rounded-xl shadow-xl border border-neutral-200 dark:border-brand-grey-light z-50 w-80 max-h-96 flex flex-col",children:[g.jsx("div",{className:"flex border-b border-neutral-200 dark:border-brand-grey-light overflow-x-auto p-2",children:Object.keys(XP).map(l=>g.jsx("button",{onClick:()=>o(l),className:`px-3 py-1 text-xs rounded-lg whitespace-nowrap transition-colors ${i===l?"bg-brand-yellow dark:bg-brand-yellow-light text-brand-grey-dark":"text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-brand-grey-dark"}`,children:l.split(" ")[0]},l))}),g.jsx("div",{className:"flex-1 overflow-y-auto p-3 grid grid-cols-8 gap-2 max-h-64",children:XP[i].map(l=>g.jsx(nt.button,{whileHover:{scale:1.3},whileTap:{scale:.9},onClick:()=>{e(l),r()},className:"text-2xl hover:bg-neutral-100 dark:hover:bg-brand-grey-dark rounded-lg p-1 transition-colors",children:l},l))})]}):null},LU=({message:e,currentUserId:t,currentChat:r,onUserClick:i,onReact:o,onEdit:l,onDelete:c,onForward:a,onReply:d,showReadReceipts:h,reactions:f=[]})=>{var C,x;const v=(e==null?void 0:e.created_by)===t,[m,S]=A.useState(!1);return g.jsxs("div",{className:`group flex mb-4 ${v?"justify-end":"justify-start"}`,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),children:[!v&&g.jsx("div",{className:"mr-2 cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>i&&(e==null?void 0:e.created_by)&&i(e.created_by),children:g.jsx(P0,{person:e==null?void 0:e.sender,size:"sm"})}),g.jsxs("div",{className:"flex flex-col max-w-md",children:[!v&&g.jsx("div",{className:"font-['Inter'] text-xs text-neutral-600 dark:text-neutral-400 mb-1 cursor-pointer hover:text-brand-yellow dark:hover:text-brand-yellow-light transition-colors",onClick:()=>(e==null?void 0:e.created_by)&&i&&i(e.created_by),children:(C=e==null?void 0:e.sender)==null?void 0:C.given_name}),g.jsxs("div",{className:"relative flex items-end gap-2",children:[g.jsxs("div",{className:`font-['Inter'] rounded-2xl px-4 py-3 inline-block break-words whitespace-normal shadow-sm transition-all ${v?"bg-brand-yellow dark:bg-brand-yellow-light text-brand-grey-dark rounded-br-sm":"bg-white dark:bg-brand-grey-medium text-brand-grey-dark dark:text-brand-white border border-neutral-200 dark:border-brand-grey-light rounded-bl-sm"}`,children:[(e==null?void 0:e.replyTo)&&g.jsx("div",{className:"mb-2 pb-2 border-b border-neutral-200 dark:border-brand-grey-light",children:g.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-['Inter'] flex items-center gap-1",children:[g.jsx(zA,{size:10}),g.jsx("span",{className:"font-semibold text-brand-yellow dark:text-brand-yellow-light",children:((x=e.replyTo.sender)==null?void 0:x.given_name)||"User"}),g.jsx("span",{className:"truncate",children:e.replyTo.content})]})}),e==null?void 0:e.content,f&&f.length>0&&g.jsx("div",{className:"flex gap-1 mt-2 flex-wrap",children:f.map((R,w)=>g.jsx("span",{className:"bg-neutral-100 dark:bg-brand-grey-light px-2 py-0.5 rounded-full text-sm",children:R},w))}),g.jsxs("div",{className:`font-['Inter'] text-xs mt-2 flex items-center justify-end gap-1 ${v?"text-brand-grey-dark/70":"text-neutral-500 dark:text-neutral-400"}`,children:[e!=null&&e.created_at?new Date(e==null?void 0:e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",v&&h&&g.jsx(jA,{className:"text-brand-yellow text-xs"})]})]}),m&&g.jsx(OU,{message:e,currentUserId:t,onReact:o,onEdit:l,onDelete:c,onForward:a,onReply:d,showReadReceipts:h})]})]})]})},BU=({messages:e,currentChat:t,newMessage:r,setNewMessage:i,onSendMessage:o,messageContainerRef:l,toggleSidebar:c,toggleChatInfo:a,showChatInfo:d,onFileUpload:h,onImageUpload:f,onLoadMoreMessages:v,currentUserId:m,onUserClick:S,socket:C,onBack:x,replyingTo:R,setReplyingTo:w,onEditMessage:T,onDeleteMessage:P})=>{var ve;const[j,k]=A.useState("en"),B=void 0,F="centralindia",q=A.useRef(null),H=A.useRef(null),$=A.useRef(null),[pe,de]=A.useState(!1),[fe,Ee]=A.useState([]),[Oe,te]=A.useState([]),[se,ce]=A.useState(!1),ke=A.useRef(null),[N,X]=A.useState(!1),[ee,le]=A.useState(!1),[Z,xe]=A.useState(R||null),[Ce,rt]=A.useState({}),[Fe,Qe]=A.useState(null),[Ie,Et]=A.useState("");A.useEffect(()=>{R!==void 0&&xe(R)},[R]);const pr=oe=>{xe(oe),w&&w(oe)};A.useEffect(()=>{const oe=l.current;if(!oe)return;const Te=()=>{oe.scrollTop<100&&(t!=null&&t.id)&&v(t.id)};return oe.addEventListener("scroll",Te),()=>oe.removeEventListener("scroll",Te)},[t,v]);const Kt=oe=>{oe.key==="Enter"&&!oe.shiftKey&&(oe.preventDefault(),fr())},fr=()=>{Z&&o?(o(Z),pr(null)):o(),mt()},Br=oe=>{const Te=oe.target.value;i(Te),!se&&Te.trim()&&C&&(t!=null&&t.id)&&(ce(!0),C.emit("typing",{roomId:t.id,userName:t.name})),ke.current&&clearTimeout(ke.current),ke.current=setTimeout(()=>{mt()},2e3)},mt=()=>{C&&(t!=null&&t.id)&&se&&(ce(!1),C.emit("stop-typing",{roomId:t.id})),ke.current&&clearTimeout(ke.current)};A.useEffect(()=>{if(!C||!(t!=null&&t.id))return;const oe=Pe=>{Pe.userId!==m&&Pe.roomId===t.id&&(te(Xe=>Xe.find(Wt=>Wt.userId===Pe.userId)?Xe:[...Xe,{userId:Pe.userId,userName:Pe.userName}]),setTimeout(()=>{te(Xe=>Xe.filter(Wt=>Wt.userId!==Pe.userId))},3e3))},Te=Pe=>{Pe.userId!==m&&Pe.roomId===t.id&&te(Xe=>Xe.filter(Wt=>Wt.userId!==Pe.userId))};return C.on("user-typing",oe),C.on("user-stop-typing",Te),()=>{C.off("user-typing",oe),C.off("user-stop-typing",Te),mt()}},[C,t==null?void 0:t.id,m]);const ln=()=>{q.current.click()},I=()=>{H.current.click()},U=oe=>{const Te=oe.target.files[0];Te&&(h(Te),oe.target.value="")},W=oe=>{const Te=oe.target.files[0];Te&&Te.type.startsWith("image/")&&(f(Te),oe.target.value="")},ue=()=>{const oe=ty.SpeechConfig.fromSubscription(B,F),Te=ty.AudioConfig.fromDefaultMicrophoneInput();oe.setProperty("speechServiceConnection_Language","auto");const Pe=new ty.SpeechRecognizer(oe,Te);$.current=Pe,de(!0),Pe.startContinuousRecognitionAsync(()=>{},Xe=>{de(!1)}),Pe.recognizing=(Xe,Wt)=>{i(Wt.result.text)}},ae=()=>{$.current&&$.current.stopContinuousRecognitionAsync(()=>{de(!1)},oe=>{de(!1)})},ie=async(oe,Te)=>{try{return(await(await fetch(`https://api.cognitive.microsofttranslator.com//translate?api-version=3.0&to=${Te}`,{method:"POST",headers:{"Ocp-Apim-Subscription-Key":"uhhjfxr3FiYaJiQVJLMyUWxzlNyf7C2ap4RlLmLUS2snl07YWyXpJQQJ99BJACGhslBXJ3w3AAAEACOG04n0","Ocp-Apim-Subscription-Region":"centralindia","Content-Type":"application/json"},body:JSON.stringify([{Text:oe}])})).json())[0].translations[0].text}catch{}};return A.useEffect(()=>{const oe=async()=>{const Te=await Promise.all(e.map(async Pe=>{if((Pe==null?void 0:Pe.language)!==j){const Xe=await ie(Pe==null?void 0:Pe.content,j);return{...Pe,content:Xe}}return Pe}));Ee(Te)};e.length>0?oe():Ee([])},[j,e]),g.jsxs("div",{className:"flex-1 flex flex-col bg-neutral-50 dark:bg-brand-grey-dark transition-colors h-full",children:[g.jsx(DU,{messages:e,onSelectMessage:oe=>{l.current},isOpen:N,onClose:()=>X(!1)}),g.jsxs("div",{className:"p-4 md:p-5 border-b border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium flex items-center justify-between shadow-sm",children:[g.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[x&&g.jsx(nt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:"mr-3 p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-brand-grey-light text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-white transition-colors",title:"Back to chats",children:g.jsx(p0,{size:18})}),g.jsx("button",{className:"md:hidden mr-3 text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",onClick:c,children:g.jsx(NA,{size:20})}),g.jsx(M_,{color:t==null?void 0:t.avatar_color,text:t==null?void 0:t.avatar_text}),g.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[g.jsx("h2",{className:"font-['Montserrat'] font-bold text-lg md:text-xl text-brand-grey-dark dark:text-brand-white truncate",children:(t==null?void 0:t.name)||"Chat"}),(t==null?void 0:t.description)&&g.jsx("p",{className:"font-['Inter'] text-xs text-neutral-500 dark:text-neutral-400 truncate",children:t.description})]})]}),g.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[g.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[g.jsx(Sn,{icon:g.jsx(qd,{})}),g.jsx("select",{value:j,onChange:oe=>k(oe.target.value),className:"font-['Inter'] text-sm px-3 py-1.5 border border-neutral-200 dark:border-brand-grey-light rounded-lg bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors cursor-pointer",children:$j.map((oe,Te)=>g.jsx("option",{value:oe.code,children:oe.language},Te))})]}),g.jsx(Sn,{icon:g.jsx(Zp,{}),onClick:()=>X(!N),className:N?"bg-neutral-100 dark:bg-brand-grey-light":""}),g.jsx(Sn,{icon:g.jsx(Rj,{}),onClick:a,className:d?"bg-neutral-100 dark:bg-brand-grey-light":""})]})]}),g.jsxs("div",{className:"flex-1 p-4 md:p-6 overflow-y-auto bg-neutral-50 dark:bg-brand-grey-dark",ref:l,children:[fe.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[g.jsx("div",{className:"w-20 h-20 mb-4 rounded-full bg-brand-yellow/10 dark:bg-brand-yellow-light/10 flex items-center justify-center",children:g.jsx("span",{className:"text-4xl",children:""})}),g.jsx("h3",{className:"text-xl font-bold text-brand-grey-dark dark:text-brand-white mb-2 font-['Montserrat']",children:"No messages yet"}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 font-['Inter']",children:"Start the conversation by sending a message"})]}):fe.map((oe,Te)=>{const Pe=new Date(oe.created_at),Xe=Te>0?new Date(fe[Te-1].created_at):null,Wt=Te===0||!Xe||Pe.getFullYear()!==Xe.getFullYear()||Pe.getMonth()!==Xe.getMonth()||Pe.getDate()!==Xe.getDate();return g.jsxs("div",{children:[Wt&&g.jsx("div",{className:"font-['Inter'] text-xs font-semibold flex justify-center items-center mb-4 text-neutral-500 dark:text-neutral-400",children:g.jsx("span",{className:"px-3 py-1 bg-white dark:bg-brand-grey-medium rounded-full border border-neutral-200 dark:border-brand-grey-light",children:Pe.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})}),Fe&&Fe.id===oe.id?g.jsxs("div",{className:"mb-4 flex flex-col gap-2",children:[g.jsx("textarea",{className:"font-['Inter'] border border-neutral-200 dark:border-brand-grey-light rounded-xl p-3 w-full resize-none bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors",value:Ie,onChange:ut=>Et(ut.target.value),rows:3}),g.jsxs("div",{className:"flex gap-2 justify-end",children:[g.jsx("button",{onClick:()=>{Qe(null),Et("")},className:"px-4 py-2 rounded-lg bg-neutral-100 dark:bg-brand-grey-light text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-brand-grey-dark transition-colors font-['Inter']",children:"Cancel"}),g.jsx("button",{onClick:()=>{Ie.trim()&&T&&(T(oe,Ie.trim()),Qe(null),Et(""))},className:"px-4 py-2 rounded-lg bg-brand-yellow dark:bg-brand-yellow-light text-brand-grey-dark hover:bg-brand-yellow/90 dark:hover:bg-brand-yellow-light/90 transition-colors font-['Inter'] font-semibold",children:"Save"})]})]}):g.jsx(LU,{message:oe,currentUserId:m,currentChat:t,onUserClick:S,onReact:(ut,vr)=>{rt(gt=>{const ar=gt[ut]||[];return ar.indexOf(vr)>-1?{...gt,[ut]:ar.filter(_r=>_r!==vr)}:{...gt,[ut]:[...ar,vr]}})},onEdit:ut=>{Qe({id:ut.id,content:ut.content}),Et(ut.content)},onDelete:ut=>{window.confirm("Are you sure you want to delete this message?")&&P&&P(ut)},onForward:ut=>{},onReply:ut=>{pr(ut),le(!1)},showReadReceipts:!0,reactions:Ce[oe.id]||[]})]},oe.id||`message-${Te}`)}),Oe.length>0&&g.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 text-neutral-500 dark:text-neutral-400 italic font-['Inter'] text-sm",children:[g.jsxs("div",{className:"flex gap-1",children:[g.jsx("span",{className:"w-2 h-2 bg-brand-yellow rounded-full animate-bounce",style:{animationDelay:"0ms"}}),g.jsx("span",{className:"w-2 h-2 bg-brand-yellow rounded-full animate-bounce",style:{animationDelay:"150ms"}}),g.jsx("span",{className:"w-2 h-2 bg-brand-yellow rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),g.jsx("span",{children:Oe.length===1?`${Oe[0].userName} is typing...`:`${Oe.length} people are typing...`})]})]}),g.jsx("input",{type:"file",ref:q,className:"hidden",onChange:U}),g.jsx("input",{type:"file",ref:H,className:"hidden",accept:"image/*",onChange:W}),Z&&g.jsxs("div",{className:"px-4 py-2 bg-neutral-50 dark:bg-brand-grey-dark border-t border-neutral-200 dark:border-brand-grey-light flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[g.jsx("div",{className:"w-0.5 h-8 bg-brand-yellow rounded-full"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("p",{className:"text-xs font-semibold text-brand-grey-dark dark:text-brand-white font-['Inter']",children:["Replying to ",((ve=Z.sender)==null?void 0:ve.given_name)||"User"]}),g.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 truncate font-['Inter']",children:Z.content})]})]}),g.jsx("button",{onClick:()=>pr(null),className:"p-1 rounded-full hover:bg-neutral-200 dark:hover:bg-brand-grey-light text-neutral-500 dark:text-neutral-400 transition-colors",children:g.jsx(an,{size:14})})]}),g.jsxs("div",{className:"p-4 md:p-6 bg-white dark:bg-brand-grey-medium border-t border-neutral-200 dark:border-brand-grey-light flex items-center gap-2",children:[g.jsx(Sn,{icon:g.jsx(Tj,{}),className:"hidden sm:block text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white",onClick:ln}),g.jsx(Sn,{icon:g.jsx(xj,{}),className:"hidden sm:block text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white",onClick:I}),g.jsxs("div",{className:"relative",children:[g.jsx(Sn,{icon:g.jsx(py,{}),className:"hidden sm:block text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white",onClick:()=>le(!ee)}),ee&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>le(!1)}),g.jsx(zU,{isOpen:ee,onClose:()=>le(!1),onSelectEmoji:oe=>{i(Te=>Te+oe)}})]})]}),g.jsx(Sn,{icon:pe?g.jsx(Oj,{className:pe?"text-red-500":""}):g.jsx(DA,{}),className:`hidden sm:block ${pe?"text-red-500":"text-neutral-600 dark:text-neutral-400"} hover:text-brand-grey-dark dark:hover:text-brand-white`,onClick:pe?ae:ue}),g.jsx("div",{className:"flex-1 mx-2 min-w-0",children:g.jsx("textarea",{className:"font-['Inter'] placeholder-neutral-400 dark:placeholder-neutral-500 border border-neutral-200 dark:border-brand-grey-light rounded-xl p-3 w-full resize-none bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors max-h-32",placeholder:"Type a message...",value:r,onChange:Br,onKeyPress:Kt,rows:1})}),g.jsx(Sn,{icon:g.jsx(Ej,{className:"text-brand-yellow dark:text-brand-yellow-light"}),className:"hover:bg-brand-yellow/10 dark:hover:bg-brand-yellow/20",onClick:fr})]})]})},qU={paddingY:"py-12 md:py-16 lg:py-20"},ZP=({isOpen:e,onClose:t,title:r,children:i})=>e?g.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white dark:bg-brand-grey-medium rounded-2xl w-full max-w-md mx-4 shadow-xl py-8 relative border border-neutral-200 dark:border-brand-grey-light",children:[g.jsx("button",{onClick:t,className:"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 absolute right-4 top-4 transition-colors",children:g.jsx(an,{})}),g.jsx("h2",{className:"font-['Montserrat'] w-full text-center text-xl font-bold mb-5 text-brand-grey-dark dark:text-brand-white",children:r}),i]})}):null,hp=({onClick:e,primary:t,children:r,className:i})=>g.jsx("button",{onClick:e,className:`font-bold font-['Montserrat'] w-[50%] rounded-xl py-2 transition-colors ${t?"text-brand-grey-dark bg-brand-yellow dark:bg-brand-yellow-light hover:bg-brand-yellow-light dark:hover:bg-brand-yellow shadow-sm":"bg-neutral-100 dark:bg-brand-grey-light hover:bg-neutral-200 dark:hover:bg-brand-grey-medium text-neutral-700 dark:text-neutral-300 border border-neutral-200 dark:border-brand-grey-light"} ${i||""}`,children:r}),UU=({member:e,currentUserId:t,isAdmin:r,onUserInfoClick:i})=>{const{id:o,given_name:l,profile_picture:c}=e,a=o===t;return g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(P0,{person:e,size:"sm"}),g.jsxs("span",{className:"font-['Inter'] ml-2 text-brand-grey-dark dark:text-brand-white",children:[l,a?" (You)":""]})]}),a?g.jsx("span",{className:"font-['Inter'] text-xs text-neutral-500 dark:text-neutral-400",children:r?"Admin":""}):g.jsx(g.Fragment,{children:r?g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"font-['Inter'] text-xs text-neutral-500 dark:text-neutral-400 mr-2",children:"Admin"}),g.jsx("button",{className:"text-neutral-500 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white transition-colors",onClick:()=>i(e),children:g.jsx(fx,{size:16})})]}):g.jsx("button",{className:"text-neutral-500 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white transition-colors",onClick:()=>i(e),children:g.jsx(fx,{size:16})})})]})},VU=({chatId:e,setCurrentChatId:t,originalChats:r,setOriginalChats:i})=>{const o=localStorage.getItem("user_id"),[l,c]=A.useState("English"),[a,d]=A.useState(!1),[h,f]=A.useState(!1),[v,m]=A.useState(null),[S,C]=A.useState(null),[x,R]=A.useState(!0),[w,T]=A.useState(null),[P,j]=A.useState([]),[k,B]=A.useState(o),[F,q]=A.useState(!1),[H,$]=A.useState(""),[pe,de]=A.useState(!1);A.useEffect(()=>{(async()=>{try{const Z=(await _e.get(`http://localhost:3000/chatroom/${e}`)).data.chatRoom,xe=[],Ce=[];for(const rt of Z.members)rt.status=="approved"?xe.push(rt):rt.status=="pending"&&Ce.push(rt);R(!0),setTimeout(async()=>{const rt={id:Z.id,name:Z.name,createdAt:Z.created_at,description:Z.description,adminId:Z.admin_id,inviteLink:`localhost:5173/Chat/${Z.id}`,members:xe,joinRequests:Ce};C(rt),$(rt.name),j(rt.joinRequests),R(!1)},300)}catch(le){T("Failed to load group data: ",le.message),R(!1)}})()},[e]),_e.get(`http://localhost:3000/chatroom/${e}/admin/${o}`).then(ee=>{var Z;const le=(Z=ee.data)==null?void 0:Z.isAdmin;de(le)});const fe=async()=>{try{await _e.delete(`http://localhost:3000/chatroom/${e}/leave/${o}`),rn("Left group successfully");const ee=r.filter(le=>le.id!==e);i(ee),t(ee[0].id),d(!1)}catch(ee){console.error("Failed to leave group",ee);const le=r.filter(Z=>Z.id!==e);i(le),t(le[0].id),d(!1)}},Ee=async(ee,le)=>{try{f(!1),le==="makeAdmin"?(await _e.put(`http://localhost:3000/chatroom/${e}/changeAdmin`,{newAdminId:ee}),C(Z=>({...Z,members:Z.members.map(xe=>xe.id===ee?{...xe,isAdmin:!0}:xe),adminId:ee})),de(!1)):le==="removeMember"&&(await _e.delete(`http://localhost:3000/chatroom/${e}/members/${ee}`),C(Z=>({...Z,members:Z.members.filter(xe=>xe.id!==ee)})))}catch(Z){console.error(`Failed to ${le}`,Z)}},Oe=async(ee,le)=>{try{if(j(Z=>Z.filter(xe=>xe.id!==ee)),le){const Z=P.find(xe=>xe.id===ee);C(xe=>({...xe,members:[...xe.members,{...Z,joined:new Date,isAdmin:!1}]})),await _e.put(`http://localhost:3000/chatroom/${e}/memberRequest`,{userId:ee,status:"approved"})}else await _e.put(`http://localhost:3000/chatroom/${e}/memberRequest`,{userId:ee,status:"rejected"})}catch(Z){console.error("Failed to handle join request",Z)}},te=()=>{S!=null&&S.inviteLink&&navigator.clipboard.writeText(S.inviteLink).then(()=>{rn("Copied to clipboard")}).catch(ee=>{console.error("Failed to copy",ee)})},se=ee=>{m(ee),f(!0)},ce=()=>{q(!0)},ke=async()=>{try{if(!H.trim()){We("Group name cannot be empty");return}if(H.trim()===S.name){q(!1);return}await _e.put(`http://localhost:3000/chatroom/${e}`,{name:H}),C(ee=>({...ee,name:H.trim()})),q(!1),rn("Group name updated successfully")}catch(ee){console.error("Failed to update group name",ee),We("Failed to update group name")}},N=()=>{$(S.name),q(!1)};if(x)return g.jsx("div",{className:"xl:pt-18 lg:pt-16 md:pt-12 sm:pt-8 pt-6 mt-10 lg:mt-2 md:mt-5 flex flex-col w-80 border-l border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium items-center justify-center transition-colors",children:g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Loading..."})});if(w)return g.jsxs("div",{className:"xl:pt-18 lg:pt-16 md:pt-12 sm:pt-8 pt-6 mt-10 lg:mt-2 md:mt-5 flex flex-col w-80 border-l border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium items-center justify-center transition-colors",children:[g.jsx("p",{className:"text-red-500 dark:text-red-400",children:w}),g.jsx("button",{className:"mt-2 px-4 py-2 bg-brand-yellow dark:bg-brand-yellow-light text-brand-grey-dark rounded-lg hover:bg-brand-yellow-light dark:hover:bg-brand-yellow transition-colors",onClick:()=>window.location.reload(),children:"Retry"})]});const X=ee=>new Date(ee).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return g.jsxs("div",{className:"flex flex-col w-80 border-l border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium overflow-auto transition-colors h-full",children:[g.jsx("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:F?g.jsxs("div",{className:"flex items-center w-full",children:[g.jsx("input",{type:"text",value:H,onChange:ee=>$(ee.target.value),className:"font-['Montserrat'] text-lg font-bold w-full p-2 border border-neutral-200 dark:border-brand-grey-light rounded-lg bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors",autoFocus:!0,maxLength:50}),g.jsxs("div",{className:"flex ml-2",children:[g.jsx("button",{className:"text-green-500 mr-1",onClick:ke,title:"Save",children:g.jsx(px,{size:16})}),g.jsx("button",{className:"text-red-500",onClick:N,title:"Cancel",children:g.jsx(an,{size:16})})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("h2",{className:"font-['Montserrat'] text-2xl font-bold text-brand-grey-dark dark:text-brand-white",children:S==null?void 0:S.name}),pe&&g.jsx("button",{className:"text-neutral-500 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white transition-colors",onClick:ce,title:"Edit group name",children:g.jsx(v0,{size:16})})]})}),g.jsxs("div",{className:"flex md:hidden items-center p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:[g.jsx(Sn,{icon:g.jsx(qd,{})}),g.jsxs("select",{value:l,onChange:ee=>c(ee.target.value),className:"font-['Inter'] w-full p-2 border border-neutral-200 dark:border-brand-grey-light rounded-lg bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors",children:[g.jsx("option",{children:"English"}),g.jsx("option",{children:"Spanish"}),g.jsx("option",{children:"French"}),g.jsx("option",{children:"German"})]})]}),g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:[g.jsx("h3",{className:"font-['Montserrat'] font-bold mb-1 text-brand-grey-dark dark:text-brand-white",children:"Created"}),g.jsx("p",{className:"font-['Inter'] text-sm text-neutral-600 dark:text-neutral-400",children:X(S==null?void 0:S.createdAt)})]}),g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:[g.jsxs("h3",{className:"font-['Montserrat'] font-bold mb-2 text-brand-grey-dark dark:text-brand-white",children:["Members (",S==null?void 0:S.members.length,")"]}),S==null?void 0:S.members.map(ee=>g.jsx(UU,{member:ee,currentUserId:k,isAdmin:ee.id==S.adminId,onUserInfoClick:se},ee.id))]}),pe&&P.length>0&&g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:[g.jsxs("h3",{className:"font-['Montserrat'] font-bold mb-2 text-brand-grey-dark dark:text-brand-white",children:["Requests (",P.length,")"]}),P.map(ee=>g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(P0,{person:ee,size:"sm"}),g.jsx("span",{className:"font-['Inter'] ml-2 text-brand-grey-dark dark:text-brand-white",children:ee.given_name})]}),g.jsxs("div",{className:"flex",children:[g.jsx("button",{className:"text-green-500 dark:text-green-400 hover:text-green-600 dark:hover:text-green-300 mr-2 transition-colors",onClick:()=>Oe(ee.id,!0),children:g.jsx(px,{size:16})}),g.jsx("button",{className:"text-red-500 dark:text-red-400 hover:text-red-600 dark:hover:text-red-300 transition-colors",onClick:()=>Oe(ee.id,!1),children:g.jsx(an,{size:16})})]})]},ee.id))]}),g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light",children:[g.jsx("h3",{className:"font-['Montserrat'] font-bold mb-2 text-brand-grey-dark dark:text-brand-white",children:"Invite Link"}),g.jsxs("div",{className:"flex items-center bg-neutral-100 dark:bg-brand-grey-light rounded-lg p-2 border border-neutral-200 dark:border-brand-grey-light",children:[g.jsx("p",{className:"text-xs truncate mr-2 text-neutral-600 dark:text-neutral-400 flex-1",children:S==null?void 0:S.inviteLink}),g.jsx("button",{className:"text-neutral-500 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white transition-colors",onClick:te,children:g.jsx(gj,{size:16})})]})]}),g.jsx("div",{className:"p-4 mt-auto flex items-center justify-center",children:g.jsxs("button",{className:"font-['Montserrat'] font-semibold flex items-center text-red-500 dark:text-red-400 hover:text-red-600 dark:hover:text-red-300 font-medium transition-colors",onClick:()=>d(!0),children:[g.jsx(yx,{size:16,className:"mr-1"}),"Leave Group"]})}),g.jsx(ZP,{isOpen:a,onClose:()=>d(!1),title:"Leave Group?",children:g.jsxs("div",{className:"flex flex-col gap-5 items-center justify-center w-full",children:[g.jsx(hp,{onClick:fe,primary:!0,children:"Yes"}),g.jsx(hp,{onClick:()=>d(!1),children:"No"})]})}),g.jsxs(ZP,{isOpen:h,onClose:()=>f(!1),title:"User Info",children:[g.jsxs("div",{className:"text-center mb-6",children:[g.jsx("div",{className:"font-medium text-brand-grey-dark dark:text-brand-white",children:"Joined"}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:X(v==null?void 0:v.timestamp)}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:v==null?void 0:v.email})]}),pe&&g.jsxs("div",{className:"flex flex-col gap-5 items-center justify-center w-full",children:[g.jsx(hp,{onClick:()=>Ee(v==null?void 0:v.id,"makeAdmin"),primary:!0,children:g.jsxs("div",{className:"flex items-center justify-center",children:[g.jsx(jj,{className:"mr-2"}),"Make Admin"]})}),g.jsx(hp,{onClick:()=>Ee(v==null?void 0:v.id,"removeMember"),children:g.jsxs("div",{className:"flex items-center justify-center",children:[g.jsx(yx,{className:"mr-2"}),"Remove Member"]})})]})]})]})},Bn=Object.create(null);Bn.open="0";Bn.close="1";Bn.ping="2";Bn.pong="3";Bn.message="4";Bn.upgrade="5";Bn.noop="6";const _p=Object.create(null);Object.keys(Bn).forEach(e=>{_p[Bn[e]]=e});const Zy={type:"error",data:"parser error"},pk=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",fk=typeof ArrayBuffer=="function",vk=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,mS=({type:e,data:t},r,i)=>pk&&t instanceof Blob?r?i(t):eA(t,i):fk&&(t instanceof ArrayBuffer||vk(t))?r?i(t):eA(new Blob([t]),i):i(Bn[e]+(t||"")),eA=(e,t)=>{const r=new FileReader;return r.onload=function(){const i=r.result.split(",")[1];t("b"+(i||""))},r.readAsDataURL(e)};function tA(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ry;function FU(e,t){if(pk&&e.data instanceof Blob)return e.data.arrayBuffer().then(tA).then(t);if(fk&&(e.data instanceof ArrayBuffer||vk(e.data)))return t(tA(e.data));mS(e,!1,r=>{ry||(ry=new TextEncoder),t(ry.encode(r))})}const rA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<rA.length;e++)bd[rA.charCodeAt(e)]=e;const HU=e=>{let t=e.length*.75,r=e.length,i,o=0,l,c,a,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),f=new Uint8Array(h);for(i=0;i<r;i+=4)l=bd[e.charCodeAt(i)],c=bd[e.charCodeAt(i+1)],a=bd[e.charCodeAt(i+2)],d=bd[e.charCodeAt(i+3)],f[o++]=l<<2|c>>4,f[o++]=(c&15)<<4|a>>2,f[o++]=(a&3)<<6|d&63;return h},$U=typeof ArrayBuffer=="function",gS=(e,t)=>{if(typeof e!="string")return{type:"message",data:mk(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:KU(e.substring(1),t)}:_p[r]?e.length>1?{type:_p[r],data:e.substring(1)}:{type:_p[r]}:Zy},KU=(e,t)=>{if($U){const r=HU(e);return mk(r,t)}else return{base64:!0,data:e}},mk=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},gk="",WU=(e,t)=>{const r=e.length,i=new Array(r);let o=0;e.forEach((l,c)=>{mS(l,!1,a=>{i[c]=a,++o===r&&t(i.join(gk))})})},GU=(e,t)=>{const r=e.split(gk),i=[];for(let o=0;o<r.length;o++){const l=gS(r[o],t);if(i.push(l),l.type==="error")break}return i};function JU(){return new TransformStream({transform(e,t){FU(e,r=>{const i=r.length;let o;if(i<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,i);else if(i<65536){o=new Uint8Array(3);const l=new DataView(o.buffer);l.setUint8(0,126),l.setUint16(1,i)}else{o=new Uint8Array(9);const l=new DataView(o.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(r)})}})}let ny;function pp(e){return e.reduce((t,r)=>t+r.length,0)}function fp(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let i=0;for(let o=0;o<t;o++)r[o]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),r}function YU(e,t){ny||(ny=new TextDecoder);const r=[];let i=0,o=-1,l=!1;return new TransformStream({transform(c,a){for(r.push(c);;){if(i===0){if(pp(r)<1)break;const d=fp(r,1);l=(d[0]&128)===128,o=d[0]&127,o<126?i=3:o===126?i=1:i=2}else if(i===1){if(pp(r)<2)break;const d=fp(r,2);o=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),i=3}else if(i===2){if(pp(r)<8)break;const d=fp(r,8),h=new DataView(d.buffer,d.byteOffset,d.length),f=h.getUint32(0);if(f>Math.pow(2,21)-1){a.enqueue(Zy);break}o=f*Math.pow(2,32)+h.getUint32(4),i=3}else{if(pp(r)<o)break;const d=fp(r,o);a.enqueue(gS(l?d:ny.decode(d),t)),i=0}if(o===0||o>e){a.enqueue(Zy);break}}}})}const yk=4;function Vt(e){if(e)return QU(e)}function QU(e){for(var t in Vt.prototype)e[t]=Vt.prototype[t];return e}Vt.prototype.on=Vt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Vt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Vt.prototype.off=Vt.prototype.removeListener=Vt.prototype.removeAllListeners=Vt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,o=0;o<r.length;o++)if(i=r[o],i===t||i.fn===t){r.splice(o,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Vt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(r){r=r.slice(0);for(var i=0,o=r.length;i<o;++i)r[i].apply(this,t)}return this};Vt.prototype.emitReserved=Vt.prototype.emit;Vt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Vt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const vf=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),nn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),XU="arraybuffer";function Sk(e,...t){return t.reduce((r,i)=>(e.hasOwnProperty(i)&&(r[i]=e[i]),r),{})}const ZU=nn.setTimeout,eV=nn.clearTimeout;function mf(e,t){t.useNativeTimers?(e.setTimeoutFn=ZU.bind(nn),e.clearTimeoutFn=eV.bind(nn)):(e.setTimeoutFn=nn.setTimeout.bind(nn),e.clearTimeoutFn=nn.clearTimeout.bind(nn))}const tV=1.33;function rV(e){return typeof e=="string"?nV(e):Math.ceil((e.byteLength||e.size)*tV)}function nV(e){let t=0,r=0;for(let i=0,o=e.length;i<o;i++)t=e.charCodeAt(i),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(i++,r+=4);return r}function bk(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function iV(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function sV(e){let t={},r=e.split("&");for(let i=0,o=r.length;i<o;i++){let l=r[i].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class oV extends Error{constructor(t,r,i){super(t),this.description=r,this.context=i,this.type="TransportError"}}class yS extends Vt{constructor(t){super(),this.writable=!1,mf(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,i){return super.emitReserved("error",new oV(t,r,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=gS(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=iV(t);return r.length?"?"+r:""}}class aV extends yS{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||r()})),this.writable||(i++,this.once("drain",function(){--i||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};GU(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,WU(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=bk()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let Ck=!1;try{Ck=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const cV=Ck;function lV(){}class uV extends aV{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,r){const i=this.request({method:"POST",data:t});i.on("success",r),i.on("error",(o,l)=>{this.onError("xhr post error",o,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,i)=>{this.onError("xhr poll error",r,i)}),this.pollXhr=t}}let Yo=class kp extends Vt{constructor(t,r,i){super(),this.createRequest=t,mf(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;const r=Sk(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=kp.requestsCount++,kp.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=lV,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete kp.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Yo.requestsCount=0;Yo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",nA);else if(typeof addEventListener=="function"){const e="onpagehide"in nn?"pagehide":"unload";addEventListener(e,nA,!1)}}function nA(){for(let e in Yo.requests)Yo.requests.hasOwnProperty(e)&&Yo.requests[e].abort()}const dV=function(){const e=xk({xdomain:!1});return e&&e.responseType!==null}();class hV extends uV{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=dV&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Yo(xk,this.uri(),t)}}function xk(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||cV))return new XMLHttpRequest}catch{}if(!t)try{return new nn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Rk=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class pV extends yS{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,i=Rk?{}:Sk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,i)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const i=t[r],o=r===t.length-1;mS(i,this.supportsBinary,l=>{try{this.doWrite(i,l)}catch{}o&&vf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=bk()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const iy=nn.WebSocket||nn.MozWebSocket;class fV extends pV{createSocket(t,r,i){return Rk?new iy(t,r,i):r?new iy(t,r):new iy(t)}doWrite(t,r){this.ws.send(r)}}class vV extends yS{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=YU(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(r).getReader(),o=JU();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const l=()=>{i.read().then(({done:a,value:d})=>{a||(this.onPacket(d),l())}).catch(a=>{})};l();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const i=t[r],o=r===t.length-1;this._writer.write(i).then(()=>{o&&vf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const mV={websocket:fV,webtransport:vV,polling:hV},gV=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,yV=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function e0(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),i=e.indexOf("]");r!=-1&&i!=-1&&(e=e.substring(0,r)+e.substring(r,i).replace(/:/g,";")+e.substring(i,e.length));let o=gV.exec(e||""),l={},c=14;for(;c--;)l[yV[c]]=o[c]||"";return r!=-1&&i!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=SV(l,l.path),l.queryKey=bV(l,l.query),l}function SV(e,t){const r=/\/{2,9}/g,i=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function bV(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,o,l){o&&(r[o]=l)}),r}const t0=typeof addEventListener=="function"&&typeof removeEventListener=="function",Mp=[];t0&&addEventListener("offline",()=>{Mp.forEach(e=>e())},!1);class Fi extends Vt{constructor(t,r){if(super(),this.binaryType=XU,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const i=e0(t);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=e0(r.host).host);mf(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{const o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=sV(this.opts.query)),t0&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Mp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=yk,r.transport=t,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Fi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Fi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const o=this.writeBuffer[i].data;if(o&&(r+=rV(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,vf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,i){return this._sendPacket("message",t,r,i),this}send(t,r,i){return this._sendPacket("message",t,r,i),this}_sendPacket(t,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const l={type:t,data:r,options:i};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(Fi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),t0&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=Mp.indexOf(this._offlineEventListener);i!==-1&&Mp.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}Fi.protocol=yk;class CV extends Fi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),i=!1;Fi.priorWebsocketSuccess=!1;const o=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",v=>{if(!i)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Fi.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function l(){i||(i=!0,f(),r.close(),r=null)}const c=v=>{const m=new Error("probe error: "+v);m.transport=r.name,l(),this.emitReserved("upgradeError",m)};function a(){c("transport closed")}function d(){c("socket closed")}function h(v){r&&v.name!==r.name&&l()}const f=()=>{r.removeListener("open",o),r.removeListener("error",c),r.removeListener("close",a),this.off("close",d),this.off("upgrading",h)};r.once("open",o),r.once("error",c),r.once("close",a),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&r.push(t[i]);return r}}let xV=class extends CV{constructor(t,r={}){const i=typeof t=="object"?t:r;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(o=>mV[o]).filter(o=>!!o)),super(t,i)}};function RV(e,t="",r){let i=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),i=e0(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const l=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+l+":"+i.port+t,i.href=i.protocol+"://"+l+(r&&r.port===i.port?"":":"+i.port),i}const wV=typeof ArrayBuffer=="function",EV=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,wk=Object.prototype.toString,TV=typeof Blob=="function"||typeof Blob<"u"&&wk.call(Blob)==="[object BlobConstructor]",PV=typeof File=="function"||typeof File<"u"&&wk.call(File)==="[object FileConstructor]";function SS(e){return wV&&(e instanceof ArrayBuffer||EV(e))||TV&&e instanceof Blob||PV&&e instanceof File}function Np(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,i=e.length;r<i;r++)if(Np(e[r]))return!0;return!1}if(SS(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Np(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Np(e[r]))return!0;return!1}function AV(e){const t=[],r=e.data,i=e;return i.data=r0(r,t),i.attachments=t.length,{packet:i,buffers:t}}function r0(e,t){if(!e)return e;if(SS(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let i=0;i<e.length;i++)r[i]=r0(e[i],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=r0(e[i],t));return r}return e}function _V(e,t){return e.data=n0(e.data,t),delete e.attachments,e}function n0(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=n0(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=n0(e[r],t));return e}const kV=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],MV=5;var et;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(et||(et={}));class NV{constructor(t){this.replacer=t}encode(t){return(t.type===et.EVENT||t.type===et.ACK)&&Np(t)?this.encodeAsBinary({type:t.type===et.EVENT?et.BINARY_EVENT:et.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===et.BINARY_EVENT||t.type===et.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=AV(t),i=this.encodeAsString(r.packet),o=r.buffers;return o.unshift(i),o}}function iA(e){return Object.prototype.toString.call(e)==="[object Object]"}class bS extends Vt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const i=r.type===et.BINARY_EVENT;i||r.type===et.BINARY_ACK?(r.type=i?et.EVENT:et.ACK,this.reconstructor=new IV(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(SS(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const i={type:Number(t.charAt(0))};if(et[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===et.BINARY_EVENT||i.type===et.BINARY_ACK){const l=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const c=t.substring(l,r);if(c!=Number(c)||t.charAt(r)!=="-")throw new Error("Illegal attachments");i.attachments=Number(c)}if(t.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););i.nsp=t.substring(l,r)}else i.nsp="/";const o=t.charAt(r+1);if(o!==""&&Number(o)==o){const l=r+1;for(;++r;){const c=t.charAt(r);if(c==null||Number(c)!=c){--r;break}if(r===t.length)break}i.id=Number(t.substring(l,r+1))}if(t.charAt(++r)){const l=this.tryParse(t.substr(r));if(bS.isPayloadValid(i.type,l))i.data=l;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case et.CONNECT:return iA(r);case et.DISCONNECT:return r===void 0;case et.CONNECT_ERROR:return typeof r=="string"||iA(r);case et.EVENT:case et.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&kV.indexOf(r[0])===-1);case et.ACK:case et.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class IV{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=_V(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const jV=Object.freeze(Object.defineProperty({__proto__:null,Decoder:bS,Encoder:NV,get PacketType(){return et},protocol:MV},Symbol.toStringTag,{value:"Module"}));function bn(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const OV=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ek extends Vt{constructor(t,r,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[bn(t,"open",this.onopen.bind(this)),bn(t,"packet",this.onpacket.bind(this)),bn(t,"error",this.onerror.bind(this)),bn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var i,o,l;if(OV.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const c={type:et.EVENT,data:r};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,v=r.pop();this._registerAckCallback(f,v),c.id=f}const a=(o=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||o===void 0?void 0:o.writable,d=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!a||(d?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(t,r){var i;const o=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(o===void 0){this.acks[t]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},o),c=(...a)=>{this.io.clearTimeoutFn(l),r.apply(this,a)};c.withError=!0,this.acks[t]=c}emitWithAck(t,...r){return new Promise((i,o)=>{const l=(c,a)=>c?o(c):i(a);l.withError=!0,r.push(l),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...l)=>i!==this._queue[0]?void 0:(o!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(o)):(this._queue.shift(),r&&r(null,...l)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:et.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case et.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case et.EVENT:case et.BINARY_EVENT:this.onevent(t);break;case et.ACK:case et.BINARY_ACK:this.onack(t);break;case et.DISCONNECT:this.ondisconnect();break;case et.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const i of r)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let i=!1;return function(...o){i||(i=!0,r.packet({type:et.ACK,id:t,data:o}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:et.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let i=0;i<r.length;i++)if(t===r[i])return r.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let i=0;i<r.length;i++)if(t===r[i])return r.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const i of r)i.apply(this,t.data)}}}function la(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}la.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};la.prototype.reset=function(){this.attempts=0};la.prototype.setMin=function(e){this.ms=e};la.prototype.setMax=function(e){this.max=e};la.prototype.setJitter=function(e){this.jitter=e};class i0 extends Vt{constructor(t,r){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,mf(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((i=r.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new la({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const o=r.parser||jV;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new xV(this.uri,this.opts);const r=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const o=bn(r,"open",function(){i.onopen(),t&&t()}),l=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},c=bn(r,"error",l);if(this._timeout!==!1){const a=this._timeout,d=this.setTimeoutFn(()=>{o(),l(new Error("timeout")),r.close()},a);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(o),this.subs.push(c),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(bn(t,"ping",this.onping.bind(this)),bn(t,"data",this.ondata.bind(this)),bn(t,"error",this.onerror.bind(this)),bn(t,"close",this.onclose.bind(this)),bn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){vf(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new Ek(this,t,r),this.nsps[t]=i),i}_destroy(t){const r=Object.keys(this.nsps);for(const i of r)if(this.nsps[i].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let i=0;i<r.length;i++)this.engine.write(r[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},r);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const gd={};function Ip(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=RV(e,t.path||"/socket.io"),i=r.source,o=r.id,l=r.path,c=gd[o]&&l in gd[o].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||c;let d;return a?d=new i0(i,t):(gd[o]||(gd[o]=new i0(i,t)),d=gd[o]),r.query&&!t.query&&(t.query=r.queryKey),d.socket(r.path,t)}Object.assign(Ip,{Manager:i0,Socket:Ek,io:Ip,connect:Ip});const DV=({chatName:e,onJoinRequest:t,onCancel:r})=>{const[i,o]=A.useState(!1),l=async c=>{c.preventDefault(),o(!0);try{await new Promise(a=>setTimeout(a,1e3)),t()}catch(a){console.error("Error sending join request:",a)}finally{o(!1)}};return g.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:g.jsxs("div",{className:"bg-white dark:bg-brand-grey-medium rounded-2xl shadow-xl max-w-md w-full overflow-hidden border border-neutral-200 dark:border-brand-grey-light",children:[g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium flex items-center justify-between",children:[g.jsxs("h2",{className:"font-['Montserrat'] font-bold text-[1.35rem] flex items-center text-brand-grey-dark dark:text-brand-white",children:[g.jsx(Ij,{className:"mr-2 text-brand-yellow dark:text-brand-yellow-light"}),"Join Chat Room"]}),g.jsx("button",{onClick:r,className:"text-neutral-600 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors","aria-label":"Close",children:g.jsx(an,{})})]}),g.jsxs("div",{className:"p-6 bg-neutral-50 dark:bg-brand-grey-dark",children:[g.jsx("div",{className:"mb-6",children:g.jsxs("p",{className:"font-['Inter'] text-brand-grey-dark dark:text-brand-white",children:["You've been invited to join ",g.jsxs("strong",{className:"text-brand-grey-dark dark:text-brand-white",children:['"',e,'"']}),". Your request will be reviewed by the group admin."]})}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{type:"button",onClick:r,className:"font-['Montserrat'] font-semibold px-4 py-2 border border-neutral-200 dark:border-brand-grey-light rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light text-brand-grey-dark dark:text-brand-white bg-white dark:bg-brand-grey-medium hover:bg-neutral-50 dark:hover:bg-brand-grey-light disabled:opacity-50 transition-colors",disabled:i,children:"Cancel"}),g.jsx("button",{type:"button",onClick:l,className:"font-['Montserrat'] font-semibold px-4 py-2 bg-brand-yellow dark:bg-brand-yellow-light hover:bg-brand-yellow-light dark:hover:bg-brand-yellow text-brand-grey-dark rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light disabled:opacity-50 transition-colors shadow-sm",disabled:i,children:i?"Requesting...":"Request to Join"})]})]})]})})},sA=({chatName:e})=>g.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-neutral-50 dark:bg-brand-grey-dark mt-20 transition-colors",children:g.jsxs("div",{className:"text-center p-8 max-w-md",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx("div",{className:"w-16 h-16 border-4 border-brand-yellow/30 dark:border-brand-yellow-light/30 rounded-full flex items-center justify-center bg-brand-yellow/10 dark:bg-brand-yellow-light/10",children:g.jsx(Cj,{size:32,className:"text-brand-yellow dark:text-brand-yellow-light animate-pulse"})})}),g.jsx("h2",{className:"text-2xl font-bold mb-2 font-['Montserrat'] text-brand-grey-dark dark:text-brand-white",children:"Waiting for Approval"}),g.jsxs("p",{className:"text-neutral-700 dark:text-neutral-300 mb-6 font-['Inter']",children:["Your request to join ",g.jsxs("strong",{className:"text-brand-grey-dark dark:text-brand-white",children:['"',e,'"']})," has been submitted. You'll be able to view messages once an admin approves your request."]}),g.jsx("div",{className:"flex justify-center",children:g.jsxs("div",{className:"flex space-x-2 mt-4",children:[g.jsx("div",{className:"h-3 w-3 bg-brand-yellow dark:bg-brand-yellow-light rounded-full animate-bounce",style:{animationDelay:"0ms"}}),g.jsx("div",{className:"h-3 w-3 bg-brand-yellow dark:bg-brand-yellow-light rounded-full animate-bounce",style:{animationDelay:"300ms"}}),g.jsx("div",{className:"h-3 w-3 bg-brand-yellow dark:bg-brand-yellow-light rounded-full animate-bounce",style:{animationDelay:"600ms"}})]})})]})}),zV=({isOpen:e,onClose:t,userId:r,currentUserId:i})=>{var f;const[o,l]=A.useState(null),[c,a]=A.useState(!1);A.useEffect(()=>{e&&r&&d()},[e,r]);const d=async()=>{var v;a(!0),l(null);try{const m=await _e.get(`${vt}/user/${r}`);m.data&&l(m.data)}catch(m){(v=m.response)==null||v.status}finally{a(!1)}};if(!e)return null;const h=r===i;return g.jsx(lf,{children:g.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:g.jsxs(nt.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",duration:.3},className:"bg-white dark:bg-brand-grey-medium rounded-2xl w-full max-w-md shadow-2xl border border-neutral-200 dark:border-brand-grey-light relative overflow-hidden",onClick:v=>v.stopPropagation(),children:[g.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 bg-gradient-to-br from-brand-yellow/20 via-brand-yellow/10 to-transparent dark:from-brand-yellow-light/20 dark:via-brand-yellow-light/10"}),g.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 p-2 rounded-full bg-white/80 dark:bg-brand-grey-dark/80 backdrop-blur-sm hover:bg-white dark:hover:bg-brand-grey-dark text-neutral-600 dark:text-neutral-400 hover:text-brand-grey-dark dark:hover:text-brand-white transition-all duration-200 shadow-sm",children:g.jsx(an,{})}),g.jsx("div",{className:"relative pt-8 pb-6 px-6",children:c?g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx("div",{className:"w-16 h-16 border-4 border-brand-yellow border-t-transparent rounded-full animate-spin mb-4"}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 font-['Inter']",children:"Loading profile..."})]}):o?g.jsxs(g.Fragment,{children:[g.jsx(nt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring"},className:"flex justify-center mb-6",children:g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white dark:border-brand-grey-medium shadow-xl",children:o.profile_picture?g.jsx("img",{src:o.profile_picture,alt:o.given_name,className:"w-full h-full rounded-full object-cover"}):g.jsx("div",{className:"w-full h-full rounded-full bg-brand-yellow flex items-center justify-center text-3xl font-bold text-brand-grey-dark",children:((f=o.given_name)==null?void 0:f.charAt(0).toUpperCase())||"U"})}),h&&g.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 bg-brand-yellow rounded-full border-2 border-white dark:border-brand-grey-medium flex items-center justify-center",children:g.jsx("span",{className:"text-xs text-brand-grey-dark font-bold",children:"You"})})]})}),g.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-brand-grey-dark dark:text-brand-white font-['Montserrat'] mb-2",children:o.given_name}),o.preferred_lang&&g.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 font-['Inter'] mb-4",children:["Preferred Language: ",o.preferred_lang.toUpperCase()]})]}),g.jsxs(nt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[o.email&&g.jsxs("div",{className:"flex items-center gap-3 p-3 bg-neutral-50 dark:bg-brand-grey-dark rounded-xl",children:[g.jsx(m0,{className:"text-brand-yellow text-lg flex-shrink-0"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-['Inter'] mb-1",children:"Email"}),g.jsx("p",{className:"text-sm text-brand-grey-dark dark:text-brand-white font-['Inter'] truncate",children:o.email})]})]}),o.created_at&&g.jsxs("div",{className:"flex items-center gap-3 p-3 bg-neutral-50 dark:bg-brand-grey-dark rounded-xl",children:[g.jsx(pj,{className:"text-brand-yellow text-lg flex-shrink-0"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-['Inter'] mb-1",children:"Member since"}),g.jsx("p",{className:"text-sm text-brand-grey-dark dark:text-brand-white font-['Inter']",children:new Date(o.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]}):g.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 font-['Inter']",children:"User not found"})})})]})})})},LV=({isOpen:e,onClose:t,onJoin:r})=>{const[i,o]=A.useState(""),[l,c]=A.useState(!1),[a,d]=A.useState(""),h=v=>{if(!v||!v.trim())return null;const m=v.trim(),S=/([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})/i,C=m.match(S);if(C)return C[1];try{const R=new URL(m.startsWith("http")?m:`http://${m}`).pathname.split("/").filter(w=>w);if(R.length>0){const w=R[R.length-1];return S.test(w),w}}catch{return m}return m},f=async v=>{if(v.preventDefault(),d(""),!i.trim()){d("Please enter an invite link");return}c(!0);try{const m=h(i);if(!m){d("Invalid invite link format. Please check the link and try again."),c(!1);return}await r(m),o(""),d("")}catch(m){d(m.message||"Failed to join chatroom. Please check the link and try again.")}finally{c(!1)}};return e?g.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:v=>v.target===v.currentTarget&&!l&&t(),children:g.jsxs(nt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-brand-grey-medium rounded-2xl shadow-xl max-w-md w-full overflow-hidden border border-neutral-200 dark:border-brand-grey-light",children:[g.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-brand-grey-light bg-white dark:bg-brand-grey-medium flex items-center justify-between",children:[g.jsxs("h2",{className:"font-['Montserrat'] font-bold text-[1.35rem] flex items-center text-brand-grey-dark dark:text-brand-white",children:[g.jsx(OA,{className:"mr-2 text-brand-yellow dark:text-brand-yellow-light"}),"Join via Invite Link"]}),g.jsx("button",{onClick:t,disabled:l,className:"text-neutral-600 dark:text-neutral-400 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors disabled:opacity-50","aria-label":"Close",children:g.jsx(an,{})})]}),g.jsxs("form",{onSubmit:f,className:"p-6 bg-neutral-50 dark:bg-brand-grey-dark",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"font-['Inter'] text-brand-grey-dark dark:text-brand-white block text-sm font-semibold mb-2",children:"Paste Invite Link"}),g.jsx("input",{type:"text",value:i,onChange:v=>{o(v.target.value),d("")},placeholder:"https://example.com/Chat/chatroom-id or chatroom-id",className:"font-['Inter'] placeholder-neutral-400 dark:placeholder-neutral-500 border border-neutral-200 dark:border-brand-grey-light rounded-xl w-full py-3 px-4 bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white leading-tight focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors disabled:opacity-50",disabled:l,required:!0}),a&&g.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400 font-['Inter']",children:a}),g.jsx("p",{className:"mt-2 text-xs text-neutral-500 dark:text-neutral-400 font-['Inter']",children:"You can paste the full invite link or just the chatroom ID"})]}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{type:"button",onClick:t,disabled:l,className:"font-['Montserrat'] font-semibold px-4 py-2 border border-neutral-200 dark:border-brand-grey-light rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light text-brand-grey-dark dark:text-brand-white bg-white dark:bg-brand-grey-medium hover:bg-neutral-50 dark:hover:bg-brand-grey-light disabled:opacity-50 transition-colors",children:"Cancel"}),g.jsx("button",{type:"submit",disabled:l||!i.trim(),className:"font-['Montserrat'] font-semibold px-4 py-2 bg-brand-yellow dark:bg-brand-yellow-light hover:bg-brand-yellow-light dark:hover:bg-brand-yellow text-brand-grey-dark rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light disabled:opacity-50 transition-colors shadow-sm flex items-center gap-2",children:l?g.jsxs(g.Fragment,{children:[g.jsx(Nj,{className:"animate-spin"}),"Joining..."]}):"Join Room"})]})]})]})}):null};class BV{constructor(){this.storageKey="unifyChat_messageQueue",this.listeners=new Set}getQueue(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.error("Failed to read message queue:",t),[]}}saveQueue(t){try{localStorage.setItem(this.storageKey,JSON.stringify(t)),this.notifyListeners()}catch(r){console.error("Failed to save message queue:",r)}}addMessage(t){const r=this.getQueue(),i={...t,queuedAt:Date.now(),tempId:`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,status:"pending",retryCount:0};return r.push(i),this.saveQueue(r),i}removeMessage(t){const i=this.getQueue().filter(o=>o.tempId!==t);this.saveQueue(i)}updateMessageStatus(t,r,i=null,o=null){const c=this.getQueue().map(a=>a.tempId===t?{...a,status:r,serverId:i,error:o,lastRetry:Date.now()}:a);this.saveQueue(c)}incrementRetryCount(t){const i=this.getQueue().map(o=>o.tempId===t?{...o,retryCount:(o.retryCount||0)+1}:o);this.saveQueue(i)}getPendingMessages(){return this.getQueue().filter(r=>r.status==="pending"||r.status==="failed")}clearQueue(){this.saveQueue([])}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notifyListeners(){this.listeners.forEach(t=>t(this.getQueue()))}}const ui=new BV;class qV{constructor(){this.storageKey="unifyChat_messages",this.metaKey="unifyChat_messageMeta"}getMessages(t){try{return this.getAllMessages()[t]||[]}catch(r){return console.error("Failed to read messages:",r),[]}}getAllMessages(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to read all messages:",t),{}}}saveMessages(t,r){try{const i=this.getAllMessages();return i[t]=r,localStorage.setItem(this.storageKey,JSON.stringify(i)),this.updateMeta(t,r),!0}catch(i){if(console.error("Failed to save messages:",i),i.name==="QuotaExceededError"){this.cleanup();try{const o=this.getAllMessages();return o[t]=r,localStorage.setItem(this.storageKey,JSON.stringify(o)),!0}catch(o){return console.error("Failed to save messages after cleanup:",o),!1}}return!1}}addMessage(t,r){const i=this.getMessages(t);return i.some(l=>l.id===r.id||l.tempId===r.tempId)?!0:(i.push(r),i.sort((l,c)=>new Date(l.created_at)-new Date(c.created_at)),this.saveMessages(t,i))}updateMessage(t,r,i){const o=this.getMessages(t),l=o.findIndex(c=>c.tempId===r);return l!==-1?(o[l]={...o[l],...i,tempId:r},this.saveMessages(t,o)):!1}deleteMessage(t,r){const o=this.getMessages(t).filter(l=>l.id!==r&&l.tempId!==r);return this.saveMessages(t,o)}clearChat(t){const r=this.getAllMessages();delete r[t];try{return localStorage.setItem(this.storageKey,JSON.stringify(r)),!0}catch(i){return console.error("Failed to clear chat:",i),!1}}updateMeta(t,r){try{const i=this.getMeta();i[t]={lastMessage:r.length>0?r[r.length-1]:null,messageCount:r.length,lastUpdated:Date.now()},localStorage.setItem(this.metaKey,JSON.stringify(i))}catch(i){console.error("Failed to update meta:",i)}}getMeta(){try{const t=localStorage.getItem(this.metaKey);return t?JSON.parse(t):{}}catch(t){return console.error("Failed to read meta:",t),{}}}cleanup(){console.log("Running message store cleanup...");const t=this.getAllMessages(),r=this.getMeta(),i=Date.now(),o=30*24*60*60*1e3;Object.keys(t).forEach(l=>{const c=r[l];c&&i-c.lastUpdated>o?(delete t[l],delete r[l]):t[l].length>1e3&&(t[l]=t[l].slice(-1e3))});try{localStorage.setItem(this.storageKey,JSON.stringify(t)),localStorage.setItem(this.metaKey,JSON.stringify(r)),console.log("Cleanup completed successfully")}catch(l){console.error("Cleanup failed:",l)}}getStorageSize(){let t=0;for(let r in localStorage)localStorage.hasOwnProperty(r)&&(t+=localStorage[r].length+r.length);return t}}const vp=new qV,UV=(e,t)=>{const[r,i]=A.useState(navigator.onLine),[o,l]=A.useState([]),c=A.useRef(!1);A.useEffect(()=>{const m=()=>{console.log("App is online"),i(!0)},S=()=>{console.log("App is offline"),i(!1)};return window.addEventListener("online",m),window.addEventListener("offline",S),()=>{window.removeEventListener("online",m),window.removeEventListener("offline",S)}},[]),A.useEffect(()=>{const m=ui.subscribe(S=>{l(S)});return l(ui.getQueue()),m},[]);const a=A.useCallback(m=>vp.getMessages(m),[]),d=A.useCallback((m,S)=>vp.addMessage(m,S),[]),h=A.useCallback((m,S)=>vp.saveMessages(m,S),[]),f=A.useCallback((m,S)=>{const C=ui.addMessage({chatId:m,...S});return d(m,{...S,tempId:C.tempId,status:"pending"}),C},[d]),v=A.useCallback(async()=>{if(c.current||!r)return;c.current=!0;const m=ui.getPendingMessages();for(const S of m){if(S.retryCount>=5){ui.updateMessageStatus(S.tempId,"failed",null,"Max retries exceeded");continue}try{const x=(await _e.post(`${vt}/chatroom/${S.chatId}/messages`,{content:S.content,tempId:S.tempId})).data.message;ui.updateMessageStatus(S.tempId,"sent",x.id),vp.updateMessage(S.chatId,S.tempId,x),setTimeout(()=>{ui.removeMessage(S.tempId)},1e3),t&&t.connected&&t.emit("send-message",{chatId:S.chatId,message:x})}catch(C){console.error("Failed to send queued message:",C),ui.incrementRetryCount(S.tempId),ui.updateMessageStatus(S.tempId,"failed",null,C.message)}}c.current=!1},[r,t]);return A.useEffect(()=>{r&&v()},[r,v]),A.useEffect(()=>{const m=setInterval(()=>{r&&o.length>0&&v()},5e3);return()=>clearInterval(m)},[r,o,v]),{isOnline:r,queuedMessages:o,queueMessage:f,loadPersistedMessages:a,persistMessage:d,persistMessages:h,processQueue:v}},oA=()=>{const e=()=>g.jsx("div",{className:"flex-1 flex flex-col items-center justify-center bg-neutral-50 dark:bg-brand-grey-dark transition-colors",children:g.jsxs("div",{className:"text-center p-8 max-w-md",children:[g.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full bg-brand-yellow/10 dark:bg-brand-yellow-light/10 flex items-center justify-center",children:g.jsx("span",{className:"text-5xl",children:""})}),g.jsx("h2",{className:"text-3xl font-bold text-brand-grey-dark dark:text-brand-white mb-3 font-['Montserrat']",children:"Welcome to Chat!"}),g.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8 font-['Inter'] text-lg",children:"Select a conversation from the sidebar or start a new one to begin chatting"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[g.jsx("button",{className:"bg-brand-yellow dark:bg-brand-yellow-light hover:bg-brand-yellow-light dark:hover:bg-brand-yellow text-brand-grey-dark px-6 py-3 rounded-xl font-semibold font-['Montserrat'] transition-all shadow-md hover:shadow-lg hover:scale-105",onClick:()=>j(!0),children:"Start New Chat"}),g.jsx("button",{className:"bg-white dark:bg-brand-grey-medium border-2 border-brand-yellow dark:border-brand-yellow-light hover:bg-brand-yellow/10 dark:hover:bg-brand-yellow/10 text-brand-grey-dark dark:text-brand-white px-6 py-3 rounded-xl font-semibold font-['Montserrat'] transition-all shadow-md hover:shadow-lg hover:scale-105",onClick:()=>Ce(!0),children:"Join via Link"})]})]})}),t=({isOpen:Y,onClose:he,onCreateChat:ze})=>{const[je,me]=A.useState(""),[be,we]=A.useState("");if(!Y)return null;const Be=at=>{at.preventDefault(),je.trim()&&(ze({name:je,description:be}),me(""),we(""),he())};return g.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:g.jsxs("div",{className:"bg-white dark:bg-brand-grey-medium rounded-2xl w-full max-w-md mx-4 shadow-xl border border-neutral-200 dark:border-brand-grey-light",children:[g.jsxs("div",{className:"font-['Inter'] p-6 border-b border-neutral-200 dark:border-brand-grey-light flex justify-between items-center relative",children:[g.jsx("h2",{className:"text-xl font-bold text-brand-grey-dark dark:text-brand-white font-['Montserrat']",children:"New Chat"}),g.jsx("button",{onClick:he,className:"text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 transition-colors",children:g.jsx(an,{size:16})})]}),g.jsxs("form",{onSubmit:Be,className:"p-6",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("label",{className:"font-['Inter'] text-brand-grey-dark dark:text-brand-white block text-sm font-semibold mb-2",children:"Chat Name"}),g.jsx("input",{type:"text",value:je,onChange:at=>me(at.target.value),className:"placeholder-neutral-400 dark:placeholder-neutral-500 border border-neutral-200 dark:border-brand-grey-light rounded-xl w-full py-3 px-4 bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white leading-tight focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors",placeholder:"Enter chat name",required:!0})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"font-['Inter'] text-brand-grey-dark dark:text-brand-white block text-sm font-semibold mb-2",children:"Description"}),g.jsx("textarea",{value:be,onChange:at=>we(at.target.value),rows:3,className:"placeholder-neutral-400 dark:placeholder-neutral-500 border border-neutral-200 dark:border-brand-grey-light rounded-xl w-full py-3 px-4 bg-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white leading-tight focus:outline-none focus:ring-2 focus:ring-brand-yellow dark:focus:ring-brand-yellow-light transition-colors resize-none",placeholder:"Enter a description (optional)"})]}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{type:"button",onClick:he,className:"font-['Inter'] font-semibold bg-neutral-100 dark:bg-brand-grey-light hover:bg-neutral-200 dark:hover:bg-brand-grey-medium text-neutral-700 dark:text-neutral-300 px-4 py-2 rounded-xl transition-colors border border-neutral-200 dark:border-brand-grey-light",children:"Cancel"}),g.jsx("button",{type:"submit",className:"font-['Inter'] font-semibold bg-brand-yellow dark:bg-brand-yellow-light hover:bg-brand-yellow-light dark:hover:bg-brand-yellow text-brand-grey-dark px-4 py-2 rounded-xl shadow-md transition-all",children:"Create Chat"})]})]})]})})},{chatId:r}=cI(),i=ro(),o=localStorage.getItem("user_id"),[l,c]=A.useState({}),[a,d]=A.useState([]),[h,f]=A.useState(r),[v,m]=A.useState(null),[S,C]=A.useState(""),[x,R]=A.useState("all"),[w,T]=A.useState(""),[P,j]=A.useState(!1),[k,B]=A.useState(!0),[F,q]=A.useState(!1),[H,$]=A.useState(!1),[pe,de]=A.useState({}),[fe,Ee]=A.useState(!1),[Oe,te]=A.useState(!1),[se,ce]=A.useState({}),[ke,N]=A.useState(null),[X,ee]=A.useState(!1),[le,Z]=A.useState({}),[xe,Ce]=A.useState(!1),[rt,Fe]=A.useState(null),Qe=A.useRef(null);A.useEffect(()=>{(async()=>{var he,ze;if(h)try{const je=await _e.get(`${vt}/chatroom/${h}/isMember/${o}`);if(je.data.isMember)f(h);else if(je.data.status==="pending"){const me=je.data.chatroom;if(me){const be={id:h,name:me.name||"Unknown Chat",avatarColor:me.avatar_color,avatarText:me.avatar_text,lastMessage:me.last_message||"",time:new Date,unread:!0,messages:[],status:"pending"};ce(be),te(!0),i("/Chat")}else We("Chat room information not available"),i("/Chat")}else{const me=je.data.chatroom;if(me){const be={id:h,name:me.name||"Unknown Chat",avatarColor:me.avatar_color,avatarText:me.avatar_text,lastMessage:me.last_message||"",time:new Date,unread:!0,messages:[],status:"invited"};ce(be),Ee(!0),i("/Chat")}else We("Chat room information not available"),i("/Chat")}}catch(je){((he=je.response)==null?void 0:he.status)===404?(We("Chat room not found"),i("/Chat")):((ze=je.response)==null?void 0:ze.status)===403?(We("You are not a member of this chat room"),i("/Chat")):(We("Failed to check membership"),i("/Chat"))}})()},[h,o,a,i]);const[Ie,Et]=A.useState(null),{isOnline:pr,persistMessages:Kt,loadPersistedMessages:fr}=UV(h,Ie);A.useEffect(()=>{if(h){const Y=fr(h);Y&&Y.length>0&&!l[h]&&c(he=>({...he,[h]:Y}))}},[h,fr]),A.useEffect(()=>{h&&l[h]&&Kt(h,l[h])},[l,h,Kt]),A.useEffect(()=>{(async()=>{var ze,je;if(h&&!l[h]&&mt&&mt.status!=="pending")try{const me=await _e.get(`${vt}/chatroom/${h}/messages`,{params:{cursor:null}});c(be=>({...be,[h]:me.data.messages.filter(we=>we.chat_id===h).sort((we,Be)=>new Date(we.created_at)-new Date(Be.created_at))})),de(be=>({...be,[h]:{cursor:me.data.cursor,hasMore:me.data.hasMore}}))}catch(me){((ze=me.response)==null?void 0:ze.status)===404?We("Chat room not found"):((je=me.response)==null?void 0:je.status)===403?We("You are not a member of this chat room"):We("Failed to load messages")}})();const he=Qe.current;he&&(he.scrollTop=he.scrollHeight-he.clientHeight)},[h]),A.useEffect(()=>{const Y=Ip(`${vt}`,{transports:["websocket"],auth:{userId:o}});return Y.on("connect",()=>{r&&Y.emit("joinRoom",r)}),Y.on("connect_error",he=>{We("Failed to connect to chat server")}),Y.on("disconnect",he=>{}),Y.on("join-request-handled",he=>{he.userId===o&&(he.action==="approved"?(rn("Your join request has been approved!"),ln(),i(`/Chat/${he.chatId}`)):We("Your join request has been rejected."))}),Et(Y),()=>Y.disconnect()},[o]),A.useEffect(()=>{if(!Ie||!h)return;const Y=he=>{(he.chat_id===h||he.chatId===h)&&c(ze=>{const je=ze[h]||[];return je.some(be=>be.id===he.id)?ze:{...ze,[h]:[...je,{...he,fromUser:!1}].sort((be,we)=>new Date(be.created_at)-new Date(we.created_at))}})};return Ie.on("receive-message",Y),()=>{Ie.off("receive-message",Y)}},[Ie,h]);const Br=l[h]||[],mt=a.find(Y=>Y.id===h)||null,ln=async()=>{var Y,he,ze;try{const me=((Y=(await _e.get(`${vt}/chatroom/user/${o}`)).data)==null?void 0:Y.chatRooms.map(Be=>Be.chatRoom))||[],be={};me.forEach(Be=>{be[Be.id]=Be.admin_id}),Z(be);const we=await Promise.all(me.map(Be=>_e.get(`${vt}/chatroom/${Be.id}/readStatus/${o}`)));me.forEach((Be,at)=>{Be.unread=we[at].data.unread}),d(me),r&&me.some(Be=>Be.id===r)||r?f(r):me.length>0?f(me[0].id):f(null)}catch(je){We(((ze=(he=je.response)==null?void 0:he.data)==null?void 0:ze.message)||"Failed to load chats"),f(null)}};A.useEffect(()=>{ln()},[o,r,i]);const[I,U]=A.useState(a);A.useEffect(()=>{let Y=[...a];w&&(Y=Y.filter(he=>he.name.toLowerCase().includes(w.toLowerCase())||he.lastMessage.toLowerCase().includes(w.toLowerCase()))),x==="unread"&&(Y=Y.filter(he=>he.unread)),U(Y)},[a,x,w]);const W=async(Y=null)=>{var he,ze,je,me;if(!(!S.trim()||!h))try{const we=(await _e.post(`${vt}/rooms/${h}/messages`,{text:S,userId:o,replyToId:Y==null?void 0:Y.id})).data;we.fromUser=!0,we.created_at||(we.created_at=new Date),Y&&(we.replyTo=Y),c(bt=>{const Jt=bt[h]||[];return Jt.some(tr=>tr.id===we.id)?bt:{...bt,[h]:[...Jt,we].sort((tr,qr)=>new Date(tr.created_at)-new Date(qr.created_at))}});const Be={id:we.id,content:we.content,created_by:we.created_by||o,chat_id:h,chatId:h,created_at:we.created_at||new Date,sender:we.sender||{id:o,given_name:"User",profile_picture:null},replyTo:Y||null};Ie&&Ie.emit("send-message",Be,h),C(""),Y&&Fe(null);const at=a.map(bt=>bt.id===h?{...bt,lastMessage:`You: ${S}`,time:"now"}:bt);d(at)}catch(be){((he=be.response)==null?void 0:he.status)===404?We("Chat room not found"):((ze=be.response)==null?void 0:ze.status)===403?We("You are not a member of this chat room"):We(((me=(je=be.response)==null?void 0:je.data)==null?void 0:me.error)||"Error sending message")}},ue=async Y=>{var ze,je;if(!h)return;const he=new FormData;he.append("file",Y);try{const me=await _e.post(`${vt}/chatroom/upload`,he,{headers:{"Content-Type":"multipart/form-data"}}),{fileUrl:be,fileType:we,originalName:Be}=me.data,bt=(await _e.post(`${vt}/rooms/${h}/messages`,{text:we==="image"?`Image: ${Be}`:`File: ${Be}`,userId:o,file_url:be,file_type:we})).data;bt.fromUser=!0,bt.created_at=new Date,c(tr=>{const qr=tr[h]||[];return{...tr,[h]:[...qr,bt].sort((Tn,Rr)=>new Date(Tn.created_at)-new Date(Rr.created_at))}});const Jt={content:bt.content,sender:o||"Unknown",senderColor:bt.senderColor||"#ccc",created_at:new Date,file_url:be,file_type:we};Ie&&Ie.emit("send-message",Jt,h);const Un=a.map(tr=>tr.id===h?{...tr,lastMessage:`You: ${we==="image"?"Image":"File"}`,time:"now"}:tr);d(Un)}catch(me){We(((je=(ze=me.response)==null?void 0:ze.data)==null?void 0:je.error)||"Error uploading file")}},ae=async Y=>{await ue(Y)},ie=async Y=>{var ze,je,me;const he={name:Y.name,description:Y.description||"",adminId:o,avatarColor:`bg-${["green","purple","cyan","yellow","blue"][Math.floor(Math.random()*5)]}-400`,avatarText:Y.name.charAt(0).toUpperCase(),lastMessage:"Start a conversation..."};try{const be=await _e.post(`${vt}/chatroom`,he);if(be.status===201){const we=(ze=be.data)==null?void 0:ze.chatroom;we.unread=!0,d(Be=>[we,...Be]),f(we.id),i(`/Chat/${we.id}`),Ie&&Ie.emit("joinRoom",we.id),c(Be=>({...Be,[we.id]:[]}))}}catch(be){We((me=(je=be.response)==null?void 0:je.data)==null?void 0:me.message)}window.innerWidth<768&&B(!1)};A.useEffect(()=>{const Y=Qe.current;if(!Y)return;const he=Br.length>0&&(!v||v!==h);(Y.scrollHeight-Y.scrollTop-Y.clientHeight<100||he)&&!H&&(Y.scrollTop=Y.scrollHeight)},[Br,H,h,v]),A.useEffect(()=>{const Y=Qe.current;Y&&(Y.scrollTop=Y.scrollHeight)},[h]);const ve=async Y=>{var ze,je;if(m(h),f(Y),i(`/Chat/${Y}`),Ie&&Ie.emit("joinRoom",Y),d(me=>me.map(be=>be.id===Y&&be.unread?{...be,unread:!1}:be)),await _e.put(`${vt}/chatroom/${Y}/readStatus/${o}`),window.innerWidth<768&&B(!1),!l[Y])try{const me=await _e.get(`${vt}/chatroom/${Y}/messages`,{params:{cursor:null}});c(be=>({...be,[Y]:me.data.messages.filter(we=>we.chat_id===Y).sort((we,Be)=>new Date(we.created_at)-new Date(Be.created_at))})),de(be=>({...be,[Y]:{cursor:me.data.cursor,hasMore:me.data.hasMore}}))}catch(me){((ze=me.response)==null?void 0:ze.status)===404?We("Chat room not found"):((je=me.response)==null?void 0:je.status)===403?We("You are not a member of this chat room"):We("Failed to load messages")}const he=Qe.current;he&&(he.scrollTop=he.scrollHeight-he.clientHeight)};A.useEffect(()=>{const Y=()=>{window.innerWidth<768?(q(!1),h&&k&&B(!1)):window.innerWidth<1024?(q(!1),B(!0)):(B(!0),q(!0))};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[h]);const oe=()=>B(!k),Te=()=>q(!F),Pe=async Y=>{var we,Be;const he=Qe.current,ze=he.scrollHeight,je=he.scrollTop;if(Y!==v){m(h);return}const{cursor:me,hasMore:be}=pe[Y]||{};if(be!==!1){$(!0);try{const at=await _e.get(`${vt}/chatroom/${Y}/messages`,{params:{cursor:me}}),bt=at.data.messages.filter(Jt=>Jt.chat_id===Y);c(Jt=>{const Un=Jt[Y]||[],tr=[...bt,...Un].filter((qr,Tn,Rr)=>Tn===Rr.findIndex(Dt=>Dt.id===qr.id)).sort((qr,Tn)=>new Date(qr.created_at)-new Date(Tn.created_at));return{...Jt,[Y]:tr}}),de(Jt=>({...Jt,[Y]:{cursor:at.data.cursor,hasMore:at.data.hasMore}})),requestAnimationFrame(()=>{if(he){const Jt=he.scrollHeight;he.scrollTop=Jt-ze+je}})}catch(at){((we=at.response)==null?void 0:we.status)===404?We("Chat room not found"):((Be=at.response)==null?void 0:Be.status)===403?We("You are not a member of this chat room"):We("Failed to load older messages")}finally{$(!1)}}},Xe=async Y=>{const he=se.id;try{await _e.post(`${vt}/chatroom/${he}/request`,{userId:o}),rn("Join request sent successfully")}catch{We("Failed to send join request");return}Ee(!1),te(!0)},Wt=()=>{Ee(!1),a.length>0?f(r):f(null)},ut=()=>{f(originalChats[0].id),i("/Chat")},vr=async Y=>{var he,ze,je,me;try{const be=await _e.get(`${vt}/chatroom/${Y}/isMember/${o}`);if(be.data.isMember){rn("You're already a member of this chat"),f(Y),i(`/Chat/${Y}`),Ce(!1);return}if(be.data.status==="pending"){We("You already have a pending request for this chat");const Be=be.data.chatroom;if(Be){const at={id:Y,name:Be.name||"Unknown Chat",avatarColor:Be.avatar_color,avatarText:Be.avatar_text,lastMessage:Be.last_message||"",time:new Date,unread:!0,messages:[],status:"pending"};ce(at),te(!0),Ce(!1),i("/Chat")}return}await _e.post(`${vt}/chatroom/${Y}/request`,{userId:o});const we=be.data.chatroom;if(we){const Be={id:Y,name:we.name||"Unknown Chat",avatarColor:we.avatar_color,avatarText:we.avatar_text,lastMessage:we.last_message||"",time:new Date,unread:!0,messages:[],status:"invited"};ce(Be),rn("Join request sent successfully"),Ee(!0),Ce(!1),i("/Chat")}else We("Chat room not found"),Ce(!1)}catch(be){throw((he=be.response)==null?void 0:he.status)===404?We("Chat room not found. Please check the invite link."):((ze=be.response)==null?void 0:ze.status)===403?We("Access denied to this chat room"):We(((me=(je=be.response)==null?void 0:je.data)==null?void 0:me.error)||"Failed to join chatroom"),be}},gt=async(Y,he)=>{var ze,je,me;if(!Y||!Y.id){We("Invalid message");return}try{const we=(await _e.put(`${vt}/messages/${Y.id}`,{content:he,userId:o})).data;we.fromUser=Y.created_by===o,c(Be=>{const at=Be[h]||[];return{...Be,[h]:at.map(bt=>bt.id===Y.id?{...bt,...we}:bt)}}),Ie&&Ie.emit("send-message",{...we,chat_id:h,chatId:h,isEdit:!0},h),rn("Message edited successfully")}catch(be){((ze=be.response)==null?void 0:ze.status)===403?We("You can only edit your own messages"):We(((me=(je=be.response)==null?void 0:je.data)==null?void 0:me.error)||"Failed to edit message")}},ar=async Y=>{var he,ze,je;if(!Y){We("Invalid message");return}try{await _e.delete(`${vt}/messages/${Y}`,{data:{userId:o}}),c(me=>{const be=me[h]||[];return{...me,[h]:be.filter(we=>we.id!==Y)}}),Ie&&Ie.emit("delete-message",{messageId:Y,chatId:h}),rn("Message deleted successfully")}catch(me){((he=me.response)==null?void 0:he.status)===403?We("You can only delete your own messages"):We(((je=(ze=me.response)==null?void 0:ze.data)==null?void 0:je.error)||"Failed to delete message")}},[jt,_r]=A.useState(!1),[Gt,Ot]=A.useState(null),so=()=>i("/"),Ji=Y=>{const he=a.find(ze=>ze.id===Y);Ot(he),_r(!0)},ua=async()=>{if(Gt)try{if(await _e.delete(`${vt}/chatroom/${Gt.id}`,{data:{userId:o}}),d(Y=>Y.filter(he=>he.id!==Gt.id)),h===Gt.id){const Y=a.filter(he=>he.id!==Gt.id);Y.length>0?(f(Y[0].id),i(`/Chat/${Y[0].id}`)):(f(null),i("/Chat"))}_r(!1),Ot(null),rn("Chat deleted successfully")}catch{We("Failed to delete chat"),_r(!1),Ot(null)}},mi=()=>!h||!r?g.jsx(e,{}):(mt==null?void 0:mt.status)==="pending"?g.jsx(sA,{chatName:mt.name}):g.jsx(BU,{messages:l[h]||[],currentChat:mt,newMessage:S,setNewMessage:C,onSendMessage:W,messageContainerRef:Qe,toggleSidebar:oe,toggleChatInfo:Te,showSidebar:k,showChatInfo:F,onLoadMoreMessages:Pe,currentUserId:o,onFileUpload:ue,onImageUpload:ae,isOnline:pr,onBack:()=>{f(null),i("/Chat")},onUserClick:Y=>{N(Y),ee(!0)},socket:Ie,replyingTo:rt,setReplyingTo:Fe,onEditMessage:gt,onDeleteMessage:ar});return Oe&&se?g.jsx("div",{className:"flex flex-col h-screen bg-neutral-50 dark:bg-brand-grey-dark transition-colors",children:g.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[k&&g.jsx(Qm,{chats:I,originalChats:a,setOriginalChats:d,currentChatId:h,onChatClick:ve,searchTerm:w,setSearchTerm:T,activeFilter:x,setActiveFilter:R,onNewChat:()=>j(!0),onBackToChats:ut,onBackToHome:so,onJoinViaLink:()=>Ce(!0),onDeleteChat:Ji,isAdmin:le[h]===o,currentUserId:o,chatAdmins:le}),g.jsx(sA,{chatName:se.name})]})}):fe&&se?g.jsx("div",{className:"flex flex-col h-screen bg-neutral-50 dark:bg-brand-grey-dark transition-colors",children:g.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[k&&g.jsx(Qm,{chats:I,originalChats:a,setOriginalChats:d,currentChatId:h,onChatClick:ve,searchTerm:w,setSearchTerm:T,activeFilter:x,setActiveFilter:R,onNewChat:()=>j(!0),onBackToChats:ut,onBackToHome:()=>i("/"),onJoinViaLink:()=>Ce(!0),onDeleteChat:Ji,isAdmin:le[h]===o,currentUserId:o,chatAdmins:le}),g.jsx(DV,{chatName:se.name,onJoinRequest:Xe,onCancel:Wt})]})}):g.jsxs("div",{className:"flex flex-col h-screen bg-neutral-50 dark:bg-brand-grey-dark transition-colors",children:[g.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[k&&g.jsx(Qm,{chats:I,originalChats:a,setOriginalChats:d,currentChatId:h,onChatClick:ve,searchTerm:w,setSearchTerm:T,activeFilter:x,setActiveFilter:R,onNewChat:()=>j(!0),onBackToChats:ut,onBackToHome:so,onJoinViaLink:()=>Ce(!0),onDeleteChat:Ji,isAdmin:le[h]===o,currentUserId:o,chatAdmins:le}),mi(),r&&F&&h&&(mt==null?void 0:mt.status)!=="pending"&&g.jsx(VU,{chatId:h,setCurrentChatId:f,onBackToChat:()=>q(!1)})]}),g.jsx(t,{isOpen:P,onClose:()=>j(!1),onCreateChat:ie}),jt&&Gt&&g.jsx("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:g.jsx("div",{className:"bg-white dark:bg-brand-grey-medium rounded-2xl w-full max-w-md mx-4 shadow-xl border border-neutral-200 dark:border-brand-grey-light",children:g.jsxs("div",{className:"font-['Inter'] p-6",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mr-4",children:g.jsx(an,{className:"text-red-600 dark:text-red-400 text-xl"})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-bold text-brand-grey-dark dark:text-brand-white font-['Montserrat']",children:"Delete Chat"}),g.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"This action cannot be undone"})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsxs("p",{className:"text-neutral-700 dark:text-neutral-300 mb-2",children:["Are you sure you want to delete ",g.jsxs("span",{className:"font-semibold text-brand-grey-dark dark:text-brand-white",children:['"',Gt.name,'"']}),"?"]}),g.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"All messages and data will be permanently removed."})]}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx("button",{onClick:()=>{_r(!1),Ot(null)},className:"px-4 py-2 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-brand-grey-light rounded-xl transition-colors border border-neutral-200 dark:border-brand-grey-light",children:"Cancel"}),g.jsx("button",{onClick:ua,className:"px-4 py-2 bg-red-600 dark:bg-red-500 hover:bg-red-700 dark:hover:bg-red-600 text-white rounded-xl transition-colors font-medium shadow-sm",children:"Delete Chat"})]})]})})}),g.jsx(zV,{isOpen:X,onClose:()=>{ee(!1),N(null)},userId:ke,currentUserId:o}),g.jsx(LV,{isOpen:xe,onClose:()=>Ce(!1),onJoin:vr})]})},VV=()=>{var H;const{user:e,updateUser:t}=Fd(),r=ro(),i=A.useRef(null),[o,l]=A.useState(!1),[c,a]=A.useState({displayName:(e==null?void 0:e.given_name)||"",username:((H=e==null?void 0:e.email)==null?void 0:H.split("@")[0])||"",bio:(e==null?void 0:e.bio)||"",status:(e==null?void 0:e.status)||"Available",linkedin:(e==null?void 0:e.linkedin)||"",github:(e==null?void 0:e.github)||"",twitter:(e==null?void 0:e.twitter)||"",website:(e==null?void 0:e.website)||""}),[d,h]=A.useState((e==null?void 0:e.profile_picture)||null),[f,v]=A.useState(null),[m,S]=A.useState(!1),[C,x]=A.useState(c.bio.length),R=200;A.useEffect(()=>{var $;e&&(a({displayName:e.given_name||"",username:(($=e.email)==null?void 0:$.split("@")[0])||"",bio:e.bio||"",status:e.status||"Available",linkedin:e.linkedin||"",github:e.github||"",twitter:e.twitter||"",website:e.website||""}),h(e.profile_picture))},[e]);const w=$=>{if($&&$.type.startsWith("image/")){const pe=new FileReader;pe.onloadend=()=>{v(pe.result),h(pe.result)},pe.readAsDataURL($)}},T=$=>{const pe=$.target.files[0];w(pe)},P=$=>{$.preventDefault(),S(!0)},j=()=>{S(!1)},k=$=>{$.preventDefault(),S(!1);const pe=$.dataTransfer.files[0];w(pe)},B=($,pe)=>{$==="bio"?pe.length<=R&&(a({...c,[$]:pe}),x(pe.length)):a({...c,[$]:pe})},F=async()=>{const $={given_name:c.displayName,bio:c.bio,status:c.status,linkedin:c.linkedin,github:c.github,twitter:c.twitter,website:c.website,profile_picture:d};t?(await t($)).success?(l(!1),v(null),ot.success("Profile updated successfully!")):ot.error("Failed to save profile changes. Please try again."):l(!1)},q=()=>{var $;l(!1),a({displayName:(e==null?void 0:e.given_name)||"",username:(($=e==null?void 0:e.email)==null?void 0:$.split("@")[0])||"",bio:(e==null?void 0:e.bio)||"",status:(e==null?void 0:e.status)||"Available",linkedin:(e==null?void 0:e.linkedin)||"",github:(e==null?void 0:e.github)||"",twitter:(e==null?void 0:e.twitter)||"",website:(e==null?void 0:e.website)||""}),h(e==null?void 0:e.profile_picture),v(null)};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 via-primary-50/30 to-neutral-100 dark:from-neutral-950 dark:via-primary-950/20 dark:to-neutral-900 transition-all duration-500",children:g.jsxs("div",{className:"section-container py-8",children:[g.jsxs(nt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>r(-1),className:"flex items-center gap-2 mb-6 px-4 py-2 bg-white/80 dark:bg-neutral-800/80 backdrop-blur-md text-primary-600 dark:text-primary-400 rounded-xl hover:bg-primary-50 dark:hover:bg-primary-900/30 transition-all duration-300 shadow-sm hover:shadow-md group",children:[g.jsx(p0,{className:"group-hover:-translate-x-1 transition-transform duration-300"}),g.jsx("span",{className:"font-semibold",children:"Back"})]}),g.jsx(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-4xl mx-auto",children:g.jsxs(nt.div,{whileHover:{scale:1.01,y:-5},transition:{type:"spring",stiffness:300},className:"bg-white/80 dark:bg-neutral-800/80 backdrop-blur-xl rounded-3xl shadow-large p-8 border border-neutral-200/50 dark:border-neutral-700/50 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-primary-500/10 to-secondary-500/10 rounded-full blur-3xl -z-10"}),g.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-accent-500/10 to-primary-500/10 rounded-full blur-3xl -z-10"}),g.jsxs("div",{className:"flex justify-between items-start mb-8",children:[g.jsx("h1",{className:"text-4xl font-bold text-neutral-900 dark:text-neutral-50",children:"My Profile"}),g.jsx(nt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!o),className:`px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-sm hover:shadow-md flex items-center gap-2 ${o?"bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300":"bg-primary-600 text-white hover:bg-primary-700"}`,children:o?g.jsxs(g.Fragment,{children:[g.jsx(an,{})," Cancel"]}):g.jsxs(g.Fragment,{children:[g.jsx(v0,{})," Edit Profile"]})})]}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[g.jsx("div",{className:"md:col-span-1",children:g.jsxs("div",{className:"sticky top-8",children:[g.jsxs("div",{onDragOver:P,onDragLeave:j,onDrop:k,className:`relative group ${o?"cursor-pointer":""}`,children:[g.jsxs(nt.div,{whileHover:o?{scale:1.05}:{},className:"relative w-48 h-48 mx-auto",children:[g.jsx("img",{src:f||d||"https://via.placeholder.com/200x200.png",alt:"Profile",className:"w-full h-full rounded-full object-cover border-4 border-primary-500/50 shadow-large"}),o&&g.jsx(nt.div,{initial:{opacity:0},animate:{opacity:1},className:`absolute inset-0 rounded-full flex items-center justify-center bg-black/50 transition-all duration-300 ${m?"bg-primary-600/70":"group-hover:bg-black/60"}`,onClick:()=>{var $;return($=i.current)==null?void 0:$.click()},children:g.jsx(fj,{className:"text-white text-3xl"})})]}),g.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:T,className:"hidden"})]}),o&&g.jsx(nt.p,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-sm text-neutral-500 dark:text-neutral-400 mt-4",children:"Click or drag & drop to upload"}),g.jsx("div",{className:"mt-6 space-y-3",children:g.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 bg-primary-50 dark:bg-primary-900/30 rounded-xl",children:[g.jsx("div",{className:"w-2 h-2 bg-success-500 rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-semibold text-primary-700 dark:text-primary-300",children:o?g.jsx("input",{type:"text",value:c.status,onChange:$=>B("status",$.target.value),className:"bg-transparent border-b border-primary-400 outline-none w-full text-center"}):c.status})]})})]})}),g.jsxs("div",{className:"md:col-span-2 space-y-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Display Name"}),o?g.jsx("input",{type:"text",value:c.displayName,onChange:$=>B("displayName",$.target.value),className:"w-full px-4 py-3 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-xl focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 text-neutral-900 dark:text-neutral-100"}):g.jsx("p",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:c.displayName})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2",children:"Username"}),o?g.jsx("input",{type:"text",value:c.username,onChange:$=>B("username",$.target.value),className:"w-full px-4 py-3 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-xl focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 text-neutral-900 dark:text-neutral-100"}):g.jsxs("p",{className:"text-lg font-medium text-neutral-900 dark:text-neutral-100",children:["@",c.username]})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("label",{className:"block text-sm font-semibold text-neutral-700 dark:text-neutral-300",children:"Bio"}),o&&g.jsxs("span",{className:`text-sm ${C>R*.9?"text-error-500":"text-neutral-500 dark:text-neutral-400"}`,children:[C,"/",R]})]}),o?g.jsx("textarea",{value:c.bio,onChange:$=>B("bio",$.target.value),rows:"4",className:"w-full px-4 py-3 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-xl focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 resize-none text-neutral-900 dark:text-neutral-100",placeholder:"Tell us about yourself..."}):g.jsx("p",{className:"text-neutral-700 dark:text-neutral-300 leading-relaxed",children:c.bio||"No bio added yet."})]}),g.jsxs("div",{className:"border-t border-neutral-200 dark:border-neutral-700 pt-6",children:[g.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100 mb-4",children:"Social Links"}),g.jsx("div",{className:"space-y-4",children:[{icon:kA,field:"linkedin",label:"LinkedIn",color:"text-blue-600"},{icon:_A,field:"github",label:"GitHub",color:"text-neutral-800 dark:text-neutral-200"},{icon:MA,field:"twitter",label:"Twitter",color:"text-sky-500"},{icon:qd,field:"website",label:"Website",color:"text-primary-600"}].map(({icon:$,field:pe,label:de,color:fe})=>g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx($,{className:`text-xl ${fe}`}),o?g.jsx("input",{type:"text",value:c[pe],onChange:Ee=>B(pe,Ee.target.value),placeholder:`Your ${de} URL`,className:"flex-1 px-4 py-2 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 text-neutral-900 dark:text-neutral-100"}):g.jsx("span",{className:"text-neutral-700 dark:text-neutral-300",children:c[pe]||`No ${de} added`})]},pe))})]}),o&&g.jsxs(nt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-4 pt-4",children:[g.jsxs(nt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:F,className:"flex-1 px-6 py-3 bg-primary-600 text-white rounded-xl font-semibold hover:bg-primary-700 transition-all duration-300 shadow-sm hover:shadow-md flex items-center justify-center gap-2",children:[g.jsx(_j,{})," Save Changes"]}),g.jsx(nt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:q,className:"px-6 py-3 bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 rounded-xl font-semibold hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-all duration-300 shadow-sm",children:"Cancel"})]})]})]})]})})]})})},FV=()=>g.jsxs("div",{className:"flex flex-col h-[100vh] justify-center",children:[g.jsx(C0,{}),g.jsx("div",{className:"w-full flex justify-center items-center",children:g.jsx("div",{className:"flex items-center w-[200px]",children:g.jsx("img",{src:eo,alt:"Logo",className:"cursor-pointer",onClick:()=>navigate("/")})})}),g.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[g.jsxs("p",{className:" lg:text-[4rem] text-[3rem] font-['Montserrat'] font-bold text-[#A30609]",children:["404"," ",g.jsx("span",{className:"md:hidden",children:g.jsx("br",{})})," ","NOT FOUND"]}),g.jsxs("p",{className:"lg:text-[1.5rem] text-[1rem] text-[#A30609]",children:["The page you requested does not exist"," ",g.jsx("span",{className:"md:hidden",children:g.jsx("br",{})})," ","or has been removed! ",g.jsx("br",{}),g.jsx("div",{className:"md:hidden mt-3"}),"Please try another link."]})]})]}),HV=()=>g.jsxs("div",{children:[g.jsx(C0,{}),g.jsx("div",{className:`${qU.paddingY}`,children:g.jsx(C_,{})}),g.jsx(BA,{})]}),$V=()=>{const e=localStorage.getItem("token"),t=vi();return e?g.jsx(RI,{}):g.jsx(xI,{to:`/Signin?redirect=${encodeURIComponent(t.pathname)}`,replace:!0})},KV=()=>g.jsx(JI,{children:g.jsxs(EI,{children:[g.jsx(gn,{path:"/",element:g.jsx(Ix,{})}),g.jsx(gn,{path:"/Home",element:g.jsx(Ix,{})}),g.jsx(gn,{path:"/Signin",element:g.jsx(n5,{})}),g.jsx(gn,{path:"/Signup",element:g.jsx(i5,{})}),g.jsxs(gn,{element:g.jsx($V,{}),children:[g.jsx(gn,{path:"/Chat",element:g.jsx(oA,{})}),g.jsx(gn,{path:"/Chat/:chatId",element:g.jsx(oA,{})}),g.jsx(gn,{path:"/Profile",element:g.jsx(VV,{})})]}),g.jsx(gn,{path:"/Help",element:g.jsx(HV,{})}),g.jsx(gn,{path:"*",element:g.jsx(FV,{})})]})}),WV=()=>{const[e,t]=A.useState({x:0,y:0}),[r,i]=A.useState(!1);return A.useEffect(()=>{const o=c=>{t({x:c.clientX,y:c.clientY})},l=c=>{c.target.tagName==="BUTTON"||c.target.tagName==="A"||c.target.closest("button")||c.target.closest("a")||c.target.classList.contains("cursor-pointer")?i(!0):i(!1)};return window.addEventListener("mousemove",o),window.addEventListener("mouseover",l),()=>{window.removeEventListener("mousemove",o),window.removeEventListener("mouseover",l)}},[]),g.jsxs(g.Fragment,{children:[g.jsx(nt.div,{className:"fixed top-0 left-0 w-8 h-8 pointer-events-none z-[9999] mix-blend-difference hidden md:block",animate:{x:e.x-16,y:e.y-16,scale:r?1.5:1},transition:{type:"spring",stiffness:500,damping:28,mass:.5},children:g.jsx("div",{className:"w-full h-full rounded-full border-2 border-white bg-primary-500/30 backdrop-blur-sm"})}),g.jsx(nt.div,{className:"fixed top-0 left-0 w-2 h-2 pointer-events-none z-[9999] mix-blend-difference hidden md:block",animate:{x:e.x-4,y:e.y-4,scale:r?.5:1},transition:{type:"spring",stiffness:800,damping:35},children:g.jsx("div",{className:"w-full h-full rounded-full bg-white"})})]})},GV="339367030371-gk3isctlpt7cb810qf51e1siugd3g7le.apps.googleusercontent.com",JV=()=>{const{login:e}=Fd();return A.useEffect(()=>{const r=new URLSearchParams(window.location.search).get("token");r&&(console.log("Token found in URL, logging in:",r),e(r),window.history.replaceState({},document.title,window.location.pathname))},[e]),g.jsxs(g.Fragment,{children:[g.jsx(WV,{}),g.jsx(KV,{}),g.jsx(kN,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,drggable:!0,pauseOnHover:!0,theme:"colored"})]})},YV=()=>g.jsx(JM,{clientId:GV,children:g.jsx(xD,{children:g.jsx(JV,{})})});KM.createRoot(document.getElementById("root")).render(g.jsx(A.StrictMode,{children:g.jsx(zj,{children:g.jsx(YV,{})})}));
